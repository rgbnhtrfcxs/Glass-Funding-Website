function S0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _0(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var yh={exports:{}},Fa={},xh={exports:{}},it={};var gv;function JC(){if(gv)return it;gv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function w(A,X,Ie){this.props=A,this.context=X,this.refs=j,this.updater=Ie||N}w.prototype.isReactComponent={},w.prototype.setState=function(A,X){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,X,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=w.prototype;function k(A,X,Ie){this.props=A,this.context=X,this.refs=j,this.updater=Ie||N}var E=k.prototype=new C;E.constructor=k,_(E,w.prototype),E.isPureReactComponent=!0;var R=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function Z(A,X,Ie){var Ve,He={},U=null,xe=null;if(X!=null)for(Ve in X.ref!==void 0&&(xe=X.ref),X.key!==void 0&&(U=""+X.key),X)L.call(X,Ve)&&!K.hasOwnProperty(Ve)&&(He[Ve]=X[Ve]);var ve=arguments.length-2;if(ve===1)He.children=Ie;else if(1<ve){for(var $e=Array(ve),et=0;et<ve;et++)$e[et]=arguments[et+2];He.children=$e}if(A&&A.defaultProps)for(Ve in ve=A.defaultProps,ve)He[Ve]===void 0&&(He[Ve]=ve[Ve]);return{$$typeof:t,type:A,key:U,ref:xe,props:He,_owner:F.current}}function O(A,X){return{$$typeof:t,type:A.type,key:X,ref:A.ref,props:A.props,_owner:A._owner}}function G(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ne(A){var X={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Ie){return X[Ie]})}var H=/\/+/g;function te(A,X){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):X.toString(36)}function ee(A,X,Ie,Ve,He){var U=typeof A;(U==="undefined"||U==="boolean")&&(A=null);var xe=!1;if(A===null)xe=!0;else switch(U){case"string":case"number":xe=!0;break;case"object":switch(A.$$typeof){case t:case e:xe=!0}}if(xe)return xe=A,He=He(xe),A=Ve===""?"."+te(xe,0):Ve,R(He)?(Ie="",A!=null&&(Ie=A.replace(H,"$&/")+"/"),ee(He,X,Ie,"",function(et){return et})):He!=null&&(G(He)&&(He=O(He,Ie+(!He.key||xe&&xe.key===He.key?"":(""+He.key).replace(H,"$&/")+"/")+A)),X.push(He)),1;if(xe=0,Ve=Ve===""?".":Ve+":",R(A))for(var ve=0;ve<A.length;ve++){U=A[ve];var $e=Ve+te(U,ve);xe+=ee(U,X,Ie,$e,He)}else if($e=b(A),typeof $e=="function")for(A=$e.call(A),ve=0;!(U=A.next()).done;)U=U.value,$e=Ve+te(U,ve++),xe+=ee(U,X,Ie,$e,He);else if(U==="object")throw X=String(A),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return xe}function ke(A,X,Ie){if(A==null)return A;var Ve=[],He=0;return ee(A,Ve,"","",function(U){return X.call(Ie,U,He++)}),Ve}function Ce(A){if(A._status===-1){var X=A._result;X=X(),X.then(function(Ie){(A._status===0||A._status===-1)&&(A._status=1,A._result=Ie)},function(Ie){(A._status===0||A._status===-1)&&(A._status=2,A._result=Ie)}),A._status===-1&&(A._status=0,A._result=X)}if(A._status===1)return A._result.default;throw A._result}var re={current:null},Y={transition:null},me={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Y,ReactCurrentOwner:F};function ce(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:ke,forEach:function(A,X,Ie){ke(A,function(){X.apply(this,arguments)},Ie)},count:function(A){var X=0;return ke(A,function(){X++}),X},toArray:function(A){return ke(A,function(X){return X})||[]},only:function(A){if(!G(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},it.Component=w,it.Fragment=r,it.Profiler=i,it.PureComponent=k,it.StrictMode=n,it.Suspense=h,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,it.act=ce,it.cloneElement=function(A,X,Ie){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var Ve=_({},A.props),He=A.key,U=A.ref,xe=A._owner;if(X!=null){if(X.ref!==void 0&&(U=X.ref,xe=F.current),X.key!==void 0&&(He=""+X.key),A.type&&A.type.defaultProps)var ve=A.type.defaultProps;for($e in X)L.call(X,$e)&&!K.hasOwnProperty($e)&&(Ve[$e]=X[$e]===void 0&&ve!==void 0?ve[$e]:X[$e])}var $e=arguments.length-2;if($e===1)Ve.children=Ie;else if(1<$e){ve=Array($e);for(var et=0;et<$e;et++)ve[et]=arguments[et+2];Ve.children=ve}return{$$typeof:t,type:A.type,key:He,ref:U,props:Ve,_owner:xe}},it.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},it.createElement=Z,it.createFactory=function(A){var X=Z.bind(null,A);return X.type=A,X},it.createRef=function(){return{current:null}},it.forwardRef=function(A){return{$$typeof:d,render:A}},it.isValidElement=G,it.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:Ce}},it.memo=function(A,X){return{$$typeof:m,type:A,compare:X===void 0?null:X}},it.startTransition=function(A){var X=Y.transition;Y.transition={};try{A()}finally{Y.transition=X}},it.unstable_act=ce,it.useCallback=function(A,X){return re.current.useCallback(A,X)},it.useContext=function(A){return re.current.useContext(A)},it.useDebugValue=function(){},it.useDeferredValue=function(A){return re.current.useDeferredValue(A)},it.useEffect=function(A,X){return re.current.useEffect(A,X)},it.useId=function(){return re.current.useId()},it.useImperativeHandle=function(A,X,Ie){return re.current.useImperativeHandle(A,X,Ie)},it.useInsertionEffect=function(A,X){return re.current.useInsertionEffect(A,X)},it.useLayoutEffect=function(A,X){return re.current.useLayoutEffect(A,X)},it.useMemo=function(A,X){return re.current.useMemo(A,X)},it.useReducer=function(A,X,Ie){return re.current.useReducer(A,X,Ie)},it.useRef=function(A){return re.current.useRef(A)},it.useState=function(A){return re.current.useState(A)},it.useSyncExternalStore=function(A,X,Ie){return re.current.useSyncExternalStore(A,X,Ie)},it.useTransition=function(){return re.current.useTransition()},it.version="18.3.1",it}var yv;function cd(){return yv||(yv=1,xh.exports=JC()),xh.exports}var xv;function ZC(){if(xv)return Fa;xv=1;var t=cd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var p,y={},b=null,N=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(N=h.ref);for(p in h)n.call(h,p)&&!l.hasOwnProperty(p)&&(y[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:e,type:d,key:b,ref:N,props:y,_owner:i.current}}return Fa.Fragment=r,Fa.jsx=c,Fa.jsxs=c,Fa}var vv;function YC(){return vv||(vv=1,yh.exports=ZC()),yh.exports}var o=YC(),ru={},vh={exports:{}},Mr={},bh={exports:{}},wh={};var bv;function XC(){return bv||(bv=1,(function(t){function e(Y,me){var ce=Y.length;Y.push(me);e:for(;0<ce;){var A=ce-1>>>1,X=Y[A];if(0<i(X,me))Y[A]=me,Y[ce]=X,ce=A;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var me=Y[0],ce=Y.pop();if(ce!==me){Y[0]=ce;e:for(var A=0,X=Y.length,Ie=X>>>1;A<Ie;){var Ve=2*(A+1)-1,He=Y[Ve],U=Ve+1,xe=Y[U];if(0>i(He,ce))U<X&&0>i(xe,He)?(Y[A]=xe,Y[U]=ce,A=U):(Y[A]=He,Y[Ve]=ce,A=Ve);else if(U<X&&0>i(xe,ce))Y[A]=xe,Y[U]=ce,A=U;else break e}}return me}function i(Y,me){var ce=Y.sortIndex-me.sortIndex;return ce!==0?ce:Y.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,y=null,b=3,N=!1,_=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=Y)n(m),me.sortIndex=me.expirationTime,e(h,me);else break;me=r(m)}}function R(Y){if(j=!1,E(Y),!_)if(r(h)!==null)_=!0,Ce(L);else{var me=r(m);me!==null&&re(R,me.startTime-Y)}}function L(Y,me){_=!1,j&&(j=!1,C(Z),Z=-1),N=!0;var ce=b;try{for(E(me),y=r(h);y!==null&&(!(y.expirationTime>me)||Y&&!ne());){var A=y.callback;if(typeof A=="function"){y.callback=null,b=y.priorityLevel;var X=A(y.expirationTime<=me);me=t.unstable_now(),typeof X=="function"?y.callback=X:y===r(h)&&n(h),E(me)}else n(h);y=r(h)}if(y!==null)var Ie=!0;else{var Ve=r(m);Ve!==null&&re(R,Ve.startTime-me),Ie=!1}return Ie}finally{y=null,b=ce,N=!1}}var F=!1,K=null,Z=-1,O=5,G=-1;function ne(){return!(t.unstable_now()-G<O)}function H(){if(K!==null){var Y=t.unstable_now();G=Y;var me=!0;try{me=K(!0,Y)}finally{me?te():(F=!1,K=null)}}else F=!1}var te;if(typeof k=="function")te=function(){k(H)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ke=ee.port2;ee.port1.onmessage=H,te=function(){ke.postMessage(null)}}else te=function(){w(H,0)};function Ce(Y){K=Y,F||(F=!0,te())}function re(Y,me){Z=w(function(){Y(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||N||(_=!0,Ce(L))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var me=3;break;default:me=b}var ce=b;b=me;try{return Y()}finally{b=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=b;b=Y;try{return me()}finally{b=ce}},t.unstable_scheduleCallback=function(Y,me,ce){var A=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?A+ce:A):ce=A,Y){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,Y={id:p++,callback:me,priorityLevel:Y,startTime:ce,expirationTime:X,sortIndex:-1},ce>A?(Y.sortIndex=ce,e(m,Y),r(h)===null&&Y===r(m)&&(j?(C(Z),Z=-1):j=!0,re(R,ce-A))):(Y.sortIndex=X,e(h,Y),_||N||(_=!0,Ce(L))),Y},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(Y){var me=b;return function(){var ce=b;b=me;try{return Y.apply(this,arguments)}finally{b=ce}}}})(wh)),wh}var wv;function eE(){return wv||(wv=1,bh.exports=XC()),bh.exports}var jv;function tE(){if(jv)return Mr;jv=1;var t=cd(),e=eE();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function b(s){return h.call(y,s)?!0:h.call(p,s)?!1:m.test(s)?y[s]=!0:(p[s]=!0,!1)}function N(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,a,u,f){if(a===null||typeof a>"u"||N(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(s,a,u,f,g,x,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=S}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new j(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,a,u,f){var g=w.hasOwnProperty(a)?w[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,u,g,f)&&(u=null),f||g===null?b(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ne=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Y=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,A;function X(s){if(A===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+s}var Ie=!1;function Ve(s,a){if(!s||Ie)return"";Ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(z){var f=z}Reflect.construct(s,[],a)}else{try{a.call()}catch(z){f=z}s.call(a.prototype)}else{try{throw Error()}catch(z){f=z}s()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),x=f.stack.split(`
`),S=g.length-1,T=x.length-1;1<=S&&0<=T&&g[S]!==x[T];)T--;for(;1<=S&&0<=T;S--,T--)if(g[S]!==x[T]){if(S!==1||T!==1)do if(S--,T--,0>T||g[S]!==x[T]){var I=`
`+g[S].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=S&&0<=T);break}}}finally{Ie=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function He(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Ve(s.type,!1),s;case 11:return s=Ve(s.type.render,!1),s;case 1:return s=Ve(s.type,!0),s;default:return""}}function U(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case K:return"Fragment";case F:return"Portal";case O:return"Profiler";case Z:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ne:return(s.displayName||"Context")+".Consumer";case G:return(s._context.displayName||"Context")+".Provider";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return a=s.displayName||null,a!==null?a:U(s.type)||"Memo";case Ce:a=s._payload,s=s._init;try{return U(s(a))}catch{}}return null}function xe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $e(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function et(s){var a=$e(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,x.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function sr(s){s._valueTracker||(s._valueTracker=et(s))}function $(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=$e(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Se(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function q(s,a){var u=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function _e(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=ve(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ye(s,a){a=a.checked,a!=null&&E(s,"checked",a,!1)}function ge(s,a){ye(s,a);var u=ve(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ot(s,a.type,u):a.hasOwnProperty("defaultValue")&&ot(s,a.type,ve(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function lt(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ot(s,a,u){(a!=="number"||Se(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var P=Array.isArray;function M(s,a,u,f){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+ve(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function W(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function de(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(P(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ve(u)}}function fe(s,a){var u=ve(a.value),f=ve(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function ue(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function be(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?be(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var at,Ut=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=at.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function _r(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(s){J.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Xt[a]=Xt[s]})});function pe(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Xt.hasOwnProperty(s)&&Xt[s]?(""+a).trim():a+"px"}function Ht(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=pe(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var ir=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lt(s,a){if(a){if(ir[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function kr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function ri(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ra=null,Hn=null,Gn=null;function Wl(s){if(s=Na(s)){if(typeof ra!="function")throw Error(r(280));var a=s.stateNode;a&&(a=yc(a),ra(s.stateNode,s.type,a))}}function Kl(s){Hn?Gn?Gn.push(s):Gn=[s]:Hn=s}function Hl(){if(Hn){var s=Hn,a=Gn;if(Gn=Hn=null,Wl(s),a)for(s=0;s<a.length;s++)Wl(a[s])}}function Gl(s,a){return s(a)}function ni(){}var ms=!1;function Ql(s,a,u){if(ms)return s(a,u);ms=!0;try{return Gl(s,a,u)}finally{ms=!1,(Hn!==null||Gn!==null)&&(ni(),Hl())}}function ps(s,a){var u=s.stateNode;if(u===null)return null;var f=yc(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var na=!1;if(d)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){na=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{na=!1}function Fi(s,a,u,f,g,x,S,T,I){var z=Array.prototype.slice.call(arguments,3);try{a.apply(u,z)}catch(oe){this.onError(oe)}}var ys=!1,xs=null,Vi=!1,sa=null,Ld={onError:function(s){ys=!0,xs=s}};function Q(s,a,u,f,g,x,S,T,I){ys=!1,xs=null,Fi.apply(Ld,arguments)}function Pe(s,a,u,f,g,x,S,T,I){if(Q.apply(this,arguments),ys){if(ys){var z=xs;ys=!1,xs=null}else throw Error(r(198));Vi||(Vi=!0,sa=z)}}function ut(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function mt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function vt(s){if(ut(s)!==s)throw Error(r(188))}function or(s){var a=s.alternate;if(!a){if(a=ut(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var g=u.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===u)return vt(g),s;if(x===f)return vt(g),a;x=x.sibling}throw Error(r(188))}if(u.return!==f.return)u=g,f=x;else{for(var S=!1,T=g.child;T;){if(T===u){S=!0,u=g,f=x;break}if(T===f){S=!0,f=g,u=x;break}T=T.sibling}if(!S){for(T=x.child;T;){if(T===u){S=!0,u=x,f=g;break}if(T===f){S=!0,f=x,u=g;break}T=T.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function tn(s){return s=or(s),s!==null?Ur(s):null}function Ur(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ur(s);if(a!==null)return a;s=s.sibling}return null}var Jl=e.unstable_scheduleCallback,Ui=e.unstable_cancelCallback,ak=e.unstable_shouldYield,lk=e.unstable_requestPaint,$t=e.unstable_now,ck=e.unstable_getCurrentPriorityLevel,Dd=e.unstable_ImmediatePriority,Wg=e.unstable_UserBlockingPriority,Zl=e.unstable_NormalPriority,uk=e.unstable_LowPriority,Kg=e.unstable_IdlePriority,Yl=null,In=null;function dk(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Yl,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:mk,fk=Math.log,hk=Math.LN2;function mk(s){return s>>>=0,s===0?32:31-(fk(s)/hk|0)|0}var Xl=64,ec=4194304;function ia(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function tc(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,x=s.pingedLanes,S=u&268435455;if(S!==0){var T=S&~g;T!==0?f=ia(T):(x&=S,x!==0&&(f=ia(x)))}else S=u&~g,S!==0?f=ia(S):x!==0&&(f=ia(x));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,x=a&-a,g>=x||g===16&&(x&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-hn(a),g=1<<u,f|=s[u],a&=~g;return f}function pk(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gk(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var S=31-hn(x),T=1<<S,I=g[S];I===-1?((T&u)===0||(T&f)!==0)&&(g[S]=pk(T,a)):I<=a&&(s.expiredLanes|=T),x&=~T}}function Md(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hg(){var s=Xl;return Xl<<=1,(Xl&4194240)===0&&(Xl=64),s}function Fd(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function oa(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-hn(a),s[a]=u}function yk(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-hn(u),x=1<<g;a[g]=0,f[g]=-1,s[g]=-1,u&=~x}}function Vd(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-hn(u),g=1<<f;g&a|s[f]&a&&(s[f]|=a),u&=~g}}var gt=0;function Gg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qg,Ud,Jg,Zg,Yg,$d=!1,rc=[],vs=null,bs=null,ws=null,aa=new Map,la=new Map,js=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(s,a){switch(s){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":aa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(a.pointerId)}}function ca(s,a,u,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},a!==null&&(a=Na(a),a!==null&&Ud(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function vk(s,a,u,f,g){switch(a){case"focusin":return vs=ca(vs,s,a,u,f,g),!0;case"dragenter":return bs=ca(bs,s,a,u,f,g),!0;case"mouseover":return ws=ca(ws,s,a,u,f,g),!0;case"pointerover":var x=g.pointerId;return aa.set(x,ca(aa.get(x)||null,s,a,u,f,g)),!0;case"gotpointercapture":return x=g.pointerId,la.set(x,ca(la.get(x)||null,s,a,u,f,g)),!0}return!1}function ey(s){var a=si(s.target);if(a!==null){var u=ut(a);if(u!==null){if(a=u.tag,a===13){if(a=mt(u),a!==null){s.blockedOn=a,Yg(s.priority,function(){Jg(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function nc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=qd(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);en=f,u.target.dispatchEvent(f),en=null}else return a=Na(u),a!==null&&Ud(a),s.blockedOn=u,!1;a.shift()}return!0}function ty(s,a,u){nc(s)&&u.delete(a)}function bk(){$d=!1,vs!==null&&nc(vs)&&(vs=null),bs!==null&&nc(bs)&&(bs=null),ws!==null&&nc(ws)&&(ws=null),aa.forEach(ty),la.forEach(ty)}function ua(s,a){s.blockedOn===a&&(s.blockedOn=null,$d||($d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bk)))}function da(s){function a(g){return ua(g,s)}if(0<rc.length){ua(rc[0],s);for(var u=1;u<rc.length;u++){var f=rc[u];f.blockedOn===s&&(f.blockedOn=null)}}for(vs!==null&&ua(vs,s),bs!==null&&ua(bs,s),ws!==null&&ua(ws,s),aa.forEach(a),la.forEach(a),u=0;u<js.length;u++)f=js[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<js.length&&(u=js[0],u.blockedOn===null);)ey(u),u.blockedOn===null&&js.shift()}var $i=R.ReactCurrentBatchConfig,sc=!0;function wk(s,a,u,f){var g=gt,x=$i.transition;$i.transition=null;try{gt=1,Bd(s,a,u,f)}finally{gt=g,$i.transition=x}}function jk(s,a,u,f){var g=gt,x=$i.transition;$i.transition=null;try{gt=4,Bd(s,a,u,f)}finally{gt=g,$i.transition=x}}function Bd(s,a,u,f){if(sc){var g=qd(s,a,u,f);if(g===null)af(s,a,f,ic,u),Xg(s,f);else if(vk(g,s,a,u,f))f.stopPropagation();else if(Xg(s,f),a&4&&-1<xk.indexOf(s)){for(;g!==null;){var x=Na(g);if(x!==null&&Qg(x),x=qd(s,a,u,f),x===null&&af(s,a,f,ic,u),x===g)break;g=x}g!==null&&f.stopPropagation()}else af(s,a,f,null,u)}}var ic=null;function qd(s,a,u,f){if(ic=null,s=ri(f),s=si(s),s!==null)if(a=ut(s),a===null)s=null;else if(u=a.tag,u===13){if(s=mt(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ic=s,null}function ry(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ck()){case Dd:return 1;case Wg:return 4;case Zl:case uk:return 16;case Kg:return 536870912;default:return 16}default:return 16}}var Ns=null,zd=null,oc=null;function ny(){if(oc)return oc;var s,a=zd,u=a.length,f,g="value"in Ns?Ns.value:Ns.textContent,x=g.length;for(s=0;s<u&&a[s]===g[s];s++);var S=u-s;for(f=1;f<=S&&a[u-f]===g[x-f];f++);return oc=g.slice(s,1<f?1-f:void 0)}function ac(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function lc(){return!0}function sy(){return!1}function $r(s){function a(u,f,g,x,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(u=s[T],this[T]=u?u(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?lc:sy,this.isPropagationStopped=sy,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),a}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=$r(Bi),fa=ce({},Bi,{view:0,detail:0}),Nk=$r(fa),Kd,Hd,ha,cc=ce({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ha&&(ha&&s.type==="mousemove"?(Kd=s.screenX-ha.screenX,Hd=s.screenY-ha.screenY):Hd=Kd=0,ha=s),Kd)},movementY:function(s){return"movementY"in s?s.movementY:Hd}}),iy=$r(cc),Sk=ce({},cc,{dataTransfer:0}),_k=$r(Sk),kk=ce({},fa,{relatedTarget:0}),Gd=$r(kk),Ck=ce({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ek=$r(Ck),Tk=ce({},Bi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pk=$r(Tk),Ak=ce({},Bi,{data:0}),oy=$r(Ak),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lk(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ik[s])?!!a[s]:!1}function Qd(){return Lk}var Dk=ce({},fa,{key:function(s){if(s.key){var a=Rk[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ac(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ok[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(s){return s.type==="keypress"?ac(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ac(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Mk=$r(Dk),Fk=ce({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=$r(Fk),Vk=ce({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),Uk=$r(Vk),$k=ce({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bk=$r($k),qk=ce({},cc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zk=$r(qk),Wk=[9,13,27,32],Jd=d&&"CompositionEvent"in window,ma=null;d&&"documentMode"in document&&(ma=document.documentMode);var Kk=d&&"TextEvent"in window&&!ma,ly=d&&(!Jd||ma&&8<ma&&11>=ma),cy=" ",uy=!1;function dy(s,a){switch(s){case"keyup":return Wk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qi=!1;function Hk(s,a){switch(s){case"compositionend":return fy(a);case"keypress":return a.which!==32?null:(uy=!0,cy);case"textInput":return s=a.data,s===cy&&uy?null:s;default:return null}}function Gk(s,a){if(qi)return s==="compositionend"||!Jd&&dy(s,a)?(s=ny(),oc=zd=Ns=null,qi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ly&&a.locale!=="ko"?null:a.data;default:return null}}var Qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Qk[s.type]:a==="textarea"}function my(s,a,u,f){Kl(f),a=mc(a,"onChange"),0<a.length&&(u=new Wd("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var pa=null,ga=null;function Jk(s){Ry(s,0)}function uc(s){var a=Gi(s);if($(a))return s}function Zk(s,a){if(s==="change")return a}var py=!1;if(d){var Zd;if(d){var Yd="oninput"in document;if(!Yd){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Yd=typeof gy.oninput=="function"}Zd=Yd}else Zd=!1;py=Zd&&(!document.documentMode||9<document.documentMode)}function yy(){pa&&(pa.detachEvent("onpropertychange",xy),ga=pa=null)}function xy(s){if(s.propertyName==="value"&&uc(ga)){var a=[];my(a,ga,s,ri(s)),Ql(Jk,a)}}function Yk(s,a,u){s==="focusin"?(yy(),pa=a,ga=u,pa.attachEvent("onpropertychange",xy)):s==="focusout"&&yy()}function Xk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uc(ga)}function eC(s,a){if(s==="click")return uc(a)}function tC(s,a){if(s==="input"||s==="change")return uc(a)}function rC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mn=typeof Object.is=="function"?Object.is:rC;function ya(s,a){if(mn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(a,g)||!mn(s[g],a[g]))return!1}return!0}function vy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function by(s,a){var u=vy(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=vy(u)}}function wy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?wy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function jy(){for(var s=window,a=Se();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Se(s.document)}return a}function Xd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function nC(s){var a=jy(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&wy(u.ownerDocument.documentElement,u)){if(f!==null&&Xd(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!s.extend&&x>f&&(g=f,f=x,x=g),g=by(u,x);var S=by(u,f);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),x>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sC=d&&"documentMode"in document&&11>=document.documentMode,zi=null,ef=null,xa=null,tf=!1;function Ny(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tf||zi==null||zi!==Se(f)||(f=zi,"selectionStart"in f&&Xd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xa&&ya(xa,f)||(xa=f,f=mc(ef,"onSelect"),0<f.length&&(a=new Wd("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=zi)))}function dc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Wi={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},rf={},Sy={};d&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function fc(s){if(rf[s])return rf[s];if(!Wi[s])return s;var a=Wi[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Sy)return rf[s]=a[u];return s}var _y=fc("animationend"),ky=fc("animationiteration"),Cy=fc("animationstart"),Ey=fc("transitionend"),Ty=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(s,a){Ty.set(s,a),l(a,[s])}for(var nf=0;nf<Py.length;nf++){var sf=Py[nf],iC=sf.toLowerCase(),oC=sf[0].toUpperCase()+sf.slice(1);Ss(iC,"on"+oC)}Ss(_y,"onAnimationEnd"),Ss(ky,"onAnimationIteration"),Ss(Cy,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(Ey,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Ay(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Pe(f,a,void 0,s),s.currentTarget=null}function Ry(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var x=void 0;if(a)for(var S=f.length-1;0<=S;S--){var T=f[S],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==x&&g.isPropagationStopped())break e;Ay(g,T,z),x=I}else for(S=0;S<f.length;S++){if(T=f[S],I=T.instance,z=T.currentTarget,T=T.listener,I!==x&&g.isPropagationStopped())break e;Ay(g,T,z),x=I}}}if(Vi)throw s=sa,Vi=!1,sa=null,s}function Nt(s,a){var u=a[hf];u===void 0&&(u=a[hf]=new Set);var f=s+"__bubble";u.has(f)||(Oy(a,s,2,!1),u.add(f))}function of(s,a,u){var f=0;a&&(f|=4),Oy(u,s,f,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ba(s){if(!s[hc]){s[hc]=!0,n.forEach(function(u){u!=="selectionchange"&&(aC.has(u)||of(u,!1,s),of(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[hc]||(a[hc]=!0,of("selectionchange",!1,a))}}function Oy(s,a,u,f){switch(ry(a)){case 1:var g=wk;break;case 4:g=jk;break;default:g=Bd}u=g.bind(null,a,u,s),g=void 0,!na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function af(s,a,u,f,g){var x=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;S=S.return}for(;T!==null;){if(S=si(T),S===null)return;if(I=S.tag,I===5||I===6){f=x=S;continue e}T=T.parentNode}}f=f.return}Ql(function(){var z=x,oe=ri(u),ae=[];e:{var se=Ty.get(s);if(se!==void 0){var Ee=Wd,Re=s;switch(s){case"keypress":if(ac(u)===0)break e;case"keydown":case"keyup":Ee=Mk;break;case"focusin":Re="focus",Ee=Gd;break;case"focusout":Re="blur",Ee=Gd;break;case"beforeblur":case"afterblur":Ee=Gd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Uk;break;case _y:case ky:case Cy:Ee=Ek;break;case Ey:Ee=Bk;break;case"scroll":Ee=Nk;break;case"wheel":Ee=zk;break;case"copy":case"cut":case"paste":Ee=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=ay}var Oe=(a&4)!==0,Bt=!Oe&&s==="scroll",V=Oe?se!==null?se+"Capture":null:se;Oe=[];for(var D=z,B;D!==null;){B=D;var he=B.stateNode;if(B.tag===5&&he!==null&&(B=he,V!==null&&(he=ps(D,V),he!=null&&Oe.push(wa(D,he,B)))),Bt)break;D=D.return}0<Oe.length&&(se=new Ee(se,Re,null,u,oe),ae.push({event:se,listeners:Oe}))}}if((a&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",se&&u!==en&&(Re=u.relatedTarget||u.fromElement)&&(si(Re)||Re[Qn]))break e;if((Ee||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,Ee?(Re=u.relatedTarget||u.toElement,Ee=z,Re=Re?si(Re):null,Re!==null&&(Bt=ut(Re),Re!==Bt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ee=null,Re=z),Ee!==Re)){if(Oe=iy,he="onMouseLeave",V="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=ay,he="onPointerLeave",V="onPointerEnter",D="pointer"),Bt=Ee==null?se:Gi(Ee),B=Re==null?se:Gi(Re),se=new Oe(he,D+"leave",Ee,u,oe),se.target=Bt,se.relatedTarget=B,he=null,si(oe)===z&&(Oe=new Oe(V,D+"enter",Re,u,oe),Oe.target=B,Oe.relatedTarget=Bt,he=Oe),Bt=he,Ee&&Re)t:{for(Oe=Ee,V=Re,D=0,B=Oe;B;B=Ki(B))D++;for(B=0,he=V;he;he=Ki(he))B++;for(;0<D-B;)Oe=Ki(Oe),D--;for(;0<B-D;)V=Ki(V),B--;for(;D--;){if(Oe===V||V!==null&&Oe===V.alternate)break t;Oe=Ki(Oe),V=Ki(V)}Oe=null}else Oe=null;Ee!==null&&Iy(ae,se,Ee,Oe,!1),Re!==null&&Bt!==null&&Iy(ae,Bt,Re,Oe,!0)}}e:{if(se=z?Gi(z):window,Ee=se.nodeName&&se.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&se.type==="file")var De=Zk;else if(hy(se))if(py)De=tC;else{De=Xk;var Be=Yk}else(Ee=se.nodeName)&&Ee.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(De=eC);if(De&&(De=De(s,z))){my(ae,De,u,oe);break e}Be&&Be(s,se,z),s==="focusout"&&(Be=se._wrapperState)&&Be.controlled&&se.type==="number"&&ot(se,"number",se.value)}switch(Be=z?Gi(z):window,s){case"focusin":(hy(Be)||Be.contentEditable==="true")&&(zi=Be,ef=z,xa=null);break;case"focusout":xa=ef=zi=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Ny(ae,u,oe);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":Ny(ae,u,oe)}var qe;if(Jd)e:{switch(s){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else qi?dy(s,u)&&(Ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(ly&&u.locale!=="ko"&&(qi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&qi&&(qe=ny()):(Ns=oe,zd="value"in Ns?Ns.value:Ns.textContent,qi=!0)),Be=mc(z,Ze),0<Be.length&&(Ze=new oy(Ze,s,null,u,oe),ae.push({event:Ze,listeners:Be}),qe?Ze.data=qe:(qe=fy(u),qe!==null&&(Ze.data=qe)))),(qe=Kk?Hk(s,u):Gk(s,u))&&(z=mc(z,"onBeforeInput"),0<z.length&&(oe=new oy("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:z}),oe.data=qe))}Ry(ae,a)})}function wa(s,a,u){return{instance:s,listener:a,currentTarget:u}}function mc(s,a){for(var u=a+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=ps(s,u),x!=null&&f.unshift(wa(s,x,g)),x=ps(s,a),x!=null&&f.push(wa(s,x,g))),s=s.return}return f}function Ki(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Iy(s,a,u,f,g){for(var x=a._reactName,S=[];u!==null&&u!==f;){var T=u,I=T.alternate,z=T.stateNode;if(I!==null&&I===f)break;T.tag===5&&z!==null&&(T=z,g?(I=ps(u,x),I!=null&&S.unshift(wa(u,I,T))):g||(I=ps(u,x),I!=null&&S.push(wa(u,I,T)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var lC=/\r\n?/g,cC=/\u0000|\uFFFD/g;function Ly(s){return(typeof s=="string"?s:""+s).replace(lC,`
`).replace(cC,"")}function pc(s,a,u){if(a=Ly(a),Ly(s)!==a&&u)throw Error(r(425))}function gc(){}var lf=null,cf=null;function uf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,uC=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(s){return Dy.resolve(null).then(s).catch(fC)}:df;function fC(s){setTimeout(function(){throw s})}function ff(s,a){var u=a,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),da(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);da(a)}function _s(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function My(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Hi,ja="__reactProps$"+Hi,Qn="__reactContainer$"+Hi,hf="__reactEvents$"+Hi,hC="__reactListeners$"+Hi,mC="__reactHandles$"+Hi;function si(s){var a=s[Ln];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Qn]||u[Ln]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=My(s);s!==null;){if(u=s[Ln])return u;s=My(s)}return a}s=u,u=s.parentNode}return null}function Na(s){return s=s[Ln]||s[Qn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Gi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function yc(s){return s[ja]||null}var mf=[],Qi=-1;function ks(s){return{current:s}}function St(s){0>Qi||(s.current=mf[Qi],mf[Qi]=null,Qi--)}function bt(s,a){Qi++,mf[Qi]=s.current,s.current=a}var Cs={},yr=ks(Cs),Rr=ks(!1),ii=Cs;function Ji(s,a){var u=s.type.contextTypes;if(!u)return Cs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in u)g[x]=a[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Or(s){return s=s.childContextTypes,s!=null}function xc(){St(Rr),St(yr)}function Fy(s,a,u){if(yr.current!==Cs)throw Error(r(168));bt(yr,a),bt(Rr,u)}function Vy(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(r(108,xe(s)||"Unknown",g));return ce({},u,f)}function vc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,ii=yr.current,bt(yr,s),bt(Rr,Rr.current),!0}function Uy(s,a,u){var f=s.stateNode;if(!f)throw Error(r(169));u?(s=Vy(s,a,ii),f.__reactInternalMemoizedMergedChildContext=s,St(Rr),St(yr),bt(yr,s)):St(Rr),bt(Rr,u)}var Jn=null,bc=!1,pf=!1;function $y(s){Jn===null?Jn=[s]:Jn.push(s)}function pC(s){bc=!0,$y(s)}function Es(){if(!pf&&Jn!==null){pf=!0;var s=0,a=gt;try{var u=Jn;for(gt=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Jn=null,bc=!1}catch(g){throw Jn!==null&&(Jn=Jn.slice(s+1)),Jl(Dd,Es),g}finally{gt=a,pf=!1}}return null}var Zi=[],Yi=0,wc=null,jc=0,rn=[],nn=0,oi=null,Zn=1,Yn="";function ai(s,a){Zi[Yi++]=jc,Zi[Yi++]=wc,wc=s,jc=a}function By(s,a,u){rn[nn++]=Zn,rn[nn++]=Yn,rn[nn++]=oi,oi=s;var f=Zn;s=Yn;var g=32-hn(f)-1;f&=~(1<<g),u+=1;var x=32-hn(a)+g;if(30<x){var S=g-g%5;x=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Zn=1<<32-hn(a)+g|u<<g|f,Yn=x+s}else Zn=1<<x|u<<g|f,Yn=s}function gf(s){s.return!==null&&(ai(s,1),By(s,1,0))}function yf(s){for(;s===wc;)wc=Zi[--Yi],Zi[Yi]=null,jc=Zi[--Yi],Zi[Yi]=null;for(;s===oi;)oi=rn[--nn],rn[nn]=null,Yn=rn[--nn],rn[nn]=null,Zn=rn[--nn],rn[nn]=null}var Br=null,qr=null,Et=!1,pn=null;function qy(s,a){var u=ln(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function zy(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Br=s,qr=_s(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Br=s,qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=oi!==null?{id:Zn,overflow:Yn}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ln(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Br=s,qr=null,!0):!1;default:return!1}}function xf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vf(s){if(Et){var a=qr;if(a){var u=a;if(!zy(s,a)){if(xf(s))throw Error(r(418));a=_s(u.nextSibling);var f=Br;a&&zy(s,a)?qy(f,u):(s.flags=s.flags&-4097|2,Et=!1,Br=s)}}else{if(xf(s))throw Error(r(418));s.flags=s.flags&-4097|2,Et=!1,Br=s}}}function Wy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Br=s}function Nc(s){if(s!==Br)return!1;if(!Et)return Wy(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!uf(s.type,s.memoizedProps)),a&&(a=qr)){if(xf(s))throw Ky(),Error(r(418));for(;a;)qy(s,a),a=_s(a.nextSibling)}if(Wy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){qr=_s(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}qr=null}}else qr=Br?_s(s.stateNode.nextSibling):null;return!0}function Ky(){for(var s=qr;s;)s=_s(s.nextSibling)}function Xi(){qr=Br=null,Et=!1}function bf(s){pn===null?pn=[s]:pn.push(s)}var gC=R.ReactCurrentBatchConfig;function Sa(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var f=u.stateNode}if(!f)throw Error(r(147,s));var g=f,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(S){var T=g.refs;S===null?delete T[x]:T[x]=S},a._stringRef=x,a)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function Sc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Hy(s){var a=s._init;return a(s._payload)}function Gy(s){function a(V,D){if(s){var B=V.deletions;B===null?(V.deletions=[D],V.flags|=16):B.push(D)}}function u(V,D){if(!s)return null;for(;D!==null;)a(V,D),D=D.sibling;return null}function f(V,D){for(V=new Map;D!==null;)D.key!==null?V.set(D.key,D):V.set(D.index,D),D=D.sibling;return V}function g(V,D){return V=Ds(V,D),V.index=0,V.sibling=null,V}function x(V,D,B){return V.index=B,s?(B=V.alternate,B!==null?(B=B.index,B<D?(V.flags|=2,D):B):(V.flags|=2,D)):(V.flags|=1048576,D)}function S(V){return s&&V.alternate===null&&(V.flags|=2),V}function T(V,D,B,he){return D===null||D.tag!==6?(D=dh(B,V.mode,he),D.return=V,D):(D=g(D,B),D.return=V,D)}function I(V,D,B,he){var De=B.type;return De===K?oe(V,D,B.props.children,he,B.key):D!==null&&(D.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ce&&Hy(De)===D.type)?(he=g(D,B.props),he.ref=Sa(V,D,B),he.return=V,he):(he=Gc(B.type,B.key,B.props,null,V.mode,he),he.ref=Sa(V,D,B),he.return=V,he)}function z(V,D,B,he){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=fh(B,V.mode,he),D.return=V,D):(D=g(D,B.children||[]),D.return=V,D)}function oe(V,D,B,he,De){return D===null||D.tag!==7?(D=pi(B,V.mode,he,De),D.return=V,D):(D=g(D,B),D.return=V,D)}function ae(V,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=dh(""+D,V.mode,B),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return B=Gc(D.type,D.key,D.props,null,V.mode,B),B.ref=Sa(V,null,D),B.return=V,B;case F:return D=fh(D,V.mode,B),D.return=V,D;case Ce:var he=D._init;return ae(V,he(D._payload),B)}if(P(D)||me(D))return D=pi(D,V.mode,B,null),D.return=V,D;Sc(V,D)}return null}function se(V,D,B,he){var De=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return De!==null?null:T(V,D,""+B,he);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===De?I(V,D,B,he):null;case F:return B.key===De?z(V,D,B,he):null;case Ce:return De=B._init,se(V,D,De(B._payload),he)}if(P(B)||me(B))return De!==null?null:oe(V,D,B,he,null);Sc(V,B)}return null}function Ee(V,D,B,he,De){if(typeof he=="string"&&he!==""||typeof he=="number")return V=V.get(B)||null,T(D,V,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case L:return V=V.get(he.key===null?B:he.key)||null,I(D,V,he,De);case F:return V=V.get(he.key===null?B:he.key)||null,z(D,V,he,De);case Ce:var Be=he._init;return Ee(V,D,B,Be(he._payload),De)}if(P(he)||me(he))return V=V.get(B)||null,oe(D,V,he,De,null);Sc(D,he)}return null}function Re(V,D,B,he){for(var De=null,Be=null,qe=D,Ze=D=0,cr=null;qe!==null&&Ze<B.length;Ze++){qe.index>Ze?(cr=qe,qe=null):cr=qe.sibling;var ht=se(V,qe,B[Ze],he);if(ht===null){qe===null&&(qe=cr);break}s&&qe&&ht.alternate===null&&a(V,qe),D=x(ht,D,Ze),Be===null?De=ht:Be.sibling=ht,Be=ht,qe=cr}if(Ze===B.length)return u(V,qe),Et&&ai(V,Ze),De;if(qe===null){for(;Ze<B.length;Ze++)qe=ae(V,B[Ze],he),qe!==null&&(D=x(qe,D,Ze),Be===null?De=qe:Be.sibling=qe,Be=qe);return Et&&ai(V,Ze),De}for(qe=f(V,qe);Ze<B.length;Ze++)cr=Ee(qe,V,Ze,B[Ze],he),cr!==null&&(s&&cr.alternate!==null&&qe.delete(cr.key===null?Ze:cr.key),D=x(cr,D,Ze),Be===null?De=cr:Be.sibling=cr,Be=cr);return s&&qe.forEach(function(Ms){return a(V,Ms)}),Et&&ai(V,Ze),De}function Oe(V,D,B,he){var De=me(B);if(typeof De!="function")throw Error(r(150));if(B=De.call(B),B==null)throw Error(r(151));for(var Be=De=null,qe=D,Ze=D=0,cr=null,ht=B.next();qe!==null&&!ht.done;Ze++,ht=B.next()){qe.index>Ze?(cr=qe,qe=null):cr=qe.sibling;var Ms=se(V,qe,ht.value,he);if(Ms===null){qe===null&&(qe=cr);break}s&&qe&&Ms.alternate===null&&a(V,qe),D=x(Ms,D,Ze),Be===null?De=Ms:Be.sibling=Ms,Be=Ms,qe=cr}if(ht.done)return u(V,qe),Et&&ai(V,Ze),De;if(qe===null){for(;!ht.done;Ze++,ht=B.next())ht=ae(V,ht.value,he),ht!==null&&(D=x(ht,D,Ze),Be===null?De=ht:Be.sibling=ht,Be=ht);return Et&&ai(V,Ze),De}for(qe=f(V,qe);!ht.done;Ze++,ht=B.next())ht=Ee(qe,V,Ze,ht.value,he),ht!==null&&(s&&ht.alternate!==null&&qe.delete(ht.key===null?Ze:ht.key),D=x(ht,D,Ze),Be===null?De=ht:Be.sibling=ht,Be=ht);return s&&qe.forEach(function(QC){return a(V,QC)}),Et&&ai(V,Ze),De}function Bt(V,D,B,he){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var De=B.key,Be=D;Be!==null;){if(Be.key===De){if(De=B.type,De===K){if(Be.tag===7){u(V,Be.sibling),D=g(Be,B.props.children),D.return=V,V=D;break e}}else if(Be.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ce&&Hy(De)===Be.type){u(V,Be.sibling),D=g(Be,B.props),D.ref=Sa(V,Be,B),D.return=V,V=D;break e}u(V,Be);break}else a(V,Be);Be=Be.sibling}B.type===K?(D=pi(B.props.children,V.mode,he,B.key),D.return=V,V=D):(he=Gc(B.type,B.key,B.props,null,V.mode,he),he.ref=Sa(V,D,B),he.return=V,V=he)}return S(V);case F:e:{for(Be=B.key;D!==null;){if(D.key===Be)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){u(V,D.sibling),D=g(D,B.children||[]),D.return=V,V=D;break e}else{u(V,D);break}else a(V,D);D=D.sibling}D=fh(B,V.mode,he),D.return=V,V=D}return S(V);case Ce:return Be=B._init,Bt(V,D,Be(B._payload),he)}if(P(B))return Re(V,D,B,he);if(me(B))return Oe(V,D,B,he);Sc(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(u(V,D.sibling),D=g(D,B),D.return=V,V=D):(u(V,D),D=dh(B,V.mode,he),D.return=V,V=D),S(V)):u(V,D)}return Bt}var eo=Gy(!0),Qy=Gy(!1),_c=ks(null),kc=null,to=null,wf=null;function jf(){wf=to=kc=null}function Nf(s){var a=_c.current;St(_c),s._currentValue=a}function Sf(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function ro(s,a){kc=s,wf=to=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ir=!0),s.firstContext=null)}function sn(s){var a=s._currentValue;if(wf!==s)if(s={context:s,memoizedValue:a,next:null},to===null){if(kc===null)throw Error(r(308));to=s,kc.dependencies={lanes:0,firstContext:s}}else to=to.next=s;return a}var li=null;function _f(s){li===null?li=[s]:li.push(s)}function Jy(s,a,u,f){var g=a.interleaved;return g===null?(u.next=u,_f(a)):(u.next=g.next,g.next=u),a.interleaved=u,Xn(s,f)}function Xn(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ts=!1;function kf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function es(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ps(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Xn(s,u)}return g=f.interleaved,g===null?(a.next=a,_f(f)):(a.next=g.next,g.next=a),f.interleaved=a,Xn(s,u)}function Cc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Vd(s,u)}}function Yy(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?g=x=S:x=x.next=S,u=u.next}while(u!==null);x===null?g=x=a:x=x.next=a}else g=x=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ec(s,a,u,f){var g=s.updateQueue;Ts=!1;var x=g.firstBaseUpdate,S=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var I=T,z=I.next;I.next=null,S===null?x=z:S.next=z,S=I;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==S&&(T===null?oe.firstBaseUpdate=z:T.next=z,oe.lastBaseUpdate=I))}if(x!==null){var ae=g.baseState;S=0,oe=z=I=null,T=x;do{var se=T.lane,Ee=T.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:Ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Re=s,Oe=T;switch(se=a,Ee=u,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ae=Re.call(Ee,ae,se);break e}ae=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,se=typeof Re=="function"?Re.call(Ee,ae,se):Re,se==null)break e;ae=ce({},ae,se);break e;case 2:Ts=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[T]:se.push(T))}else Ee={eventTime:Ee,lane:se,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(z=oe=Ee,I=ae):oe=oe.next=Ee,S|=se;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;se=T,T=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(I=ae),g.baseState=I,g.firstBaseUpdate=z,g.lastBaseUpdate=oe,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else x===null&&(g.shared.lanes=0);di|=S,s.lanes=S,s.memoizedState=ae}}function Xy(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var _a={},Dn=ks(_a),ka=ks(_a),Ca=ks(_a);function ci(s){if(s===_a)throw Error(r(174));return s}function Cf(s,a){switch(bt(Ca,a),bt(ka,s),bt(Dn,_a),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Je(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Je(a,s)}St(Dn),bt(Dn,a)}function no(){St(Dn),St(ka),St(Ca)}function ex(s){ci(Ca.current);var a=ci(Dn.current),u=Je(a,s.type);a!==u&&(bt(ka,s),bt(Dn,u))}function Ef(s){ka.current===s&&(St(Dn),St(ka))}var Tt=ks(0);function Tc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tf=[];function Pf(){for(var s=0;s<Tf.length;s++)Tf[s]._workInProgressVersionPrimary=null;Tf.length=0}var Pc=R.ReactCurrentDispatcher,Af=R.ReactCurrentBatchConfig,ui=0,Pt=null,er=null,ar=null,Ac=!1,Ea=!1,Ta=0,yC=0;function xr(){throw Error(r(321))}function Rf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!mn(s[u],a[u]))return!1;return!0}function Of(s,a,u,f,g,x){if(ui=x,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Pc.current=s===null||s.memoizedState===null?wC:jC,s=u(f,g),Ea){x=0;do{if(Ea=!1,Ta=0,25<=x)throw Error(r(301));x+=1,ar=er=null,a.updateQueue=null,Pc.current=NC,s=u(f,g)}while(Ea)}if(Pc.current=Ic,a=er!==null&&er.next!==null,ui=0,ar=er=Pt=null,Ac=!1,a)throw Error(r(300));return s}function If(){var s=Ta!==0;return Ta=0,s}function Mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Pt.memoizedState=ar=s:ar=ar.next=s,ar}function on(){if(er===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=er.next;var a=ar===null?Pt.memoizedState:ar.next;if(a!==null)ar=a,er=s;else{if(s===null)throw Error(r(310));er=s,s={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ar===null?Pt.memoizedState=ar=s:ar=ar.next=s}return ar}function Pa(s,a){return typeof a=="function"?a(s):a}function Lf(s){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=er,g=f.baseQueue,x=u.pending;if(x!==null){if(g!==null){var S=g.next;g.next=x.next,x.next=S}f.baseQueue=g=x,u.pending=null}if(g!==null){x=g.next,f=f.baseState;var T=S=null,I=null,z=x;do{var oe=z.lane;if((ui&oe)===oe)I!==null&&(I=I.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:s(f,z.action);else{var ae={lane:oe,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};I===null?(T=I=ae,S=f):I=I.next=ae,Pt.lanes|=oe,di|=oe}z=z.next}while(z!==null&&z!==x);I===null?S=f:I.next=T,mn(f,a.memoizedState)||(Ir=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=I,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do x=g.lane,Pt.lanes|=x,di|=x,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Df(s){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,x=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do x=s(x,S.action),S=S.next;while(S!==g);mn(x,a.memoizedState)||(Ir=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,f]}function tx(){}function rx(s,a){var u=Pt,f=on(),g=a(),x=!mn(f.memoizedState,g);if(x&&(f.memoizedState=g,Ir=!0),f=f.queue,Mf(ix.bind(null,u,f,s),[s]),f.getSnapshot!==a||x||ar!==null&&ar.memoizedState.tag&1){if(u.flags|=2048,Aa(9,sx.bind(null,u,f,g,a),void 0,null),lr===null)throw Error(r(349));(ui&30)!==0||nx(u,a,g)}return g}function nx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function sx(s,a,u,f){a.value=u,a.getSnapshot=f,ox(a)&&ax(s)}function ix(s,a,u){return u(function(){ox(a)&&ax(s)})}function ox(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!mn(s,u)}catch{return!0}}function ax(s){var a=Xn(s,1);a!==null&&vn(a,s,1,-1)}function lx(s){var a=Mn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:s},a.queue=s,s=s.dispatch=bC.bind(null,Pt,s),[a.memoizedState,s]}function Aa(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function cx(){return on().memoizedState}function Rc(s,a,u,f){var g=Mn();Pt.flags|=s,g.memoizedState=Aa(1|a,u,void 0,f===void 0?null:f)}function Oc(s,a,u,f){var g=on();f=f===void 0?null:f;var x=void 0;if(er!==null){var S=er.memoizedState;if(x=S.destroy,f!==null&&Rf(f,S.deps)){g.memoizedState=Aa(a,u,x,f);return}}Pt.flags|=s,g.memoizedState=Aa(1|a,u,x,f)}function ux(s,a){return Rc(8390656,8,s,a)}function Mf(s,a){return Oc(2048,8,s,a)}function dx(s,a){return Oc(4,2,s,a)}function fx(s,a){return Oc(4,4,s,a)}function hx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function mx(s,a,u){return u=u!=null?u.concat([s]):null,Oc(4,4,hx.bind(null,a,s),u)}function Ff(){}function px(s,a){var u=on();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Rf(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function gx(s,a){var u=on();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Rf(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function yx(s,a,u){return(ui&21)===0?(s.baseState&&(s.baseState=!1,Ir=!0),s.memoizedState=u):(mn(u,a)||(u=Hg(),Pt.lanes|=u,di|=u,s.baseState=!0),a)}function xC(s,a){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var f=Af.transition;Af.transition={};try{s(!1),a()}finally{gt=u,Af.transition=f}}function xx(){return on().memoizedState}function vC(s,a,u){var f=Is(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},vx(s))bx(a,u);else if(u=Jy(s,a,u,f),u!==null){var g=Er();vn(u,s,f,g),wx(u,a,f)}}function bC(s,a,u){var f=Is(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(vx(s))bx(a,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var S=a.lastRenderedState,T=x(S,u);if(g.hasEagerState=!0,g.eagerState=T,mn(T,S)){var I=a.interleaved;I===null?(g.next=g,_f(a)):(g.next=I.next,I.next=g),a.interleaved=g;return}}catch{}finally{}u=Jy(s,a,g,f),u!==null&&(g=Er(),vn(u,s,f,g),wx(u,a,f))}}function vx(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function bx(s,a){Ea=Ac=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function wx(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Vd(s,u)}}var Ic={readContext:sn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},wC={readContext:sn,useCallback:function(s,a){return Mn().memoizedState=[s,a===void 0?null:a],s},useContext:sn,useEffect:ux,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Rc(4194308,4,hx.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Rc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Rc(4,2,s,a)},useMemo:function(s,a){var u=Mn();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Mn();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=vC.bind(null,Pt,s),[f.memoizedState,s]},useRef:function(s){var a=Mn();return s={current:s},a.memoizedState=s},useState:lx,useDebugValue:Ff,useDeferredValue:function(s){return Mn().memoizedState=s},useTransition:function(){var s=lx(!1),a=s[0];return s=xC.bind(null,s[1]),Mn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=Pt,g=Mn();if(Et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),lr===null)throw Error(r(349));(ui&30)!==0||nx(f,a,u)}g.memoizedState=u;var x={value:u,getSnapshot:a};return g.queue=x,ux(ix.bind(null,f,x,s),[s]),f.flags|=2048,Aa(9,sx.bind(null,f,x,u,a),void 0,null),u},useId:function(){var s=Mn(),a=lr.identifierPrefix;if(Et){var u=Yn,f=Zn;u=(f&~(1<<32-hn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ta++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=yC++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},jC={readContext:sn,useCallback:px,useContext:sn,useEffect:Mf,useImperativeHandle:mx,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:gx,useReducer:Lf,useRef:cx,useState:function(){return Lf(Pa)},useDebugValue:Ff,useDeferredValue:function(s){var a=on();return yx(a,er.memoizedState,s)},useTransition:function(){var s=Lf(Pa)[0],a=on().memoizedState;return[s,a]},useMutableSource:tx,useSyncExternalStore:rx,useId:xx,unstable_isNewReconciler:!1},NC={readContext:sn,useCallback:px,useContext:sn,useEffect:Mf,useImperativeHandle:mx,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:gx,useReducer:Df,useRef:cx,useState:function(){return Df(Pa)},useDebugValue:Ff,useDeferredValue:function(s){var a=on();return er===null?a.memoizedState=s:yx(a,er.memoizedState,s)},useTransition:function(){var s=Df(Pa)[0],a=on().memoizedState;return[s,a]},useMutableSource:tx,useSyncExternalStore:rx,useId:xx,unstable_isNewReconciler:!1};function gn(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Vf(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:ce({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Lc={isMounted:function(s){return(s=s._reactInternals)?ut(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Er(),g=Is(s),x=es(f,g);x.payload=a,u!=null&&(x.callback=u),a=Ps(s,x,g),a!==null&&(vn(a,s,g,f),Cc(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Er(),g=Is(s),x=es(f,g);x.tag=1,x.payload=a,u!=null&&(x.callback=u),a=Ps(s,x,g),a!==null&&(vn(a,s,g,f),Cc(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Er(),f=Is(s),g=es(u,f);g.tag=2,a!=null&&(g.callback=a),a=Ps(s,g,f),a!==null&&(vn(a,s,f,u),Cc(a,s,f))}};function jx(s,a,u,f,g,x,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,S):a.prototype&&a.prototype.isPureReactComponent?!ya(u,f)||!ya(g,x):!0}function Nx(s,a,u){var f=!1,g=Cs,x=a.contextType;return typeof x=="object"&&x!==null?x=sn(x):(g=Or(a)?ii:yr.current,f=a.contextTypes,x=(f=f!=null)?Ji(s,g):Cs),a=new a(u,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lc,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),a}function Sx(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Lc.enqueueReplaceState(a,a.state,null)}function Uf(s,a,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},kf(s);var x=a.contextType;typeof x=="object"&&x!==null?g.context=sn(x):(x=Or(a)?ii:yr.current,g.context=Ji(s,x)),g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Vf(s,a,x,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Lc.enqueueReplaceState(g,g.state,null),Ec(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function so(s,a){try{var u="",f=a;do u+=He(f),f=f.return;while(f);var g=u}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:g,digest:null}}function $f(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Bf(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var SC=typeof WeakMap=="function"?WeakMap:Map;function _x(s,a,u){u=es(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Bc||(Bc=!0,nh=f),Bf(s,a)},u}function kx(s,a,u){u=es(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){Bf(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Bf(s,a),typeof f!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function Cx(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new SC;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),s=FC.bind(null,s,a,u),a.then(s,s))}function Ex(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Tx(s,a,u,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=es(-1,1),a.tag=2,Ps(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var _C=R.ReactCurrentOwner,Ir=!1;function Cr(s,a,u,f){a.child=s===null?Qy(a,null,u,f):eo(a,s.child,u,f)}function Px(s,a,u,f,g){u=u.render;var x=a.ref;return ro(a,g),f=Of(s,a,u,f,x,g),u=If(),s!==null&&!Ir?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ts(s,a,g)):(Et&&u&&gf(a),a.flags|=1,Cr(s,a,f,g),a.child)}function Ax(s,a,u,f,g){if(s===null){var x=u.type;return typeof x=="function"&&!uh(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=x,Rx(s,a,x,f,g)):(s=Gc(u.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&g)===0){var S=x.memoizedProps;if(u=u.compare,u=u!==null?u:ya,u(S,f)&&s.ref===a.ref)return ts(s,a,g)}return a.flags|=1,s=Ds(x,f),s.ref=a.ref,s.return=a,a.child=s}function Rx(s,a,u,f,g){if(s!==null){var x=s.memoizedProps;if(ya(x,f)&&s.ref===a.ref)if(Ir=!1,a.pendingProps=f=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Ir=!0);else return a.lanes=s.lanes,ts(s,a,g)}return qf(s,a,u,f,g)}function Ox(s,a,u){var f=a.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(oo,zr),zr|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,bt(oo,zr),zr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:u,bt(oo,zr),zr|=f}else x!==null?(f=x.baseLanes|u,a.memoizedState=null):f=u,bt(oo,zr),zr|=f;return Cr(s,a,g,u),a.child}function Ix(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function qf(s,a,u,f,g){var x=Or(u)?ii:yr.current;return x=Ji(a,x),ro(a,g),u=Of(s,a,u,f,x,g),f=If(),s!==null&&!Ir?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ts(s,a,g)):(Et&&f&&gf(a),a.flags|=1,Cr(s,a,u,g),a.child)}function Lx(s,a,u,f,g){if(Or(u)){var x=!0;vc(a)}else x=!1;if(ro(a,g),a.stateNode===null)Mc(s,a),Nx(a,u,f),Uf(a,u,f,g),f=!0;else if(s===null){var S=a.stateNode,T=a.memoizedProps;S.props=T;var I=S.context,z=u.contextType;typeof z=="object"&&z!==null?z=sn(z):(z=Or(u)?ii:yr.current,z=Ji(a,z));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==f||I!==z)&&Sx(a,S,f,z),Ts=!1;var se=a.memoizedState;S.state=se,Ec(a,f,S,g),I=a.memoizedState,T!==f||se!==I||Rr.current||Ts?(typeof oe=="function"&&(Vf(a,u,oe,f),I=a.memoizedState),(T=Ts||jx(a,u,T,f,se,I,z))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=I),S.props=f,S.state=I,S.context=z,f=T):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,Zy(s,a),T=a.memoizedProps,z=a.type===a.elementType?T:gn(a.type,T),S.props=z,ae=a.pendingProps,se=S.context,I=u.contextType,typeof I=="object"&&I!==null?I=sn(I):(I=Or(u)?ii:yr.current,I=Ji(a,I));var Ee=u.getDerivedStateFromProps;(oe=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==ae||se!==I)&&Sx(a,S,f,I),Ts=!1,se=a.memoizedState,S.state=se,Ec(a,f,S,g);var Re=a.memoizedState;T!==ae||se!==Re||Rr.current||Ts?(typeof Ee=="function"&&(Vf(a,u,Ee,f),Re=a.memoizedState),(z=Ts||jx(a,u,z,f,se,Re,I)||!1)?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Re,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Re,I)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),S.props=f,S.state=Re,S.context=I,f=z):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),f=!1)}return zf(s,a,u,f,x,g)}function zf(s,a,u,f,g,x){Ix(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&Uy(a,u,!1),ts(s,a,x);f=a.stateNode,_C.current=a;var T=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=eo(a,s.child,null,x),a.child=eo(a,null,T,x)):Cr(s,a,T,x),a.memoizedState=f.state,g&&Uy(a,u,!0),a.child}function Dx(s){var a=s.stateNode;a.pendingContext?Fy(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Fy(s,a.context,!1),Cf(s,a.containerInfo)}function Mx(s,a,u,f,g){return Xi(),bf(g),a.flags|=256,Cr(s,a,u,f),a.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Kf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Fx(s,a,u){var f=a.pendingProps,g=Tt.current,x=!1,S=(a.flags&128)!==0,T;if((T=S)||(T=s!==null&&s.memoizedState===null?!1:(g&2)!==0),T?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),bt(Tt,g&1),s===null)return vf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,s=f.fallback,x?(f=a.mode,x=a.child,S={mode:"hidden",children:S},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=Qc(S,f,0,null),s=pi(s,f,u,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=Kf(u),a.memoizedState=Wf,s):Hf(a,S));if(g=s.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return kC(s,a,S,f,T,g,u);if(x){x=f.fallback,S=a.mode,g=s.child,T=g.sibling;var I={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=I,a.deletions=null):(f=Ds(g,I),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?x=Ds(T,x):(x=pi(x,S,u,null),x.flags|=2),x.return=a,f.return=a,f.sibling=x,a.child=f,f=x,x=a.child,S=s.child.memoizedState,S=S===null?Kf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=s.childLanes&~u,a.memoizedState=Wf,f}return x=s.child,s=x.sibling,f=Ds(x,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Hf(s,a){return a=Qc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Dc(s,a,u,f){return f!==null&&bf(f),eo(a,s.child,null,u),s=Hf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function kC(s,a,u,f,g,x,S){if(u)return a.flags&256?(a.flags&=-257,f=$f(Error(r(422))),Dc(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=f.fallback,g=a.mode,f=Qc({mode:"visible",children:f.children},g,0,null),x=pi(x,g,S,null),x.flags|=2,f.return=a,x.return=a,f.sibling=x,a.child=f,(a.mode&1)!==0&&eo(a,s.child,null,S),a.child.memoizedState=Kf(S),a.memoizedState=Wf,x);if((a.mode&1)===0)return Dc(s,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,x=Error(r(419)),f=$f(x,f,void 0),Dc(s,a,S,f)}if(T=(S&s.childLanes)!==0,Ir||T){if(f=lr,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,Xn(s,g),vn(f,s,g,-1))}return ch(),f=$f(Error(r(421))),Dc(s,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=VC.bind(null,s),g._reactRetry=a,null):(s=x.treeContext,qr=_s(g.nextSibling),Br=a,Et=!0,pn=null,s!==null&&(rn[nn++]=Zn,rn[nn++]=Yn,rn[nn++]=oi,Zn=s.id,Yn=s.overflow,oi=a),a=Hf(a,f.children),a.flags|=4096,a)}function Vx(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Sf(s.return,a,u)}function Gf(s,a,u,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=g)}function Ux(s,a,u){var f=a.pendingProps,g=f.revealOrder,x=f.tail;if(Cr(s,a,f.children,u),f=Tt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Vx(s,u,a);else if(s.tag===19)Vx(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(bt(Tt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Tc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Gf(a,!1,g,u,x);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Tc(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Gf(a,!0,u,null,x);break;case"together":Gf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ts(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),di|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Ds(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ds(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function CC(s,a,u){switch(a.tag){case 3:Dx(a),Xi();break;case 5:ex(a);break;case 1:Or(a.type)&&vc(a);break;case 4:Cf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;bt(_c,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(bt(Tt,Tt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Fx(s,a,u):(bt(Tt,Tt.current&1),s=ts(s,a,u),s!==null?s.sibling:null);bt(Tt,Tt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Ux(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),bt(Tt,Tt.current),f)break;return null;case 22:case 23:return a.lanes=0,Ox(s,a,u)}return ts(s,a,u)}var $x,Qf,Bx,qx;$x=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qf=function(){},Bx=function(s,a,u,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,ci(Dn.current);var x=null;switch(u){case"input":g=q(s,g),f=q(s,f),x=[];break;case"select":g=ce({},g,{value:void 0}),f=ce({},f,{value:void 0}),x=[];break;case"textarea":g=W(s,g),f=W(s,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=gc)}Lt(u,f);var S;u=null;for(z in g)if(!f.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var T=g[z];for(S in T)T.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?x||(x=[]):(x=x||[]).push(z,null));for(z in f){var I=f[z];if(T=g?.[z],f.hasOwnProperty(z)&&I!==T&&(I!=null||T!=null))if(z==="style")if(T){for(S in T)!T.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in I)I.hasOwnProperty(S)&&T[S]!==I[S]&&(u||(u={}),u[S]=I[S])}else u||(x||(x=[]),x.push(z,u)),u=I;else z==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,T=T?T.__html:void 0,I!=null&&T!==I&&(x=x||[]).push(z,I)):z==="children"?typeof I!="string"&&typeof I!="number"||(x=x||[]).push(z,""+I):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(i.hasOwnProperty(z)?(I!=null&&z==="onScroll"&&Nt("scroll",s),x||T===I||(x=[])):(x=x||[]).push(z,I))}u&&(x=x||[]).push("style",u);var z=x;(a.updateQueue=z)&&(a.flags|=4)}},qx=function(s,a,u,f){u!==f&&(a.flags|=4)};function Ra(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function vr(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function EC(s,a,u){var f=a.pendingProps;switch(yf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(a),null;case 1:return Or(a.type)&&xc(),vr(a),null;case 3:return f=a.stateNode,no(),St(Rr),St(yr),Pf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Nc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pn!==null&&(oh(pn),pn=null))),Qf(s,a),vr(a),null;case 5:Ef(a);var g=ci(Ca.current);if(u=a.type,s!==null&&a.stateNode!=null)Bx(s,a,u,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return vr(a),null}if(s=ci(Dn.current),Nc(a)){f=a.stateNode,u=a.type;var x=a.memoizedProps;switch(f[Ln]=a,f[ja]=x,s=(a.mode&1)!==0,u){case"dialog":Nt("cancel",f),Nt("close",f);break;case"iframe":case"object":case"embed":Nt("load",f);break;case"video":case"audio":for(g=0;g<va.length;g++)Nt(va[g],f);break;case"source":Nt("error",f);break;case"img":case"image":case"link":Nt("error",f),Nt("load",f);break;case"details":Nt("toggle",f);break;case"input":_e(f,x),Nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},Nt("invalid",f);break;case"textarea":de(f,x),Nt("invalid",f)}Lt(u,x),g=null;for(var S in x)if(x.hasOwnProperty(S)){var T=x[S];S==="children"?typeof T=="string"?f.textContent!==T&&(x.suppressHydrationWarning!==!0&&pc(f.textContent,T,s),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&pc(f.textContent,T,s),g=["children",""+T]):i.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&Nt("scroll",f)}switch(u){case"input":sr(f),lt(f,x,!0);break;case"textarea":sr(f),ue(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=gc)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=be(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[Ln]=a,s[ja]=f,$x(s,a,!1,!1),a.stateNode=s;e:{switch(S=kr(u,f),u){case"dialog":Nt("cancel",s),Nt("close",s),g=f;break;case"iframe":case"object":case"embed":Nt("load",s),g=f;break;case"video":case"audio":for(g=0;g<va.length;g++)Nt(va[g],s);g=f;break;case"source":Nt("error",s),g=f;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),g=f;break;case"details":Nt("toggle",s),g=f;break;case"input":_e(s,f),g=q(s,f),Nt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ce({},f,{value:void 0}),Nt("invalid",s);break;case"textarea":de(s,f),g=W(s,f),Nt("invalid",s);break;default:g=f}Lt(u,g),T=g;for(x in T)if(T.hasOwnProperty(x)){var I=T[x];x==="style"?Ht(s,I):x==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Ut(s,I)):x==="children"?typeof I=="string"?(u!=="textarea"||I!=="")&&_r(s,I):typeof I=="number"&&_r(s,""+I):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?I!=null&&x==="onScroll"&&Nt("scroll",s):I!=null&&E(s,x,I,S))}switch(u){case"input":sr(s),lt(s,f,!1);break;case"textarea":sr(s),ue(s);break;case"option":f.value!=null&&s.setAttribute("value",""+ve(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?M(s,!!f.multiple,x,!1):f.defaultValue!=null&&M(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=gc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vr(a),null;case 6:if(s&&a.stateNode!=null)qx(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(u=ci(Ca.current),ci(Dn.current),Nc(a)){if(f=a.stateNode,u=a.memoizedProps,f[Ln]=a,(x=f.nodeValue!==u)&&(s=Br,s!==null))switch(s.tag){case 3:pc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pc(f.nodeValue,u,(s.mode&1)!==0)}x&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ln]=a,a.stateNode=f}return vr(a),null;case 13:if(St(Tt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&qr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ky(),Xi(),a.flags|=98560,x=!1;else if(x=Nc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Ln]=a}else Xi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vr(a),x=!1}else pn!==null&&(oh(pn),pn=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?tr===0&&(tr=3):ch())),a.updateQueue!==null&&(a.flags|=4),vr(a),null);case 4:return no(),Qf(s,a),s===null&&ba(a.stateNode.containerInfo),vr(a),null;case 10:return Nf(a.type._context),vr(a),null;case 17:return Or(a.type)&&xc(),vr(a),null;case 19:if(St(Tt),x=a.memoizedState,x===null)return vr(a),null;if(f=(a.flags&128)!==0,S=x.rendering,S===null)if(f)Ra(x,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Tc(s),S!==null){for(a.flags|=128,Ra(x,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)x=u,s=f,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,s=S.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return bt(Tt,Tt.current&1|2),a.child}s=s.sibling}x.tail!==null&&$t()>ao&&(a.flags|=128,f=!0,Ra(x,!1),a.lanes=4194304)}else{if(!f)if(s=Tc(S),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ra(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!Et)return vr(a),null}else 2*$t()-x.renderingStartTime>ao&&u!==1073741824&&(a.flags|=128,f=!0,Ra(x,!1),a.lanes=4194304);x.isBackwards?(S.sibling=a.child,a.child=S):(u=x.last,u!==null?u.sibling=S:a.child=S,x.last=S)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=$t(),a.sibling=null,u=Tt.current,bt(Tt,f?u&1|2:u&1),a):(vr(a),null);case 22:case 23:return lh(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(zr&1073741824)!==0&&(vr(a),a.subtreeFlags&6&&(a.flags|=8192)):vr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function TC(s,a){switch(yf(a),a.tag){case 1:return Or(a.type)&&xc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return no(),St(Rr),St(yr),Pf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ef(a),null;case 13:if(St(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Xi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return St(Tt),null;case 4:return no(),null;case 10:return Nf(a.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var Fc=!1,br=!1,PC=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function io(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Dt(s,a,f)}else u.current=null}function Jf(s,a,u){try{u()}catch(f){Dt(s,a,f)}}var zx=!1;function AC(s,a){if(lf=sc,s=jy(),Xd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var S=0,T=-1,I=-1,z=0,oe=0,ae=s,se=null;t:for(;;){for(var Ee;ae!==u||g!==0&&ae.nodeType!==3||(T=S+g),ae!==x||f!==0&&ae.nodeType!==3||(I=S+f),ae.nodeType===3&&(S+=ae.nodeValue.length),(Ee=ae.firstChild)!==null;)se=ae,ae=Ee;for(;;){if(ae===s)break t;if(se===u&&++z===g&&(T=S),se===x&&++oe===f&&(I=S),(Ee=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=Ee}u=T===-1||I===-1?null:{start:T,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(cf={focusedElem:s,selectionRange:u},sc=!1,Ae=a;Ae!==null;)if(a=Ae,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ae=s;else for(;Ae!==null;){a=Ae;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Bt=Re.memoizedState,V=a.stateNode,D=V.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:gn(a.type,Oe),Bt);V.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=a.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){Dt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,Ae=s;break}Ae=a.return}return Re=zx,zx=!1,Re}function Oa(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&Jf(a,u,x)}g=g.next}while(g!==f)}}function Vc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Zf(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Wx(s){var a=s.alternate;a!==null&&(s.alternate=null,Wx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ln],delete a[ja],delete a[hf],delete a[hC],delete a[mC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Kx(s){return s.tag===5||s.tag===3||s.tag===4}function Hx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Kx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=gc));else if(f!==4&&(s=s.child,s!==null))for(Yf(s,a,u),s=s.sibling;s!==null;)Yf(s,a,u),s=s.sibling}function Xf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Xf(s,a,u),s=s.sibling;s!==null;)Xf(s,a,u),s=s.sibling}var dr=null,yn=!1;function As(s,a,u){for(u=u.child;u!==null;)Gx(s,a,u),u=u.sibling}function Gx(s,a,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Yl,u)}catch{}switch(u.tag){case 5:br||io(u,a);case 6:var f=dr,g=yn;dr=null,As(s,a,u),dr=f,yn=g,dr!==null&&(yn?(s=dr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):dr.removeChild(u.stateNode));break;case 18:dr!==null&&(yn?(s=dr,u=u.stateNode,s.nodeType===8?ff(s.parentNode,u):s.nodeType===1&&ff(s,u),da(s)):ff(dr,u.stateNode));break;case 4:f=dr,g=yn,dr=u.stateNode.containerInfo,yn=!0,As(s,a,u),dr=f,yn=g;break;case 0:case 11:case 14:case 15:if(!br&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&Jf(u,a,S),g=g.next}while(g!==f)}As(s,a,u);break;case 1:if(!br&&(io(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(T){Dt(u,a,T)}As(s,a,u);break;case 21:As(s,a,u);break;case 22:u.mode&1?(br=(f=br)||u.memoizedState!==null,As(s,a,u),br=f):As(s,a,u);break;default:As(s,a,u)}}function Qx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new PC),a.forEach(function(f){var g=UC.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function xn(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var x=s,S=a,T=S;e:for(;T!==null;){switch(T.tag){case 5:dr=T.stateNode,yn=!1;break e;case 3:dr=T.stateNode.containerInfo,yn=!0;break e;case 4:dr=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(dr===null)throw Error(r(160));Gx(x,S,g),dr=null,yn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(z){Dt(g,a,z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Jx(a,s),a=a.sibling}function Jx(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(xn(a,s),Fn(s),f&4){try{Oa(3,s,s.return),Vc(3,s)}catch(Oe){Dt(s,s.return,Oe)}try{Oa(5,s,s.return)}catch(Oe){Dt(s,s.return,Oe)}}break;case 1:xn(a,s),Fn(s),f&512&&u!==null&&io(u,u.return);break;case 5:if(xn(a,s),Fn(s),f&512&&u!==null&&io(u,u.return),s.flags&32){var g=s.stateNode;try{_r(g,"")}catch(Oe){Dt(s,s.return,Oe)}}if(f&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,S=u!==null?u.memoizedProps:x,T=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&ye(g,x),kr(T,S);var z=kr(T,x);for(S=0;S<I.length;S+=2){var oe=I[S],ae=I[S+1];oe==="style"?Ht(g,ae):oe==="dangerouslySetInnerHTML"?Ut(g,ae):oe==="children"?_r(g,ae):E(g,oe,ae,z)}switch(T){case"input":ge(g,x);break;case"textarea":fe(g,x);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var Ee=x.value;Ee!=null?M(g,!!x.multiple,Ee,!1):se!==!!x.multiple&&(x.defaultValue!=null?M(g,!!x.multiple,x.defaultValue,!0):M(g,!!x.multiple,x.multiple?[]:"",!1))}g[ja]=x}catch(Oe){Dt(s,s.return,Oe)}}break;case 6:if(xn(a,s),Fn(s),f&4){if(s.stateNode===null)throw Error(r(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(Oe){Dt(s,s.return,Oe)}}break;case 3:if(xn(a,s),Fn(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{da(a.containerInfo)}catch(Oe){Dt(s,s.return,Oe)}break;case 4:xn(a,s),Fn(s);break;case 13:xn(a,s),Fn(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(rh=$t())),f&4&&Qx(s);break;case 22:if(oe=u!==null&&u.memoizedState!==null,s.mode&1?(br=(z=br)||oe,xn(a,s),br=z):xn(a,s),Fn(s),f&8192){if(z=s.memoizedState!==null,(s.stateNode.isHidden=z)&&!oe&&(s.mode&1)!==0)for(Ae=s,oe=s.child;oe!==null;){for(ae=Ae=oe;Ae!==null;){switch(se=Ae,Ee=se.child,se.tag){case 0:case 11:case 14:case 15:Oa(4,se,se.return);break;case 1:io(se,se.return);var Re=se.stateNode;if(typeof Re.componentWillUnmount=="function"){f=se,u=se.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){Dt(f,u,Oe)}}break;case 5:io(se,se.return);break;case 22:if(se.memoizedState!==null){Xx(ae);continue}}Ee!==null?(Ee.return=se,Ae=Ee):Xx(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{g=ae.stateNode,z?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=ae.stateNode,I=ae.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,T.style.display=pe("display",S))}catch(Oe){Dt(s,s.return,Oe)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=z?"":ae.memoizedProps}catch(Oe){Dt(s,s.return,Oe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:xn(a,s),Fn(s),f&4&&Qx(s);break;case 21:break;default:xn(a,s),Fn(s)}}function Fn(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Kx(u)){var f=u;break e}u=u.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(_r(g,""),f.flags&=-33);var x=Hx(s);Xf(s,x,g);break;case 3:case 4:var S=f.stateNode.containerInfo,T=Hx(s);Yf(s,T,S);break;default:throw Error(r(161))}}catch(I){Dt(s,s.return,I)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function RC(s,a,u){Ae=s,Zx(s)}function Zx(s,a,u){for(var f=(s.mode&1)!==0;Ae!==null;){var g=Ae,x=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Fc;if(!S){var T=g.alternate,I=T!==null&&T.memoizedState!==null||br;T=Fc;var z=br;if(Fc=S,(br=I)&&!z)for(Ae=g;Ae!==null;)S=Ae,I=S.child,S.tag===22&&S.memoizedState!==null?ev(g):I!==null?(I.return=S,Ae=I):ev(g);for(;x!==null;)Ae=x,Zx(x),x=x.sibling;Ae=g,Fc=T,br=z}Yx(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,Ae=x):Yx(s)}}function Yx(s){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:br||Vc(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!br)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:gn(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Xy(a,x,f);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Xy(a,S,u)}break;case 5:var T=a.stateNode;if(u===null&&a.flags&4){u=T;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&u.focus();break;case"img":I.src&&(u.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var z=a.alternate;if(z!==null){var oe=z.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&da(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}br||a.flags&512&&Zf(a)}catch(se){Dt(a,a.return,se)}}if(a===s){Ae=null;break}if(u=a.sibling,u!==null){u.return=a.return,Ae=u;break}Ae=a.return}}function Xx(s){for(;Ae!==null;){var a=Ae;if(a===s){Ae=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Ae=u;break}Ae=a.return}}function ev(s){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Vc(4,a)}catch(I){Dt(a,u,I)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(I){Dt(a,g,I)}}var x=a.return;try{Zf(a)}catch(I){Dt(a,x,I)}break;case 5:var S=a.return;try{Zf(a)}catch(I){Dt(a,S,I)}}}catch(I){Dt(a,a.return,I)}if(a===s){Ae=null;break}var T=a.sibling;if(T!==null){T.return=a.return,Ae=T;break}Ae=a.return}}var OC=Math.ceil,Uc=R.ReactCurrentDispatcher,eh=R.ReactCurrentOwner,an=R.ReactCurrentBatchConfig,dt=0,lr=null,Gt=null,fr=0,zr=0,oo=ks(0),tr=0,Ia=null,di=0,$c=0,th=0,La=null,Lr=null,rh=0,ao=1/0,rs=null,Bc=!1,nh=null,Rs=null,qc=!1,Os=null,zc=0,Da=0,sh=null,Wc=-1,Kc=0;function Er(){return(dt&6)!==0?$t():Wc!==-1?Wc:Wc=$t()}function Is(s){return(s.mode&1)===0?1:(dt&2)!==0&&fr!==0?fr&-fr:gC.transition!==null?(Kc===0&&(Kc=Hg()),Kc):(s=gt,s!==0||(s=window.event,s=s===void 0?16:ry(s.type)),s)}function vn(s,a,u,f){if(50<Da)throw Da=0,sh=null,Error(r(185));oa(s,u,f),((dt&2)===0||s!==lr)&&(s===lr&&((dt&2)===0&&($c|=u),tr===4&&Ls(s,fr)),Dr(s,f),u===1&&dt===0&&(a.mode&1)===0&&(ao=$t()+500,bc&&Es()))}function Dr(s,a){var u=s.callbackNode;gk(s,a);var f=tc(s,s===lr?fr:0);if(f===0)u!==null&&Ui(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Ui(u),a===1)s.tag===0?pC(rv.bind(null,s)):$y(rv.bind(null,s)),dC(function(){(dt&6)===0&&Es()}),u=null;else{switch(Gg(f)){case 1:u=Dd;break;case 4:u=Wg;break;case 16:u=Zl;break;case 536870912:u=Kg;break;default:u=Zl}u=uv(u,tv.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function tv(s,a){if(Wc=-1,Kc=0,(dt&6)!==0)throw Error(r(327));var u=s.callbackNode;if(lo()&&s.callbackNode!==u)return null;var f=tc(s,s===lr?fr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Hc(s,f);else{a=f;var g=dt;dt|=2;var x=sv();(lr!==s||fr!==a)&&(rs=null,ao=$t()+500,hi(s,a));do try{DC();break}catch(T){nv(s,T)}while(!0);jf(),Uc.current=x,dt=g,Gt!==null?a=0:(lr=null,fr=0,a=tr)}if(a!==0){if(a===2&&(g=Md(s),g!==0&&(f=g,a=ih(s,g))),a===1)throw u=Ia,hi(s,0),Ls(s,f),Dr(s,$t()),u;if(a===6)Ls(s,f);else{if(g=s.current.alternate,(f&30)===0&&!IC(g)&&(a=Hc(s,f),a===2&&(x=Md(s),x!==0&&(f=x,a=ih(s,x))),a===1))throw u=Ia,hi(s,0),Ls(s,f),Dr(s,$t()),u;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:mi(s,Lr,rs);break;case 3:if(Ls(s,f),(f&130023424)===f&&(a=rh+500-$t(),10<a)){if(tc(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Er(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=df(mi.bind(null,s,Lr,rs),a);break}mi(s,Lr,rs);break;case 4:if(Ls(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var S=31-hn(f);x=1<<S,S=a[S],S>g&&(g=S),f&=~x}if(f=g,f=$t()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*OC(f/1960))-f,10<f){s.timeoutHandle=df(mi.bind(null,s,Lr,rs),f);break}mi(s,Lr,rs);break;case 5:mi(s,Lr,rs);break;default:throw Error(r(329))}}}return Dr(s,$t()),s.callbackNode===u?tv.bind(null,s):null}function ih(s,a){var u=La;return s.current.memoizedState.isDehydrated&&(hi(s,a).flags|=256),s=Hc(s,a),s!==2&&(a=Lr,Lr=u,a!==null&&oh(a)),s}function oh(s){Lr===null?Lr=s:Lr.push.apply(Lr,s)}function IC(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],x=g.getSnapshot;g=g.value;try{if(!mn(x(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ls(s,a){for(a&=~th,a&=~$c,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-hn(a),f=1<<u;s[u]=-1,a&=~f}}function rv(s){if((dt&6)!==0)throw Error(r(327));lo();var a=tc(s,0);if((a&1)===0)return Dr(s,$t()),null;var u=Hc(s,a);if(s.tag!==0&&u===2){var f=Md(s);f!==0&&(a=f,u=ih(s,f))}if(u===1)throw u=Ia,hi(s,0),Ls(s,a),Dr(s,$t()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,mi(s,Lr,rs),Dr(s,$t()),null}function ah(s,a){var u=dt;dt|=1;try{return s(a)}finally{dt=u,dt===0&&(ao=$t()+500,bc&&Es())}}function fi(s){Os!==null&&Os.tag===0&&(dt&6)===0&&lo();var a=dt;dt|=1;var u=an.transition,f=gt;try{if(an.transition=null,gt=1,s)return s()}finally{gt=f,an.transition=u,dt=a,(dt&6)===0&&Es()}}function lh(){zr=oo.current,St(oo)}function hi(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,uC(u)),Gt!==null)for(u=Gt.return;u!==null;){var f=u;switch(yf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&xc();break;case 3:no(),St(Rr),St(yr),Pf();break;case 5:Ef(f);break;case 4:no();break;case 13:St(Tt);break;case 19:St(Tt);break;case 10:Nf(f.type._context);break;case 22:case 23:lh()}u=u.return}if(lr=s,Gt=s=Ds(s.current,null),fr=zr=a,tr=0,Ia=null,th=$c=di=0,Lr=La=null,li!==null){for(a=0;a<li.length;a++)if(u=li[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,x=u.pending;if(x!==null){var S=x.next;x.next=g,f.next=S}u.pending=f}li=null}return s}function nv(s,a){do{var u=Gt;try{if(jf(),Pc.current=Ic,Ac){for(var f=Pt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ac=!1}if(ui=0,ar=er=Pt=null,Ea=!1,Ta=0,eh.current=null,u===null||u.return===null){tr=1,Ia=a,Gt=null;break}e:{var x=s,S=u.return,T=u,I=a;if(a=fr,T.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var z=I,oe=T,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var Ee=Ex(S);if(Ee!==null){Ee.flags&=-257,Tx(Ee,S,T,x,a),Ee.mode&1&&Cx(x,z,a),a=Ee,I=z;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add(I),a.updateQueue=Oe}else Re.add(I);break e}else{if((a&1)===0){Cx(x,z,a),ch();break e}I=Error(r(426))}}else if(Et&&T.mode&1){var Bt=Ex(S);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),Tx(Bt,S,T,x,a),bf(so(I,T));break e}}x=I=so(I,T),tr!==4&&(tr=2),La===null?La=[x]:La.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var V=_x(x,I,a);Yy(x,V);break e;case 1:T=I;var D=x.type,B=x.stateNode;if((x.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Rs===null||!Rs.has(B)))){x.flags|=65536,a&=-a,x.lanes|=a;var he=kx(x,T,a);Yy(x,he);break e}}x=x.return}while(x!==null)}ov(u)}catch(De){a=De,Gt===u&&u!==null&&(Gt=u=u.return);continue}break}while(!0)}function sv(){var s=Uc.current;return Uc.current=Ic,s===null?Ic:s}function ch(){(tr===0||tr===3||tr===2)&&(tr=4),lr===null||(di&268435455)===0&&($c&268435455)===0||Ls(lr,fr)}function Hc(s,a){var u=dt;dt|=2;var f=sv();(lr!==s||fr!==a)&&(rs=null,hi(s,a));do try{LC();break}catch(g){nv(s,g)}while(!0);if(jf(),dt=u,Uc.current=f,Gt!==null)throw Error(r(261));return lr=null,fr=0,tr}function LC(){for(;Gt!==null;)iv(Gt)}function DC(){for(;Gt!==null&&!ak();)iv(Gt)}function iv(s){var a=cv(s.alternate,s,zr);s.memoizedProps=s.pendingProps,a===null?ov(s):Gt=a,eh.current=null}function ov(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=EC(u,a,zr),u!==null){Gt=u;return}}else{if(u=TC(u,a),u!==null){u.flags&=32767,Gt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tr=6,Gt=null;return}}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=s}while(a!==null);tr===0&&(tr=5)}function mi(s,a,u){var f=gt,g=an.transition;try{an.transition=null,gt=1,MC(s,a,u,f)}finally{an.transition=g,gt=f}return null}function MC(s,a,u,f){do lo();while(Os!==null);if((dt&6)!==0)throw Error(r(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(yk(s,x),s===lr&&(Gt=lr=null,fr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||qc||(qc=!0,uv(Zl,function(){return lo(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=an.transition,an.transition=null;var S=gt;gt=1;var T=dt;dt|=4,eh.current=null,AC(s,u),Jx(u,s),nC(cf),sc=!!lf,cf=lf=null,s.current=u,RC(u),lk(),dt=T,gt=S,an.transition=x}else s.current=u;if(qc&&(qc=!1,Os=s,zc=g),x=s.pendingLanes,x===0&&(Rs=null),dk(u.stateNode),Dr(s,$t()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Bc)throw Bc=!1,s=nh,nh=null,s;return(zc&1)!==0&&s.tag!==0&&lo(),x=s.pendingLanes,(x&1)!==0?s===sh?Da++:(Da=0,sh=s):Da=0,Es(),null}function lo(){if(Os!==null){var s=Gg(zc),a=an.transition,u=gt;try{if(an.transition=null,gt=16>s?16:s,Os===null)var f=!1;else{if(s=Os,Os=null,zc=0,(dt&6)!==0)throw Error(r(331));var g=dt;for(dt|=4,Ae=s.current;Ae!==null;){var x=Ae,S=x.child;if((Ae.flags&16)!==0){var T=x.deletions;if(T!==null){for(var I=0;I<T.length;I++){var z=T[I];for(Ae=z;Ae!==null;){var oe=Ae;switch(oe.tag){case 0:case 11:case 15:Oa(8,oe,x)}var ae=oe.child;if(ae!==null)ae.return=oe,Ae=ae;else for(;Ae!==null;){oe=Ae;var se=oe.sibling,Ee=oe.return;if(Wx(oe),oe===z){Ae=null;break}if(se!==null){se.return=Ee,Ae=se;break}Ae=Ee}}}var Re=x.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Bt=Oe.sibling;Oe.sibling=null,Oe=Bt}while(Oe!==null)}}Ae=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,Ae=S;else e:for(;Ae!==null;){if(x=Ae,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Oa(9,x,x.return)}var V=x.sibling;if(V!==null){V.return=x.return,Ae=V;break e}Ae=x.return}}var D=s.current;for(Ae=D;Ae!==null;){S=Ae;var B=S.child;if((S.subtreeFlags&2064)!==0&&B!==null)B.return=S,Ae=B;else e:for(S=D;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Vc(9,T)}}catch(De){Dt(T,T.return,De)}if(T===S){Ae=null;break e}var he=T.sibling;if(he!==null){he.return=T.return,Ae=he;break e}Ae=T.return}}if(dt=g,Es(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Yl,s)}catch{}f=!0}return f}finally{gt=u,an.transition=a}}return!1}function av(s,a,u){a=so(u,a),a=_x(s,a,1),s=Ps(s,a,1),a=Er(),s!==null&&(oa(s,1,a),Dr(s,a))}function Dt(s,a,u){if(s.tag===3)av(s,s,u);else for(;a!==null;){if(a.tag===3){av(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))){s=so(u,s),s=kx(a,s,1),a=Ps(a,s,1),s=Er(),a!==null&&(oa(a,1,s),Dr(a,s));break}}a=a.return}}function FC(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=Er(),s.pingedLanes|=s.suspendedLanes&u,lr===s&&(fr&u)===u&&(tr===4||tr===3&&(fr&130023424)===fr&&500>$t()-rh?hi(s,0):th|=u),Dr(s,a)}function lv(s,a){a===0&&((s.mode&1)===0?a=1:(a=ec,ec<<=1,(ec&130023424)===0&&(ec=4194304)));var u=Er();s=Xn(s,a),s!==null&&(oa(s,a,u),Dr(s,u))}function VC(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),lv(s,u)}function UC(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),lv(s,u)}var cv;cv=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Rr.current)Ir=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Ir=!1,CC(s,a,u);Ir=(s.flags&131072)!==0}else Ir=!1,Et&&(a.flags&1048576)!==0&&By(a,jc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Mc(s,a),s=a.pendingProps;var g=Ji(a,yr.current);ro(a,u),g=Of(null,a,f,s,g,u);var x=If();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Or(f)?(x=!0,vc(a)):x=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,kf(a),g.updater=Lc,a.stateNode=g,g._reactInternals=a,Uf(a,f,s,u),a=zf(null,a,f,!0,x,u)):(a.tag=0,Et&&x&&gf(a),Cr(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Mc(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=BC(f),s=gn(f,s),g){case 0:a=qf(null,a,f,s,u);break e;case 1:a=Lx(null,a,f,s,u);break e;case 11:a=Px(null,a,f,s,u);break e;case 14:a=Ax(null,a,f,gn(f.type,s),u);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),qf(s,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),Lx(s,a,f,g,u);case 3:e:{if(Dx(a),s===null)throw Error(r(387));f=a.pendingProps,x=a.memoizedState,g=x.element,Zy(s,a),Ec(a,f,null,u);var S=a.memoizedState;if(f=S.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){g=so(Error(r(423)),a),a=Mx(s,a,f,u,g);break e}else if(f!==g){g=so(Error(r(424)),a),a=Mx(s,a,f,u,g);break e}else for(qr=_s(a.stateNode.containerInfo.firstChild),Br=a,Et=!0,pn=null,u=Qy(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xi(),f===g){a=ts(s,a,u);break e}Cr(s,a,f,u)}a=a.child}return a;case 5:return ex(a),s===null&&vf(a),f=a.type,g=a.pendingProps,x=s!==null?s.memoizedProps:null,S=g.children,uf(f,g)?S=null:x!==null&&uf(f,x)&&(a.flags|=32),Ix(s,a),Cr(s,a,S,u),a.child;case 6:return s===null&&vf(a),null;case 13:return Fx(s,a,u);case 4:return Cf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=eo(a,null,f,u):Cr(s,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),Px(s,a,f,g,u);case 7:return Cr(s,a,a.pendingProps,u),a.child;case 8:return Cr(s,a,a.pendingProps.children,u),a.child;case 12:return Cr(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,x=a.memoizedProps,S=g.value,bt(_c,f._currentValue),f._currentValue=S,x!==null)if(mn(x.value,S)){if(x.children===g.children&&!Rr.current){a=ts(s,a,u);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var T=x.dependencies;if(T!==null){S=x.child;for(var I=T.firstContext;I!==null;){if(I.context===f){if(x.tag===1){I=es(-1,u&-u),I.tag=2;var z=x.updateQueue;if(z!==null){z=z.shared;var oe=z.pending;oe===null?I.next=I:(I.next=oe.next,oe.next=I),z.pending=I}}x.lanes|=u,I=x.alternate,I!==null&&(I.lanes|=u),Sf(x.return,u,a),T.lanes|=u;break}I=I.next}}else if(x.tag===10)S=x.type===a.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(r(341));S.lanes|=u,T=S.alternate,T!==null&&(T.lanes|=u),Sf(S,u,a),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===a){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}Cr(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,ro(a,u),g=sn(g),f=f(g),a.flags|=1,Cr(s,a,f,u),a.child;case 14:return f=a.type,g=gn(f,a.pendingProps),g=gn(f.type,g),Ax(s,a,f,g,u);case 15:return Rx(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),Mc(s,a),a.tag=1,Or(f)?(s=!0,vc(a)):s=!1,ro(a,u),Nx(a,f,g),Uf(a,f,g,u),zf(null,a,f,!0,s,u);case 19:return Ux(s,a,u);case 22:return Ox(s,a,u)}throw Error(r(156,a.tag))};function uv(s,a){return Jl(s,a)}function $C(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(s,a,u,f){return new $C(s,a,u,f)}function uh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function BC(s){if(typeof s=="function")return uh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===ke)return 14}return 2}function Ds(s,a){var u=s.alternate;return u===null?(u=ln(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Gc(s,a,u,f,g,x){var S=2;if(f=s,typeof s=="function")uh(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case K:return pi(u.children,g,x,a);case Z:S=8,g|=8;break;case O:return s=ln(12,u,a,g|2),s.elementType=O,s.lanes=x,s;case te:return s=ln(13,u,a,g),s.elementType=te,s.lanes=x,s;case ee:return s=ln(19,u,a,g),s.elementType=ee,s.lanes=x,s;case re:return Qc(u,g,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:S=10;break e;case ne:S=9;break e;case H:S=11;break e;case ke:S=14;break e;case Ce:S=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=ln(S,u,a,g),a.elementType=s,a.type=f,a.lanes=x,a}function pi(s,a,u,f){return s=ln(7,s,f,a),s.lanes=u,s}function Qc(s,a,u,f){return s=ln(22,s,f,a),s.elementType=re,s.lanes=u,s.stateNode={isHidden:!1},s}function dh(s,a,u){return s=ln(6,s,null,a),s.lanes=u,s}function fh(s,a,u){return a=ln(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function qC(s,a,u,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function hh(s,a,u,f,g,x,S,T,I){return s=new qC(s,a,u,T,I),a===1?(a=1,x===!0&&(a|=8)):a=0,x=ln(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(x),s}function zC(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function dv(s){if(!s)return Cs;s=s._reactInternals;e:{if(ut(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Or(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(Or(u))return Vy(s,u,a)}return a}function fv(s,a,u,f,g,x,S,T,I){return s=hh(u,f,!0,s,g,x,S,T,I),s.context=dv(null),u=s.current,f=Er(),g=Is(u),x=es(f,g),x.callback=a??null,Ps(u,x,g),s.current.lanes=g,oa(s,g,f),Dr(s,f),s}function Jc(s,a,u,f){var g=a.current,x=Er(),S=Is(g);return u=dv(u),a.context===null?a.context=u:a.pendingContext=u,a=es(x,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ps(g,a,S),s!==null&&(vn(s,g,S,x),Cc(s,g,S)),S}function Zc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function mh(s,a){hv(s,a),(s=s.alternate)&&hv(s,a)}function WC(){return null}var mv=typeof reportError=="function"?reportError:function(s){console.error(s)};function ph(s){this._internalRoot=s}Yc.prototype.render=ph.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Jc(s,a,null,null)},Yc.prototype.unmount=ph.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;fi(function(){Jc(null,s,null,null)}),a[Qn]=null}};function Yc(s){this._internalRoot=s}Yc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Zg();s={blockedOn:null,target:s,priority:a};for(var u=0;u<js.length&&a!==0&&a<js[u].priority;u++);js.splice(u,0,s),u===0&&ey(s)}};function gh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pv(){}function KC(s,a,u,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var z=Zc(S);x.call(z)}}var S=fv(a,f,s,0,null,!1,!1,"",pv);return s._reactRootContainer=S,s[Qn]=S.current,ba(s.nodeType===8?s.parentNode:s),fi(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var z=Zc(I);T.call(z)}}var I=hh(s,0,!1,null,null,!1,!1,"",pv);return s._reactRootContainer=I,s[Qn]=I.current,ba(s.nodeType===8?s.parentNode:s),fi(function(){Jc(a,I,u,f)}),I}function eu(s,a,u,f,g){var x=u._reactRootContainer;if(x){var S=x;if(typeof g=="function"){var T=g;g=function(){var I=Zc(S);T.call(I)}}Jc(a,S,s,g)}else S=KC(u,a,s,g,f);return Zc(S)}Qg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ia(a.pendingLanes);u!==0&&(Vd(a,u|1),Dr(a,$t()),(dt&6)===0&&(ao=$t()+500,Es()))}break;case 13:fi(function(){var f=Xn(s,1);if(f!==null){var g=Er();vn(f,s,1,g)}}),mh(s,1)}},Ud=function(s){if(s.tag===13){var a=Xn(s,134217728);if(a!==null){var u=Er();vn(a,s,134217728,u)}mh(s,134217728)}},Jg=function(s){if(s.tag===13){var a=Is(s),u=Xn(s,a);if(u!==null){var f=Er();vn(u,s,a,f)}mh(s,a)}},Zg=function(){return gt},Yg=function(s,a){var u=gt;try{return gt=s,a()}finally{gt=u}},ra=function(s,a,u){switch(a){case"input":if(ge(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var g=yc(f);if(!g)throw Error(r(90));$(f),ge(f,g)}}}break;case"textarea":fe(s,u);break;case"select":a=u.value,a!=null&&M(s,!!u.multiple,a,!1)}},Gl=ah,ni=fi;var HC={usingClientEntryPoint:!1,Events:[Na,Gi,yc,Kl,Hl,ah]},Ma={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=tn(s),s===null?null:s.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Yl=tu.inject(GC),In=tu}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC,Mr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(a))throw Error(r(200));return zC(s,a,null,u)},Mr.createRoot=function(s,a){if(!gh(s))throw Error(r(299));var u=!1,f="",g=mv;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=hh(s,1,!1,null,null,u,!1,f,g),s[Qn]=a.current,ba(s.nodeType===8?s.parentNode:s),new ph(a)},Mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=tn(a),s=s===null?null:s.stateNode,s},Mr.flushSync=function(s){return fi(s)},Mr.hydrate=function(s,a,u){if(!Xc(a))throw Error(r(200));return eu(null,s,a,!0,u)},Mr.hydrateRoot=function(s,a,u){if(!gh(s))throw Error(r(405));var f=u!=null&&u.hydratedSources||null,g=!1,x="",S=mv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=fv(a,null,s,1,u??null,g,!1,x,S),s[Qn]=a.current,ba(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Yc(a)},Mr.render=function(s,a,u){if(!Xc(a))throw Error(r(200));return eu(null,s,a,!1,u)},Mr.unmountComponentAtNode=function(s){if(!Xc(s))throw Error(r(40));return s._reactRootContainer?(fi(function(){eu(null,null,s,!1,function(){s._reactRootContainer=null,s[Qn]=null})}),!0):!1},Mr.unstable_batchedUpdates=ah,Mr.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Xc(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return eu(s,a,u,!1,f)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var Nv;function k0(){if(Nv)return vh.exports;Nv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vh.exports=tE(),vh.exports}var Sv;function rE(){if(Sv)return ru;Sv=1;var t=k0();return ru.createRoot=t.createRoot,ru.hydrateRoot=t.hydrateRoot,ru}var nE=rE();function sE(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,l,c=[],d="",h=t.split("/");for(h[0]||h.shift();i=h.shift();)r=i[0],r==="*"?(c.push(r),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),l=i.indexOf(".",1),c.push(i.substring(1,~n?n:~l?l:i.length)),d+=~n&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~n?"?":"")+"\\"+i.substring(l))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var v=cd();const Fe=up(v),dp=S0({__proto__:null,default:Fe},[v]);var jh={exports:{}},Nh={};var _v;function iE(){if(_v)return Nh;_v=1;var t=cd();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(y,b){var N=b(),_=n({inst:{value:N,getSnapshot:b}}),j=_[0].inst,w=_[1];return l(function(){j.value=N,j.getSnapshot=b,h(j)&&w({inst:j})},[y,N,b]),i(function(){return h(j)&&w({inst:j}),y(function(){h(j)&&w({inst:j})})},[y]),c(N),N}function h(y){var b=y.getSnapshot;y=y.value;try{var N=b();return!r(y,N)}catch{return!0}}function m(y,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Nh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Nh}var kv;function oE(){return kv||(kv=1,jh.exports=iE()),jh.exports}var C0=oE();const aE=dp.useInsertionEffect,lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cE=lE?v.useLayoutEffect:v.useEffect,uE=aE||cE,E0=t=>{const e=v.useRef([t,(...r)=>e[0](...r)]).current;return uE(()=>{e[0]=t}),e[1]},dE="popstate",fp="pushState",hp="replaceState",fE="hashchange",Cv=[dE,fp,hp,fE],hE=t=>{for(const e of Cv)addEventListener(e,t);return()=>{for(const e of Cv)removeEventListener(e,t)}},T0=(t,e)=>C0.useSyncExternalStore(hE,t,e),mE=()=>location.search,pE=({ssrSearch:t=""}={})=>T0(mE,()=>t),Ev=()=>location.pathname,gE=({ssrPath:t}={})=>T0(Ev,t?()=>t:Ev),yE=(t,{replace:e=!1,state:r=null}={})=>history[e?hp:fp](r,"",t),xE=(t={})=>[gE(t),yE],Tv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Tv]>"u"){for(const t of[fp,hp]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Tv,{value:!0})}const vE=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",P0=(t="")=>t==="/"?"":t,bE=(t,e)=>t[0]==="~"?t.slice(1):P0(e)+t,wE=(t="",e)=>vE(Pv(P0(t)),Pv(e)),Pv=t=>{try{return decodeURI(t)}catch{return t}},A0={hook:xE,searchHook:pE,parser:sE,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},R0=v.createContext(A0),Rl=()=>v.useContext(R0),O0={},I0=v.createContext(O0),jE=()=>v.useContext(I0),ud=t=>{const[e,r]=t.hook(t);return[wE(t.base,e),E0((n,i)=>r(bE(n,t.base),i))]},hs=()=>ud(Rl()),L0=(t,e,r,n)=>{const{pattern:i,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),c=i.exec(r)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((y,b)=>[y,h[b]])):c.groups;let p={...h};return m&&Object.assign(p,m),p})(),...n?[d]:[]]:[!1,null]},NE=({children:t,...e})=>{const r=Rl(),n=e.hook?A0:r;let i=n;const[l,c]=e.ssrPath?.split("?")??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??e.hook?.hrefs;let d=v.useRef({}),h=d.current,m=h;for(let p in n){const y=p==="base"?n[p]+(e[p]||""):e[p]||n[p];h===m&&y!==m[p]&&(d.current=m={...m}),m[p]=y,(y!==n[p]||y!==i[p])&&(i=m)}return v.createElement(R0.Provider,{value:i,children:t})},Av=({children:t,component:e},r)=>e?v.createElement(e,{params:r}):typeof t=="function"?t(r):t,SE=t=>{let e=v.useRef(O0);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},xt=({path:t,nest:e,match:r,...n})=>{const i=Rl(),[l]=ud(i),[c,d,h]=r??L0(i.parser,t,l,e),m=SE({...jE(),...d});if(!c)return null;const p=h?v.createElement(NE,{base:h},Av(n,m)):Av(n,m);return v.createElement(I0.Provider,{value:m,children:p})},Ne=v.forwardRef((t,e)=>{const r=Rl(),[n,i]=ud(r),{to:l="",href:c=l,onClick:d,asChild:h,children:m,className:p,replace:y,state:b,...N}=t,_=E0(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),i(c,t)))}),j=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return h&&v.isValidElement(m)?v.cloneElement(m,{onClick:_,href:j}):v.createElement("a",{...N,onClick:_,href:j,className:p?.call?p(n===c):p,children:m,ref:e})}),D0=t=>Array.isArray(t)?t.flatMap(e=>D0(e&&e.type===v.Fragment?e.props.children:e)):[t],_E=({children:t,location:e})=>{const r=Rl(),[n]=ud(r);for(const i of D0(t)){let l=0;if(v.isValidElement(i)&&(l=L0(r.parser,i.props.path,e||n,i.props.nest))[0])return v.cloneElement(i,{match:l})}return null};var Ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},CE=class{#e=kE;#r=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},hm=new CE;function EE(t){setTimeout(t,0)}var dd=typeof window>"u"||"Deno"in globalThis;function dn(){}function TE(t,e){return typeof t=="function"?t(e):t}function PE(t){return typeof t=="number"&&t>=0&&t!==1/0}function AE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mm(t,e){return typeof t=="function"?t(e):t}function RE(t,e){return typeof t=="function"?t(e):t}function Rv(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(n){if(e.queryHash!==mp(c,e.options))return!1}else if(!ol(e.queryKey,c))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function Ov(t,e){const{exact:r,status:n,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(Ai(e.options.mutationKey)!==Ai(l))return!1}else if(!ol(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function mp(t,e){return(e?.queryKeyHashFn||Ai)(t)}function Ai(t){return JSON.stringify(t,(e,r)=>pm(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ol(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ol(t[r],e[r])):!1}var OE=Object.prototype.hasOwnProperty;function M0(t,e){if(t===e)return t;const r=Iv(t)&&Iv(e);if(!r&&!(pm(t)&&pm(e)))return e;const i=(r?t:Object.keys(t)).length,l=r?e:Object.keys(e),c=l.length,d=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const p=r?m:l[m],y=t[p],b=e[p];if(y===b){d[p]=y,(r?m<i:OE.call(t,p))&&h++;continue}if(y===null||b===null||typeof y!="object"||typeof b!="object"){d[p]=b;continue}const N=M0(y,b);d[p]=N,N===y&&h++}return i===c&&h===i?t:d}function IE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Iv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pm(t){if(!Lv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Lv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lv(t){return Object.prototype.toString.call(t)==="[object Object]"}function LE(t){return new Promise(e=>{hm.setTimeout(e,t)})}function DE(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?M0(t,e):e}function ME(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function FE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pp=Symbol();function F0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function VE(t,e){return typeof t=="function"?t(...e):!!t}var UE=class extends Ol{#e;#r;#t;constructor(){super(),this.#t=t=>{if(!dd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},V0=new UE;function $E(){let t,e;const r=new Promise((i,l)=>{t=i,e=l});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var BE=EE;function qE(){let t=[],e=0,r=d=>{d()},n=d=>{d()},i=BE;const l=d=>{e?t.push(d):i(()=>{r(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{i=d}}}var pr=qE(),zE=class extends Ol{#e=!0;#r;#t;constructor(){super(),this.#t=t=>{if(!dd&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Du=new zE;function WE(t){return Math.min(1e3*2**t,3e4)}function U0(t){return(t??"online")==="online"?Du.isOnline():!0}var gm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function $0(t){let e=!1,r=0,n;const i=$E(),l=()=>i.status!=="pending",c=j=>{if(!l()){const w=new gm(j);b(w),t.onCancel?.(w)}},d=()=>{e=!0},h=()=>{e=!1},m=()=>V0.isFocused()&&(t.networkMode==="always"||Du.isOnline())&&t.canRun(),p=()=>U0(t.networkMode)&&t.canRun(),y=j=>{l()||(n?.(),i.resolve(j))},b=j=>{l()||(n?.(),i.reject(j))},N=()=>new Promise(j=>{n=w=>{(l()||m())&&j(w)},t.onPause?.()}).then(()=>{n=void 0,l()||t.onContinue?.()}),_=()=>{if(l())return;let j;const w=r===0?t.initialPromise:void 0;try{j=w??t.fn()}catch(C){j=Promise.reject(C)}Promise.resolve(j).then(y).catch(C=>{if(l())return;const k=t.retry??(dd?0:3),E=t.retryDelay??WE,R=typeof E=="function"?E(r,C):E,L=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,C);if(e||!L){b(C);return}r++,t.onFail?.(r,C),LE(R).then(()=>m()?void 0:N()).then(()=>{e?b(C):_()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(n?.(),i),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?_():N().then(_),i)}}var B0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PE(this.gcTime)&&(this.#e=hm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(hm.clearTimeout(this.#e),this.#e=void 0)}},KE=class extends B0{#e;#r;#t;#s;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#t=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Dv(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Dv(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const r=DE(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>RE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!AE(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{const d=F0(this.options,e),m=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#r=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=$0({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof gm&&d.revert&&this.setState({...this.#r,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#t.config.onSuccess?.(d,this),this.#t.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof gm){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#t.config.onError?.(d,this),this.#t.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HE(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#r=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function HE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Mv(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let p=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=F0(e.options,e.fetchOptions),N=async(_,j,w)=>{if(p)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:j,direction:w?"backward":"forward",meta:e.options.meta};return y(F),F})(),E=await b(k),{maxPages:R}=e.options,L=w?FE:ME;return{pages:L(_.pages,E,R),pageParams:L(_.pageParams,j,R)}};if(i&&l.length){const _=i==="backward",j=_?GE:Fv,w={pages:l,pageParams:c},C=j(n,w);d=await N(w,C,_)}else{const _=t??l.length;do{const j=h===0?c[0]??n.initialPageParam:Fv(n,d);if(h>0&&j==null)break;d=await N(d,j),h++}while(h<_)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function Fv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function GE(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var QE=class extends B0{#e;#r;#t;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#r=[],this.state=t.state||q0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#r.includes(t)||(this.#r.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#r=this.#r.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#r.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=$0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",i=!this.#s.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:i}),await this.#t.config.onMutate?.(t,this,r);const c=await this.options.onMutate?.(t,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:t,isPaused:i})}const l=await this.#s.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this,r),await this.options.onSuccess?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,t,this.state.context,r),this.#n({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this,r),await this.options.onError?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,t,this.state.context,r),l}finally{this.#n({type:"error",error:l})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pr.batch(()=>{this.#r.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function q0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var JE=class extends Ol{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#r=new Map,this.#t=0}#e;#r;#t;build(t,e,r){const n=new QE({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=nu(t);if(typeof e=="string"){const r=this.#r.get(e);r?r.push(t):this.#r.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nu(t);if(typeof e=="string"){const r=this.#r.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#r.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nu(t);if(typeof e=="string"){const n=this.#r.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=nu(t);return typeof e=="string"?this.#r.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#r.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Ov(e,r))}findAll(t={}){return this.getAll().filter(e=>Ov(t,e))}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pr.batch(()=>Promise.all(t.map(e=>e.continue().catch(dn))))}};function nu(t){return t.options.scope?.id}var ZE=class extends Ol{#e;#r=void 0;#t;#s;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),IE(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ai(r.mutationKey)!==Ai(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#o(e)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#n(),this.#o()}mutate(e,r){return this.#s=r,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#n(){const e=this.#t?.state??q0();this.#r={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){pr.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#r.variables,n=this.#r.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,r,n,i),this.#s.onSettled?.(e.data,null,r,n,i)):e?.type==="error"&&(this.#s.onError?.(e.error,r,n,i),this.#s.onSettled?.(void 0,e.error,r,n,i))}this.listeners.forEach(r=>{r(this.#r)})})}},YE=class extends Ol{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??mp(n,e);let l=this.get(i);return l||(l=new KE({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Rv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Rv(t,r)):e}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},XE=class{#e;#r;#t;#s;#n;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new YE,this.#r=t.mutationCache||new JE,this.#t=t.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=V0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Du.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#r.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mm(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(n.queryHash)?.state.data,c=TE(e,l);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return pr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;pr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return pr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=pr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(dn).catch(dn)}invalidateQueries(t,e={}){return pr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=pr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,r);return r.throwOnError||(l=l.catch(dn)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(mm(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=Mv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=Mv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Du.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#r}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#s.set(Ai(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{ol(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(Ai(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{ol(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#r.clear()}},z0=v.createContext(void 0),eT=t=>{const e=v.useContext(z0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tT=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(z0.Provider,{value:t,children:e}));function W0(t,e){const r=eT(),[n]=v.useState(()=>new ZE(r,t));v.useEffect(()=>{n.setOptions(t)},[n,t]);const i=v.useSyncExternalStore(v.useCallback(c=>n.subscribe(pr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=v.useCallback((c,d)=>{n.mutate(c,d).catch(dn)},[n]);if(i.error&&VE(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}async function rT(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const nT=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e[0],{credentials:"include"});return await rT(r),await r.json()},sT=new XE({defaultOptions:{queries:{queryFn:nT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),iT=1,oT=1e6;let Sh=0;function aT(){return Sh=(Sh+1)%Number.MAX_SAFE_INTEGER,Sh.toString()}const _h=new Map,Vv=t=>{if(_h.has(t))return;const e=setTimeout(()=>{_h.delete(t),Ga({type:"REMOVE_TOAST",toastId:t})},oT);_h.set(t,e)},lT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,iT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Vv(r):t.toasts.forEach(n=>{Vv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},ku=[];let Cu={toasts:[]};function Ga(t){Cu=lT(Cu,t),ku.forEach(e=>{e(Cu)})}function cT({...t}){const e=aT(),r=i=>Ga({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Ga({type:"DISMISS_TOAST",toastId:e});return Ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function gp(){const[t,e]=v.useState(Cu);return v.useEffect(()=>(ku.push(e),()=>{const r=ku.indexOf(e);r>-1&&ku.splice(r,1)}),[t]),{...t,toast:cT,dismiss:r=>Ga({type:"DISMISS_TOAST",toastId:r})}}var yp=k0();const uT=up(yp);function Zt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Uv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function K0(...t){return e=>{let r=!1;const n=t.map(i=>{const l=Uv(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():Uv(t[i],null)}}}}function Yr(...t){return v.useCallback(K0(...t),t)}function dT(t,e){const r=v.createContext(e),n=l=>{const{children:c,...d}=l,h=v.useMemo(()=>d,Object.values(d));return o.jsx(r.Provider,{value:h,children:c})};n.displayName=t+"Provider";function i(l){const c=v.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,i]}function Qo(t,e=[]){let r=[];function n(l,c){const d=v.createContext(c),h=r.length;r=[...r,c];const m=y=>{const{scope:b,children:N,..._}=y,j=b?.[t]?.[h]||d,w=v.useMemo(()=>_,Object.values(_));return o.jsx(j.Provider,{value:w,children:N})};m.displayName=l+"Provider";function p(y,b){const N=b?.[t]?.[h]||d,_=v.useContext(N);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,p]}const i=()=>{const l=r.map(c=>v.createContext(c));return function(d){const h=d?.[t]||l;return v.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[n,fT(i,...e)]}function fT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((d,{useScope:h,scopeName:m})=>{const y=h(l)[`__scope${m}`];return{...d,...y}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function al(t){const e=hT(t),r=v.forwardRef((n,i)=>{const{children:l,...c}=n,d=v.Children.toArray(l),h=d.find(pT);if(h){const m=h.props.children,p=d.map(y=>y===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:y);return o.jsx(e,{...c,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return o.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var H0=al("Slot");function hT(t){const e=v.forwardRef((r,n)=>{const{children:i,...l}=r;if(v.isValidElement(i)){const c=yT(i),d=gT(l,i.props);return i.type!==v.Fragment&&(d.ref=n?K0(n,c):c),v.cloneElement(i,d)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mT=Symbol("radix.slottable");function pT(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mT}function gT(t,e){const r={...e};for(const n in e){const i=t[n],l=e[n];/^on[A-Z]/.test(n)?i&&l?r[n]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[n]=i):n==="style"?r[n]={...i,...l}:n==="className"&&(r[n]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function yT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function G0(t){const e=t+"CollectionProvider",[r,n]=Qo(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:w,children:C}=j,k=Fe.useRef(null),E=Fe.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:E,collectionRef:k,children:C})};c.displayName=e;const d=t+"CollectionSlot",h=al(d),m=Fe.forwardRef((j,w)=>{const{scope:C,children:k}=j,E=l(d,C),R=Yr(w,E.collectionRef);return o.jsx(h,{ref:R,children:k})});m.displayName=d;const p=t+"CollectionItemSlot",y="data-radix-collection-item",b=al(p),N=Fe.forwardRef((j,w)=>{const{scope:C,children:k,...E}=j,R=Fe.useRef(null),L=Yr(w,R),F=l(p,C);return Fe.useEffect(()=>(F.itemMap.set(R,{ref:R,...E}),()=>void F.itemMap.delete(R))),o.jsx(b,{[y]:"",ref:L,children:k})});N.displayName=p;function _(j){const w=l(t+"CollectionConsumer",j);return Fe.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const E=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(w.itemMap.values()).sort((F,K)=>E.indexOf(F.ref.current)-E.indexOf(K.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:N},_,n]}var xT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=xT.reduce((t,e)=>{const r=al(`Primitive.${e}`),n=v.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Q0(t,e){t&&yp.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>e.current?.(...r),[])}function vT(t,e=globalThis?.document){const r=qn(t);v.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var bT="DismissableLayer",ym="dismissableLayer.update",wT="dismissableLayer.pointerDownOutside",jT="dismissableLayer.focusOutside",$v,J0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xp=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,m=v.useContext(J0),[p,y]=v.useState(null),b=p?.ownerDocument??globalThis?.document,[,N]=v.useState({}),_=Yr(e,K=>y(K)),j=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(w),k=p?j.indexOf(p):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,R=k>=C,L=ST(K=>{const Z=K.target,O=[...m.branches].some(G=>G.contains(Z));!R||O||(i?.(K),c?.(K),K.defaultPrevented||d?.())},b),F=_T(K=>{const Z=K.target;[...m.branches].some(G=>G.contains(Z))||(l?.(K),c?.(K),K.defaultPrevented||d?.())},b);return vT(K=>{k===m.layers.size-1&&(n?.(K),!K.defaultPrevented&&d&&(K.preventDefault(),d()))},b),v.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($v=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Bv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=$v)}},[p,b,r,m]),v.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Bv())},[p,m]),v.useEffect(()=>{const K=()=>N({});return document.addEventListener(ym,K),()=>document.removeEventListener(ym,K)},[]),o.jsx(Ct.div,{...h,ref:_,style:{pointerEvents:E?R?"auto":"none":void 0,...t.style},onFocusCapture:Zt(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Zt(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Zt(t.onPointerDownCapture,L.onPointerDownCapture)})});xp.displayName=bT;var NT="DismissableLayerBranch",Z0=v.forwardRef((t,e)=>{const r=v.useContext(J0),n=v.useRef(null),i=Yr(e,n);return v.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),o.jsx(Ct.div,{...t,ref:i})});Z0.displayName=NT;function ST(t,e=globalThis?.document){const r=qn(t),n=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let h=function(){Y0(wT,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function _T(t,e=globalThis?.document){const r=qn(t),n=v.useRef(!1);return v.useEffect(()=>{const i=l=>{l.target&&!n.current&&Y0(jT,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bv(){const t=new CustomEvent(ym);document.dispatchEvent(t)}function Y0(t,e,r,{discrete:n}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Q0(i,l):i.dispatchEvent(l)}var kT=xp,CT=Z0,zn=globalThis?.document?v.useLayoutEffect:()=>{},ET="Portal",vp=v.forwardRef((t,e)=>{const{container:r,...n}=t,[i,l]=v.useState(!1);zn(()=>l(!0),[]);const c=r||i&&globalThis?.document?.body;return c?uT.createPortal(o.jsx(Ct.div,{...n,ref:e}),c):null});vp.displayName=ET;function TT(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var Jo=t=>{const{present:e,children:r}=t,n=PT(e),i=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),l=Yr(n.ref,AT(i));return typeof r=="function"||n.isPresent?v.cloneElement(i,{ref:l}):null};Jo.displayName="Presence";function PT(t){const[e,r]=v.useState(),n=v.useRef(null),i=v.useRef(t),l=v.useRef("none"),c=t?"mounted":"unmounted",[d,h]=TT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=su(n.current);l.current=d==="mounted"?m:"none"},[d]),zn(()=>{const m=n.current,p=i.current;if(p!==t){const b=l.current,N=su(m);t?h("MOUNT"):N==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&b!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),zn(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,y=N=>{const j=su(n.current).includes(CSS.escape(N.animationName));if(N.target===e&&j&&(h("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},b=N=>{N.target===e&&(l.current=su(n.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function su(t){return t?.animationName||"none"}function AT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var RT=dp[" useInsertionEffect ".trim().toString()]||zn;function Il({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,l,c]=OT({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:i;{const p=v.useRef(t!==void 0);v.useEffect(()=>{const y=p.current;y!==d&&console.warn(`${n} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const m=v.useCallback(p=>{if(d){const y=IT(p)?p(t):p;y!==t&&c.current?.(y)}else l(p)},[d,t,l,c]);return[h,m]}function OT({defaultProp:t,onChange:e}){const[r,n]=v.useState(t),i=v.useRef(r),l=v.useRef(e);return RT(()=>{l.current=e},[e]),v.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,n,l]}function IT(t){return typeof t=="function"}var LT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DT="VisuallyHidden",bp=v.forwardRef((t,e)=>o.jsx(Ct.span,{...t,ref:e,style:{...LT,...t.style}}));bp.displayName=DT;var wp="ToastProvider",[jp,MT,FT]=G0("Toast"),[X0]=Qo("Toast",[FT]),[VT,fd]=X0(wp),ej=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=t,[d,h]=v.useState(null),[m,p]=v.useState(0),y=v.useRef(!1),b=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wp}\`. Expected non-empty \`string\`.`),o.jsx(jp.Provider,{scope:e,children:o.jsx(VT,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:v.useCallback(()=>p(N=>N+1),[]),onToastRemove:v.useCallback(()=>p(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:b,children:c})})};ej.displayName=wp;var tj="ToastViewport",UT=["F8"],xm="toast.viewportPause",vm="toast.viewportResume",rj=v.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=UT,label:i="Notifications ({hotkey})",...l}=t,c=fd(tj,r),d=MT(r),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),y=v.useRef(null),b=Yr(e,y,c.onViewportChange),N=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=c.toastCount>0;v.useEffect(()=>{const w=C=>{n.length!==0&&n.every(E=>C[E]||C.code===E)&&y.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),v.useEffect(()=>{const w=h.current,C=y.current;if(_&&w&&C){const k=()=>{if(!c.isClosePausedRef.current){const F=new CustomEvent(xm);C.dispatchEvent(F),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const F=new CustomEvent(vm);C.dispatchEvent(F),c.isClosePausedRef.current=!1}},R=F=>{!w.contains(F.relatedTarget)&&E()},L=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",k),w.addEventListener("focusout",R),w.addEventListener("pointermove",k),w.addEventListener("pointerleave",L),window.addEventListener("blur",k),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",k),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",k),w.removeEventListener("pointerleave",L),window.removeEventListener("blur",k),window.removeEventListener("focus",E)}}},[_,c.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:w})=>{const k=d().map(E=>{const R=E.ref.current,L=[R,...XT(R)];return w==="forwards"?L:L.reverse()});return(w==="forwards"?k.reverse():k).flat()},[d]);return v.useEffect(()=>{const w=y.current;if(w){const C=k=>{const E=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!E){const L=document.activeElement,F=k.shiftKey;if(k.target===w&&F){m.current?.focus();return}const O=j({tabbingDirection:F?"backwards":"forwards"}),G=O.findIndex(ne=>ne===L);kh(O.slice(G+1))?k.preventDefault():F?m.current?.focus():p.current?.focus()}};return w.addEventListener("keydown",C),()=>w.removeEventListener("keydown",C)}},[d,j]),o.jsxs(CT,{ref:h,role:"region","aria-label":i.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&o.jsx(bm,{ref:m,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"forwards"});kh(w)}}),o.jsx(jp.Slot,{scope:r,children:o.jsx(Ct.ol,{tabIndex:-1,...l,ref:b})}),_&&o.jsx(bm,{ref:p,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"backwards"});kh(w)}})]})});rj.displayName=tj;var nj="ToastFocusProxy",bm=v.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,l=fd(nj,r);return o.jsx(bp,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&n()}})});bm.displayName=nj;var Ll="Toast",$T="toast.swipeStart",BT="toast.swipeMove",qT="toast.swipeCancel",zT="toast.swipeEnd",sj=v.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:l,...c}=t,[d,h]=Il({prop:n,defaultProp:i??!0,onChange:l,caller:Ll});return o.jsx(Jo,{present:r||d,children:o.jsx(HT,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:Zt(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Zt(t.onSwipeMove,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Zt(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Zt(t.onSwipeEnd,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});sj.displayName=Ll;var[WT,KT]=X0(Ll,{onClose(){}}),HT=v.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:y,onSwipeCancel:b,onSwipeEnd:N,..._}=t,j=fd(Ll,r),[w,C]=v.useState(null),k=Yr(e,ee=>C(ee)),E=v.useRef(null),R=v.useRef(null),L=i||j.duration,F=v.useRef(0),K=v.useRef(L),Z=v.useRef(0),{onToastAdd:O,onToastRemove:G}=j,ne=qn(()=>{w?.contains(document.activeElement)&&j.viewport?.focus(),c()}),H=v.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(Z.current),F.current=new Date().getTime(),Z.current=window.setTimeout(ne,ee))},[ne]);v.useEffect(()=>{const ee=j.viewport;if(ee){const ke=()=>{H(K.current),m?.()},Ce=()=>{const re=new Date().getTime()-F.current;K.current=K.current-re,window.clearTimeout(Z.current),h?.()};return ee.addEventListener(xm,Ce),ee.addEventListener(vm,ke),()=>{ee.removeEventListener(xm,Ce),ee.removeEventListener(vm,ke)}}},[j.viewport,L,h,m,H]),v.useEffect(()=>{l&&!j.isClosePausedRef.current&&H(L)},[l,L,j.isClosePausedRef,H]),v.useEffect(()=>(O(),()=>G()),[O,G]);const te=v.useMemo(()=>w?dj(w):null,[w]);return j.viewport?o.jsxs(o.Fragment,{children:[te&&o.jsx(GT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:te}),o.jsx(WT,{scope:r,onClose:ne,children:yp.createPortal(o.jsx(jp.ItemSlot,{scope:r,children:o.jsx(kT,{asChild:!0,onEscapeKeyDown:Zt(d,()=>{j.isFocusedToastEscapeKeyDownRef.current||ne(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ct.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,..._,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Zt(t.onKeyDown,ee=>{ee.key==="Escape"&&(d?.(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,ne()))}),onPointerDown:Zt(t.onPointerDown,ee=>{ee.button===0&&(E.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Zt(t.onPointerMove,ee=>{if(!E.current)return;const ke=ee.clientX-E.current.x,Ce=ee.clientY-E.current.y,re=!!R.current,Y=["left","right"].includes(j.swipeDirection),me=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ce=Y?me(0,ke):0,A=Y?0:me(0,Ce),X=ee.pointerType==="touch"?10:2,Ie={x:ce,y:A},Ve={originalEvent:ee,delta:Ie};re?(R.current=Ie,iu(BT,y,Ve,{discrete:!1})):qv(Ie,j.swipeDirection,X)?(R.current=Ie,iu($T,p,Ve,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(ke)>X||Math.abs(Ce)>X)&&(E.current=null)}),onPointerUp:Zt(t.onPointerUp,ee=>{const ke=R.current,Ce=ee.target;if(Ce.hasPointerCapture(ee.pointerId)&&Ce.releasePointerCapture(ee.pointerId),R.current=null,E.current=null,ke){const re=ee.currentTarget,Y={originalEvent:ee,delta:ke};qv(ke,j.swipeDirection,j.swipeThreshold)?iu(zT,N,Y,{discrete:!0}):iu(qT,b,Y,{discrete:!0}),re.addEventListener("click",me=>me.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),GT=t=>{const{__scopeToast:e,children:r,...n}=t,i=fd(Ll,e),[l,c]=v.useState(!1),[d,h]=v.useState(!1);return ZT(()=>c(!0)),v.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:o.jsx(vp,{asChild:!0,children:o.jsx(bp,{...n,children:l&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},QT="ToastTitle",ij=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Ct.div,{...n,ref:e})});ij.displayName=QT;var JT="ToastDescription",oj=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Ct.div,{...n,ref:e})});oj.displayName=JT;var aj="ToastAction",lj=v.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(uj,{altText:r,asChild:!0,children:o.jsx(Np,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${aj}\`. Expected non-empty \`string\`.`),null)});lj.displayName=aj;var cj="ToastClose",Np=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=KT(cj,r);return o.jsx(uj,{asChild:!0,children:o.jsx(Ct.button,{type:"button",...n,ref:e,onClick:Zt(t.onClick,i.onClose)})})});Np.displayName=cj;var uj=v.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return o.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function dj(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),YT(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...dj(n))}}),e}function iu(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Q0(i,l):i.dispatchEvent(l)}var qv=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),l=n>i;return e==="left"||e==="right"?l&&n>r:!l&&i>r};function ZT(t=()=>{}){const e=qn(t);zn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function YT(t){return t.nodeType===t.ELEMENT_NODE}function XT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kh(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var e2=ej,fj=rj,hj=sj,mj=ij,pj=oj,gj=lj,yj=Np;function xj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=xj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vj(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=xj(t))&&(n&&(n+=" "),n+=e);return n}const zv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wv=vj,Sp=(t,e)=>r=>{var n;if(e?.variants==null)return Wv(t,r?.class,r?.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(m=>{const p=r?.[m],y=l?.[m];if(p===null)return null;const b=zv(p)||zv(y);return i[m][b]}),d=r&&Object.entries(r).reduce((m,p)=>{let[y,b]=p;return b===void 0||(m[y]=b),m},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,p)=>{let{class:y,className:b,...N}=p;return Object.entries(N).every(_=>{let[j,w]=_;return Array.isArray(w)?w.includes({...l,...d}[j]):{...l,...d}[j]===w})?[...m,y,b]:m},[]);return Wv(t,c,h,r?.class,r?.className)};const t2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bj=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var r2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n2=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...d},h)=>v.createElement("svg",{ref:h,...r2,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:bj("lucide",i),...d},[...c.map(([m,p])=>v.createElement(m,p)),...Array.isArray(l)?l:[l]]));const Xe=(t,e)=>{const r=v.forwardRef(({className:n,...i},l)=>v.createElement(n2,{ref:l,iconNode:e,className:bj(`lucide-${t2(t)}`,n),...i}));return r.displayName=`${t}`,r};const s2=Xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const i2=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Kv=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Ch=Xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const o2=Xe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const a2=Xe("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const l2=Xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const c2=Xe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const u2=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const d2=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const f2=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const wj=Xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const hd=Xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const h2=Xe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const m2=Xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const p2=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const g2=Xe("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const y2=Xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const x2=Xe("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const v2=Xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const b2=Xe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const w2=Xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const jj=Xe("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);const Nj=Xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const _p=Xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const wm=Xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const j2=Xe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const kp=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ws=Xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const N2=Xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Sj=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const S2=Xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const _2=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Mu=Xe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Tn=Xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Cp=Xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const k2=Xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const C2=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ep=Xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const E2=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const _j=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const T2=Xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const zs=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const P2=Xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tp="-",A2=t=>{const e=O2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const d=c.split(Tp);return d[0]===""&&d.length!==1&&d.shift(),kj(d,e)||R2(c)},getConflictingClassGroupIds:(c,d)=>{const h=r[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},kj=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?kj(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(Tp);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Hv=/^\[(.+)\]$/,R2=t=>{if(Hv.test(t)){const e=Hv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},O2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return L2(Object.entries(t.classGroups),r).forEach(([l,c])=>{jm(c,n,l,e)}),n},jm=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Gv(e,i);l.classGroupId=r;return}if(typeof i=="function"){if(I2(i)){jm(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,c])=>{jm(c,Gv(e,l),r,n)})})},Gv=(t,e)=>{let r=t;return e.split(Tp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},I2=t=>t.isThemeGetter,L2=(t,e)=>e?t.map(([r,n])=>{const i=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[r,i]}):t,D2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){r.has(l)?r.set(l,c):i(l,c)}}},Cj="!",M2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],l=e.length,c=d=>{const h=[];let m=0,p=0,y;for(let w=0;w<d.length;w++){let C=d[w];if(m===0){if(C===i&&(n||d.slice(w,w+l)===e)){h.push(d.slice(p,w)),p=w+l;continue}if(C==="/"){y=w;continue}}C==="["?m++:C==="]"&&m--}const b=h.length===0?d:d.substring(p),N=b.startsWith(Cj),_=N?b.substring(1):b,j=y&&y>p?y-p:void 0;return{modifiers:h,hasImportantModifier:N,baseClassName:_,maybePostfixModifierPosition:j}};return r?d=>r({className:d,parseClassName:c}):c},F2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},V2=t=>({cache:D2(t.cacheSize),parseClassName:M2(t),...A2(t)}),U2=/\s+/,$2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,l=[],c=t.trim().split(U2);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{modifiers:p,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:N}=r(m);let _=!!N,j=n(_?b.substring(0,N):b);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(b),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const w=F2(p).join(":"),C=y?w+Cj:w,k=C+j;if(l.includes(k))continue;l.push(k);const E=i(j,_);for(let R=0;R<E.length;++R){const L=E[R];l.push(C+L)}d=m+(d.length>0?" "+d:d)}return d};function B2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ej(e))&&(n&&(n+=" "),n+=r);return n}const Ej=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Ej(t[n]))&&(r&&(r+=" "),r+=e);return r};function q2(t,...e){let r,n,i,l=c;function c(h){const m=e.reduce((p,y)=>y(p),t());return r=V2(m),n=r.cache.get,i=r.cache.set,l=d,d(h)}function d(h){const m=n(h);if(m)return m;const p=$2(h,r);return i(h,p),p}return function(){return l(B2.apply(null,arguments))}}const _t=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Tj=/^\[(?:([a-z-]+):)?(.+)\]$/i,z2=/^\d+\/\d+$/,W2=new Set(["px","full","screen"]),K2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=t=>Ao(t)||W2.has(t)||z2.test(t),Fs=t=>Zo(t,"length",sP),Ao=t=>!!t&&!Number.isNaN(Number(t)),Eh=t=>Zo(t,"number",Ao),Va=t=>!!t&&Number.isInteger(Number(t)),Z2=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),rt=t=>Tj.test(t),Vs=t=>K2.test(t),Y2=new Set(["length","size","percentage"]),X2=t=>Zo(t,Y2,Pj),eP=t=>Zo(t,"position",Pj),tP=new Set(["image","url"]),rP=t=>Zo(t,tP,oP),nP=t=>Zo(t,"",iP),Ua=()=>!0,Zo=(t,e,r)=>{const n=Tj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},sP=t=>H2.test(t)&&!G2.test(t),Pj=()=>!1,iP=t=>Q2.test(t),oP=t=>J2.test(t),aP=()=>{const t=_t("colors"),e=_t("spacing"),r=_t("blur"),n=_t("brightness"),i=_t("borderColor"),l=_t("borderRadius"),c=_t("borderSpacing"),d=_t("borderWidth"),h=_t("contrast"),m=_t("grayscale"),p=_t("hueRotate"),y=_t("invert"),b=_t("gap"),N=_t("gradientColorStops"),_=_t("gradientColorStopPositions"),j=_t("inset"),w=_t("margin"),C=_t("opacity"),k=_t("padding"),E=_t("saturate"),R=_t("scale"),L=_t("sepia"),F=_t("skew"),K=_t("space"),Z=_t("translate"),O=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",rt,e],H=()=>[rt,e],te=()=>["",ns,Fs],ee=()=>["auto",Ao,rt],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",rt],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Ao,rt];return{cacheSize:500,separator:":",theme:{colors:[Ua],spacing:[ns,Fs],blur:["none","",Vs,rt],brightness:A(),borderColor:[t],borderRadius:["none","","full",Vs,rt],borderSpacing:H(),borderWidth:te(),contrast:A(),grayscale:me(),hueRotate:A(),invert:me(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[Z2,Fs],inset:ne(),margin:ne(),opacity:A(),padding:H(),saturate:A(),scale:A(),sepia:me(),skew:A(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),rt]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Va,rt]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Va,rt]}],"grid-cols":[{"grid-cols":[Ua]}],"col-start-end":[{col:["auto",{span:["full",Va,rt]},rt]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Ua]}],"row-start-end":[{row:["auto",{span:[Va,rt]},rt]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eh]}],"font-family":[{font:[Ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Ao,Eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ns,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ns,Fs]}],"underline-offset":[{"underline-offset":["auto",ns,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),eP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",X2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[ns,rt]}],"outline-w":[{outline:[ns,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[ns,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vs,nP]}],"shadow-color":[{shadow:[Ua]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Vs,rt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[y]}],saturate:[{saturate:[E]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Va,rt]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ns,Fs,Eh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lP=q2(aP);function pt(...t){return lP(vj(t))}const cP=e2,Aj=v.forwardRef(({className:t,...e},r)=>o.jsx(fj,{ref:r,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Aj.displayName=fj.displayName;const uP=Sp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Rj=v.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(hj,{ref:n,className:pt(uP({variant:e}),t),...r}));Rj.displayName=hj.displayName;const dP=v.forwardRef(({className:t,...e},r)=>o.jsx(gj,{ref:r,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dP.displayName=gj.displayName;const Oj=v.forwardRef(({className:t,...e},r)=>o.jsx(yj,{ref:r,className:pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(zs,{className:"h-4 w-4"})}));Oj.displayName=yj.displayName;const Ij=v.forwardRef(({className:t,...e},r)=>o.jsx(mj,{ref:r,className:pt("text-sm font-semibold",t),...e}));Ij.displayName=mj.displayName;const Lj=v.forwardRef(({className:t,...e},r)=>o.jsx(pj,{ref:r,className:pt("text-sm opacity-90",t),...e}));Lj.displayName=pj.displayName;function fP(){const{toasts:t}=gp();return o.jsxs(cP,{children:[t.map(function({id:e,title:r,description:n,action:i,...l}){return o.jsxs(Rj,{...l,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Ij,{children:r}),n&&o.jsx(Lj,{children:n})]}),i,o.jsx(Oj,{})]},e)}),o.jsx(Aj,{})]})}const Pp=v.createContext({});function Ap(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const md=v.createContext(null),Rp=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class hP extends v.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mP({children:t,isPresent:e}){const r=v.useId(),n=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=v.useContext(Rp);return v.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m}=i.current;if(e||!n.current||!c||!d)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return l&&(p.nonce=l),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),o.jsx(hP,{isPresent:e,childRef:n,sizeRef:i,children:v.cloneElement(t,{ref:n})})}const pP=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:l,mode:c})=>{const d=Ap(gP),h=v.useId(),m=v.useCallback(y=>{d.set(y,!0);for(const b of d.values())if(!b)return;n&&n()},[d,n]),p=v.useMemo(()=>({id:h,initial:e,isPresent:r,custom:i,onExitComplete:m,register:y=>(d.set(y,!1),()=>d.delete(y))}),l?[Math.random(),m]:[r,m]);return v.useMemo(()=>{d.forEach((y,b)=>d.set(b,!1))},[r]),v.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),c==="popLayout"&&(t=o.jsx(mP,{isPresent:r,children:t})),o.jsx(md.Provider,{value:p,children:t})};function gP(){return new Map}function Dj(t=!0){const e=v.useContext(md);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,l=v.useId();v.useEffect(()=>{t&&i(l)},[t]);const c=v.useCallback(()=>t&&n&&n(l),[l,n,t]);return!r&&n?[!1,c]:[!0]}const ou=t=>t.key||"";function Qv(t){const e=[];return v.Children.forEach(t,r=>{v.isValidElement(r)&&e.push(r)}),e}const Op=typeof window<"u",Mj=Op?v.useLayoutEffect:v.useEffect,yP=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:l="sync",propagate:c=!1})=>{const[d,h]=Dj(c),m=v.useMemo(()=>Qv(t),[t]),p=c&&!d?[]:m.map(ou),y=v.useRef(!0),b=v.useRef(m),N=Ap(()=>new Map),[_,j]=v.useState(m),[w,C]=v.useState(m);Mj(()=>{y.current=!1,b.current=m;for(let R=0;R<w.length;R++){const L=ou(w[R]);p.includes(L)?N.delete(L):N.get(L)!==!0&&N.set(L,!1)}},[w,p.length,p.join("-")]);const k=[];if(m!==_){let R=[...m];for(let L=0;L<w.length;L++){const F=w[L],K=ou(F);p.includes(K)||(R.splice(L,0,F),k.push(F))}l==="wait"&&k.length&&(R=k),C(Qv(R)),j(m);return}const{forceRender:E}=v.useContext(Pp);return o.jsx(o.Fragment,{children:w.map(R=>{const L=ou(R),F=c&&!d?!1:m===w||p.includes(L),K=()=>{if(N.has(L))N.set(L,!0);else return;let Z=!0;N.forEach(O=>{O||(Z=!1)}),Z&&(E?.(),C(b.current),c&&h?.(),n&&n())};return o.jsx(pP,{isPresent:F,initial:!y.current||r?void 0:!1,custom:F?void 0:e,presenceAffectsLayout:i,mode:l,onExitComplete:F?void 0:K,children:R},L)})})},Jr=t=>t;let Fj=Jr;function Ip(t){let e;return()=>(e===void 0&&(e=t()),e)}const $o=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},cs=t=>t*1e3,us=t=>t/1e3,xP={useManualTiming:!1};function vP(t){let e=new Set,r=new Set,n=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,p=!1,y=!1)=>{const N=y&&n?e:r;return p&&l.add(m),N.has(m)||N.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(d),e.clear(),n=!1,i&&(i=!1,h.process(m))}};return h}const au=["read","resolveKeyframes","update","preRender","render","postRender"],bP=40;function Vj(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=au.reduce((C,k)=>(C[k]=vP(l),C),{}),{read:d,resolveKeyframes:h,update:m,preRender:p,render:y,postRender:b}=c,N=()=>{const C=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(C-i.timestamp,bP),1),i.timestamp=C,i.isProcessing=!0,d.process(i),h.process(i),m.process(i),p.process(i),y.process(i),b.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(N))},_=()=>{r=!0,n=!0,i.isProcessing||t(N)};return{schedule:au.reduce((C,k)=>{const E=c[k];return C[k]=(R,L=!1,F=!1)=>(r||_(),E.schedule(R,L,F)),C},{}),cancel:C=>{for(let k=0;k<au.length;k++)c[au[k]].cancel(C)},state:i,steps:c}}const{schedule:kt,cancel:Ks,state:mr,steps:Th}=Vj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jr,!0),Uj=v.createContext({strict:!1}),Jv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in Jv)Bo[t]={isEnabled:e=>Jv[t].some(r=>!!e[r])};function wP(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const jP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jP.has(t)}let $j=t=>!Fu(t);function NP(t){t&&($j=e=>e.startsWith("on")?!Fu(e):t(e))}try{NP(require("@emotion/is-prop-valid").default)}catch{}function SP(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||($j(i)||r===!0&&Fu(i)||!e&&!Fu(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function _P(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const pd=v.createContext({});function ll(t){return typeof t=="string"||Array.isArray(t)}function gd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Lp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dp=["initial",...Lp];function yd(t){return gd(t.animate)||Dp.some(e=>ll(t[e]))}function Bj(t){return!!(yd(t)||t.variants)}function kP(t,e){if(yd(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ll(r)?r:void 0,animate:ll(n)?n:void 0}}return t.inherit!==!1?e:{}}function CP(t){const{initial:e,animate:r}=kP(t,v.useContext(pd));return v.useMemo(()=>({initial:e,animate:r}),[Zv(e),Zv(r)])}function Zv(t){return Array.isArray(t)?t.join(" "):t}const EP=Symbol.for("motionComponentSymbol");function _o(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TP(t,e,r){return v.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):_o(r)&&(r.current=n))},[e])}const Mp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PP="framerAppearId",qj="data-"+Mp(PP),{schedule:Fp}=Vj(queueMicrotask,!1),zj=v.createContext({});function AP(t,e,r,n,i){var l,c;const{visualElement:d}=v.useContext(pd),h=v.useContext(Uj),m=v.useContext(md),p=v.useContext(Rp).reducedMotion,y=v.useRef(null);n=n||h.renderer,!y.current&&n&&(y.current=n(t,{visualState:e,parent:d,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const b=y.current,N=v.useContext(zj);b&&!b.projection&&i&&(b.type==="html"||b.type==="svg")&&RP(y.current,r,i,N);const _=v.useRef(!1);v.useInsertionEffect(()=>{b&&_.current&&b.update(r,m)});const j=r[qj],w=v.useRef(!!j&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,j))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,j)));return Mj(()=>{b&&(_.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Fp.render(b.render),w.current&&b.animationState&&b.animationState.animateChanges())}),v.useEffect(()=>{b&&(!w.current&&b.animationState&&b.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,j)}),w.current=!1))}),b}function RP(t,e,r,n){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Wj(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&_o(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,layoutScroll:h,layoutRoot:m})}function Wj(t){if(t)return t.options.allowProjection!==!1?t.projection:Wj(t.parent)}function OP({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var l,c;t&&wP(t);function d(m,p){let y;const b={...v.useContext(Rp),...m,layoutId:IP(m)},{isStatic:N}=b,_=CP(m),j=n(m,N);if(!N&&Op){LP();const w=DP(b);y=w.MeasureLayout,_.visualElement=AP(i,j,b,e,w.ProjectionNode)}return o.jsxs(pd.Provider,{value:_,children:[y&&_.visualElement?o.jsx(y,{visualElement:_.visualElement,...b}):null,r(i,m,TP(j,_.visualElement,p),j,N,_.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const h=v.forwardRef(d);return h[EP]=i,h}function IP({layoutId:t}){const e=v.useContext(Pp).id;return e&&t!==void 0?e+"-"+t:t}function LP(t,e){v.useContext(Uj).strict}function DP(t){const{drag:e,layout:r}=Bo;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const MP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(t){return typeof t!="string"||t.includes("-")?!1:!!(MP.indexOf(t)>-1||/[A-Z]/u.test(t))}function Yv(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Up(t,e,r,n){if(typeof e=="function"){const[i,l]=Yv(n);e=e(r!==void 0?r:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=Yv(n);e=e(r!==void 0?r:t.custom,i,l)}return e}const Nm=t=>Array.isArray(t),FP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),VP=t=>Nm(t)?t[t.length-1]||0:t,Nr=t=>!!(t&&t.getVelocity);function Eu(t){const e=Nr(t)?t.get():t;return FP(e)?e.toValue():e}function UP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,l){const c={latestValues:$P(n,i,l,t),renderState:e()};return r&&(c.onMount=d=>r({props:n,current:d,...c}),c.onUpdate=d=>r(d)),c}const Kj=t=>(e,r)=>{const n=v.useContext(pd),i=v.useContext(md),l=()=>UP(t,e,n,i);return r?l():Ap(l)};function $P(t,e,r,n){const i={},l=n(t,{});for(const b in l)i[b]=Eu(l[b]);let{initial:c,animate:d}=t;const h=yd(t),m=Bj(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const y=p?d:c;if(y&&typeof y!="boolean"&&!gd(y)){const b=Array.isArray(y)?y:[y];for(let N=0;N<b.length;N++){const _=Up(t,b[N]);if(_){const{transitionEnd:j,transition:w,...C}=_;for(const k in C){let E=C[k];if(Array.isArray(E)){const R=p?E.length-1:0;E=E[R]}E!==null&&(i[k]=E)}for(const k in j)i[k]=j[k]}}}return i}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Di=new Set(Yo),Hj=t=>e=>typeof e=="string"&&e.startsWith(t),Gj=Hj("--"),BP=Hj("var(--"),$p=t=>BP(t)?qP.test(t.split("/*")[0].trim()):!1,qP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ds=(t,e,r)=>r>e?e:r<t?t:r,Xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...Xo,transform:t=>ds(0,1,t)},lu={...Xo,default:1},Dl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Dl("deg"),Un=Dl("%"),ze=Dl("px"),zP=Dl("vh"),WP=Dl("vw"),Xv={...Un,parse:t=>Un.parse(t)/100,transform:t=>Un.transform(t*100)},KP={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},HP={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:lu,scaleX:lu,scaleY:lu,scaleZ:lu,skew:$s,skewX:$s,skewY:$s,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:cl,originX:Xv,originY:Xv,originZ:ze},eb={...Xo,transform:Math.round},Bp={...KP,...HP,zIndex:eb,size:ze,fillOpacity:cl,strokeOpacity:cl,numOctaves:eb},GP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QP=Yo.length;function JP(t,e,r){let n="",i=!0;for(let l=0;l<QP;l++){const c=Yo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const m=Qj(d,Bp[c]);if(!h){i=!1;const p=GP[c]||c;n+=`${p}(${m}) `}r&&(e[c]=m)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function qp(t,e,r){const{style:n,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(Di.has(h)){c=!0;continue}else if(Gj(h)){i[h]=m;continue}else{const p=Qj(m,Bp[h]);h.startsWith("origin")?(d=!0,l[h]=p):n[h]=p}}if(e.transform||(c||r?n.transform=JP(e,t.transform,r):n.transform&&(n.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;n.transformOrigin=`${h} ${m} ${p}`}}const ZP={offset:"stroke-dashoffset",array:"stroke-dasharray"},YP={offset:"strokeDashoffset",array:"strokeDasharray"};function XP(t,e,r=1,n=0,i=!0){t.pathLength=1;const l=i?ZP:YP;t[l.offset]=ze.transform(-n);const c=ze.transform(e),d=ze.transform(r);t[l.array]=`${c} ${d}`}function tb(t,e,r){return typeof t=="string"?t:ze.transform(e+r*t)}function eA(t,e,r){const n=tb(e,t.x,t.width),i=tb(r,t.y,t.height);return`${n} ${i}`}function zp(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...m},p,y){if(qp(t,m,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:N,dimensions:_}=t;b.transform&&(_&&(N.transform=b.transform),delete b.transform),_&&(i!==void 0||l!==void 0||N.transform)&&(N.transformOrigin=eA(_,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),r!==void 0&&(b.y=r),n!==void 0&&(b.scale=n),c!==void 0&&XP(b,c,d,h,!1)}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Jj=()=>({...Wp(),attrs:{}}),Kp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zj(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const l in r)t.style.setProperty(l,r[l])}const Yj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xj(t,e,r,n){Zj(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Yj.has(i)?i:Mp(i),e.attrs[i])}const Vu={};function tA(t){Object.assign(Vu,t)}function eN(t,{layout:e,layoutId:r}){return Di.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Vu[t]||t==="opacity")}function Hp(t,e,r){var n;const{style:i}=t,l={};for(const c in i)(Nr(i[c])||e.style&&Nr(e.style[c])||eN(c,t)||((n=r?.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function tN(t,e,r){const n=Hp(t,e,r);for(const i in t)if(Nr(t[i])||Nr(e[i])){const l=Yo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[l]=t[i]}return n}function rA(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const rb=["x","y","width","height","cx","cy","r"],nA={useVisualState:Kj({scrapeMotionValuesFromProps:tN,createRenderState:Jj,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let l=!!t.drag;if(!l){for(const d in i)if(Di.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<rb.length;d++){const h=rb[d];t[h]!==e[h]&&(c=!0)}c&&kt.read(()=>{rA(r,n),kt.render(()=>{zp(n,i,Kp(r.tagName),t.transformTemplate),Xj(r,n)})})}})},sA={useVisualState:Kj({scrapeMotionValuesFromProps:Hp,createRenderState:Wp})};function rN(t,e,r){for(const n in e)!Nr(e[n])&&!eN(n,r)&&(t[n]=e[n])}function iA({transformTemplate:t},e){return v.useMemo(()=>{const r=Wp();return qp(r,e,t),Object.assign({},r.vars,r.style)},[e])}function oA(t,e){const r=t.style||{},n={};return rN(n,r,t),Object.assign(n,iA(t,e)),n}function aA(t,e){const r={},n=oA(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function lA(t,e,r,n){const i=v.useMemo(()=>{const l=Jj();return zp(l,e,Kp(n),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};rN(l,t.style,t),i.style={...l,...i.style}}return i}function cA(t=!1){return(r,n,i,{latestValues:l},c)=>{const h=(Vp(r)?lA:aA)(n,l,c,r),m=SP(n,typeof r=="string",t),p=r!==v.Fragment?{...m,...h,ref:i}:{},{children:y}=n,b=v.useMemo(()=>Nr(y)?y.get():y,[y]);return v.createElement(r,{...p,children:b})}}function uA(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Vp(n)?nA:sA,preloadedFeatures:t,useRender:cA(i),createVisualElement:e,Component:n};return OP(c)}}function nN(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function xd(t,e,r){const n=t.getProps();return Up(n,e,r!==void 0?r:n.custom,t)}const dA=Ip(()=>window.ScrollTimeline!==void 0);class fA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(dA()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hA extends fA{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Gp(t,e){return t?t[e]||t.default||t:void 0}const Sm=2e4;function sN(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Sm;)e+=r,n=t.next(e);return e>=Sm?1/0:e}function Qp(t){return typeof t=="function"}function nb(t,e){t.timeline=e,t.onfinish=null}const Jp=t=>Array.isArray(t)&&typeof t[0]=="number",mA={linearEasing:void 0};function pA(t,e){const r=Ip(t);return()=>{var n;return(n=mA[e])!==null&&n!==void 0?n:r()}}const Uu=pA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iN=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let l=0;l<i;l++)n+=t($o(0,i-1,l))+", ";return`linear(${n.substring(0,n.length-2)})`};function oN(t){return!!(typeof t=="function"&&Uu()||!t||typeof t=="string"&&(t in _m||Uu())||Jp(t)||Array.isArray(t)&&t.every(oN))}const za=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,_m={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function aN(t,e){if(t)return typeof t=="function"&&Uu()?iN(t,e):Jp(t)?za(t):Array.isArray(t)?t.map(r=>aN(r,e)||_m.easeOut):_m[t]}const jn={x:!1,y:!1};function lN(){return jn.x||jn.y}function gA(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function cN(t,e){const r=gA(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function sb(t){return e=>{e.pointerType==="touch"||lN()||t(e)}}function yA(t,e,r={}){const[n,i,l]=cN(t,r),c=sb(d=>{const{target:h}=d,m=e(d);if(typeof m!="function"||!h)return;const p=sb(y=>{m(y),h.removeEventListener("pointerleave",p)});h.addEventListener("pointerleave",p,i)});return n.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const uN=(t,e)=>e?t===e?!0:uN(t,e.parentElement):!1,Zp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vA(t){return xA.has(t.tagName)||t.tabIndex!==-1}const Wa=new WeakSet;function ib(t){return e=>{e.key==="Enter"&&t(e)}}function Ph(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bA=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ib(()=>{if(Wa.has(r))return;Ph(r,"down");const i=ib(()=>{Ph(r,"up")}),l=()=>Ph(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function ob(t){return Zp(t)&&!lN()}function wA(t,e,r={}){const[n,i,l]=cN(t,r),c=d=>{const h=d.currentTarget;if(!ob(d)||Wa.has(h))return;Wa.add(h);const m=e(d),p=(N,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),!(!ob(N)||!Wa.has(h))&&(Wa.delete(h),typeof m=="function"&&m(N,{success:_}))},y=N=>{p(N,r.useGlobalTarget||uN(h,N.target))},b=N=>{p(N,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",b,i)};return n.forEach(d=>{!vA(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",m=>bA(m,i),i)}),l}function jA(t){return t==="x"||t==="y"?jn[t]?null:(jn[t]=!0,()=>{jn[t]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}const dN=new Set(["width","height","top","left","right","bottom",...Yo]);let Tu;function NA(){Tu=void 0}const $n={now:()=>(Tu===void 0&&$n.set(mr.isProcessing||xP.useManualTiming?mr.timestamp:performance.now()),Tu),set:t=>{Tu=t,queueMicrotask(NA)}};function Yp(t,e){t.indexOf(e)===-1&&t.push(e)}function Xp(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class eg{constructor(){this.subscriptions=[]}add(e){return Yp(this.subscriptions,e),()=>Xp(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fN(t,e){return e?t*(1e3/e):0}const ab=30,SA=t=>!isNaN(parseFloat(t));class _A{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const l=$n.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new eg);const n=this.events[e].add(r);return e==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ab)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ab);return fN(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new _A(t,e)}function kA(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ul(r))}function CA(t,e){const r=xd(t,e);let{transitionEnd:n={},transition:i={},...l}=r||{};l={...l,...n};for(const c in l){const d=VP(l[c]);kA(t,c,d)}}function EA(t){return!!(Nr(t)&&t.add)}function km(t,e){const r=t.getValue("willChange");if(EA(r))return r.add(e)}function hN(t){return t.props[qj]}const mN=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,TA=1e-7,PA=12;function AA(t,e,r,n,i){let l,c,d=0;do c=e+(r-e)/2,l=mN(c,n,i)-t,l>0?r=c:e=c;while(Math.abs(l)>TA&&++d<PA);return c}function Ml(t,e,r,n){if(t===e&&r===n)return Jr;const i=l=>AA(l,0,1,t,r);return l=>l===0||l===1?l:mN(i(l),e,n)}const pN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gN=t=>e=>1-t(1-e),yN=Ml(.33,1.53,.69,.99),tg=gN(yN),xN=pN(tg),vN=t=>(t*=2)<1?.5*tg(t):.5*(2-Math.pow(2,-10*(t-1))),rg=t=>1-Math.sin(Math.acos(t)),bN=gN(rg),wN=pN(rg),jN=t=>/^0[^.\s]+$/u.test(t);function RA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jN(t):!0}const Qa=t=>Math.round(t*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OA(t){return t==null}const IA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sg=(t,e)=>r=>!!(typeof r=="string"&&IA.test(r)&&r.startsWith(t)||e&&!OA(r)&&Object.prototype.hasOwnProperty.call(r,e)),NN=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,l,c,d]=n.match(ng);return{[t]:parseFloat(i),[e]:parseFloat(l),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},LA=t=>ds(0,255,t),Ah={...Xo,transform:t=>Math.round(LA(t))},_i={test:sg("rgb","red"),parse:NN("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ah.transform(t)+", "+Ah.transform(e)+", "+Ah.transform(r)+", "+Qa(cl.transform(n))+")"};function DA(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Cm={test:sg("#"),parse:DA,transform:_i.transform},ko={test:sg("hsl","hue"),parse:NN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Un.transform(Qa(e))+", "+Un.transform(Qa(r))+", "+Qa(cl.transform(n))+")"},jr={test:t=>_i.test(t)||Cm.test(t)||ko.test(t),parse:t=>_i.test(t)?_i.parse(t):ko.test(t)?ko.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_i.transform(t):ko.transform(t)},MA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FA(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ng))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(MA))===null||r===void 0?void 0:r.length)||0)>0}const SN="number",_N="color",VA="var",UA="var(",lb="${}",$A=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dl(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace($A,h=>(jr.test(h)?(n.color.push(l),i.push(_N),r.push(jr.parse(h))):h.startsWith(UA)?(n.var.push(l),i.push(VA),r.push(h)):(n.number.push(l),i.push(SN),r.push(parseFloat(h))),++l,lb)).split(lb);return{values:r,split:d,indexes:n,types:i}}function kN(t){return dl(t).values}function CN(t){const{split:e,types:r}=dl(t),n=e.length;return i=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],i[c]!==void 0){const d=r[c];d===SN?l+=Qa(i[c]):d===_N?l+=jr.transform(i[c]):l+=i[c]}return l}}const BA=t=>typeof t=="number"?0:t;function qA(t){const e=kN(t);return CN(t)(e.map(BA))}const Hs={test:FA,parse:kN,createTransformer:CN,getAnimatableNone:qA},zA=new Set(["brightness","contrast","saturate","opacity"]);function WA(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ng)||[];if(!n)return t;const i=r.replace(n,"");let l=zA.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+i+")"}const KA=/\b([a-z-]*)\(.*?\)/gu,Em={...Hs,getAnimatableNone:t=>{const e=t.match(KA);return e?e.map(WA).join(" "):t}},HA={...Bp,color:jr,backgroundColor:jr,outlineColor:jr,fill:jr,stroke:jr,borderColor:jr,borderTopColor:jr,borderRightColor:jr,borderBottomColor:jr,borderLeftColor:jr,filter:Em,WebkitFilter:Em},ig=t=>HA[t];function EN(t,e){let r=ig(t);return r!==Em&&(r=Hs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const GA=new Set(["auto","none","0"]);function QA(t,e,r){let n=0,i;for(;n<t.length&&!i;){const l=t[n];typeof l=="string"&&!GA.has(l)&&dl(l).values.length&&(i=t[n]),n++}if(i&&r)for(const l of e)t[l]=EN(r,i)}const cb=t=>t===Xo||t===ze,ub=(t,e)=>parseFloat(t.split(", ")[e]),db=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return ub(i[1],e);{const l=n.match(/^matrix\((.+)\)$/u);return l?ub(l[1],t):0}},JA=new Set(["x","y","z"]),ZA=Yo.filter(t=>!JA.has(t));function YA(t){const e=[];return ZA.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const qo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:db(4,13),y:db(5,14)};qo.translateX=qo.x;qo.translateY=qo.y;const Ti=new Set;let Tm=!1,Pm=!1;function TN(){if(Pm){const t=Array.from(Ti).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=YA(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([l,c])=>{var d;(d=n.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Pm=!1,Tm=!1,Ti.forEach(t=>t.complete()),Ti.clear()}function PN(){Ti.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pm=!0)})}function XA(){PN(),TN()}class og{constructor(e,r,n,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ti.add(this),Tm||(Tm=!0,kt.read(PN),kt.resolveKeyframes(TN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&r){const h=n.readValue(r,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ti.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ti.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tR(t){const e=eR.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function RN(t,e,r=1){const[n,i]=tR(t);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return AN(c)?parseFloat(c):c}return $p(i)?RN(i,e,r+1):i}const ON=t=>e=>e.test(t),rR={test:t=>t==="auto",parse:t=>t},IN=[Xo,ze,Un,$s,WP,zP,rR],fb=t=>IN.find(ON(t));class LN extends og{constructor(e,r,n,i,l){super(e,r,n,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),$p(m))){const p=RN(m,r.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!dN.has(n)||e.length!==2)return;const[i,l]=e,c=fb(i),d=fb(l);if(c!==d)if(cb(c)&&cb(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)RA(e[i])&&n.push(i);n.length&&QA(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const l=r.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=qo[n](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{r.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hs.test(t)||t==="0")&&!t.startsWith("url("));function nR(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function sR(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=hb(i,e),d=hb(l,e);return!c||!d?!1:nR(t)||(r==="spring"||Qp(r))&&n}const iR=t=>t!==null;function vd(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(iR),l=e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const oR=40;class DN{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$n.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XA(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=$n.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:m}=this.options;if(!m&&!sR(e,n,i,l))if(c)this.options.duration=0;else{h&&h(vd(e,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,r);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const It=(t,e,r)=>t+(e-t)*r;function Rh(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function aR({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,l=0,c=0;if(!e)i=l=c=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;i=Rh(h,d,t+1/3),l=Rh(h,d,t),c=Rh(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function $u(t,e){return r=>r>0?e:t}const Oh=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},lR=[Cm,_i,ko],cR=t=>lR.find(e=>e.test(t));function mb(t){const e=cR(t);if(!e)return!1;let r=e.parse(t);return e===ko&&(r=aR(r)),r}const pb=(t,e)=>{const r=mb(t),n=mb(e);if(!r||!n)return $u(t,e);const i={...r};return l=>(i.red=Oh(r.red,n.red,l),i.green=Oh(r.green,n.green,l),i.blue=Oh(r.blue,n.blue,l),i.alpha=It(r.alpha,n.alpha,l),_i.transform(i))},uR=(t,e)=>r=>e(t(r)),Fl=(...t)=>t.reduce(uR),Am=new Set(["none","hidden"]);function dR(t,e){return Am.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function fR(t,e){return r=>It(t,e,r)}function ag(t){return typeof t=="number"?fR:typeof t=="string"?$p(t)?$u:jr.test(t)?pb:pR:Array.isArray(t)?MN:typeof t=="object"?jr.test(t)?pb:hR:$u}function MN(t,e){const r=[...t],n=r.length,i=t.map((l,c)=>ag(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=i[c](l);return r}}function hR(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=ag(t[i])(t[i],e[i]));return i=>{for(const l in n)r[l]=n[l](i);return r}}function mR(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],h=(r=t.values[d])!==null&&r!==void 0?r:0;n[l]=h,i[c]++}return n}const pR=(t,e)=>{const r=Hs.createTransformer(e),n=dl(t),i=dl(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Am.has(t)&&!i.values.length||Am.has(e)&&!n.values.length?dR(t,e):Fl(MN(mR(n,i),i.values),r):$u(t,e)};function FN(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?It(t,e,r):ag(t)(t,e)}const gR=5;function VN(t,e,r){const n=Math.max(e-gR,0);return fN(r-t(n),e-n)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ih=.001;function yR({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:r=Ft.velocity,mass:n=Ft.mass}){let i,l,c=1-e;c=ds(Ft.minDamping,Ft.maxDamping,c),t=ds(Ft.minDuration,Ft.maxDuration,us(t)),c<1?(i=m=>{const p=m*c,y=p*t,b=p-r,N=Rm(m,c),_=Math.exp(-y);return Ih-b/N*_},l=m=>{const y=m*c*t,b=y*r+r,N=Math.pow(c,2)*Math.pow(m,2)*t,_=Math.exp(-y),j=Rm(Math.pow(m,2),c);return(-i(m)+Ih>0?-1:1)*((b-N)*_)/j}):(i=m=>{const p=Math.exp(-m*t),y=(m-r)*t+1;return-Ih+p*y},l=m=>{const p=Math.exp(-m*t),y=(r-m)*(t*t);return p*y});const d=5/t,h=vR(i,l,d);if(t=cs(t),isNaN(h))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(h,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const xR=12;function vR(t,e,r){let n=r;for(let i=1;i<xR;i++)n=n-t(n)/e(n);return n}function Rm(t,e){return t*Math.sqrt(1-e*e)}const bR=["duration","bounce"],wR=["stiffness","damping","mass"];function gb(t,e){return e.some(r=>t[r]!==void 0)}function jR(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!gb(t,wR)&&gb(t,bR))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,l=2*ds(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:l}}else{const r=yR(t);e={...e,...r,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function UN(t=Ft.visualDuration,e=Ft.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:p,duration:y,velocity:b,isResolvedFromDuration:N}=jR({...r,velocity:-us(r.velocity||0)}),_=b||0,j=m/(2*Math.sqrt(h*p)),w=c-l,C=us(Math.sqrt(h/p)),k=Math.abs(w)<5;n||(n=k?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=k?Ft.restDelta.granular:Ft.restDelta.default);let E;if(j<1){const L=Rm(C,j);E=F=>{const K=Math.exp(-j*C*F);return c-K*((_+j*C*w)/L*Math.sin(L*F)+w*Math.cos(L*F))}}else if(j===1)E=L=>c-Math.exp(-C*L)*(w+(_+C*w)*L);else{const L=C*Math.sqrt(j*j-1);E=F=>{const K=Math.exp(-j*C*F),Z=Math.min(L*F,300);return c-K*((_+j*C*w)*Math.sinh(Z)+L*w*Math.cosh(Z))/L}}const R={calculatedDuration:N&&y||null,next:L=>{const F=E(L);if(N)d.done=L>=y;else{let K=0;j<1&&(K=L===0?cs(_):VN(E,L,F));const Z=Math.abs(K)<=n,O=Math.abs(c-F)<=i;d.done=Z&&O}return d.value=d.done?c:F,d},toString:()=>{const L=Math.min(sN(R),Sm),F=iN(K=>R.next(L*K).value,L,30);return L+"ms "+F}};return R}function yb({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:p}){const y=t[0],b={done:!1,value:y},N=Z=>d!==void 0&&Z<d||h!==void 0&&Z>h,_=Z=>d===void 0?h:h===void 0||Math.abs(d-Z)<Math.abs(h-Z)?d:h;let j=r*e;const w=y+j,C=c===void 0?w:c(w);C!==w&&(j=C-y);const k=Z=>-j*Math.exp(-Z/n),E=Z=>C+k(Z),R=Z=>{const O=k(Z),G=E(Z);b.done=Math.abs(O)<=m,b.value=b.done?C:G};let L,F;const K=Z=>{N(b.value)&&(L=Z,F=UN({keyframes:[b.value,_(b.value)],velocity:VN(E,Z,b.value),damping:i,stiffness:l,restDelta:m,restSpeed:p}))};return K(0),{calculatedDuration:null,next:Z=>{let O=!1;return!F&&L===void 0&&(O=!0,R(Z),K(Z)),L!==void 0&&Z>=L?F.next(Z-L):(!O&&R(Z),b)}}}const NR=Ml(.42,0,1,1),SR=Ml(0,0,.58,1),$N=Ml(.42,0,.58,1),_R=t=>Array.isArray(t)&&typeof t[0]!="number",kR={linear:Jr,easeIn:NR,easeInOut:$N,easeOut:SR,circIn:rg,circInOut:wN,circOut:bN,backIn:tg,backInOut:xN,backOut:yN,anticipate:vN},xb=t=>{if(Jp(t)){Fj(t.length===4);const[e,r,n,i]=t;return Ml(e,r,n,i)}else if(typeof t=="string")return kR[t];return t};function CR(t,e,r){const n=[],i=r||FN,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Jr:e;d=Fl(h,d)}n.push(d)}return n}function ER(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const l=t.length;if(Fj(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=CR(e,n,i),h=d.length,m=p=>{if(c&&p<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const b=$o(t[y],t[y+1],p);return d[y](b)};return r?p=>m(ds(t[0],t[l-1],p)):m}function TR(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=$o(0,e,n);t.push(It(r,1,i))}}function PR(t){const e=[0];return TR(e,t.length-1),e}function AR(t,e){return t.map(r=>r*e)}function RR(t,e){return t.map(()=>e||$N).splice(0,t.length-1)}function Bu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=_R(n)?n.map(xb):xb(n),l={done:!1,value:e[0]},c=AR(r&&r.length===e.length?r:PR(e),t),d=ER(c,e,{ease:Array.isArray(i)?i:RR(e,i)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const OR=t=>{const e=({timestamp:r})=>t(r);return{start:()=>kt.update(e,!0),stop:()=>Ks(e),now:()=>mr.isProcessing?mr.timestamp:$n.now()}},IR={decay:yb,inertia:yb,tween:Bu,keyframes:Bu,spring:UN},LR=t=>t/100;class lg extends DN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:n,element:i,keyframes:l}=this.options,c=i?.KeyframeResolver||og,d=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(l,d,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,d=Qp(r)?r:IR[r]||Bu;let h,m;d!==Bu&&typeof e[0]!="number"&&(h=Fl(LR,FN(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=sN(p));const{calculatedDuration:y}=p,b=y+i,N=b*(n+1)-i;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:b,totalDuration:N}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:Z}=this.options;return{done:!0,value:Z[Z.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:m,totalDuration:p,resolvedDuration:y}=n;if(this.startTime===null)return l.next(0);const{delay:b,repeat:N,repeatType:_,repeatDelay:j,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const C=this.currentTime-b*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,R=l;if(N){const Z=Math.min(this.currentTime,p)/y;let O=Math.floor(Z),G=Z%1;!G&&Z>=1&&(G=1),G===1&&O--,O=Math.min(O,N+1),!!(O%2)&&(_==="reverse"?(G=1-G,j&&(G-=j/y)):_==="mirror"&&(R=c)),E=ds(0,1,G)*y}const L=k?{done:!1,value:h[0]}:R.next(E);d&&(L.value=d(L.value));let{done:F}=L;!k&&m!==null&&(F=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return K&&i!==void 0&&(L.value=vd(h,this.options,i)),w&&w(L.value),K&&this.finish(),L}get duration(){const{resolved:e}=this;return e?us(e.calculatedDuration):0}get time(){return us(this.currentTime)}set time(e){e=cs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=us(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OR,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const DR=new Set(["opacity","clipPath","filter","transform"]);function MR(t,e,r,{delay:n=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const m={[e]:r};h&&(m.offset=h);const p=aN(d,i);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const FR=Ip(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qu=10,VR=2e4;function UR(t){return Qp(t.type)||t.type==="spring"||!oN(t.ease)}function $R(t,e){const r=new lg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let l=0;for(;!n.done&&l<VR;)n=r.sample(l),i.push(n.value),l+=qu;return{times:void 0,keyframes:i,duration:l-qu,ease:"linear"}}const BN={anticipate:vN,backInOut:xN,circInOut:wN};function BR(t){return t in BN}class vb extends DN{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:l}=this.options;this.resolver=new LN(l,(c,d)=>this.onKeyframesResolved(c,d),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:l,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Uu()&&BR(l)&&(l=BN[l]),UR(this.options)){const{onComplete:y,onUpdate:b,motionValue:N,element:_,...j}=this.options,w=$R(e,j);e=w.keyframes,e.length===1&&(e[1]=e[0]),n=w.duration,i=w.times,l=w.ease,c="keyframes"}const p=MR(d.owner.current,h,e,{...this.options,duration:n,times:i,ease:l});return p.startTime=m??this.calcStartTime(),this.pendingTimeline?(nb(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:y}=this.options;d.set(vd(e,this.options,r)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return us(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return us(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=cs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Jr;const{animation:n}=r;nb(n,e)}return Jr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:l,ease:c,times:d}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:y,element:b,...N}=this.options,_=new lg({...N,keyframes:n,duration:i,type:l,ease:c,times:d,isGenerator:!0}),j=cs(this.time);m.setWithVelocity(_.sample(j-qu).value,_.sample(j).value,qu)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:l,damping:c,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=r.owner.getProps();return FR()&&n&&DR.has(n)&&!h&&!m&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}}const qR={type:"spring",stiffness:500,damping:25,restSpeed:10},zR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WR={type:"keyframes",duration:.8},KR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HR=(t,{keyframes:e})=>e.length>2?WR:Di.has(t)?t.startsWith("scale")?zR(e[1]):qR:KR;function GR({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const cg=(t,e,r,n={},i,l)=>c=>{const d=Gp(n,t)||{},h=d.delay||n.delay||0;let{elapsed:m=0}=n;m=m-cs(h);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};GR(d)||(p={...p,...HR(t,p)}),p.duration&&(p.duration=cs(p.duration)),p.repeatDelay&&(p.repeatDelay=cs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const b=vd(p.keyframes,d);if(b!==void 0)return kt.update(()=>{p.onUpdate(b),p.onComplete()}),new hA([])}return!l&&vb.supports(p)?new vb(p):new lg(p)};function QR({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function qN(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;n&&(c=n);const m=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const b=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),N=h[y];if(N===void 0||p&&QR(p,y))continue;const _={delay:r,...Gp(c||{},y)};let j=!1;if(window.MotionHandoffAnimation){const C=hN(t);if(C){const k=window.MotionHandoffAnimation(C,y,kt);k!==null&&(_.startTime=k,j=!0)}}km(t,y),b.start(cg(y,b,N,t.shouldReduceMotion&&dN.has(y)?{type:!1}:_,t,j));const w=b.animation;w&&m.push(w)}return d&&Promise.all(m).then(()=>{kt.update(()=>{d&&CA(t,d)})}),m}function Om(t,e,r={}){var n;const i=xd(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(l=r.transitionOverride);const c=i?()=>Promise.all(qN(t,i,r)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:b}=l;return JR(t,e,p+m,y,b,r)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(r.delay)])}function JR(t,e,r=0,n=0,i=1,l){const c=[],d=(t.variantChildren.size-1)*n,h=i===1?(m=0)=>m*n:(m=0)=>d-m*n;return Array.from(t.variantChildren).sort(ZR).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(Om(m,e,{...l,delay:r+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function ZR(t,e){return t.sortNodePosition(e)}function YR(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(l=>Om(t,l,r));n=Promise.all(i)}else if(typeof e=="string")n=Om(t,e,r);else{const i=typeof e=="function"?xd(t,e,r.custom):e;n=Promise.all(qN(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const XR=Dp.length;function zN(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?zN(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<XR;r++){const n=Dp[r],i=t.props[n];(ll(i)||i===!1)&&(e[n]=i)}return e}const eO=[...Lp].reverse(),tO=Lp.length;function rO(t){return e=>Promise.all(e.map(({animation:r,options:n})=>YR(t,r,n)))}function nO(t){let e=rO(t),r=bb(),n=!0;const i=h=>(m,p)=>{var y;const b=xd(t,p,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(b){const{transition:N,transitionEnd:_,...j}=b;m={...m,...j,..._}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,p=zN(t.parent)||{},y=[],b=new Set;let N={},_=1/0;for(let w=0;w<tO;w++){const C=eO[w],k=r[C],E=m[C]!==void 0?m[C]:p[C],R=ll(E),L=C===h?k.isActive:null;L===!1&&(_=w);let F=E===p[C]&&E!==m[C]&&R;if(F&&n&&t.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...N},!k.isActive&&L===null||!E&&!k.prevProp||gd(E)||typeof E=="boolean")continue;const K=sO(k.prevProp,E);let Z=K||C===h&&k.isActive&&!F&&R||w>_&&R,O=!1;const G=Array.isArray(E)?E:[E];let ne=G.reduce(i(C),{});L===!1&&(ne={});const{prevResolvedValues:H={}}=k,te={...H,...ne},ee=re=>{Z=!0,b.has(re)&&(O=!0,b.delete(re)),k.needsAnimating[re]=!0;const Y=t.getValue(re);Y&&(Y.liveStyle=!1)};for(const re in te){const Y=ne[re],me=H[re];if(N.hasOwnProperty(re))continue;let ce=!1;Nm(Y)&&Nm(me)?ce=!nN(Y,me):ce=Y!==me,ce?Y!=null?ee(re):b.add(re):Y!==void 0&&b.has(re)?ee(re):k.protectedKeys[re]=!0}k.prevProp=E,k.prevResolvedValues=ne,k.isActive&&(N={...N,...ne}),n&&t.blockInitialAnimation&&(Z=!1),Z&&(!(F&&K)||O)&&y.push(...G.map(re=>({animation:re,options:{type:C}})))}if(b.size){const w={};b.forEach(C=>{const k=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),w[C]=k??null}),y.push({animation:w})}let j=!!y.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(y):Promise.resolve()}function d(h,m){var p;if(r[h].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(b=>{var N;return(N=b.animationState)===null||N===void 0?void 0:N.setActive(h,m)}),r[h].isActive=m;const y=c(h);for(const b in r)r[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=bb(),n=!0}}}function sO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nN(e,t):!1}function gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bb(){return{animate:gi(!0),whileInView:gi(),whileHover:gi(),whileTap:gi(),whileDrag:gi(),whileFocus:gi(),exit:gi()}}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iO extends Ys{constructor(e){super(e),e.animationState||(e.animationState=nO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oO=0;class aO extends Ys{constructor(){super(...arguments),this.id=oO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lO={animation:{Feature:iO},exit:{Feature:aO}};function fl(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Vl(t){return{point:{x:t.pageX,y:t.pageY}}}const cO=t=>e=>Zp(e)&&t(e,Vl(e));function Ja(t,e,r,n){return fl(t,e,cO(r),n)}const wb=(t,e)=>Math.abs(t-e);function uO(t,e){const r=wb(t.x,e.x),n=wb(t.y,e.y);return Math.sqrt(r**2+n**2)}class WN{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Dh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,N=uO(y.offset,{x:0,y:0})>=3;if(!b&&!N)return;const{point:_}=y,{timestamp:j}=mr;this.history.push({..._,timestamp:j});const{onStart:w,onMove:C}=this.handlers;b||(w&&w(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Lh(b,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:N,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Dh(y.type==="pointercancel"?this.lastMoveEventInfo:Lh(b,this.transformPagePoint),this.history);this.startEvent&&N&&N(y,w),_&&_(y,w)},!Zp(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const c=Vl(e),d=Lh(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=mr;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=r;p&&p(e,Dh(d,this.history)),this.removeListeners=Fl(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Lh(t,e){return e?{point:e(t.point)}:t}function jb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dh({point:t},e){return{point:t,delta:jb(t,KN(e)),offset:jb(t,dO(e)),velocity:fO(e,.1)}}function dO(t){return t[0]}function KN(t){return t[t.length-1]}function fO(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=KN(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>cs(e)));)r--;if(!n)return{x:0,y:0};const l=us(i.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-n.x)/l,y:(i.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const HN=1e-4,hO=1-HN,mO=1+HN,GN=.01,pO=0-GN,gO=0+GN;function Xr(t){return t.max-t.min}function yO(t,e,r){return Math.abs(t-e)<=r}function Nb(t,e,r,n=.5){t.origin=n,t.originPoint=It(e.min,e.max,t.origin),t.scale=Xr(r)/Xr(e),t.translate=It(r.min,r.max,t.origin)-t.originPoint,(t.scale>=hO&&t.scale<=mO||isNaN(t.scale))&&(t.scale=1),(t.translate>=pO&&t.translate<=gO||isNaN(t.translate))&&(t.translate=0)}function Za(t,e,r,n){Nb(t.x,e.x,r.x,n?n.originX:void 0),Nb(t.y,e.y,r.y,n?n.originY:void 0)}function Sb(t,e,r){t.min=r.min+e.min,t.max=t.min+Xr(e)}function xO(t,e,r){Sb(t.x,e.x,r.x),Sb(t.y,e.y,r.y)}function _b(t,e,r){t.min=e.min-r.min,t.max=t.min+Xr(e)}function Ya(t,e,r){_b(t.x,e.x,r.x),_b(t.y,e.y,r.y)}function vO(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?It(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?It(r,t,n.max):Math.min(t,r)),t}function kb(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function bO(t,{top:e,left:r,bottom:n,right:i}){return{x:kb(t.x,r,i),y:kb(t.y,e,n)}}function Cb(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function wO(t,e){return{x:Cb(t.x,e.x),y:Cb(t.y,e.y)}}function jO(t,e){let r=.5;const n=Xr(t),i=Xr(e);return i>n?r=$o(e.min,e.max-n,t.min):n>i&&(r=$o(t.min,t.max-i,e.min)),ds(0,1,r)}function NO(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Im=.35;function SO(t=Im){return t===!1?t=0:t===!0&&(t=Im),{x:Eb(t,"left","right"),y:Eb(t,"top","bottom")}}function Eb(t,e,r){return{min:Tb(t,e),max:Tb(t,r)}}function Tb(t,e){return typeof t=="number"?t:t[e]||0}const Pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Pb(),y:Pb()}),Ab=()=>({min:0,max:0}),zt=()=>({x:Ab(),y:Ab()});function un(t){return[t("x"),t("y")]}function QN({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function _O({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kO(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Mh(t){return t===void 0||t===1}function Lm({scale:t,scaleX:e,scaleY:r}){return!Mh(t)||!Mh(e)||!Mh(r)}function bi(t){return Lm(t)||JN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JN(t){return Rb(t.x)||Rb(t.y)}function Rb(t){return t&&t!=="0%"}function zu(t,e,r){const n=t-r,i=e*n;return r+i}function Ob(t,e,r,n,i){return i!==void 0&&(t=zu(t,i,n)),zu(t,r,n)+e}function Dm(t,e=0,r=1,n,i){t.min=Ob(t.min,e,r,n,i),t.max=Ob(t.max,e,r,n,i)}function ZN(t,{x:e,y:r}){Dm(t.x,e.translate,e.scale,e.originPoint),Dm(t.y,r.translate,r.scale,r.originPoint)}const Ib=.999999999999,Lb=1.0000000000001;function CO(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=r[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&To(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,ZN(t,c)),n&&bi(l.latestValues)&&To(t,l.latestValues))}e.x<Lb&&e.x>Ib&&(e.x=1),e.y<Lb&&e.y>Ib&&(e.y=1)}function Eo(t,e){t.min=t.min+e,t.max=t.max+e}function Db(t,e,r,n,i=.5){const l=It(t.min,t.max,i);Dm(t,e,r,l,n)}function To(t,e){Db(t.x,e.x,e.scaleX,e.scale,e.originX),Db(t.y,e.y,e.scaleY,e.scale,e.originY)}function YN(t,e){return QN(kO(t.getBoundingClientRect(),e))}function EO(t,e,r){const n=YN(t,r),{scroll:i}=e;return i&&(Eo(n.x,i.offset.x),Eo(n.y,i.offset.y)),n}const XN=({current:t})=>t?t.ownerDocument.defaultView:null,TO=new WeakMap;class PO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Vl(p).point)},l=(p,y)=>{const{drag:b,dragPropagation:N,onDragStart:_}=this.getProps();if(b&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jA(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(w=>{let C=this.getAxisMotionValue(w).get()||0;if(Un.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[w];E&&(C=Xr(E)*(parseFloat(C)/100))}}this.originPoint[w]=C}),_&&kt.postRender(()=>_(p,y)),km(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,y)=>{const{dragPropagation:b,dragDirectionLock:N,onDirectionLock:_,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=y;if(N&&this.currentDirection===null){this.currentDirection=AO(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",y.point,w),this.updateAxis("y",y.point,w),this.visualElement.render(),j&&j(p,y)},d=(p,y)=>this.stop(p,y),h=()=>un(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new WN(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:XN(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&kt.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!cu(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=vO(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&_o(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=bO(i.layoutBox,r):this.constraints=!1,this.elastic=SO(n),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&un(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=NO(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!_o(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=EO(n,i.root,this.visualElement.getTransformPagePoint());let c=wO(i.layout.layoutBox,l);if(r){const d=r(_O(c));this.hasMutatedConstraints=!!d,d&&(c=QN(d))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=un(p=>{if(!cu(p,r,this.currentDirection))return;let y=h&&h[p]||{};c&&(y={min:0,max:0});const b=i?200:1e6,N=i?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:b,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(p,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return km(this.visualElement,e),n.start(cg(e,n,0,r,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){un(r=>{const{drag:n}=this.getProps();if(!cu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(r);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[r];l.set(e[r]-It(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_o(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};un(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=jO({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),un(c=>{if(!cu(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(It(h,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;TO.set(this.visualElement,this);const e=this.visualElement.current,r=Ja(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();_o(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kt.read(n);const c=fl(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(un(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=Im,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function cu(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function AO(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class RO extends Ys{constructor(e){super(e),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new PO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mb=t=>(e,r)=>{t&&kt.postRender(()=>t(e,r))};class OO extends Ys{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(e){this.session=new WN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Mb(e),onStart:Mb(r),onMove:n,onEnd:(l,c)=>{delete this.session,i&&kt.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $a={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const r=Fb(t,e.target.x),n=Fb(t,e.target.y);return`${r}% ${n}%`}},IO={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Hs.parse(t);if(i.length>5)return n;const l=Hs.createTransformer(t),c=typeof i[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const m=It(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),l(i)}};class LO extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:l}=e;tA(DO),l&&(r.group&&r.group.add(l),n&&n.register&&i&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||kt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eS(t){const[e,r]=Dj(),n=v.useContext(Pp);return o.jsx(LO,{...t,layoutGroup:n,switchLayoutGroup:v.useContext(zj),isPresent:e,safeToRemove:r})}const DO={borderRadius:{...$a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomLeftRadius:$a,borderBottomRightRadius:$a,boxShadow:IO};function MO(t,e,r){const n=Nr(t)?t:ul(t);return n.start(cg("",n,e,r)),n.animation}function FO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const VO=(t,e)=>t.depth-e.depth;class UO{constructor(){this.children=[],this.isDirty=!1}add(e){Yp(this.children,e),this.isDirty=!0}remove(e){Xp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VO),this.isDirty=!1,this.children.forEach(e)}}function $O(t,e){const r=$n.now(),n=({timestamp:i})=>{const l=i-r;l>=e&&(Ks(n),t(l-e))};return kt.read(n,!0),()=>Ks(n)}const tS=["TopLeft","TopRight","BottomLeft","BottomRight"],BO=tS.length,Vb=t=>typeof t=="string"?parseFloat(t):t,Ub=t=>typeof t=="number"||ze.test(t);function qO(t,e,r,n,i,l){i?(t.opacity=It(0,r.opacity!==void 0?r.opacity:1,zO(n)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,WO(n))):l&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<BO;c++){const d=`border${tS[c]}Radius`;let h=$b(e,d),m=$b(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Ub(h)===Ub(m)?(t[d]=Math.max(It(Vb(h),Vb(m),n),0),(Un.test(m)||Un.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=It(e.rotate||0,r.rotate||0,n))}function $b(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zO=rS(0,.5,bN),WO=rS(.5,.95,Jr);function rS(t,e,r){return n=>n<t?0:n>e?1:r($o(t,e,n))}function Bb(t,e){t.min=e.min,t.max=e.max}function cn(t,e){Bb(t.x,e.x),Bb(t.y,e.y)}function qb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zb(t,e,r,n,i){return t-=e,t=zu(t,1/r,n),i!==void 0&&(t=zu(t,1/i,n)),t}function KO(t,e=0,r=1,n=.5,i,l=t,c=t){if(Un.test(e)&&(e=parseFloat(e),e=It(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=It(l.min,l.max,n);t===l&&(d-=e),t.min=zb(t.min,e,r,d,i),t.max=zb(t.max,e,r,d,i)}function Wb(t,e,[r,n,i],l,c){KO(t,e[r],e[n],e[i],e.scale,l,c)}const HO=["x","scaleX","originX"],GO=["y","scaleY","originY"];function Kb(t,e,r,n){Wb(t.x,e,HO,r?r.x:void 0,n?n.x:void 0),Wb(t.y,e,GO,r?r.y:void 0,n?n.y:void 0)}function Hb(t){return t.translate===0&&t.scale===1}function nS(t){return Hb(t.x)&&Hb(t.y)}function Gb(t,e){return t.min===e.min&&t.max===e.max}function QO(t,e){return Gb(t.x,e.x)&&Gb(t.y,e.y)}function Qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sS(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Jb(t){return Xr(t.x)/Xr(t.y)}function Zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JO{constructor(){this.members=[]}add(e){Yp(this.members,e),e.scheduleRender()}remove(e){if(Xp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZO(t,e,r){let n="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=r?.z||0;if((i||l||c)&&(n=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:b,skewX:N,skewY:_}=r;m&&(n=`perspective(${m}px) ${n}`),p&&(n+=`rotate(${p}deg) `),y&&(n+=`rotateX(${y}deg) `),b&&(n+=`rotateY(${b}deg) `),N&&(n+=`skewX(${N}deg) `),_&&(n+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(n+=`scale(${d}, ${h})`),n||"none"}const wi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ka=typeof window<"u"&&window.MotionDebug!==void 0,Fh=["","X","Y","Z"],YO={visibility:"hidden"},Yb=1e3;let XO=0;function Vh(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function iS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=hN(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kt,!(i||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&iS(n)}function oS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(c={},d=e?.()){this.id=XO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ka&&(wi.totalNodes=wi.resolvedTargetDeltas=wi.recalculatedProjection=0),this.nodes.forEach(rI),this.nodes.forEach(aI),this.nodes.forEach(lI),this.nodes.forEach(nI),Ka&&window.MotionDebug.record(wi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new UO)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new eg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let y;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=$O(b,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(ew))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeTargetChanged:N,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||hI,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=p.getProps(),k=!this.targetLayout||!sS(this.targetLayout,_)||N,E=!b&&N;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,E);const R={...Gp(j,"layout"),onPlay:w,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else b||ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cI),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xb);return}this.isUpdating||this.nodes.forEach(iI),this.isUpdating=!1,this.nodes.forEach(oI),this.nodes.forEach(eI),this.nodes.forEach(tI),this.clearAllSnapshots();const d=$n.now();mr.delta=ds(0,1e3/60,d-mr.timestamp),mr.timestamp=d,mr.isProcessing=!0,Th.update.process(mr),Th.preRender.process(mr),Th.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sI),this.sharedNodes.forEach(uI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!nS(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||bi(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),mI(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return zt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(pI))){const{scroll:p}=this.root;p&&(Eo(h.x,p.offset.x),Eo(h.y,p.offset.y))}return h}removeElementScroll(c){var d;const h=zt();if(cn(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:b}=p;p!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&cn(h,c),Eo(h.x,y.offset.x),Eo(h.y,y.offset.y))}return h}applyTransform(c,d=!1){const h=zt();cn(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&To(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),bi(p.latestValues)&&To(h,p.latestValues)}return bi(this.latestValues)&&To(h,this.latestValues),h}removeTransform(c){const d=zt();cn(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!bi(m.latestValues))continue;Lm(m.latestValues)&&m.updateSnapshot();const p=zt(),y=m.measurePageBox();cn(p,y),Kb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return bi(this.latestValues)&&Kb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),ZN(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ya(this.relativeTargetOrigin,this.target,N.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ka&&wi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lm(this.parent.latestValues)||JN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;cn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,N=this.treeScale.y;CO(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=zt());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qb(this.prevProjectionDelta.x,this.projectionDelta.x),qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Za(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==N||!Zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ka&&wi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=zt(),N=h?h.source:void 0,_=this.layout?this.layout.source:void 0,j=N!==_,w=this.getStack(),C=!w||w.members.length<=1,k=!!(j&&!C&&this.options.crossfade===!0&&!this.path.some(fI));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const L=R/1e3;tw(y.x,c.x,L),tw(y.y,c.y,L),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ya(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dI(this.relativeTarget,this.relativeTargetOrigin,b,L),E&&QO(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=zt()),cn(E,this.relativeTarget)),j&&(this.animationValues=p,qO(p,m,this.latestValues,L,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Pu.hasAnimatedSinceResize=!0,this.currentAnimation=MO(0,Yb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&aS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||zt();const y=Xr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const b=Xr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}cn(d,h),To(d,p),Za(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JO),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Vh("z",c,m,this.animationValues);for(let p=0;p<Fh.length;p++)Vh(`rotate${Fh[p]}`,c,m,this.animationValues),Vh(`skew${Fh[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YO;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Eu(c?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Eu(c?.pointerEvents)||""),this.hasProjected&&!bi(this.latestValues)&&(j.transform=p?p({},""):"none",this.hasProjected=!1),j}const b=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=ZO(this.projectionDeltaWithTransform,this.treeScale,b),p&&(m.transform=p(b,m.transform));const{x:N,y:_}=this.projectionDelta;m.transformOrigin=`${N.origin*100}% ${_.origin*100}% 0`,y.animationValues?m.opacity=y===this?(h=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const j in Vu){if(b[j]===void 0)continue;const{correct:w,applyTo:C}=Vu[j],k=m.transform==="none"?b[j]:w(b[j],y);if(C){const E=C.length;for(let R=0;R<E;R++)m[C[R]]=k}else m[j]=k}return this.options.layoutId&&(m.pointerEvents=y===this?Eu(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Xb),this.root.sharedNodes.clear()}}}function eI(t){t.updateLayout()}function tI(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:l}=t.options,c=r.source!==t.layout.source;l==="size"?un(y=>{const b=c?r.measuredBox[y]:r.layoutBox[y],N=Xr(b);b.min=n[y].min,b.max=b.min+N}):aS(l,r.layoutBox,n)&&un(y=>{const b=c?r.measuredBox[y]:r.layoutBox[y],N=Xr(n[y]);b.max=b.min+N,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+N)});const d=Co();Za(d,n,r.layoutBox);const h=Co();c?Za(h,t.applyTransform(i,!0),r.measuredBox):Za(h,n,r.layoutBox);const m=!nS(d);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:N}=y;if(b&&N){const _=zt();Ya(_,r.layoutBox,b.layoutBox);const j=zt();Ya(j,n,N.layoutBox),sS(_,j)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=_,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function rI(t){Ka&&wi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sI(t){t.clearSnapshot()}function Xb(t){t.clearMeasurements()}function iI(t){t.isLayoutDirty=!1}function oI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ew(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aI(t){t.resolveTargetDelta()}function lI(t){t.calcProjection()}function cI(t){t.resetSkewAndRotation()}function uI(t){t.removeLeadSnapshot()}function tw(t,e,r){t.translate=It(e.translate,0,r),t.scale=It(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function rw(t,e,r,n){t.min=It(e.min,r.min,n),t.max=It(e.max,r.max,n)}function dI(t,e,r,n){rw(t.x,e.x,r.x,n),rw(t.y,e.y,r.y,n)}function fI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hI={duration:.45,ease:[.4,0,.1,1]},nw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sw=nw("applewebkit/")&&!nw("chrome/")?Math.round:Jr;function iw(t){t.min=sw(t.min),t.max=sw(t.max)}function mI(t){iw(t.x),iw(t.y)}function aS(t,e,r){return t==="position"||t==="preserve-aspect"&&!yO(Jb(e),Jb(r),.2)}function pI(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gI=oS({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uh={current:void 0},lS=oS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uh.current){const t=new gI({});t.mount(window),t.setOptions({layoutScroll:!0}),Uh.current=t}return Uh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yI={pan:{Feature:OO},drag:{Feature:RO,ProjectionNode:lS,MeasureLayout:eS}};function ow(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,l=n[i];l&&kt.postRender(()=>l(e,Vl(e)))}class xI extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=yA(e,r=>(ow(this.node,r,"Start"),n=>ow(this.node,n,"End"))))}unmount(){}}class vI extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aw(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),l=n[i];l&&kt.postRender(()=>l(e,Vl(e)))}class bI extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=wA(e,r=>(aw(this.node,r,"Start"),(n,{success:i})=>aw(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mm=new WeakMap,$h=new WeakMap,wI=t=>{const e=Mm.get(t.target);e&&e(t)},jI=t=>{t.forEach(wI)};function NI({root:t,...e}){const r=t||document;$h.has(r)||$h.set(r,{});const n=$h.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jI,{root:t,...e})),n[i]}function SI(t,e,r){const n=NI(e);return Mm.set(t,r),n.observe(t),()=>{Mm.delete(t),n.unobserve(t)}}const _I={some:0,all:1};class kI extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_I[i]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),b=m?p:y;b&&b(h)};return SI(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(CI(e,r))&&this.startObserver()}unmount(){}}function CI({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const EI={inView:{Feature:kI},tap:{Feature:bI},focus:{Feature:vI},hover:{Feature:xI}},TI={layout:{ProjectionNode:lS,MeasureLayout:eS}},Fm={current:null},cS={current:!1};function PI(){if(cS.current=!0,!!Op)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fm.current=t.matches;t.addListener(e),e()}else Fm.current=!1}const AI=[...IN,jr,Hs],RI=t=>AI.find(ON(t)),lw=new WeakMap;function OI(t,e,r){for(const n in e){const i=e[n],l=r[n];if(Nr(i))t.addValue(n,i);else if(Nr(l))t.addValue(n,ul(i,{owner:t}));else if(l!==i)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(n);t.addValue(n,ul(c!==void 0?c:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class II{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=og,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=$n.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,kt.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=yd(r),this.isVariantNode=Bj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(r,{},this);for(const N in b){const _=b[N];h[N]!==void 0&&Nr(_)&&_.set(h[N],!1)}}mount(e){this.current=e,lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),cS.current||PI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lw.delete(this.current),this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Di.has(e),i=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&kt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const r=Bo[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<cw.length;n++){const i=cw[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=OI(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ul(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(AN(i)||jN(i))?i=parseFloat(i):!RI(i)&&Hs.test(r)&&(i=EN(e,r)),this.setBaseTarget(e,Nr(i)?i.get():i)),Nr(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=Up(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Nr(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new eg),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class uS extends II{constructor(){super(...arguments),this.KeyframeResolver=LN}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function LI(t){return window.getComputedStyle(t)}class DI extends uS{constructor(){super(...arguments),this.type="html",this.renderInstance=Zj}readValueFromInstance(e,r){if(Di.has(r)){const n=ig(r);return n&&n.default||0}else{const n=LI(e),i=(Gj(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return YN(e,r)}build(e,r,n){qp(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Hp(e,r,n)}}class MI extends uS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Di.has(r)){const n=ig(r);return n&&n.default||0}return r=Yj.has(r)?r:Mp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return tN(e,r,n)}build(e,r,n){zp(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){Xj(e,r,n,i)}mount(e){this.isSVGTag=Kp(e.tagName),super.mount(e)}}const FI=(t,e)=>Vp(t)?new MI(e):new DI(e,{allowProjection:t!==v.Fragment}),VI=uA({...lO,...EI,...yI,...TI},FI),Ye=_P(VI);var Vm=function(t,e){return Vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Vm(t,e)};function dS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fn=function(){return fn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},fn.apply(this,arguments)};function Xs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fS(t,e,r,n){var i=arguments.length,l=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,n);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(i<3?c(l):i>3?c(e,r,l):c(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function hS(t,e){return function(r,n){e(r,n,t)}}function mS(t,e,r,n,i,l){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=n.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?n.static?t:t.prototype:null,p=e||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),y,b=!1,N=r.length-1;N>=0;N--){var _={};for(var j in n)_[j]=j==="access"?{}:n[j];for(var j in n.access)_.access[j]=n.access[j];_.addInitializer=function(C){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(C||null))};var w=(0,r[N])(d==="accessor"?{get:p.get,set:p.set}:p[h],_);if(d==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(y=c(w.get))&&(p.get=y),(y=c(w.set))&&(p.set=y),(y=c(w.init))&&i.unshift(y)}else(y=c(w))&&(d==="field"?i.unshift(y):p[h]=y)}m&&Object.defineProperty(m,n.name,p),b=!0}function pS(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function gS(t){return typeof t=="symbol"?t:"".concat(t)}function yS(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function xS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Le(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(y){c(y)}}function h(p){try{m(n.throw(p))}catch(y){c(y)}}function m(p){p.done?l(p.value):i(p.value).then(d,h)}m((n=n.apply(t,e||[])).next())})}function vS(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,i,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(p){return h([m,p])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(p){m=[6,p],i=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var bd=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function bS(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bd(e,t,r)}function Wu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ug(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,l=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)l.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return l}function wS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ug(arguments[e]));return t}function jS(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,i++)n[i]=l[c];return n}function dg(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,l;n<i;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}function zo(t){return this instanceof zo?(this.v=t,this):new zo(t)}function NS(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(N){return function(_){return Promise.resolve(_).then(N,y)}}function d(N,_){n[N]&&(i[N]=function(j){return new Promise(function(w,C){l.push([N,j,w,C])>1||h(N,j)})},_&&(i[N]=_(i[N])))}function h(N,_){try{m(n[N](_))}catch(j){b(l[0][3],j)}}function m(N){N.value instanceof zo?Promise.resolve(N.value.v).then(p,y):b(l[0][2],N)}function p(N){h("next",N)}function y(N){h("throw",N)}function b(N,_){N(_),l.shift(),l.length&&h(l[0][0],l[0][1])}}function SS(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,l){e[i]=t[i]?function(c){return(r=!r)?{value:zo(t[i](c)),done:!1}:l?l(c):c}:l}}function _S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wu=="function"?Wu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),i(d,h,c.done,c.value)})}}function i(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}function kS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var UI=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Um=function(t){return Um=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Um(t)};function CS(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Um(t),n=0;n<r.length;n++)r[n]!=="default"&&bd(e,t,r[n]);return UI(e,t),e}function ES(t){return t&&t.__esModule?t:{default:t}}function TS(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function PS(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function AS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function RS(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var $I=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function OS(t){function e(l){t.error=t.hasError?new $I(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(i,function(c){return e(c),i()})}else n|=1}catch(c){e(c)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function IS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,l,c){return n?e?".jsx":".js":i&&(!l||!c)?r:i+l+"."+c.toLowerCase()+"js"}):t}const BI={__extends:dS,__assign:fn,__rest:Xs,__decorate:fS,__param:hS,__esDecorate:mS,__runInitializers:pS,__propKey:gS,__setFunctionName:yS,__metadata:xS,__awaiter:Le,__generator:vS,__createBinding:bd,__exportStar:bS,__values:Wu,__read:ug,__spread:wS,__spreadArrays:jS,__spreadArray:dg,__await:zo,__asyncGenerator:NS,__asyncDelegator:SS,__asyncValues:_S,__makeTemplateObject:kS,__importStar:CS,__importDefault:ES,__classPrivateFieldGet:TS,__classPrivateFieldSet:PS,__classPrivateFieldIn:AS,__addDisposableResource:RS,__disposeResources:OS,__rewriteRelativeImportExtension:IS},qI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:RS,get __assign(){return fn},__asyncDelegator:SS,__asyncGenerator:NS,__asyncValues:_S,__await:zo,__awaiter:Le,__classPrivateFieldGet:TS,__classPrivateFieldIn:AS,__classPrivateFieldSet:PS,__createBinding:bd,__decorate:fS,__disposeResources:OS,__esDecorate:mS,__exportStar:bS,__extends:dS,__generator:vS,__importDefault:ES,__importStar:CS,__makeTemplateObject:kS,__metadata:xS,__param:hS,__propKey:gS,__read:ug,__rest:Xs,__rewriteRelativeImportExtension:IS,__runInitializers:pS,__setFunctionName:yS,__spread:wS,__spreadArray:dg,__spreadArrays:jS,__values:Wu,default:BI},Symbol.toStringTag,{value:"Module"})),zI="modulepreload",WI=function(t){return"/"+t},uw={},ea=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=m(r.map(p=>{if(p=WI(p),p in uw)return;uw[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":zI,y||(N.as="script"),N.crossOrigin="",N.href=p,h&&N.setAttribute("nonce",h),document.head.appendChild(N),y)return new Promise((_,j)=>{N.addEventListener("load",_),N.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return i.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},KI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class fg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class dw extends fg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fw extends fg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hw extends fg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $m;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($m||($m={}));class HI{constructor(e,{headers:r={},customFetch:n,region:i=$m.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=KI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Le(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:l,method:c,body:d,signal:h}=n;let m={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let b;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=d):typeof d=="string"?(m["Content-Type"]="text/plain",b=d):typeof FormData<"u"&&d instanceof FormData?b=d:(m["Content-Type"]="application/json",b=JSON.stringify(d)):b=d;const N=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:b,signal:h}).catch(C=>{throw C.name==="AbortError"?C:new dw(C)}),_=N.headers.get("x-relay-error");if(_&&_==="true")throw new fw(N);if(!N.ok)throw new hw(N);let j=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return j==="application/json"?w=yield N.json():j==="application/octet-stream"||j==="application/pdf"?w=yield N.blob():j==="text/event-stream"?w=N:j==="multipart/form-data"?w=yield N.formData():w=yield N.text(),{data:w,error:null,response:N}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new dw(l)}:{data:null,error:l,response:l instanceof hw||l instanceof fw?l.context:void 0}}})}}var wr={};const ta=_0(qI);var uu={},du={},fu={},hu={},mu={},GI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=GI();const QI=Wo.fetch,LS=Wo.fetch.bind(Wo),DS=Wo.Headers,JI=Wo.Request,ZI=Wo.Response,Mi=Object.freeze(Object.defineProperty({__proto__:null,Headers:DS,Request:JI,Response:ZI,default:LS,fetch:QI},Symbol.toStringTag,{value:"Module"})),YI=_0(Mi);var pu={},mw;function MS(){if(mw)return pu;mw=1,Object.defineProperty(pu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pu.default=t,pu}var pw;function FS(){if(pw)return mu;pw=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=ta,e=t.__importDefault(YI),r=t.__importDefault(MS());class n{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,b,N;let _=null,j=null,w=null,C=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const F=await m.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=F:j=JSON.parse(F))}const R=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),L=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");R&&L&&L.length>1&&(w=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,C=406,k="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const R=await m.text();try{_=JSON.parse(R),Array.isArray(_)&&m.status===404&&(j=[],_=null,C=200,k="OK")}catch{m.status===404&&R===""?(C=204,k="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((N=_?.details)===null||N===void 0)&&N.includes("0 rows"))&&(_=null,C=200,k="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:j,count:w,status:C,statusText:k}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,b;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return mu.default=n,mu}var gw;function VS(){if(gw)return hu;gw=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=ta.__importDefault(FS());class r extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const y=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return hu.default=r,hu}var yw;function hg(){if(yw)return fu;yw=1,Object.defineProperty(fu,"__esModule",{value:!0});const e=ta.__importDefault(VS()),r=new RegExp("[,()]");class n extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return fu.default=n,fu}var xw;function US(){if(xw)return du;xw=1,Object.defineProperty(du,"__esModule",{value:!0});const e=ta.__importDefault(hg());class r{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let m=!1;const p=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,N)=>b.concat(Object.keys(N)),[]);if(y.length>0){const b=[...new Set(y)].map(N=>`"${N}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return du.default=r,du}var vw;function XI(){if(vw)return uu;vw=1,Object.defineProperty(uu,"__esModule",{value:!0});const t=ta,e=t.__importDefault(US()),r=t.__importDefault(hg());class n{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new n(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var p;let y;const b=new URL(`${this.url}/rpc/${l}`);let N;d||h?(y=d?"HEAD":"GET",Object.entries(c).filter(([j,w])=>w!==void 0).map(([j,w])=>[j,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([j,w])=>{b.searchParams.append(j,w)})):(y="POST",N=c);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:_,schema:this.schemaName,body:N,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return uu.default=n,uu}var bw;function eL(){if(bw)return wr;bw=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.PostgrestError=wr.PostgrestBuilder=wr.PostgrestTransformBuilder=wr.PostgrestFilterBuilder=wr.PostgrestQueryBuilder=wr.PostgrestClient=void 0;const t=ta,e=t.__importDefault(XI());wr.PostgrestClient=e.default;const r=t.__importDefault(US());wr.PostgrestQueryBuilder=r.default;const n=t.__importDefault(hg());wr.PostgrestFilterBuilder=n.default;const i=t.__importDefault(VS());wr.PostgrestTransformBuilder=i.default;const l=t.__importDefault(FS());wr.PostgrestBuilder=l.default;const c=t.__importDefault(MS());return wr.PostgrestError=c.default,wr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},wr}var $S=eL();const BS=up($S),tL=S0({__proto__:null,default:BS},[$S]),{PostgrestClient:rL,PostgrestQueryBuilder:jB,PostgrestFilterBuilder:NB,PostgrestTransformBuilder:SB,PostgrestBuilder:_B,PostgrestError:kB}=BS||tL;class nL{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sL="2.78.0",iL=`realtime-js/${sL}`,oL="1.0.0",Bm=1e4,aL=1e3,lL=100;var Xa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xa||(Xa={}));var rr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rr||(rr={}));var _n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_n||(_n={}));var qm;(function(t){t.websocket="websocket"})(qm||(qm={}));var Ni;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ni||(Ni={}));class cL{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class qS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const ww=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=uL(c,t,e,i),l),{}):{}},uL=(t,e,r,n)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!n.includes(l)?zS(l,c):zm(c)},zS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mL(e,r)}switch(t){case wt.bool:return dL(e);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return fL(e);case wt.json:case wt.jsonb:return hL(e);case wt.timestamp:return pL(e);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return zm(e);default:return zm(e)}},zm=t=>t,dL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mL=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>zS(e,d))}return t},pL=t=>typeof t=="string"?t.replace(" ","T"):t,WS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bh{constructor(e,r,n={},i=Bm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jw||(jw={}));class el{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,i,l,c),this.pendingDiffs.forEach(h=>{this.state=el.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=el.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,p)=>{c[m]||(h[m]=p)}),this.map(c,(m,p)=>{const y=l[m];if(y){const b=p.map(w=>w.presence_ref),N=y.map(w=>w.presence_ref),_=p.filter(w=>N.indexOf(w.presence_ref)<0),j=y.filter(w=>b.indexOf(w.presence_ref)<0);_.length>0&&(d[m]=_),j.length>0&&(h[m]=j)}else d[m]=p}),this.syncDiff(l,{joins:d,leaves:h},n,i)}static syncDiff(e,r,n,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const p=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),p.length>0){const y=e[d].map(N=>N.presence_ref),b=p.filter(N=>y.indexOf(N.presence_ref)<0);e[d].unshift(...b)}n(d,p,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const p=h.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nw||(Nw={}));var tl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tl||(tl={}));var os;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(os||(os={}));class mg{constructor(e,r={config:{}},n){var i,l;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,_n.join,this.params,this.timeout),this.rejoinTimer=new qS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new el(this),this.broadcastEndpointURL=WS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(N=>N.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[tl.PRESENCE]&&this.bindings[tl.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(N=>e?.(os.CHANNEL_ERROR,N)),this._onClose(()=>e?.(os.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var _;if(this.socket.setAuth(),N===void 0){e?.(os.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,w=(_=j?.length)!==null&&_!==void 0?_:0,C=[];for(let k=0;k<w;k++){const E=j[k],{filter:{event:R,schema:L,table:F,filter:K}}=E,Z=N&&N[k];if(Z&&Z.event===R&&Z.schema===L&&Z.table===F&&Z.filter===K)C.push(Object.assign(Object.assign({},E),{id:Z.id}));else{this.unsubscribe(),this.state=rr.errored,e?.(os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(os.SUBSCRIBED);return}}).receive("error",N=>{this.state=rr.errored,e?.(os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{e?.(os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===rr.joined&&e===tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Bh(this,_n.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bh(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=_n;if(n&&[d,h,m,p].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(N=>{var _,j,w;return((_=N.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(j=N.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(N=>N.callback(b,n)):(l=this.bindings[c])===null||l===void 0||l.filter(N=>{var _,j,w,C,k,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in N){const R=N.id,L=(_=N.filter)===null||_===void 0?void 0:_.event;return R&&((j=r.ids)===null||j===void 0?void 0:j.includes(R))&&(L==="*"||L?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(k=(C=N?.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return R==="*"||R===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===c}).map(N=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:j,table:w,commit_timestamp:C,type:k,errors:E}=_;b=Object.assign(Object.assign({},{schema:j,table:w,commit_timestamp:C,eventType:k,new:{},old:{},errors:E}),this._getPayloadRecords(_))}N.callback(b,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&mg.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_n.close,{},e)}_onError(e){this._on(_n.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ww(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ww(e.columns,e.old_record)),r}}const qh=()=>{},gu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gL=[1e3,2e3,5e3,1e4],yL=1e4,xL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bm,this.transport=null,this.heartbeatIntervalMs=gu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qh,this.ref=0,this.reconnectTimer=null,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new cL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...c)=>ea(async()=>{const{default:d}=await Promise.resolve().then(()=>Mi);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qm.websocket}`,this.httpEndpoint=WS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oL}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xa.connecting:return Ni.Connecting;case Xa.open:return Ni.Open;case Xa.closing:return Ni.Closing;default:return Ni.Closed}}isConnected(){return this.connectionState()===Ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new mg(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(aL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_n.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([xL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:iL};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(_n.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,l,c,d,h,m,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Bm,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:gu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:qh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>gL[y-1]||yL),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((y,b)=>b(JSON.stringify(y))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class pg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bL extends pg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wm extends pg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wL=()=>Le(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ea(()=>Promise.resolve().then(()=>Mi),void 0)).Response:Response}),Km=t=>{if(Array.isArray(t))return t.map(r=>Km(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Km(n)}),e},jL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},NL=(t,e,r)=>Le(void 0,void 0,void 0,function*(){const n=yield wL();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,c=i?.statusCode||l+"";e(new bL(zh(i),l,c))}).catch(i=>{e(new Wm(zh(i),i))}):e(new Wm(zh(t),t))}),SL=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(jL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ul(t,e,r,n,i,l){return Le(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,SL(e,n,i,l)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>NL(h,d,n))})})}function hl(t,e,r,n){return Le(this,void 0,void 0,function*(){return Ul(t,"GET",e,r,n)})}function Nn(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return Ul(t,"POST",e,n,i,r)})}function Hm(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return Ul(t,"PUT",e,n,i,r)})}function _L(t,e,r,n){return Le(this,void 0,void 0,function*(){return Ul(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yg(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return Ul(t,"DELETE",e,n,i,r)})}class kL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rt(e))return{data:null,error:e};throw e}})}}var KS;class CL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[KS]="BlobDownloadBuilder",this.promise=null}asStream(){return new kL(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rt(e))return{data:null,error:e};throw e}})}}KS=Symbol.toStringTag;const EL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TL{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Le(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Sw),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),y=yield(e=="PUT"?Hm:Nn)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Rt(l))return{data:null,error:l};throw l}})}upload(e,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Le(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Sw.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield Hm(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Rt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Le(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield Nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new pg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield Nn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Le(this,void 0,void 0,function*(){try{const i=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>hl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new CL(h,this.shouldThrowOnError)}info(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Km(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}exists(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield _L(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n)&&n instanceof Wm){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(e){return Le(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EL),r),{prefix:e||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Le(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const HS="2.78.0",GS={"X-Client-Info":`storage-js/${HS}`};class PL{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GS),r),this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}createBucket(e){return Le(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class AL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GS),r),this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}const xg={"X-Client-Info":`storage-js/${HS}`,"Content-Type":"application/json"};class QS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Wh extends QS{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RL extends QS{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var _w;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_w||(_w={}));const vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},OL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IL=(t,e,r)=>Le(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new Wh(kw(c),i,d))}).catch(()=>{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Wh(d,i,c))});else{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Wh(d,i,c))}}else e(new RL(kw(t),t))}),LL=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(OL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function DL(t,e,r,n,i,l){return Le(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,LL(e,n,i,l)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>IL(h,d,n))})})}function Gr(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return DL(t,"POST",e,n,i,r)})}class ML{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listIndexes(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class FL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class VL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return Le(this,arguments,void 0,function*(e={}){try{return{data:yield Gr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class UL extends VL{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new $L(this.url,this.headers,e,this.fetch)}}class $L extends ML{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Le(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Le(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Le(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Le(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new BL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class BL extends FL{constructor(e,r,n,i,l){super(e,r,l),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Le(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Le(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Le(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Le(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Le(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qL extends PL{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new TL(this.url,this.headers,e,this.fetch)}get vectors(){return new UL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AL(this.url+"/iceberg",this.headers,this.fetch)}}const zL="2.78.0";let Ha="";typeof Deno<"u"?Ha="deno":typeof document<"u"?Ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ha="react-native":Ha="node";const WL={"X-Client-Info":`supabase-js-${Ha}/${zL}`},KL={headers:WL},HL={schema:"public"},GL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QL={},JL=t=>{let e;return t?e=t:typeof fetch>"u"?e=LS:e=fetch,(...r)=>e(...r)},ZL=()=>typeof Headers>"u"?DS:Headers,YL=(t,e,r)=>{const n=JL(r),i=ZL();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,Object.assign(Object.assign({},c),{headers:m}))}};function XL(t){return t.endsWith("/")?t:t+"/"}function e4(t,e){var r,n;const{db:i,auth:l,realtime:c,global:d}=t,{db:h,auth:m,realtime:p,global:y}=e,b={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function t4(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const JS="2.78.0",wo=30*1e3,Gm=3,Kh=Gm*wo,r4="http://localhost:9999",n4="supabase.auth.token",s4={"X-Client-Info":`gotrue-js/${JS}`},Qm="X-Supabase-Api-Version",ZS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o4=600*1e3;class ml extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class a4 extends ml{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function l4(t){return Ue(t)&&t.name==="AuthApiError"}class Si extends ml{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ei extends ml{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class bn extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c4(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class co extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yu extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xu extends ei{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u4(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cw extends ei{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jm extends ei{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hh(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class Ew extends ei{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zm extends ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tw=` 	
\r=`.split(""),d4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tw.length;e+=1)t[Tw[e].charCodeAt(0)]=-2;for(let e=0;e<Ku.length;e+=1)t[Ku[e].charCodeAt(0)]=e;return t})();function Pw(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ku[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ku[n]),e.queuedBits-=6}}function YS(t,e,r){const n=d4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Aw(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{m4(c,n,r)};for(let c=0;c<t.length;c+=1)YS(t.charCodeAt(c),i,l);return e.join("")}function f4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function h4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}f4(n,e)}}function m4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ro(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)YS(t.charCodeAt(i),r,n);return new Uint8Array(e)}function p4(t){const e=[];return h4(t,r=>e.push(r)),new Uint8Array(e)}function ki(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Pw(i,r,n)),Pw(null,r,n),e.join("")}function g4(t){return Math.round(Date.now()/1e3)+t}function y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tr=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},XS=()=>{if(!Tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function x4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const e_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},v4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},xi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Us=async(t,e)=>{await t.removeItem(e)};class wd{constructor(){this.promise=new wd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}wd.promiseConstructor=Promise;function Gh(t){const e=t.split(".");if(e.length!==3)throw new Zm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!i4.test(e[n]))throw new Zm("JWT not in base64url format");return{header:JSON.parse(Aw(e[0])),payload:JSON.parse(Aw(e[1])),signature:Ro(e[2]),raw:{header:e[0],payload:e[1]}}}async function b4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function w4(t,e){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){n(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function j4(t){return("0"+t.toString(16)).substr(-2)}function N4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,j4).join("")}async function S4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function _4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await S4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uo(t,e,r=!1){const n=N4();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await jo(t,`${e}-code-verifier`,i);const l=await _4(n);return[l,n===l?"plain":"s256"]}const k4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C4(t){const e=t.headers.get(Qm);if(!e||!e.match(k4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function E4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function T4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const P4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(t){if(!P4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function A4(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Rw(t){return JSON.parse(JSON.stringify(t))}const ji=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),R4=[502,503,504];async function Ow(t){var e;if(!v4(t))throw new Jm(ji(t),0);if(R4.includes(t.status))throw new Jm(ji(t),t.status);let r;try{r=await t.json()}catch(l){throw new Si(ji(l),l)}let n;const i=C4(t);if(i&&i.getTime()>=ZS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ew(ji(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ew(ji(r),t.status,r.weak_password.reasons);throw new a4(ji(r),t.status||500,n)}const O4=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Qe(t,e,r,n){var i;const l=Object.assign({},n?.headers);l[Qm]||(l[Qm]=ZS["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await I4(t,e,r+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function I4(t,e,r,n,i,l){const c=O4(e,n,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new Jm(ji(h),0)}if(d.ok||await Ow(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await Ow(h)}}function wn(t){var e;let r=null;M4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=g4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Iw(t){const e=wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function L4(t){return{data:t,error:null}}function D4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l}=t,c=Xs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Lw(t){return t}function M4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jh=["global","local","others"];class F4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=e_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Jh[0]){if(Jh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Xs(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:D4,redirectTo:r?.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Lw});if(p.error)throw p.error;const y=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,N=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return N.length>0&&(N.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fo(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fo(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fo(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fo(e.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Lw});if(p.error)throw p.error;const y=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,N=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return N.length>0&&(N.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function Dw(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ho={debug:!!(globalThis&&XS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class V4 extends t_{}async function U4(t,e,r){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new V4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ho.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function B4(t){return parseInt(t,16)}function q4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function z4(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:p,uri:y,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const N=r_(t.address),_=p?`${p}://${n}`:n,j=t.statement?`${t.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${N}

${j}`;let C=`URI: ${y}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let k=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);k+=`
- ${E}`}C+=k}return`${w}
${C}`}class Jt extends Error{constructor({message:e,code:r,cause:n,name:i}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=i??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Hu extends Jt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function W4({error:t,options:e}){var r,n,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(n_(c)){if(l.rp.id!==c)return new Jt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function K4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(n_(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class H4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const G4=new H4;function Q4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Xs(t,["challenge","user","excludeCredentials"]),l=Ro(e).buffer,c=Object.assign(Object.assign({},r),{id:Ro(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ro(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function J4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Xs(t,["challenge","allowCredentials"]),i=Ro(e).buffer,l=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ro(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Z4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ki(new Uint8Array(t.response.attestationObject)),clientDataJSON:ki(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Y4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ki(new Uint8Array(i.authenticatorData)),clientDataJSON:ki(new Uint8Array(i.clientDataJSON)),signature:ki(new Uint8Array(i.signature)),userHandle:i.userHandle?ki(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mw(){var t,e;return!!(Tr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function X4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",e)}:{data:null,error:new Hu("Empty credential response",e)}}catch(e){return{data:null,error:W4({error:e,options:t})}}}async function eD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",e)}:{data:null,error:new Hu("Empty credential response",e)}}catch(e){return{data:null,error:K4({error:e,options:t})}}}const tD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},rD={userVerification:"preferred",hints:["security-key"]};function Gu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(e(c)){const d=n[l];e(d)?n[l]=Gu(d,c):n[l]=Gu(c)}else n[l]=c}return n}function nD(t,e){return Gu(tD,t,e||{})}function sD(t,e){return Gu(rD,t,e||{})}class iD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const h=i??G4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=nD(c.webauthn.credential_options.publicKey,l?.create),{data:p,error:y}=await X4({publicKey:m,signal:h});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const m=sD(c.webauthn.credential_options.publicKey,l?.request),{data:p,error:y}=await eD(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!Mw())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!Mw())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in register",c)}}}}$4();const oD={url:r4,storageKey:n4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fw(t,e,r){return await r()}const mo={};class pl{get jwks(){var e,r;return(r=(e=mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pl.nextInstanceID,pl.nextInstanceID+=1,this.instanceID>0&&Tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},oD),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new F4({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=e_(i.fetch),this.lock=i.lock||Fw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Tr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=U4:this.lock=Fw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:XS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),Tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${JS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=x4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),u4(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?{error:r}:{error:new Si("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:wn}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,n,i;try{let l;if("email"in e){const{email:p,password:y,options:b}=e;let N=null,_=null;this.flowType==="pkce"&&([N,_]=await uo(this.storage,this.storageKey)),l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:p,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:N,code_challenge_method:_},xform:wn})}else if("phone"in e){const{phone:p,password:y,options:b}=e;l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:wn})}else throw new yu("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Iw})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Iw})}else throw new yu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,l,c,d,h,m,p,y,b;let N,_;if("message"in e)N=e.message,_=e.signature;else{const{chain:j,wallet:w,statement:C,options:k}=e;let E;if(Tr())if(typeof w=="object")E=w;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")E=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const R=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),L=await E.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=r_(L[0]);let K=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!K){const O=await E.request({method:"eth_chainId"});K=B4(O)}const Z={domain:R.host,address:F,statement:C,uri:R.href,version:"1",chainId:K,nonce:(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};N=z4(Z),_=await E.request({method:"personal_sign",params:[q4(N),F]})}try{const{data:j,error:w}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wn});if(w)throw w;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new co}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:w})}catch(j){if(Ue(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var r,n,i,l,c,d,h,m,p,y,b,N;let _,j;if("message"in e)_=e.message,j=e.signature;else{const{chain:w,wallet:C,statement:k,options:E}=e;let R;if(Tr())if(typeof C=="object")R=C;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))R=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const L=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const F=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),k?{statement:k}:null));let K;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")K=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)K=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)_=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),j=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const F=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=F}}try{const{data:w,error:C}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ki(j)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:wn});if(C)throw C;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new co}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:C})}catch(w){if(Ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await xi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:l,error:c}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:wn});if(await Us(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new co}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(Ue(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:l,nonce:c}=e,d=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new co}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await uo(this.storage,this.storageKey));const{error:y}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new yu("You must provide either an email or phone number.")}catch(d){if(Ue(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,n;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:wn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await uo(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:L4})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new bn;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:l}=e,{error:c}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:i,options:l}=e,{data:c,error:d}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new yu("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Kh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await xi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Qh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=A4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qs}):await this._useSession(async r=>{var n,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:qs})})}catch(r){if(Ue(r))return c4(r)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new bn;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await uo(this.storage,this.storageKey));const{data:m,error:p}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:qs});if(p)throw p;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,i=!0,l=null;const{payload:c}=Gh(e.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new bn;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Tr())throw new xu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cw("No code detected.");const{data:k,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new xu("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(d);let b=p+y;h&&(b=parseInt(h));const N=b-p;N*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${y}s`);const _=b-y;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,p);const{data:j,error:w}=await this._getUser(l);if(w)throw w;const C={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(n){if(Ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await xi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{error:l};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(l4(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=y4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await uo(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async l=>{var c,d,h,m,p;const{data:y,error:b}=l;if(b)throw b;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",N,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Tr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Ue(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:h,access_token:m,nonce:p}=e,y=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:wn}),{data:b,error:N}=y;return N?{data:{user:null,session:null},error:N}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:N})}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:c}=r;if(c)throw c;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await w4(async i=>(i>0&&await b4(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wn})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Hh(l)&&Date.now()+c-n<wo})}catch(n){if(this._debug(r,"error",n),Ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Tr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await xi(this.storage,this.storageKey);if(i&&this.userStorage){let c=await xi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await jo(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Qh()}else if(i&&!i.user&&!i.user){const c=await xi(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Us(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,i)):i.user=Qh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kh;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Kh}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Hh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new wd;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new bn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),Ue(l)){const c={data:null,error:l};return Hh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=Rw(i);await jo(this.storage,this.storageKey,l)}else{const i=Rw(r);await jo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wo}ms, refresh threshold is ${Gm} ticks`),i<=Gm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await uo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?{data:null,error:l}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Z4(e.webauthn.credential_response):Y4(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{data:null,error:l};const c=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Q4(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:J4(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gh(n.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new bn}})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return{data:null,error:l};if(!i)return{data:null,error:new bn};const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return{data:null,error:l};if(!i)return{data:null,error:new bn};const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+o4>i)return n;const{data:l,error:c}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:N,error:_}=await this.getSession();if(_||!N.session)return{data:null,error:_};n=N.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:h}}=Gh(n);r?.allowExpired||E4(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:N}=await this.getUser(n);if(N)throw N;return{data:{claims:l,header:i,signature:c},error:null}}const p=T4(i.alg),y=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,c,p4(`${d}.${h}`)))throw new Zm("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}pl.nextInstanceID=0;const aD=pl;class lD extends aD{constructor(e){super(e)}}class cD{constructor(e,r,n){var i,l,c;this.supabaseUrl=e,this.supabaseKey=r;const d=t4(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:HL,realtime:QL,auth:Object.assign(Object.assign({},GL),{storageKey:h}),global:KL},p=e4(n??{},m);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=YL(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new rL(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new qL(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new HI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:l,storageKey:c,flowType:d,lock:h,debug:m},p,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lD({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:l,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uD=(t,e,r)=>new cD(t,e,r);function dD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fD="https://irugmulvyqbhajkfrpmg.supabase.co",hD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlydWdtdWx2eXFiaGFqa2ZycG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzODU1NDAsImV4cCI6MjA3Njk2MTU0MH0.PufMRgRQ__c5zxCzhO3n90laj1sY7HSTIIfLOzTh-hE",We=uD(fD,hD,{auth:{persistSession:!1,autoRefreshToken:!1}}),s_=v.createContext(void 0);function mD({children:t}){const[e,r]=v.useState(null),[n,i]=v.useState(!0);v.useEffect(()=>{let c=!0;async function d(){const{data:m}=await We.auth.getSession();c&&(r(m.session?.user??null),i(!1))}d();const{data:h}=We.auth.onAuthStateChange((m,p)=>{r(p?.user??null)});return()=>{try{h?.subscription?.unsubscribe?.(),h?.unsubscribe?.()}catch{}c=!1}},[]);const l=async()=>{await We.auth.signOut()};return o.jsx(s_.Provider,{value:{user:e,loading:n,signOut:l},children:t})}function gr(){const t=v.useContext(s_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function pD(){const[t,e]=v.useState(!1),r=[{href:"/",label:"Home"},{href:"/labs",label:"Labs"},{href:"/pricing",label:"Pricing"},{href:"/contact",label:"Contact"}],n=()=>e(d=>!d),i=()=>e(!1),{user:l,signOut:c}=gr();return o.jsxs(Ye.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-sm border-b",children:[o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(Ne,{href:"/",children:o.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-12 w-auto"})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs("button",{type:"button",onClick:n,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","aria-expanded":t,"aria-controls":"mobile-nav",children:[o.jsx("span",{className:"sr-only",children:"Toggle navigation menu"}),o.jsxs("div",{className:"flex flex-col items-center justify-center gap-1.5",children:[o.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),o.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),o.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"})]})]})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[r.map(d=>o.jsx(Ne,{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.href)),l?o.jsxs(o.Fragment,{children:[o.jsx(Ne,{href:"/account",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"My profile"}),o.jsx("button",{onClick:()=>c(),className:"inline-flex items-center rounded-full border px-4 py-2 text-sm font-semibold text-muted-foreground transition hover:border-primary hover:text-primary",children:"Sign out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ne,{href:"/login",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Sign in"}),o.jsx(Ne,{href:"/signup",className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90",children:"Create account"})]})]})]})}),o.jsx(yP,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",onClick:i},"overlay"),o.jsxs(Ye.aside,{id:"mobile-nav",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed top-0 right-0 z-50 flex h-screen w-64 flex-col bg-background shadow-lg md:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[o.jsx(Ne,{href:"/",onClick:i,children:o.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-10 w-auto"})}),o.jsxs("button",{type:"button",onClick:i,className:"inline-flex h-9 w-9 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[o.jsx("span",{className:"sr-only",children:"Close navigation menu"}),o.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:o.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})]}),o.jsxs("nav",{className:"flex flex-1 flex-col gap-2 px-4 py-6",children:[[...r,...l?[{href:"/account",label:"My profile"}]:[{href:"/login",label:"Sign in"},{href:"/signup",label:"Create account"}]].map(d=>o.jsx(Ne,{href:d.href,onClick:i,className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:d.label},d.href)),l&&o.jsx("button",{onClick:()=>{c(),i()},className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary text-left",children:"Sign out"})]})]},"panel")]})})]})}const gD=Sp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oo=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},l)=>{const c=n?H0:"button";return o.jsx(c,{className:pt(gD({variant:e,size:r,className:t})),ref:l,...i})});Oo.displayName="Button";function yD(){const t=()=>{const e=document.querySelector("#about-section");e&&e.scrollIntoView({behavior:"smooth"})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center px-4 py-20",children:[o.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-gradient-to-br from-blue-400 to-pink-400"}),o.jsx("div",{className:"container mx-auto relative z-10",children:o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-pink-600",children:"Infrastructure for scientific collaboration."}),o.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-12",children:"GLASS-Connect gives labs a standard profile, trusted verification, and direct routing so innovation moves faster."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsx(Oo,{size:"lg",className:"text-lg px-8",asChild:!0,children:o.jsx(Ne,{href:"/admin/labs",children:"List your lab"})}),o.jsx(Oo,{size:"lg",variant:"outline",className:"text-lg px-8",asChild:!0,children:o.jsx(Ne,{href:"/labs",children:"Browse labs"})}),o.jsx(Oo,{size:"lg",variant:"outline",className:"text-lg px-8 bg-pink-500 text-white border-none hover:bg-pink-500/90",onClick:t,children:"How it works"})]})]})})]})}const i_=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:pt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));i_.displayName="Card";const xD=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:pt("flex flex-col space-y-1.5 p-6",t),...e}));xD.displayName="CardHeader";const vD=v.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));vD.displayName="CardTitle";const bD=v.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:pt("text-sm text-muted-foreground",t),...e}));bD.displayName="CardDescription";const o_=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:pt("p-6 pt-0",t),...e}));o_.displayName="CardContent";const wD=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:pt("flex items-center p-6 pt-0",t),...e}));wD.displayName="CardFooter";function jD(){return o.jsx("section",{id:"about-section",className:"py-20 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"About GLASS-Connect"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"GLASS-Connect is the structured directory for research labs. We standardise how teams present capabilities, verify key details once, and route collaboration requests to real humans without endless back-and-forth."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:[{icon:o.jsx(o2,{className:"h-10 w-10 text-primary"}),title:"Trusted details",description:"Light remote/on-site verification so partners know the information and equipment are current."},{icon:o.jsx(P2,{className:"h-10 w-10 text-primary"}),title:"Structured profiles",description:"Clear capabilities, equipment, and collaboration preferences in a consistent, comparable format."},{icon:o.jsx(v2,{className:"h-10 w-10 text-primary"}),title:"Fast routing",description:"Qualified requests go straight to the right contact so labs spend more time collaborating."}].map((t,e)=>o.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.2},children:o.jsx(i_,{children:o.jsxs(o_,{className:"pt-6 text-center",children:[o.jsx("div",{className:"mb-4 flex justify-center",children:t.icon}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),o.jsx("p",{className:"text-muted-foreground",children:t.description})]})})},e))})]})})}var $l=t=>t.type==="checkbox",Ci=t=>t instanceof Date,Pr=t=>t==null;const a_=t=>typeof t=="object";var Yt=t=>!Pr(t)&&!Array.isArray(t)&&a_(t)&&!Ci(t),l_=t=>Yt(t)&&t.target?$l(t.target)?t.target.checked:t.target.value:t,ND=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,c_=(t,e)=>t.has(ND(e)),SD=t=>{const e=t.constructor&&t.constructor.prototype;return Yt(e)&&e.hasOwnProperty("isPrototypeOf")},bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(bg&&(t instanceof Blob||n))&&(r||Yt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!SD(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=nr(t[i]));else return t;return e}var jd=t=>/^\w*$/.test(t),Kt=t=>t===void 0,wg=t=>Array.isArray(t)?t.filter(Boolean):[],jg=t=>wg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(t,e,r)=>{if(!e||!Yt(t))return r;const n=(jd(e)?[e]:jg(e)).reduce((i,l)=>Pr(i)?i:i[l],t);return Kt(n)||n===t?Kt(t[e])?r:t[e]:n},Wr=t=>typeof t=="boolean",yt=(t,e,r)=>{let n=-1;const i=jd(e)?[e]:jg(e),l=i.length,c=l-1;for(;++n<l;){const d=i[n];let h=r;if(n!==c){const m=t[d];h=Yt(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Qu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ss={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ng=Fe.createContext(null);Ng.displayName="HookFormContext";const Nd=()=>Fe.useContext(Ng),_D=t=>{const{children:e,...r}=t;return Fe.createElement(Ng.Provider,{value:r},e)};var u_=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const c=l;return e._proxyFormState[c]!==kn.all&&(e._proxyFormState[c]=!n||kn.all),r&&(r[c]=!0),t[c]}});return i};const Sg=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;function kD(t){const e=Nd(),{control:r=e.control,disabled:n,name:i,exact:l}=t||{},[c,d]=Fe.useState(r._formState),h=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Sg(()=>r._subscribe({name:i,formState:h.current,exact:l,callback:m=>{!n&&d({...r._formState,...m})}}),[i,n,l]),Fe.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Fe.useMemo(()=>u_(c,r,h.current,!1),[c,r])}var Qr=t=>typeof t=="string",d_=(t,e,r,n,i)=>Qr(t)?(n&&e.watch.add(t),we(r,t,i)):Array.isArray(t)?t.map(l=>(n&&e.watch.add(l),we(r,l))):(n&&(e.watchAll=!0),r),Ym=t=>Pr(t)||!a_(t);function ls(t,e,r=new WeakSet){if(Ym(t)||Ym(e))return t===e;if(Ci(t)&&Ci(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const l of n){const c=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Ci(c)&&Ci(d)||Yt(c)&&Yt(d)||Array.isArray(c)&&Array.isArray(d)?!ls(c,d,r):c!==d)return!1}}return!0}function CD(t){const e=Nd(),{control:r=e.control,name:n,defaultValue:i,disabled:l,exact:c,compute:d}=t||{},h=Fe.useRef(i),m=Fe.useRef(d),p=Fe.useRef(void 0);m.current=d;const y=Fe.useMemo(()=>r._getWatch(n,h.current),[r,n]),[b,N]=Fe.useState(m.current?m.current(y):y);return Sg(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:_=>{if(!l){const j=d_(n,r._names,_.values||r._formValues,!1,h.current);if(m.current){const w=m.current(j);ls(w,p.current)||(N(w),p.current=w)}else N(j)}}}),[r,l,n,c]),Fe.useEffect(()=>r._removeUnmounted()),b}function ED(t){const e=Nd(),{name:r,disabled:n,control:i=e.control,shouldUnregister:l,defaultValue:c}=t,d=c_(i._names.array,r),h=Fe.useMemo(()=>we(i._formValues,r,we(i._defaultValues,r,c)),[i,r,c]),m=CD({control:i,name:r,defaultValue:h,exact:!0}),p=kD({control:i,name:r,exact:!0}),y=Fe.useRef(t),b=Fe.useRef(void 0),N=Fe.useRef(i.register(r,{...t.rules,value:m,...Wr(t.disabled)?{disabled:t.disabled}:{}}));y.current=t;const _=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!we(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!we(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!we(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!we(p.validatingFields,r)},error:{enumerable:!0,get:()=>we(p.errors,r)}}),[p,r]),j=Fe.useCallback(E=>N.current.onChange({target:{value:l_(E),name:r},type:Qu.CHANGE}),[r]),w=Fe.useCallback(()=>N.current.onBlur({target:{value:we(i._formValues,r),name:r},type:Qu.BLUR}),[r,i._formValues]),C=Fe.useCallback(E=>{const R=we(i._fields,r);R&&E&&(R._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:L=>E.setCustomValidity(L),reportValidity:()=>E.reportValidity()})},[i._fields,r]),k=Fe.useMemo(()=>({name:r,value:m,...Wr(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:j,onBlur:w,ref:C}),[r,n,p.disabled,j,w,C,m]);return Fe.useEffect(()=>{const E=i._options.shouldUnregister||l,R=b.current;R&&R!==r&&!d&&i.unregister(R),i.register(r,{...y.current.rules,...Wr(y.current.disabled)?{disabled:y.current.disabled}:{}});const L=(F,K)=>{const Z=we(i._fields,F);Z&&Z._f&&(Z._f.mount=K)};if(L(r,!0),E){const F=nr(we(i._options.defaultValues,r));yt(i._defaultValues,r,F),Kt(we(i._formValues,r))&&yt(i._formValues,r,F)}return!d&&i.register(r),b.current=r,()=>{(d?E&&!i._state.action:E)?i.unregister(r):L(r,!1)}},[r,i,d,l]),Fe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Fe.useMemo(()=>({field:k,formState:p,fieldState:_}),[k,p,_])}const TD=t=>t.render(ED(t));var f_=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},rl=t=>Array.isArray(t)?t:[t],Vw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function h_(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],l=e[n];if(i&&Yt(i)&&l){const c=h_(i,l);Yt(c)&&(r[n]=c)}else t[n]&&(r[n]=l)}return r}var Vr=t=>Yt(t)&&!Object.keys(t).length,_g=t=>t.type==="file",Cn=t=>typeof t=="function",Ju=t=>{if(!bg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},m_=t=>t.type==="select-multiple",kg=t=>t.type==="radio",PD=t=>kg(t)||$l(t),Zh=t=>Ju(t)&&t.isConnected;function AD(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Kt(t)?n++:t[e[n++]];return t}function RD(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function Qt(t,e){const r=Array.isArray(e)?e:jd(e)?[e]:jg(e),n=r.length===1?t:AD(t,r),i=r.length-1,l=r[i];return n&&delete n[l],i!==0&&(Yt(n)&&Vr(n)||Array.isArray(n)&&RD(n))&&Qt(t,r.slice(0,-1)),t}var OD=t=>{for(const e in t)if(Cn(t[e]))return!0;return!1};function p_(t){return Array.isArray(t)||Yt(t)&&!OD(t)}function Xm(t,e={}){for(const r in t)p_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Xm(t[r],e[r])):Pr(t[r])||(e[r]=!0);return e}function No(t,e,r){r||(r=Xm(e));for(const n in t)p_(t[n])?Kt(e)||Ym(r[n])?r[n]=Xm(t[n],Array.isArray(t[n])?[]:{}):No(t[n],Pr(e)?{}:e[n],r[n]):r[n]=!ls(t[n],e[n]);return r}const Uw={value:!1,isValid:!1},$w={value:!0,isValid:!0};var g_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?$w:{value:t[0].value,isValid:!0}:$w:Uw}return Uw},y_=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Kt(t)?t:e?t===""?NaN:t&&+t:r&&Qr(t)?new Date(t):n?n(t):t;const Bw={isValid:!1,value:null};var x_=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Bw):Bw;function qw(t){const e=t.ref;return _g(e)?e.files:kg(e)?x_(t.refs).value:m_(e)?[...e.selectedOptions].map(({value:r})=>r):$l(e)?g_(t.refs).value:y_(Kt(e.value)?t.ref.value:e.value,t)}var ID=(t,e,r,n)=>{const i={};for(const l of t){const c=we(e,l);c&&yt(i,l,c._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Zu=t=>t instanceof RegExp,Ba=t=>Kt(t)?t:Zu(t)?t.source:Yt(t)?Zu(t.value)?t.value.source:t.value:t,zw=t=>({isOnSubmit:!t||t===kn.onSubmit,isOnBlur:t===kn.onBlur,isOnChange:t===kn.onChange,isOnAll:t===kn.all,isOnTouch:t===kn.onTouched});const Ww="AsyncFunction";var LD=t=>!!t&&!!t.validate&&!!(Cn(t.validate)&&t.validate.constructor.name===Ww||Yt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ww)),DD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Kw=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const nl=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const l=we(t,i);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],i)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(nl(d,e))break}else if(Yt(d)&&nl(d,e))break}}};function Hw(t,e,r){const n=we(t,r);if(n||jd(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const l=i.join("."),c=we(e,l),d=we(t,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};i.pop()}return{name:r}}var MD=(t,e,r,n)=>{r(t);const{name:i,...l}=t;return Vr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||kn.all))},FD=(t,e,r)=>!t||!e||t===e||rl(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),VD=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,UD=(t,e)=>!wg(we(t,e)).length&&Qt(t,e),$D=(t,e,r)=>{const n=rl(we(t,r));return yt(n,"root",e[r]),yt(t,r,n),t};function Gw(t,e,r="validate"){if(Qr(t)||Array.isArray(t)&&t.every(Qr)||Wr(t)&&!t)return{type:r,message:Qr(t)?t:"",ref:e}}var po=t=>Yt(t)&&!Zu(t)?t:{value:t,message:""},Qw=async(t,e,r,n,i,l)=>{const{ref:c,refs:d,required:h,maxLength:m,minLength:p,min:y,max:b,pattern:N,validate:_,name:j,valueAsNumber:w,mount:C}=t._f,k=we(r,j);if(!C||e.has(j))return{};const E=d?d[0]:c,R=H=>{i&&E.reportValidity&&(E.setCustomValidity(Wr(H)?"":H||""),E.reportValidity())},L={},F=kg(c),K=$l(c),Z=F||K,O=(w||_g(c))&&Kt(c.value)&&Kt(k)||Ju(c)&&c.value===""||k===""||Array.isArray(k)&&!k.length,G=f_.bind(null,j,n,L),ne=(H,te,ee,ke=ss.maxLength,Ce=ss.minLength)=>{const re=H?te:ee;L[j]={type:H?ke:Ce,message:re,ref:c,...G(H?ke:Ce,re)}};if(l?!Array.isArray(k)||!k.length:h&&(!Z&&(O||Pr(k))||Wr(k)&&!k||K&&!g_(d).isValid||F&&!x_(d).isValid)){const{value:H,message:te}=Qr(h)?{value:!!h,message:h}:po(h);if(H&&(L[j]={type:ss.required,message:te,ref:E,...G(ss.required,te)},!n))return R(te),L}if(!O&&(!Pr(y)||!Pr(b))){let H,te;const ee=po(b),ke=po(y);if(!Pr(k)&&!isNaN(k)){const Ce=c.valueAsNumber||k&&+k;Pr(ee.value)||(H=Ce>ee.value),Pr(ke.value)||(te=Ce<ke.value)}else{const Ce=c.valueAsDate||new Date(k),re=ce=>new Date(new Date().toDateString()+" "+ce),Y=c.type=="time",me=c.type=="week";Qr(ee.value)&&k&&(H=Y?re(k)>re(ee.value):me?k>ee.value:Ce>new Date(ee.value)),Qr(ke.value)&&k&&(te=Y?re(k)<re(ke.value):me?k<ke.value:Ce<new Date(ke.value))}if((H||te)&&(ne(!!H,ee.message,ke.message,ss.max,ss.min),!n))return R(L[j].message),L}if((m||p)&&!O&&(Qr(k)||l&&Array.isArray(k))){const H=po(m),te=po(p),ee=!Pr(H.value)&&k.length>+H.value,ke=!Pr(te.value)&&k.length<+te.value;if((ee||ke)&&(ne(ee,H.message,te.message),!n))return R(L[j].message),L}if(N&&!O&&Qr(k)){const{value:H,message:te}=po(N);if(Zu(H)&&!k.match(H)&&(L[j]={type:ss.pattern,message:te,ref:c,...G(ss.pattern,te)},!n))return R(te),L}if(_){if(Cn(_)){const H=await _(k,r),te=Gw(H,E);if(te&&(L[j]={...te,...G(ss.validate,te.message)},!n))return R(te.message),L}else if(Yt(_)){let H={};for(const te in _){if(!Vr(H)&&!n)break;const ee=Gw(await _[te](k,r),E,te);ee&&(H={...ee,...G(te,ee.message)},R(ee.message),n&&(L[j]=H))}if(!Vr(H)&&(L[j]={ref:E,...H},!n))return L}}return R(!0),L};const BD={mode:kn.onSubmit,reValidateMode:kn.onChange,shouldFocusError:!0};function qD(t={}){let e={...BD,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Yt(e.defaultValues)||Yt(e.values)?nr(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:nr(i),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...p};const b={array:Vw(),state:Vw()},N=e.criteriaMode===kn.all,_=P=>M=>{clearTimeout(m),m=setTimeout(P,M)},j=async P=>{if(!e.disabled&&(p.isValid||y.isValid||P)){const M=e.resolver?Vr((await K()).errors):await O(n,!0);M!==r.isValid&&b.state.next({isValid:M})}},w=(P,M)=>{!e.disabled&&(p.isValidating||p.validatingFields||y.isValidating||y.validatingFields)&&((P||Array.from(d.mount)).forEach(W=>{W&&(M?yt(r.validatingFields,W,M):Qt(r.validatingFields,W))}),b.state.next({validatingFields:r.validatingFields,isValidating:!Vr(r.validatingFields)}))},C=(P,M=[],W,de,fe=!0,ue=!0)=>{if(de&&W&&!e.disabled){if(c.action=!0,ue&&Array.isArray(we(n,P))){const be=W(we(n,P),de.argA,de.argB);fe&&yt(n,P,be)}if(ue&&Array.isArray(we(r.errors,P))){const be=W(we(r.errors,P),de.argA,de.argB);fe&&yt(r.errors,P,be),UD(r.errors,P)}if((p.touchedFields||y.touchedFields)&&ue&&Array.isArray(we(r.touchedFields,P))){const be=W(we(r.touchedFields,P),de.argA,de.argB);fe&&yt(r.touchedFields,P,be)}(p.dirtyFields||y.dirtyFields)&&(r.dirtyFields=No(i,l)),b.state.next({name:P,isDirty:ne(P,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yt(l,P,M)},k=(P,M)=>{yt(r.errors,P,M),b.state.next({errors:r.errors})},E=P=>{r.errors=P,b.state.next({errors:r.errors,isValid:!1})},R=(P,M,W,de)=>{const fe=we(n,P);if(fe){const ue=we(l,P,Kt(W)?we(i,P):W);Kt(ue)||de&&de.defaultChecked||M?yt(l,P,M?ue:qw(fe._f)):ee(P,ue),c.mount&&j()}},L=(P,M,W,de,fe)=>{let ue=!1,be=!1;const Je={name:P};if(!e.disabled){if(!W||de){(p.isDirty||y.isDirty)&&(be=r.isDirty,r.isDirty=Je.isDirty=ne(),ue=be!==Je.isDirty);const at=ls(we(i,P),M);be=!!we(r.dirtyFields,P),at?Qt(r.dirtyFields,P):yt(r.dirtyFields,P,!0),Je.dirtyFields=r.dirtyFields,ue=ue||(p.dirtyFields||y.dirtyFields)&&be!==!at}if(W){const at=we(r.touchedFields,P);at||(yt(r.touchedFields,P,W),Je.touchedFields=r.touchedFields,ue=ue||(p.touchedFields||y.touchedFields)&&at!==W)}ue&&fe&&b.state.next(Je)}return ue?Je:{}},F=(P,M,W,de)=>{const fe=we(r.errors,P),ue=(p.isValid||y.isValid)&&Wr(M)&&r.isValid!==M;if(e.delayError&&W?(h=_(()=>k(P,W)),h(e.delayError)):(clearTimeout(m),h=null,W?yt(r.errors,P,W):Qt(r.errors,P)),(W?!ls(fe,W):fe)||!Vr(de)||ue){const be={...de,...ue&&Wr(M)?{isValid:M}:{},errors:r.errors,name:P};r={...r,...be},b.state.next(be)}},K=async P=>{w(P,!0);const M=await e.resolver(l,e.context,ID(P||d.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(P),M},Z=async P=>{const{errors:M}=await K(P);if(P)for(const W of P){const de=we(M,W);de?yt(r.errors,W,de):Qt(r.errors,W)}else r.errors=M;return M},O=async(P,M,W={valid:!0})=>{for(const de in P){const fe=P[de];if(fe){const{_f:ue,...be}=fe;if(ue){const Je=d.array.has(ue.name),at=fe._f&&LD(fe._f);at&&p.validatingFields&&w([ue.name],!0);const Ut=await Qw(fe,d.disabled,l,N,e.shouldUseNativeValidation&&!M,Je);if(at&&p.validatingFields&&w([ue.name]),Ut[ue.name]&&(W.valid=!1,M))break;!M&&(we(Ut,ue.name)?Je?$D(r.errors,Ut,ue.name):yt(r.errors,ue.name,Ut[ue.name]):Qt(r.errors,ue.name))}!Vr(be)&&await O(be,M,W)}}return W.valid},G=()=>{for(const P of d.unMount){const M=we(n,P);M&&(M._f.refs?M._f.refs.every(W=>!Zh(W)):!Zh(M._f.ref))&&xe(P)}d.unMount=new Set},ne=(P,M)=>!e.disabled&&(P&&M&&yt(l,P,M),!ls(ce(),i)),H=(P,M,W)=>d_(P,d,{...c.mount?l:Kt(M)?i:Qr(P)?{[P]:M}:M},W,M),te=P=>wg(we(c.mount?l:i,P,e.shouldUnregister?we(i,P,[]):[])),ee=(P,M,W={})=>{const de=we(n,P);let fe=M;if(de){const ue=de._f;ue&&(!ue.disabled&&yt(l,P,y_(M,ue)),fe=Ju(ue.ref)&&Pr(M)?"":M,m_(ue.ref)?[...ue.ref.options].forEach(be=>be.selected=fe.includes(be.value)):ue.refs?$l(ue.ref)?ue.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(fe)?be.checked=!!fe.find(Je=>Je===be.value):be.checked=fe===be.value||!!fe)}):ue.refs.forEach(be=>be.checked=be.value===fe):_g(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||b.state.next({name:P,values:nr(l)})))}(W.shouldDirty||W.shouldTouch)&&L(P,fe,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&me(P)},ke=(P,M,W)=>{for(const de in M){if(!M.hasOwnProperty(de))return;const fe=M[de],ue=P+"."+de,be=we(n,ue);(d.array.has(P)||Yt(fe)||be&&!be._f)&&!Ci(fe)?ke(ue,fe,W):ee(ue,fe,W)}},Ce=(P,M,W={})=>{const de=we(n,P),fe=d.array.has(P),ue=nr(M);yt(l,P,ue),fe?(b.array.next({name:P,values:nr(l)}),(p.isDirty||p.dirtyFields||y.isDirty||y.dirtyFields)&&W.shouldDirty&&b.state.next({name:P,dirtyFields:No(i,l),isDirty:ne(P,ue)})):de&&!de._f&&!Pr(ue)?ke(P,ue,W):ee(P,ue,W),Kw(P,d)&&b.state.next({...r,name:P}),b.state.next({name:c.mount?P:void 0,values:nr(l)})},re=async P=>{c.mount=!0;const M=P.target;let W=M.name,de=!0;const fe=we(n,W),ue=at=>{de=Number.isNaN(at)||Ci(at)&&isNaN(at.getTime())||ls(at,we(l,W,at))},be=zw(e.mode),Je=zw(e.reValidateMode);if(fe){let at,Ut;const _r=M.type?qw(fe._f):l_(P),Xt=P.type===Qu.BLUR||P.type===Qu.FOCUS_OUT,J=!DD(fe._f)&&!e.resolver&&!we(r.errors,W)&&!fe._f.deps||VD(Xt,we(r.touchedFields,W),r.isSubmitted,Je,be),pe=Kw(W,d,Xt);yt(l,W,_r),Xt?(!M||!M.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(P),h&&h(0)):fe._f.onChange&&fe._f.onChange(P);const Ht=L(W,_r,Xt),ir=!Vr(Ht)||pe;if(!Xt&&b.state.next({name:W,type:P.type,values:nr(l)}),J)return(p.isValid||y.isValid)&&(e.mode==="onBlur"?Xt&&j():Xt||j()),ir&&b.state.next({name:W,...pe?{}:Ht});if(!Xt&&pe&&b.state.next({...r}),e.resolver){const{errors:Lt}=await K([W]);if(ue(_r),de){const kr=Hw(r.errors,n,W),en=Hw(Lt,n,kr.name||W);at=en.error,W=en.name,Ut=Vr(Lt)}}else w([W],!0),at=(await Qw(fe,d.disabled,l,N,e.shouldUseNativeValidation))[W],w([W]),ue(_r),de&&(at?Ut=!1:(p.isValid||y.isValid)&&(Ut=await O(n,!0)));de&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&me(fe._f.deps),F(W,Ut,at,Ht))}},Y=(P,M)=>{if(we(r.errors,M)&&P.focus)return P.focus(),1},me=async(P,M={})=>{let W,de;const fe=rl(P);if(e.resolver){const ue=await Z(Kt(P)?P:fe);W=Vr(ue),de=P?!fe.some(be=>we(ue,be)):W}else P?(de=(await Promise.all(fe.map(async ue=>{const be=we(n,ue);return await O(be&&be._f?{[ue]:be}:be)}))).every(Boolean),!(!de&&!r.isValid)&&j()):de=W=await O(n);return b.state.next({...!Qr(P)||(p.isValid||y.isValid)&&W!==r.isValid?{}:{name:P},...e.resolver||!P?{isValid:W}:{},errors:r.errors}),M.shouldFocus&&!de&&nl(n,Y,P?fe:d.mount),de},ce=(P,M)=>{let W={...c.mount?l:i};return M&&(W=h_(M.dirtyFields?r.dirtyFields:r.touchedFields,W)),Kt(P)?W:Qr(P)?we(W,P):P.map(de=>we(W,de))},A=(P,M)=>({invalid:!!we((M||r).errors,P),isDirty:!!we((M||r).dirtyFields,P),error:we((M||r).errors,P),isValidating:!!we(r.validatingFields,P),isTouched:!!we((M||r).touchedFields,P)}),X=P=>{P&&rl(P).forEach(M=>Qt(r.errors,M)),b.state.next({errors:P?r.errors:{}})},Ie=(P,M,W)=>{const de=(we(n,P,{_f:{}})._f||{}).ref,fe=we(r.errors,P)||{},{ref:ue,message:be,type:Je,...at}=fe;yt(r.errors,P,{...at,...M,ref:de}),b.state.next({name:P,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&de&&de.focus&&de.focus()},Ve=(P,M)=>Cn(P)?b.state.subscribe({next:W=>"values"in W&&P(H(void 0,M),W)}):H(P,M,!0),He=P=>b.state.subscribe({next:M=>{FD(P.name,M.name,P.exact)&&MD(M,P.formState||p,ge,P.reRenderRoot)&&P.callback({values:{...l},...r,...M,defaultValues:i})}}).unsubscribe,U=P=>(c.mount=!0,y={...y,...P.formState},He({...P,formState:y})),xe=(P,M={})=>{for(const W of P?rl(P):d.mount)d.mount.delete(W),d.array.delete(W),M.keepValue||(Qt(n,W),Qt(l,W)),!M.keepError&&Qt(r.errors,W),!M.keepDirty&&Qt(r.dirtyFields,W),!M.keepTouched&&Qt(r.touchedFields,W),!M.keepIsValidating&&Qt(r.validatingFields,W),!e.shouldUnregister&&!M.keepDefaultValue&&Qt(i,W);b.state.next({values:nr(l)}),b.state.next({...r,...M.keepDirty?{isDirty:ne()}:{}}),!M.keepIsValid&&j()},ve=({disabled:P,name:M})=>{(Wr(P)&&c.mount||P||d.disabled.has(M))&&(P?d.disabled.add(M):d.disabled.delete(M))},$e=(P,M={})=>{let W=we(n,P);const de=Wr(M.disabled)||Wr(e.disabled);return yt(n,P,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:P}},name:P,mount:!0,...M}}),d.mount.add(P),W?ve({disabled:Wr(M.disabled)?M.disabled:e.disabled,name:P}):R(P,!0,M.value),{...de?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Ba(M.min),max:Ba(M.max),minLength:Ba(M.minLength),maxLength:Ba(M.maxLength),pattern:Ba(M.pattern)}:{},name:P,onChange:re,onBlur:re,ref:fe=>{if(fe){$e(P,M),W=we(n,P);const ue=Kt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,be=PD(ue),Je=W._f.refs||[];if(be?Je.find(at=>at===ue):ue===W._f.ref)return;yt(n,P,{_f:{...W._f,...be?{refs:[...Je.filter(Zh),ue,...Array.isArray(we(i,P))?[{}]:[]],ref:{type:ue.type,name:P}}:{ref:ue}}}),R(P,!1,void 0,ue)}else W=we(n,P,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(c_(d.array,P)&&c.action)&&d.unMount.add(P)}}},et=()=>e.shouldFocusError&&nl(n,Y,d.mount),sr=P=>{Wr(P)&&(b.state.next({disabled:P}),nl(n,(M,W)=>{const de=we(n,W);de&&(M.disabled=de._f.disabled||P,Array.isArray(de._f.refs)&&de._f.refs.forEach(fe=>{fe.disabled=de._f.disabled||P}))},0,!1))},$=(P,M)=>async W=>{let de;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let fe=nr(l);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:be}=await K();r.errors=ue,fe=nr(be)}else await O(n);if(d.disabled.size)for(const ue of d.disabled)Qt(fe,ue);if(Qt(r.errors,"root"),Vr(r.errors)){b.state.next({errors:{}});try{await P(fe,W)}catch(ue){de=ue}}else M&&await M({...r.errors},W),et(),setTimeout(et);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Se=(P,M={})=>{we(n,P)&&(Kt(M.defaultValue)?Ce(P,nr(we(i,P))):(Ce(P,M.defaultValue),yt(i,P,nr(M.defaultValue))),M.keepTouched||Qt(r.touchedFields,P),M.keepDirty||(Qt(r.dirtyFields,P),r.isDirty=M.defaultValue?ne(P,nr(we(i,P))):ne()),M.keepError||(Qt(r.errors,P),p.isValid&&j()),b.state.next({...r}))},q=(P,M={})=>{const W=P?nr(P):i,de=nr(W),fe=Vr(P),ue=fe?i:de;if(M.keepDefaultValues||(i=W),!M.keepValues){if(M.keepDirtyValues){const be=new Set([...d.mount,...Object.keys(No(i,l))]);for(const Je of Array.from(be))we(r.dirtyFields,Je)?yt(ue,Je,we(l,Je)):Ce(Je,we(ue,Je))}else{if(bg&&Kt(P))for(const be of d.mount){const Je=we(n,be);if(Je&&Je._f){const at=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(Ju(at)){const Ut=at.closest("form");if(Ut){Ut.reset();break}}}}if(M.keepFieldsRef)for(const be of d.mount)Ce(be,we(ue,be));else n={}}l=e.shouldUnregister?M.keepDefaultValues?nr(i):{}:nr(ue),b.array.next({values:{...ue}}),b.state.next({values:{...ue}})}d={mount:M.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!M.keepIsValid||!!M.keepDirtyValues,c.watch=!!e.shouldUnregister,b.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!ls(P,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:M.keepDirtyValues?M.keepDefaultValues&&l?No(i,l):r.dirtyFields:M.keepDefaultValues&&P?No(i,P):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_e=(P,M)=>q(Cn(P)?P(l):P,M),ye=(P,M={})=>{const W=we(n,P),de=W&&W._f;if(de){const fe=de.refs?de.refs[0]:de.ref;fe.focus&&(fe.focus(),M.shouldSelect&&Cn(fe.select)&&fe.select())}},ge=P=>{r={...r,...P}},ot={control:{register:$e,unregister:xe,getFieldState:A,handleSubmit:$,setError:Ie,_subscribe:He,_runSchema:K,_focusError:et,_getWatch:H,_getDirty:ne,_setValid:j,_setFieldArray:C,_setDisabledField:ve,_setErrors:E,_getFieldArray:te,_reset:q,_resetDefaultValues:()=>Cn(e.defaultValues)&&e.defaultValues().then(P=>{_e(P,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:sr,_subjects:b,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(P){c=P},get _defaultValues(){return i},get _names(){return d},set _names(P){d=P},get _formState(){return r},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:U,trigger:me,register:$e,handleSubmit:$,watch:Ve,setValue:Ce,getValues:ce,reset:_e,resetField:Se,clearErrors:X,unregister:xe,setError:Ie,setFocus:ye,getFieldState:A};return{...ot,formControl:ot}}function v_(t={}){const e=Fe.useRef(void 0),r=Fe.useRef(void 0),[n,i]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Cn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Cn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Cn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=qD(t);e.current={...d,formState:n}}const l=e.current.control;return l._options=t,Sg(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Fe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Fe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Fe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Fe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Fe.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),Fe.useEffect(()=>{t.values&&!ls(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=t.values,i(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),Fe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=u_(n,l),e.current}const Jw=(t,e,r)=>{if(t&&"reportValidity"in t){const n=we(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},b_=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Jw(n.ref,r,t):n.refs&&n.refs.forEach(i=>Jw(i,r,t))}},zD=(t,e)=>{e.shouldUseNativeValidation&&b_(t,e);const r={};for(const n in t){const i=we(e.fields,n),l=Object.assign(t[n]||{},{ref:i&&i.ref});if(WD(e.names||Object.keys(t),n)){const c=Object.assign({},we(r,n));yt(c,"root",l),yt(r,n,c)}else yt(r,n,l)}return r},WD=(t,e)=>t.some(r=>r.startsWith(e+"."));var KD=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[c]={message:d.message,type:d.code}}else r[c]={message:l,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(y){return t.push(y)})}),e){var h=r[c].types,m=h&&h[n.code];r[c]=f_(c,e,r,i,m?[].concat(m,n.message):n.message)}t.shift()}return r},w_=function(t,e,r){return r===void 0&&(r={}),function(n,i,l){try{return Promise.resolve((function(c,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return l.shouldUseNativeValidation&&b_({},l),{errors:{},values:r.raw?n:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(c){if((function(d){return Array.isArray(d?.errors)})(c))return{values:{},errors:zD(KD(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}};const ie=Symbol.for("drizzle:entityKind");function hr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ie))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ie in r&&r[ie]===e[ie])return!0;r=Object.getPrototypeOf(r)}return!1}class gl{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[ie]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class HD{static[ie]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const Io=Symbol.for("drizzle:Name");class GD{static[ie]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:i,foreignColumns:l}=e();return{name:n,columns:i,foreignTable:l[0].table,foreignColumns:l}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new QD(e,this)}}class QD{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[ie]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(d=>d.name),l=n.map(d=>d.name),c=[this.table[Io],...i,n[0].table[Io],...l];return e??`${c.join("_")}_fk`}}function JD(t,...e){return t(...e)}function ZD(t,e){return`${t[Io]}_${e.join("_")}_unique`}function Zw(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function j_(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const l=t[n];if(l===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,l==="\\"){n+=2;continue}if(l==='"'){const[h,m]=Zw(t,n+1,!0);r.push(h),n=m;continue}if(l==="}")return[r,n+1];if(l==="{"){const[h,m]=j_(t,n+1);r.push(h),n=m;continue}const[c,d]=Zw(t,n,!1);r.push(c),n=d}return[r,n]}function YD(t){const[e]=j_(t,1);return e}function N_(t){return`{${t.map(e=>Array.isArray(e)?N_(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class ft extends HD{foreignKeyConfigs=[];static[ie]="PgColumnBuilder";array(e){return new e3(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>JD((l,c)=>{const d=new GD(()=>{const h=l();return{columns:[e],foreignColumns:[h]}});return c.onUpdate&&d.onUpdate(c.onUpdate),c.onDelete&&d.onDelete(c.onDelete),d.build(r)},n,i))}buildExtraConfigColumn(e){return new XD(e,this.config)}}class nt extends gl{constructor(e,r){r.uniqueName||(r.uniqueName=ZD(e,[r.name])),super(e,r),this.table=e}static[ie]="PgColumn"}class XD extends nt{static[ie]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class e3 extends ft{static[ie]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new Cg(e,this.config,r)}}class Cg extends nt{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[ie]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=YD(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(i=>i===null?null:hr(this.baseColumn,Cg)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:N_(n)}}const Yw=Symbol.for("drizzle:isPgEnum");function t3(t){return!!t&&typeof t=="function"&&Yw in t&&t[Yw]===!0}class S_{static[ie]="Subquery";constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}const r3={startActiveSpan(t,e){return e()}},Lo=Symbol.for("drizzle:ViewBaseConfig"),Yh=Symbol.for("drizzle:Schema"),Xw=Symbol.for("drizzle:Columns"),e0=Symbol.for("drizzle:ExtraConfigColumns"),Xh=Symbol.for("drizzle:OriginalName"),em=Symbol.for("drizzle:BaseName"),Yu=Symbol.for("drizzle:IsAlias"),t0=Symbol.for("drizzle:ExtraConfigBuilder"),__=Symbol.for("drizzle:IsDrizzleTable");class Kr{static[ie]="Table";static Symbol={Name:Io,Schema:Yh,OriginalName:Xh,Columns:Xw,ExtraConfigColumns:e0,BaseName:em,IsAlias:Yu,ExtraConfigBuilder:t0};[Io];[Xh];[Yh];[Xw];[e0];[em];[Yu]=!1;[__]=!0;[t0]=void 0;constructor(e,r,n){this[Io]=this[Xh]=e,this[Yh]=r,this[em]=n}}function k_(t){return typeof t=="object"&&t!==null&&__ in t}function n3(t){return t!=null&&typeof t.getSQL=="function"}function s3(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class Sn{static[ie]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Vt([this])}}class Vt{constructor(e){this.queryChunks=e}static[ie]="SQL";decoder=C_;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return r3.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:l,escapeParam:c,prepareTyping:d,inlineParams:h,paramStartIndex:m}=n;return s3(e.map(p=>{if(hr(p,Sn))return{sql:p.value.join(""),params:[]};if(hr(p,ep))return{sql:l(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){const y=[new Sn("(")];for(const[b,N]of p.entries())y.push(N),b<p.length-1&&y.push(new Sn(", "));return y.push(new Sn(")")),this.buildQueryFromSourceParams(y,n)}if(hr(p,Vt))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:h||p.shouldInlineParams});if(hr(p,Kr)){const y=p[Kr.Symbol.Schema],b=p[Kr.Symbol.Name];return{sql:y===void 0||p[Yu]?l(b):l(y)+"."+l(b),params:[]}}if(hr(p,gl)){const y=i.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:l(y),params:[]};const b=p.table[Kr.Symbol.Schema];return{sql:p.table[Yu]||b===void 0?l(p.table[Kr.Symbol.Name])+"."+l(y):l(b)+"."+l(p.table[Kr.Symbol.Name])+"."+l(y),params:[]}}if(hr(p,i3)){const y=p[Lo].schema,b=p[Lo].name;return{sql:y===void 0||p[Lo].isAlias?l(b):l(y)+"."+l(b),params:[]}}if(hr(p,T_)){if(hr(p.value,tp))return{sql:c(m.value++,p),params:[p],typings:["none"]};const y=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(hr(y,Vt))return this.buildQueryFromSourceParams([y],n);if(h)return{sql:this.mapInlineParam(y,n),params:[]};let b=["none"];return d&&(b=[d(p.encoder)]),{sql:c(m.value++,y),params:[y],typings:b}}return hr(p,tp)?{sql:c(m.value++,p),params:[p],typings:["none"]}:hr(p,Vt.Aliased)&&p.fieldAlias!==void 0?{sql:l(p.fieldAlias),params:[]}:hr(p,S_)?p._.isWith?{sql:l(p._.alias),params:[]}:this.buildQueryFromSourceParams([new Sn("("),p._.sql,new Sn(") "),new ep(p._.alias)],n):t3(p)?p.schema?{sql:l(p.schema)+"."+l(p.enumName),params:[]}:{sql:l(p.enumName),params:[]}:n3(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new Sn("("),p.getSQL(),new Sn(")")],n):h?{sql:this.mapInlineParam(p,n),params:[]}:{sql:c(m.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class ep{constructor(e){this.value=e}static[ie]="Name";brand;getSQL(){return new Vt([this])}}const C_={mapFromDriverValue:t=>t},E_={mapToDriverValue:t=>t};({...C_,...E_});class T_{constructor(e,r=E_){this.value=e,this.encoder=r}static[ie]="Param";brand;getSQL(){return new Vt([this])}}function Xu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Sn(t[0]));for(const[n,i]of e.entries())r.push(i,new Sn(t[n+1]));return new Vt(r)}(t=>{function e(){return new Vt([])}t.empty=e;function r(h){return new Vt(h)}t.fromList=r;function n(h){return new Vt([new Sn(h)])}t.raw=n;function i(h,m){const p=[];for(const[y,b]of h.entries())y>0&&m!==void 0&&p.push(m),p.push(b);return new Vt(p)}t.join=i;function l(h){return new ep(h)}t.identifier=l;function c(h){return new tp(h)}t.placeholder=c;function d(h,m){return new T_(h,m)}t.param=d})(Xu||(Xu={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[ie]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Vt||(Vt={}));class tp{constructor(e){this.name=e}static[ie]="Placeholder";getSQL(){return new Vt([this])}}const P_=Symbol.for("drizzle:IsDrizzleView");class i3{static[ie]="View";[Lo];[P_]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[Lo]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Vt([this])}}function o3(t){return typeof t=="object"&&t!==null&&P_ in t}gl.prototype.getSQL=function(){return new Vt([this])};Kr.prototype.getSQL=function(){return new Vt([this])};S_.prototype.getSQL=function(){return new Vt([this])};function a3(t){return t[Kr.Symbol.Columns]}function l3(t){return t[Lo].selectedFields}function ur(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class Sd extends ft{static[ie]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class c3 extends Sd{static[ie]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new u3(e,this.config)}}class u3 extends nt{static[ie]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class d3 extends Sd{static[ie]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new f3(e,this.config)}}class f3 extends nt{static[ie]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function h3(t,e){const{name:r,config:n}=ur(t,e);return n.mode==="number"?new c3(r):new d3(r)}class m3 extends ft{static[ie]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new p3(e,this.config)}}class p3 extends nt{static[ie]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class g3 extends ft{static[ie]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new y3(e,this.config)}}class y3 extends nt{static[ie]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function x3(t,e){const{name:r,config:n}=ur(t,e);return n.mode==="number"?new m3(r):new g3(r)}class v3 extends ft{static[ie]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new b3(e,this.config)}}class b3 extends nt{static[ie]="PgBoolean";getSQLType(){return"boolean"}}function w3(t){return new v3(t??"")}class j3 extends ft{static[ie]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new N3(e,this.config)}}class N3 extends nt{static[ie]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function S3(t,e={}){const{name:r,config:n}=ur(t,e);return new j3(r,n)}class _3 extends ft{static[ie]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new k3(e,this.config)}}class k3 extends nt{static[ie]="PgCidr";getSQLType(){return"cidr"}}function C3(t){return new _3(t??"")}class E3 extends ft{static[ie]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new T3(e,this.config)}}class T3 extends nt{static[ie]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function P3(t){return(e,r)=>{const{name:n,config:i}=ur(e,r);return new E3(n,i,t)}}class Bl extends ft{static[ie]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Xu`now()`)}}class A3 extends Bl{static[ie]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new R3(e,this.config)}}class R3 extends nt{static[ie]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class O3 extends Bl{static[ie]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new I3(e,this.config)}}class I3 extends nt{static[ie]="PgDateString";getSQLType(){return"date"}}function L3(t,e){const{name:r,config:n}=ur(t,e);return n?.mode==="date"?new A3(r):new O3(r)}class D3 extends ft{static[ie]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new M3(e,this.config)}}class M3 extends nt{static[ie]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function F3(t){return new D3(t??"")}class V3 extends ft{static[ie]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new U3(e,this.config)}}class U3 extends nt{static[ie]="PgInet";getSQLType(){return"inet"}}function $3(t){return new V3(t??"")}class B3 extends Sd{static[ie]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new q3(e,this.config)}}class q3 extends nt{static[ie]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function z3(t){return new B3(t??"")}class W3 extends ft{static[ie]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new K3(e,this.config)}}class K3 extends nt{static[ie]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function H3(t,e={}){const{name:r,config:n}=ur(t,e);return new W3(r,n)}class G3 extends ft{static[ie]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new Q3(e,this.config)}}class Q3 extends nt{static[ie]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function J3(t){return new G3(t??"")}class Z3 extends ft{static[ie]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new Y3(e,this.config)}}class Y3 extends nt{static[ie]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function X3(t){return new Z3(t??"")}class eM extends ft{static[ie]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new tM(e,this.config)}}class tM extends nt{static[ie]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class rM extends ft{static[ie]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new nM(e,this.config)}}class nM extends nt{static[ie]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function sM(t,e){const{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new eM(r):new rM(r)}class iM extends ft{static[ie]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new oM(e,this.config)}}class oM extends nt{static[ie]="PgMacaddr";getSQLType(){return"macaddr"}}function aM(t){return new iM(t??"")}class lM extends ft{static[ie]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new cM(e,this.config)}}class cM extends nt{static[ie]="PgMacaddr8";getSQLType(){return"macaddr8"}}function uM(t){return new lM(t??"")}class dM extends ft{static[ie]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new fM(e,this.config)}}class fM extends nt{static[ie]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function hM(t,e){const{name:r,config:n}=ur(t,e);return new dM(r,n?.precision,n?.scale)}class mM extends ft{static[ie]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new pM(e,this.config)}}class pM extends nt{static[ie]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class gM extends ft{static[ie]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new yM(e,this.config)}}class yM extends nt{static[ie]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function xM(t,e){const{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new mM(r):new gM(r)}function vM(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function r0(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function A_(t){const e=vM(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),l=i.getUint32(r,n===1);if(r+=4,l&536870912&&(i.getUint32(r,n===1),r+=4),(l&65535)===1){const c=r0(e,r);r+=8;const d=r0(e,r);return r+=8,[c,d]}throw new Error("Unsupported geometry type")}class bM extends ft{static[ie]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new wM(e,this.config)}}class wM extends nt{static[ie]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return A_(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class jM extends ft{static[ie]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new NM(e,this.config)}}class NM extends nt{static[ie]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=A_(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function SM(t,e){const{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new bM(r):new jM(r)}class _M extends ft{static[ie]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new kM(e,this.config)}}class kM extends nt{static[ie]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function CM(t){return new _M(t??"")}class EM extends ft{static[ie]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new TM(e,this.config)}}class TM extends nt{static[ie]="PgSerial";getSQLType(){return"serial"}}function Eg(t){return new EM(t??"")}class PM extends Sd{static[ie]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new AM(e,this.config)}}class AM extends nt{static[ie]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function RM(t){return new PM(t??"")}class OM extends ft{static[ie]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new IM(e,this.config)}}class IM extends nt{static[ie]="PgSmallSerial";getSQLType(){return"smallserial"}}function LM(t){return new OM(t??"")}class DM extends ft{static[ie]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new MM(e,this.config)}}class MM extends nt{static[ie]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function R_(t,e={}){const{name:r,config:n}=ur(t,e);return new DM(r,n)}class FM extends Bl{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[ie]="PgTimeBuilder";build(e){return new VM(e,this.config)}}class VM extends nt{static[ie]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function UM(t,e={}){const{name:r,config:n}=ur(t,e);return new FM(r,n.withTimezone??!1,n.precision)}class $M extends Bl{static[ie]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new BM(e,this.config)}}class BM extends nt{static[ie]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class qM extends Bl{static[ie]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new zM(e,this.config)}}class zM extends nt{static[ie]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function WM(t,e={}){const{name:r,config:n}=ur(t,e);return n?.mode==="string"?new qM(r,n.withTimezone??!1,n.precision):new $M(r,n?.withTimezone??!1,n?.precision)}class KM extends ft{static[ie]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Xu`gen_random_uuid()`)}build(e){return new HM(e,this.config)}}class HM extends nt{static[ie]="PgUUID";getSQLType(){return"uuid"}}function GM(t){return new KM(t??"")}class QM extends ft{static[ie]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new JM(e,this.config)}}class JM extends nt{static[ie]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function yl(t,e={}){const{name:r,config:n}=ur(t,e);return new QM(r,n)}class ZM extends ft{static[ie]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new YM(e,this.config)}}class YM extends nt{static[ie]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function XM(t,e){const{name:r,config:n}=ur(t,e);return new ZM(r,n)}class eF extends ft{static[ie]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new tF(e,this.config)}}class tF extends nt{static[ie]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function rF(t,e){const{name:r,config:n}=ur(t,e);return new eF(r,n)}class nF extends ft{static[ie]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new sF(e,this.config)}}class sF extends nt{static[ie]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function iF(t,e){const{name:r,config:n}=ur(t,e);return new nF(r,n)}class oF extends ft{static[ie]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new aF(e,this.config)}}class aF extends nt{static[ie]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function lF(t,e){const{name:r,config:n}=ur(t,e);return new oF(r,n)}function cF(){return{bigint:h3,bigserial:x3,boolean:w3,char:S3,cidr:C3,customType:P3,date:L3,doublePrecision:F3,inet:$3,integer:z3,interval:H3,json:J3,jsonb:X3,line:sM,macaddr:aM,macaddr8:uM,numeric:hM,point:xM,geometry:SM,real:CM,serial:Eg,smallint:RM,smallserial:LM,text:R_,time:UM,timestamp:WM,uuid:GM,varchar:yl,bit:XM,halfvec:rF,sparsevec:iF,vector:lF}}const rp=Symbol.for("drizzle:PgInlineForeignKeys"),n0=Symbol.for("drizzle:EnableRLS");class s0 extends Kr{static[ie]="PgTable";static Symbol=Object.assign({},Kr.Symbol,{InlineForeignKeys:rp,EnableRLS:n0});[rp]=[];[n0]=!1;[Kr.Symbol.ExtraConfigBuilder]=void 0}function uF(t,e,r,n,i=t){const l=new s0(t,n,i),c=typeof e=="function"?e(cF()):e,d=Object.fromEntries(Object.entries(c).map(([p,y])=>{const b=y;b.setName(p);const N=b.build(l);return l[rp].push(...b.buildForeignKeys(N,l)),[p,N]})),h=Object.fromEntries(Object.entries(c).map(([p,y])=>{const b=y;b.setName(p);const N=b.buildExtraConfigColumn(l);return[p,N]})),m=Object.assign(l,d);return m[Kr.Symbol.Columns]=d,m[Kr.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[s0.Symbol.EnableRLS]=!0,m)})}const O_=(t,e,r)=>uF(t,e,r,void 0);var ct;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const l={};for(const c of i)l[c]=c;return l},t.getValidEnumValues=i=>{const l=t.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),c={};for(const d of l)c[d]=i[d];return t.objectValues(c)},t.objectValues=i=>t.objectKeys(i).map(function(l){return i[l]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const l=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&l.push(c);return l},t.find=(i,l)=>{for(const c of i)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,l=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(i,l)=>typeof l=="bigint"?l.toString():l})(ct||(ct={}));var np;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(np||(np={}));const Te=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),as=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},le=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),dF=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Zr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},i=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(c))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return i(this),n}static assert(e){if(!(e instanceof Zr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const l=i.path[0];r[l]=r[l]||[],r[l].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zr.create=t=>new Zr(t);const Ko=(t,e)=>{let r;switch(t.code){case le.invalid_type:t.received===Te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case le.invalid_union:r="Invalid input";break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:r="Invalid function arguments";break;case le.invalid_return_type:r="Invalid function return type";break;case le.invalid_date:r="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case le.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case le.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case le.custom:r="Invalid input";break;case le.invalid_intersection_types:r="Intersection results could not be merged";break;case le.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:r="Number must be finite";break;default:r=e.defaultError,ct.assertNever(t)}return{message:r}};let I_=Ko;function fF(t){I_=t}function ed(){return I_}const td=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,l=[...r,...i.path||[]],c={...i,path:l};if(i.message!==void 0)return{...i,path:l,message:i.message};let d="";const h=n.filter(m=>!!m).slice().reverse();for(const m of h)d=m(c,{data:e,defaultError:d}).message;return{...i,path:l,message:d}},hF=[];function je(t,e){const r=ed(),n=td({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ko?void 0:Ko].filter(i=>!!i)});t.common.issues.push(n)}class Sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ke;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const l=await i.key,c=await i.value;n.push({key:l,value:c})}return Sr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:l,value:c}=i;if(l.status==="aborted"||c.status==="aborted")return Ke;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const Ke=Object.freeze({status:"aborted"}),Po=t=>({status:"dirty",value:t}),Ar=t=>({status:"valid",value:t}),sp=t=>t.status==="aborted",ip=t=>t.status==="dirty",Ri=t=>t.status==="valid",xl=t=>typeof Promise<"u"&&t instanceof Promise;var Me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Me||(Me={}));class Wn{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i0=(t,e)=>{if(Ri(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zr(t.common.issues);return this._error=r,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,d)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??r??d.defaultError}},description:i}}class st{get description(){return this._def.description}_getType(e){return as(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:as(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sr,ctx:{common:e.parent.common,data:e.data,parsedType:as(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(xl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)},i=this._parseSync({data:e,path:n.path,parent:n});return i0(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Ri(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Ri(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)},i=this._parse({data:e,path:n.path,parent:n}),l=await(xl(i)?i:Promise.resolve(i));return i0(n,l)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,l)=>{const c=e(i),d=()=>l.addIssue({code:le.custom,...n(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new An({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Bn.create(this,this._def)}nullable(){return Zs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pn.create(this)}promise(){return Go.create(this,this._def)}or(e){return jl.create([this,e],this._def)}and(e){return Nl.create(this,e,this._def)}transform(e){return new An({...tt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new El({...tt(this._def),innerType:this,defaultValue:r,typeName:Ge.ZodDefault})}brand(){return new Tg({typeName:Ge.ZodBranded,type:this,...tt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Tl({...tt(this._def),innerType:this,catchValue:r,typeName:Ge.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ql.create(this,e)}readonly(){return Pl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mF=/^c[^\s-]{8,}$/i,pF=/^[0-9a-z]+$/,gF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xF=/^[a-z0-9_-]{21}$/i,vF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tm;const NF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,L_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TF=new RegExp(`^${L_}$`);function D_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function PF(t){return new RegExp(`^${D_(t)}$`)}function M_(t){let e=`${L_}T${D_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function AF(t,e){return!!((e==="v4"||!e)&&NF.test(t)||(e==="v6"||!e)&&_F.test(t))}function RF(t,e){if(!vF.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function OF(t,e){return!!((e==="v4"||!e)&&SF.test(t)||(e==="v6"||!e)&&kF.test(t))}class En extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_type,expected:Te.string,received:l.parsedType}),Ke}const n=new Sr;let i;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(i=this._getOrReturnCtx(e,i),c?je(i,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&je(i,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")wF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"email",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")tm||(tm=new RegExp(jF,"u")),tm.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"emoji",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")yF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"uuid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")xF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"nanoid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")mF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cuid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")pF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cuid2",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")gF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"ulid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),je(i,{validation:"url",code:le.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"regex",code:le.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(i=this._getOrReturnCtx(e,i),je(i,{code:le.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(i=this._getOrReturnCtx(e,i),je(i,{code:le.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(i=this._getOrReturnCtx(e,i),je(i,{code:le.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?M_(l).test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:le.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?TF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:le.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?PF(l).test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:le.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?bF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"duration",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?AF(e.data,l.version)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"ip",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?RF(e.data,l.alg)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"jwt",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?OF(e.data,l.version)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cidr",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?CF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"base64",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?EF.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"base64url",code:le.invalid_string,message:l.message}),n.dirty()):ct.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:le.invalid_string,...Me.errToObj(n)})}_addCheck(e){return new En({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Me.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Me.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Me.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Me.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Me.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Me.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Me.errToObj(r)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new En({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}En.create=t=>new En({checks:[],typeName:Ge.ZodString,coerce:t?.coerce??!1,...tt(t)});function IF(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,l=Number.parseInt(t.toFixed(i).replace(".","")),c=Number.parseInt(e.toFixed(i).replace(".",""));return l%c/10**i}class Gs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_type,expected:Te.number,received:l.parsedType}),Ke}let n;const i=new Sr;for(const l of this._def.checks)l.kind==="int"?ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),je(n,{code:le.invalid_type,expected:"integer",received:"float",message:l.message}),i.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="multipleOf"?IF(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),je(n,{code:le.not_finite,message:l.message}),i.dirty()):ct.assertNever(l);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Me.toString(r))}setLimit(e,r,n,i){return new Gs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Me.toString(i)}]})}_addCheck(e){return new Gs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Gs.create=t=>new Gs({checks:[],typeName:Ge.ZodNumber,coerce:t?.coerce||!1,...tt(t)});class Qs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let n;const i=new Sr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):ct.assertNever(l);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return je(r,{code:le.invalid_type,expected:Te.bigint,received:r.parsedType}),Ke}gte(e,r){return this.setLimit("min",e,!0,Me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Me.toString(r))}setLimit(e,r,n,i){return new Qs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Me.toString(i)}]})}_addCheck(e){return new Qs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Qs.create=t=>new Qs({checks:[],typeName:Ge.ZodBigInt,coerce:t?.coerce??!1,...tt(t)});class vl extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.boolean,received:n.parsedType}),Ke}return Ar(e.data)}}vl.create=t=>new vl({typeName:Ge.ZodBoolean,coerce:t?.coerce||!1,...tt(t)});class Oi extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_type,expected:Te.date,received:l.parsedType}),Ke}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_date}),Ke}const n=new Sr;let i;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:le.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:le.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):ct.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Oi.create=t=>new Oi({checks:[],coerce:t?.coerce||!1,typeName:Ge.ZodDate,...tt(t)});class rd extends st{_parse(e){if(this._getType(e)!==Te.symbol){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.symbol,received:n.parsedType}),Ke}return Ar(e.data)}}rd.create=t=>new rd({typeName:Ge.ZodSymbol,...tt(t)});class bl extends st{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.undefined,received:n.parsedType}),Ke}return Ar(e.data)}}bl.create=t=>new bl({typeName:Ge.ZodUndefined,...tt(t)});class wl extends st{_parse(e){if(this._getType(e)!==Te.null){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.null,received:n.parsedType}),Ke}return Ar(e.data)}}wl.create=t=>new wl({typeName:Ge.ZodNull,...tt(t)});class Ho extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return Ar(e.data)}}Ho.create=t=>new Ho({typeName:Ge.ZodAny,...tt(t)});class Pi extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ar(e.data)}}Pi.create=t=>new Pi({typeName:Ge.ZodUnknown,...tt(t)});class fs extends st{_parse(e){const r=this._getOrReturnCtx(e);return je(r,{code:le.invalid_type,expected:Te.never,received:r.parsedType}),Ke}}fs.create=t=>new fs({typeName:Ge.ZodNever,...tt(t)});class nd extends st{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.void,received:n.parsedType}),Ke}return Ar(e.data)}}nd.create=t=>new nd({typeName:Ge.ZodVoid,...tt(t)});class Pn extends st{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Te.array)return je(r,{code:le.invalid_type,expected:Te.array,received:r.parsedType}),Ke;if(i.exactLength!==null){const c=r.data.length>i.exactLength.value,d=r.data.length<i.exactLength.value;(c||d)&&(je(r,{code:c?le.too_big:le.too_small,minimum:d?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(je(r,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(je(r,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>i.type._parseAsync(new Wn(r,c,r.path,d)))).then(c=>Sr.mergeArray(n,c));const l=[...r.data].map((c,d)=>i.type._parseSync(new Wn(r,c,r.path,d)));return Sr.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new Pn({...this._def,minLength:{value:e,message:Me.toString(r)}})}max(e,r){return new Pn({...this._def,maxLength:{value:e,message:Me.toString(r)}})}length(e,r){return new Pn({...this._def,exactLength:{value:e,message:Me.toString(r)}})}nonempty(e){return this.min(1,e)}}Pn.create=(t,e)=>new Pn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...tt(e)});function So(t){if(t instanceof Ot){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Bn.create(So(n))}return new Ot({...t._def,shape:()=>e})}else return t instanceof Pn?new Pn({...t._def,type:So(t.element)}):t instanceof Bn?Bn.create(So(t.unwrap())):t instanceof Zs?Zs.create(So(t.unwrap())):t instanceof Kn?Kn.create(t.items.map(e=>So(e))):t}class Ot extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ct.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Te.object){const m=this._getOrReturnCtx(e);return je(m,{code:le.invalid_type,expected:Te.object,received:m.parsedType}),Ke}const{status:n,ctx:i}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof fs&&this._def.unknownKeys==="strip"))for(const m in i.data)c.includes(m)||d.push(m);const h=[];for(const m of c){const p=l[m],y=i.data[m];h.push({key:{status:"valid",value:m},value:p._parse(new Wn(i,y,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof fs){const m=this._def.unknownKeys;if(m==="passthrough")for(const p of d)h.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(m==="strict")d.length>0&&(je(i,{code:le.unrecognized_keys,keys:d}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const p of d){const y=i.data[p];h.push({key:{status:"valid",value:p},value:m._parse(new Wn(i,y,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const p of h){const y=await p.key,b=await p.value;m.push({key:y,value:b,alwaysSet:p.alwaysSet})}return m}).then(m=>Sr.mergeObjectSync(n,m)):Sr.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new Ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Me.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ge.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ot({...this._def,catchall:e})}pick(e){const r={};for(const n of ct.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ot({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ct.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ot({...this._def,shape:()=>r})}deepPartial(){return So(this)}partial(e){const r={};for(const n of ct.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Ot({...this._def,shape:()=>r})}required(e){const r={};for(const n of ct.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Bn;)l=l._def.innerType;r[n]=l}return new Ot({...this._def,shape:()=>r})}keyof(){return F_(ct.objectKeys(this.shape))}}Ot.create=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strip",catchall:fs.create(),typeName:Ge.ZodObject,...tt(e)});Ot.strictCreate=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strict",catchall:fs.create(),typeName:Ge.ZodObject,...tt(e)});Ot.lazycreate=(t,e)=>new Ot({shape:t,unknownKeys:"strip",catchall:fs.create(),typeName:Ge.ZodObject,...tt(e)});class jl extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new Zr(d.ctx.common.issues));return je(r,{code:le.invalid_union,unionErrors:c}),Ke}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(i);{let l;const c=[];for(const h of n){const m={...r,common:{...r.common,issues:[]},parent:null},p=h._parseSync({data:r.data,path:r.path,parent:m});if(p.status==="valid")return p;p.status==="dirty"&&!l&&(l={result:p,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new Zr(h));return je(r,{code:le.invalid_union,unionErrors:d}),Ke}}get options(){return this._def.options}}jl.create=(t,e)=>new jl({options:t,typeName:Ge.ZodUnion,...tt(e)});const is=t=>t instanceof _l?is(t.schema):t instanceof An?is(t.innerType()):t instanceof kl?[t.value]:t instanceof Js?t.options:t instanceof Cl?ct.objectValues(t.enum):t instanceof El?is(t._def.innerType):t instanceof bl?[void 0]:t instanceof wl?[null]:t instanceof Bn?[void 0,...is(t.unwrap())]:t instanceof Zs?[null,...is(t.unwrap())]:t instanceof Tg||t instanceof Pl?is(t.unwrap()):t instanceof Tl?is(t._def.innerType):[];class _d extends st{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return je(r,{code:le.invalid_type,expected:Te.object,received:r.parsedType}),Ke;const n=this.discriminator,i=r.data[n],l=this.optionsMap.get(i);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(je(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const l of r){const c=is(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(i.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);i.set(d,l)}}return new _d({typeName:Ge.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...tt(n)})}}function op(t,e){const r=as(t),n=as(e);if(t===e)return{valid:!0,data:t};if(r===Te.object&&n===Te.object){const i=ct.objectKeys(e),l=ct.objectKeys(t).filter(d=>i.indexOf(d)!==-1),c={...t,...e};for(const d of l){const h=op(t[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(r===Te.array&&n===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],h=op(c,d);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return r===Te.date&&n===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Nl extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(l,c)=>{if(sp(l)||sp(c))return Ke;const d=op(l.value,c.value);return d.valid?((ip(l)||ip(c))&&r.dirty(),{status:r.value,value:d.data}):(je(n,{code:le.invalid_intersection_types}),Ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>i(l,c)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nl.create=(t,e,r)=>new Nl({left:t,right:e,typeName:Ge.ZodIntersection,...tt(r)});class Kn extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.array)return je(n,{code:le.invalid_type,expected:Te.array,received:n.parsedType}),Ke;if(n.data.length<this._def.items.length)return je(n,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&n.data.length>this._def.items.length&&(je(n,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Wn(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>Sr.mergeArray(r,c)):Sr.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Kn({...this._def,rest:e})}}Kn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kn({items:t,typeName:Ge.ZodTuple,rest:null,...tt(e)})};class Sl extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return je(n,{code:le.invalid_type,expected:Te.object,received:n.parsedType}),Ke;const i=[],l=this._def.keyType,c=this._def.valueType;for(const d in n.data)i.push({key:l._parse(new Wn(n,d,n.path,d)),value:c._parse(new Wn(n,n.data[d],n.path,d)),alwaysSet:d in n.data});return n.common.async?Sr.mergeObjectAsync(r,i):Sr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof st?new Sl({keyType:e,valueType:r,typeName:Ge.ZodRecord,...tt(n)}):new Sl({keyType:En.create(),valueType:e,typeName:Ge.ZodRecord,...tt(r)})}}class sd extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.map)return je(n,{code:le.invalid_type,expected:Te.map,received:n.parsedType}),Ke;const i=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([d,h],m)=>({key:i._parse(new Wn(n,d,n.path,[m,"key"])),value:l._parse(new Wn(n,h,n.path,[m,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,p=await h.value;if(m.status==="aborted"||p.status==="aborted")return Ke;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of c){const m=h.key,p=h.value;if(m.status==="aborted"||p.status==="aborted")return Ke;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}}}}sd.create=(t,e,r)=>new sd({valueType:e,keyType:t,typeName:Ge.ZodMap,...tt(r)});class Ii extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.set)return je(n,{code:le.invalid_type,expected:Te.set,received:n.parsedType}),Ke;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(je(n,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(je(n,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const l=this._def.valueType;function c(h){const m=new Set;for(const p of h){if(p.status==="aborted")return Ke;p.status==="dirty"&&r.dirty(),m.add(p.value)}return{status:r.value,value:m}}const d=[...n.data.values()].map((h,m)=>l._parse(new Wn(n,h,n.path,m)));return n.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,r){return new Ii({...this._def,minSize:{value:e,message:Me.toString(r)}})}max(e,r){return new Ii({...this._def,maxSize:{value:e,message:Me.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ii.create=(t,e)=>new Ii({valueType:t,minSize:null,maxSize:null,typeName:Ge.ZodSet,...tt(e)});class Do extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.function)return je(r,{code:le.invalid_type,expected:Te.function,received:r.parsedType}),Ke;function n(d,h){return td({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ed(),Ko].filter(m=>!!m),issueData:{code:le.invalid_arguments,argumentsError:h}})}function i(d,h){return td({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ed(),Ko].filter(m=>!!m),issueData:{code:le.invalid_return_type,returnTypeError:h}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Go){const d=this;return Ar(async function(...h){const m=new Zr([]),p=await d._def.args.parseAsync(h,l).catch(N=>{throw m.addIssue(n(h,N)),m}),y=await Reflect.apply(c,this,p);return await d._def.returns._def.type.parseAsync(y,l).catch(N=>{throw m.addIssue(i(y,N)),m})})}else{const d=this;return Ar(function(...h){const m=d._def.args.safeParse(h,l);if(!m.success)throw new Zr([n(h,m.error)]);const p=Reflect.apply(c,this,m.data),y=d._def.returns.safeParse(p,l);if(!y.success)throw new Zr([i(p,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Do({...this._def,args:Kn.create(e).rest(Pi.create())})}returns(e){return new Do({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Do({args:e||Kn.create([]).rest(Pi.create()),returns:r||Pi.create(),typeName:Ge.ZodFunction,...tt(n)})}}class _l extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_l.create=(t,e)=>new _l({getter:t,typeName:Ge.ZodLazy,...tt(e)});class kl extends st{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return je(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}kl.create=(t,e)=>new kl({value:t,typeName:Ge.ZodLiteral,...tt(e)});function F_(t,e){return new Js({values:t,typeName:Ge.ZodEnum,...tt(e)})}class Js extends st{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return je(r,{expected:ct.joinValues(n),received:r.parsedType,code:le.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return je(r,{received:r.data,code:le.invalid_enum_value,options:n}),Ke}return Ar(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Js.create(e,{...this._def,...r})}exclude(e,r=this._def){return Js.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Js.create=F_;class Cl extends st{_parse(e){const r=ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const i=ct.objectValues(r);return je(n,{expected:ct.joinValues(i),received:n.parsedType,code:le.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ct.objectValues(r);return je(n,{received:n.data,code:le.invalid_enum_value,options:i}),Ke}return Ar(e.data)}get enum(){return this._def.values}}Cl.create=(t,e)=>new Cl({values:t,typeName:Ge.ZodNativeEnum,...tt(e)});class Go extends st{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.promise&&r.common.async===!1)return je(r,{code:le.invalid_type,expected:Te.promise,received:r.parsedType}),Ke;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Ar(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Go.create=(t,e)=>new Go({type:t,typeName:Ge.ZodPromise,...tt(e)});class An extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,l={addIssue:c=>{je(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),i.type==="preprocess"){const c=i.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return Ke;const h=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return h.status==="aborted"?Ke:h.status==="dirty"||r.value==="dirty"?Po(h.value):h});{if(r.value==="aborted")return Ke;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?Ke:d.status==="dirty"||r.value==="dirty"?Po(d.value):d}}if(i.type==="refinement"){const c=d=>{const h=i.refinement(d,l);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?Ke:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?Ke:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(i.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ri(c))return Ke;const d=i.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Ri(c)?Promise.resolve(i.transform(c.value,l)).then(d=>({status:r.value,value:d})):Ke);ct.assertNever(i)}}An.create=(t,e,r)=>new An({schema:t,typeName:Ge.ZodEffects,effect:e,...tt(r)});An.createWithPreprocess=(t,e,r)=>new An({schema:e,effect:{type:"preprocess",transform:t},typeName:Ge.ZodEffects,...tt(r)});class Bn extends st{_parse(e){return this._getType(e)===Te.undefined?Ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bn.create=(t,e)=>new Bn({innerType:t,typeName:Ge.ZodOptional,...tt(e)});class Zs extends st{_parse(e){return this._getType(e)===Te.null?Ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zs.create=(t,e)=>new Zs({innerType:t,typeName:Ge.ZodNullable,...tt(e)});class El extends st{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:Ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class Tl extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return xl(i)?i.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Tl.create=(t,e)=>new Tl({innerType:t,typeName:Ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class id extends st{_parse(e){if(this._getType(e)!==Te.nan){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.nan,received:n.parsedType}),Ke}return{status:"valid",value:e.data}}}id.create=t=>new id({typeName:Ge.ZodNaN,...tt(t)});const LF=Symbol("zod_brand");class Tg extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ql extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ke:l.status==="dirty"?(r.dirty(),Po(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ke:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new ql({in:e,out:r,typeName:Ge.ZodPipeline})}}class Pl extends st{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Ri(i)&&(i.value=Object.freeze(i.value)),i);return xl(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Pl.create=(t,e)=>new Pl({innerType:t,typeName:Ge.ZodReadonly,...tt(e)});function o0(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Pg(t,e={},r){return t?Ho.create().superRefine((n,i)=>{const l=t(n);if(l instanceof Promise)return l.then(c=>{if(!c){const d=o0(e,n),h=d.fatal??r??!0;i.addIssue({code:"custom",...d,fatal:h})}});if(!l){const c=o0(e,n),d=c.fatal??r??!0;i.addIssue({code:"custom",...c,fatal:d})}}):Ho.create()}const DF={object:Ot.lazycreate};var Ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const MF=(t,e={message:`Input not instance of ${t.name}`})=>Pg(r=>r instanceof t,e),jt=En.create,zl=Gs.create,FF=id.create,VF=Qs.create,Ei=vl.create,UF=Oi.create,$F=rd.create,BF=bl.create,V_=wl.create,od=Ho.create,qF=Pi.create,zF=fs.create,WF=nd.create,Vn=Pn.create,kd=Ot.create,KF=Ot.strictCreate,Ag=jl.create,HF=_d.create,GF=Nl.create,QF=Kn.create,U_=Sl.create,JF=sd.create,ZF=Ii.create,YF=Do.create,XF=_l.create,eV=kl.create,ap=Js.create,tV=Cl.create,rV=Go.create,a0=An.create,nV=Bn.create,sV=Zs.create,iV=An.createWithPreprocess,oV=ql.create,aV=()=>jt().optional(),lV=()=>zl().optional(),cV=()=>Ei().optional(),uV={string:(t=>En.create({...t,coerce:!0})),number:(t=>Gs.create({...t,coerce:!0})),boolean:(t=>vl.create({...t,coerce:!0})),bigint:(t=>Qs.create({...t,coerce:!0})),date:(t=>Oi.create({...t,coerce:!0}))},dV=Ke,fV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:LF,DIRTY:Po,EMPTY_PATH:hF,INVALID:Ke,NEVER:dV,OK:Ar,ParseStatus:Sr,Schema:st,ZodAny:Ho,ZodArray:Pn,ZodBigInt:Qs,ZodBoolean:vl,ZodBranded:Tg,ZodCatch:Tl,ZodDate:Oi,ZodDefault:El,ZodDiscriminatedUnion:_d,ZodEffects:An,ZodEnum:Js,ZodError:Zr,get ZodFirstPartyTypeKind(){return Ge},ZodFunction:Do,ZodIntersection:Nl,ZodIssueCode:le,ZodLazy:_l,ZodLiteral:kl,ZodMap:sd,ZodNaN:id,ZodNativeEnum:Cl,ZodNever:fs,ZodNull:wl,ZodNullable:Zs,ZodNumber:Gs,ZodObject:Ot,ZodOptional:Bn,ZodParsedType:Te,ZodPipeline:ql,ZodPromise:Go,ZodReadonly:Pl,ZodRecord:Sl,ZodSchema:st,ZodSet:Ii,ZodString:En,ZodSymbol:rd,ZodTransformer:An,ZodTuple:Kn,ZodType:st,ZodUndefined:bl,ZodUnion:jl,ZodUnknown:Pi,ZodVoid:nd,addIssueToContext:je,any:od,array:Vn,bigint:VF,boolean:Ei,coerce:uV,custom:Pg,date:UF,datetimeRegex:M_,defaultErrorMap:Ko,discriminatedUnion:HF,effect:a0,enum:ap,function:YF,getErrorMap:ed,getParsedType:as,instanceof:MF,intersection:GF,isAborted:sp,isAsync:xl,isDirty:ip,isValid:Ri,late:DF,lazy:XF,literal:eV,makeIssue:td,map:JF,nan:FF,nativeEnum:tV,never:zF,null:V_,nullable:sV,number:zl,object:kd,get objectUtil(){return np},oboolean:cV,onumber:lV,optional:nV,ostring:aV,pipeline:oV,preprocess:iV,promise:rV,quotelessJson:dF,record:U_,set:ZF,setErrorMap:fF,strictObject:KF,string:jt,symbol:$F,transformer:a0,tuple:QF,undefined:BF,union:Ag,unknown:qF,get util(){return ct},void:WF},Symbol.toStringTag,{value:"Module"})),At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Wt(t,e){return e.includes(t.columnType)}function hV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const mV=Ag([jt(),zl(),Ei(),V_()]),pV=Ag([mV,U_(od()),Vn(od())]),gV=Pg(t=>t instanceof Buffer);function $_(t,e){const r=e?.zodInstance??fV,n=e?.coerce??{};let i;return hV(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||(Wt(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):Wt(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):Wt(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):Wt(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):Wt(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):Wt(t,["PgArray"])?(i=r.array($_(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=yV(t,r,n):t.dataType==="bigint"?i=xV(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=vV(t,r,n):t.dataType==="json"?i=pV:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=gV)),i||(i=r.any()),i}function yV(t,e,r){let n=t.getSQLType().includes("unsigned"),i,l,c=!1;Wt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:At.INT8_MIN,l=n?At.INT8_UNSIGNED_MAX:At.INT8_MAX,c=!0):Wt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:At.INT16_MIN,l=n?At.INT16_UNSIGNED_MAX:At.INT16_MAX,c=!0):Wt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:At.INT24_MIN,l=n?At.INT24_UNSIGNED_MAX:At.INT24_MAX,c=Wt(t,["MySqlMediumInt","SingleStoreMediumInt"])):Wt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:At.INT32_MIN,l=n?At.INT32_UNSIGNED_MAX:At.INT32_MAX,c=!0):Wt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:At.INT48_MIN,l=n?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Wt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Wt(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,c=!0):Wt(t,["MySqlYear","SingleStoreYear"])?(i=1901,l=2155,c=!0):(i=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(i).max(l),c?d.int():d}function xV(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:At.INT64_MIN,l=n?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(i).max(l)}function vV(t,e,r){if(Wt(t,["PgUUID"]))return e.string().uuid();let n,i,l=!1;Wt(t,["PgVarchar","SQLiteText"])?n=t.length:Wt(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??At.INT16_UNSIGNED_MAX:Wt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=At.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=At.INT24_UNSIGNED_MAX:t.textType==="text"?n=At.INT16_UNSIGNED_MAX:n=At.INT8_UNSIGNED_MAX),Wt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,l=!0),Wt(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let c=r===!0||r?.string?e.coerce.string():e.string();return c=i?c.regex(i):c,n&&l?c.length(n):n?c.max(n):c}function B_(t){return k_(t)?a3(t):l3(t)}function q_(t,e,r,n){const i={};for(const[l,c]of Object.entries(t)){if(!hr(c,gl)&&!hr(c,Vt)&&!hr(c,Vt.Aliased)&&typeof c=="object"){const y=k_(c)||o3(c)?B_(c):c;i[l]=q_(y,e[l]??{},r,n);continue}const d=e[l];if(d!==void 0&&typeof d!="function"){i[l]=d;continue}const h=hr(c,gl)?c:void 0,m=h?$_(h,n):od(),p=typeof d=="function"?d(m):m;r.never(h)||(i[l]=p,h&&(r.nullable(h)&&(i[l]=i[l].nullable()),r.optional(h)&&(i[l]=i[l].optional())))}return kd(i)}const bV={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},z_=(t,e)=>{const r=B_(t);return q_(r,{},bV)},wV=O_("waitlist",{id:Eg("id").primaryKey(),name:yl("name",{length:100}).notNull(),email:yl("email",{length:255}).notNull().unique()}),jV=O_("contact",{id:Eg("id").primaryKey(),name:yl("name",{length:100}).notNull(),email:yl("email",{length:255}).notNull(),message:R_("message").notNull()}),NV=z_(wV).pick({name:!0,email:!0}),SV=z_(jV).pick({name:!0,email:!0,message:!0});var _V="Label",W_=v.forwardRef((t,e)=>o.jsx(Ct.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));W_.displayName=_V;var K_=W_;const kV=Sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H_=v.forwardRef(({className:t,...e},r)=>o.jsx(K_,{ref:r,className:pt(kV(),t),...e}));H_.displayName=K_.displayName;const G_=_D,Q_=v.createContext({}),sl=({...t})=>o.jsx(Q_.Provider,{value:{name:t.name},children:o.jsx(TD,{...t})}),Cd=()=>{const t=v.useContext(Q_),e=v.useContext(J_),{getFieldState:r,formState:n}=Nd(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:l}=e;return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}},J_=v.createContext({}),Mo=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return o.jsx(J_.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:pt("space-y-2",t),...e})})});Mo.displayName="FormItem";const CV=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Cd();return o.jsx(H_,{ref:r,className:pt(n&&"text-destructive",t),htmlFor:i,...e})});CV.displayName="FormLabel";const Fo=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:l}=Cd();return o.jsx(H0,{ref:e,id:n,"aria-describedby":r?`${i} ${l}`:`${i}`,"aria-invalid":!!r,...t})});Fo.displayName="FormControl";const EV=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Cd();return o.jsx("p",{ref:r,id:n,className:pt("text-sm text-muted-foreground",t),...e})});EV.displayName="FormDescription";const Vo=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:l}=Cd(),c=i?String(i?.message):e;return c?o.jsx("p",{ref:n,id:l,className:pt("text-sm font-medium text-destructive",t),...r,children:c}):null});Vo.displayName="FormMessage";const Al=v.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:pt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Al.displayName="Input";function Ed({embedded:t=!1}){const{toast:e}=gp(),[r,n]=v.useState(!1),i=v_({resolver:w_(NV),defaultValues:{name:"",email:""}}),l=W0({mutationFn:async h=>{try{console.log("Submitting:",h);const m=await fetch("/.netlify/functions/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,name:h.name})});if(!m.ok)throw new Error("Failed to add to waitlist");return await m.json()}catch(m){throw console.error("Error:",m),m}},onSuccess:()=>{n(!0),e({title:"Success!",description:"You've been added to the waitlist."})},onError:()=>{e({variant:"destructive",title:"Error",description:"Something went wrong. Please try again."})}}),c=h=>{l.mutate(h)},d=o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join the Waitlist"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Be the first to know when GLASS-Connect ships new features for listing, verification, and collaboration routing."}),r?o.jsxs("div",{className:"text-center p-6 bg-primary/10 rounded-lg",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank you for joining!"}),o.jsx("p",{className:"text-muted-foreground",children:"We'll keep you updated on our progress."})]}):o.jsx(G_,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-4",children:[o.jsx(sl,{control:i.control,name:"name",render:({field:h})=>o.jsxs(Mo,{children:[o.jsx(Fo,{children:o.jsx(Al,{placeholder:"Your name",...h})}),o.jsx(Vo,{})]})}),o.jsx(sl,{control:i.control,name:"email",render:({field:h})=>o.jsxs(Mo,{children:[o.jsx(Fo,{children:o.jsx(Al,{type:"email",placeholder:"Your email",...h})}),o.jsx(Vo,{})]})}),o.jsx(Oo,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?"Joining...":"Join Now"})]})})]});return t?o.jsx("div",{className:"w-full",children:o.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full",children:d})}):o.jsx("section",{id:"waitlist-section",className:"py-20 bg-background",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-lg mx-auto text-center",children:d})})})}const Z_=v.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Z_.displayName="Textarea";function TV(){const{toast:t}=gp(),e=v_({resolver:w_(SV),defaultValues:{name:"",email:"",message:""}}),r=W0({mutationFn:async i=>(await fetch("/.netlify/functions/sendContact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json(),onSuccess:()=>{e.reset(),t({title:"Message sent!",description:"We'll get back to you as soon as possible."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to send message. Please try again."})}}),n=i=>{r.mutate(i)};return o.jsx("section",{className:"py-20 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[o.jsxs(Ye.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions about GLASS-Connect? We're here to help labs list, verify, and handle inbound requests."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(kp,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"contact@glass-funding.com"})]})," "]})]}),o.jsx(Ye.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:o.jsx(G_,{...e,children:o.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[o.jsx(sl,{control:e.control,name:"name",render:({field:i})=>o.jsxs(Mo,{children:[o.jsx(Fo,{children:o.jsx(Al,{placeholder:"Your name",...i})}),o.jsx(Vo,{})]})}),o.jsx(sl,{control:e.control,name:"email",render:({field:i})=>o.jsxs(Mo,{children:[o.jsx(Fo,{children:o.jsx(Al,{type:"email",placeholder:"Your email",...i})}),o.jsx(Vo,{})]})}),o.jsx(sl,{control:e.control,name:"message",render:({field:i})=>o.jsxs(Mo,{children:[o.jsx(Fo,{children:o.jsx(Z_,{placeholder:"Your message",className:"min-h-[120px]",...i})}),o.jsx(Vo,{})]})}),o.jsx(Oo,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Sending...":"Send Message"})]})})})]})})})}const rm=[{src:"/logos/logo-unistra.png",alt:"Unistra",href:"https://www.unistra.fr",className:"scale-125"},{src:"/logos/logo-EMStrasbourg.png",alt:"EM Strasbourg",href:"https://www.em-strasbourg.com/fr",className:"scale-[1.7]"},{src:"/logos/GrandEst.png",alt:"Grand Est",href:"https://www.grandest.fr/en/",className:"scale-[1.9]"},{src:"/logos/logo-etena.png",alt:"Ppite Etna",href:"https://etena.unistra.fr/",className:"scale-[1.2]"},{src:"/logos/logo-LaRucheAProjets.png",alt:"La Ruche a projets",href:"https://www.em-strasbourg.com/fr/etudiant/vie-etudiante-et-services/centre-entrepreneurial-la-ruche/incubateur-la-ruche-a-projets",className:"scale-[1.2]"}];function Y_(){const t=v.useRef(null),e=v.useMemo(()=>[...rm,...rm,...rm],[]);v.useEffect(()=>{const n=t.current;if(!n)return;const i=()=>{const c=n.scrollWidth/3;c>0&&(n.scrollLeft=c)},l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft<=0?n.scrollLeft+=c:n.scrollLeft>=c*2&&(n.scrollLeft-=c))};return i(),n.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",i),()=>{n.removeEventListener("scroll",l),window.removeEventListener("resize",i)}},[]),v.useEffect(()=>{const n=t.current;if(!n)return;let i;const l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft+=.4,n.scrollLeft>=c*2&&(n.scrollLeft-=c),i=window.requestAnimationFrame(l))};return i=window.requestAnimationFrame(l),()=>{window.cancelAnimationFrame(i)}},[]);const r=n=>{const i=t.current;if(!i)return;const l=i.scrollWidth/3;if(l===0)return;const c=i.clientWidth*.8;let d=n==="left"?i.scrollLeft-c:i.scrollLeft+c;n==="left"&&d<=0?d+=l:n==="right"&&d>=l*2&&(d-=l),i.scrollTo({left:d,behavior:"smooth"})};return o.jsx("section",{id:"partners",className:"py-20 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Partners"})}),o.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>r("left"),className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners left",children:o.jsx(d2,{className:"h-5 w-5"})}),o.jsx("button",{type:"button",onClick:()=>r("right"),className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners right",children:o.jsx(f2,{className:"h-5 w-5"})}),o.jsx("div",{ref:t,className:"overflow-x-auto scroll-smooth no-scrollbar",children:o.jsx("div",{className:"flex gap-6 md:gap-8 min-w-max pb-2",children:e.map((n,i)=>o.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"relative block w-[160px] md:w-[180px] shrink-0",children:o.jsx(Ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:i*.04},children:o.jsx("div",{className:"bg-white border border-border rounded-xl px-6 py-5 h-28 flex items-center justify-center shadow-sm hover:shadow-md transition",children:o.jsx("img",{src:n.src,alt:n.alt,className:`max-h-12 object-contain opacity-80 hover:opacity-100 transition duration-300 ${n.className}`})})})},`${n.alt}-${i}`))})})]})]})})}function PV({title:t="Latest news",description:e,limit:r=20,className:n=""}){const[i,l]=v.useState([]),[c,d]=v.useState(!0),[h,m]=v.useState(null);return v.useEffect(()=>{let p=!0;async function y(){d(!0),m(null);try{const b=await fetch(`/api/news/public?limit=${r}`),N=b.headers.get("content-type")||"";if(!b.ok||!N.includes("application/json"))throw await b.text(),new Error("Unable to load news");const _=await b.json();p&&l(Array.isArray(_?.news)?_.news:[])}catch(b){p&&m(b?.message||"Unable to load news")}finally{p&&d(!1)}}return y(),()=>{p=!1}},[r]),o.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${n}`,children:[o.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?o.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),c&&o.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),h&&o.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:h}),!c&&!h&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"flex gap-4 min-w-full",children:[i.length===0&&o.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No news yet. Check back soon."}),i.map(p=>{const y=p.labs?.name||`Lab ${p.lab_id}`,b=p.created_at?new Date(p.created_at).toLocaleDateString():"";return o.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[o.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:o.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:p.category||"update"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.title}),o.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:p.summary})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"truncate",children:y}),o.jsx("span",{className:"text-[11px]",children:b})]}),o.jsx("div",{className:"flex items-center gap-2",children:p.images?.slice(0,2).map(N=>o.jsx("img",{src:N.url,alt:N.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},N.url))})]},p.id)})]})})]})}function AV({title:t="Featured labs",description:e,className:r=""}){const[n,i]=v.useState([]),[l,c]=v.useState(!0),[d,h]=v.useState(null);v.useEffect(()=>{let p=!0;async function y(){c(!0),h(null);try{const b=await fetch("/api/labs"),N=b.headers.get("content-type")||"";if(!b.ok||!N.includes("application/json"))throw await b.text(),new Error("Unable to load labs");const _=await b.json();p&&i(Array.isArray(_)?_:[])}catch(b){p&&h(b?.message||"Unable to load labs")}finally{p&&c(!1)}}return y(),()=>{p=!1}},[]);const m=v.useMemo(()=>n.filter(p=>{const y=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base";return(y==="premier"||y==="custom")&&p.isVisible!==!1}),[n]);return o.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${r}`,children:[o.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Featured"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?o.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),l&&o.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading featured labs"}),d&&o.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:d}),!l&&!d&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"flex gap-4 min-w-full",children:[m.length===0&&o.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No featured labs yet. Check back soon."}),m.map(p=>{const y=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base",b=p.logoUrl||p.photos?.[0]?.url;return o.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-[11px] font-medium text-primary capitalize",children:y}),o.jsxs("span",{className:"text-[11px] text-muted-foreground flex items-center gap-1",children:[o.jsx(Cp,{className:"h-3 w-3"}),"Featured"]})]}),b&&o.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60 bg-muted/20",children:o.jsx("img",{src:b,alt:p.name,className:"h-32 w-full object-cover",loading:"lazy"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.name}),o.jsxs("p",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ws,{className:"h-3 w-3"}),p.location]}),o.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted-foreground",children:[o.jsx(Tn,{className:"h-3 w-3 text-emerald-600"}),"Premier tier placement"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:"Premium listing with GLASS support and top placement."}),o.jsx(Ne,{href:`/labs/${p.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},p.id)})]})})]})}function RV(){return o.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[o.jsx(yD,{}),o.jsx(AV,{title:"Featured labs",description:"Premier partners highlighted this week"}),o.jsx(jD,{}),o.jsx(PV,{title:"Lab news",description:"Latest updates across all labs",limit:30}),o.jsx(Ed,{}),o.jsx(TV,{}),o.jsx(Y_,{})]})}var OV=dp[" useId ".trim().toString()]||(()=>{}),IV=0;function il(t){const[e,r]=v.useState(OV());return zn(()=>{r(n=>n??String(IV++))},[t]),e?`radix-${e}`:""}var nm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",l0={bubbles:!1,cancelable:!0},LV="FocusScope",X_=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,h]=v.useState(null),m=qn(i),p=qn(l),y=v.useRef(null),b=Yr(e,j=>h(j)),N=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let j=function(E){if(N.paused||!d)return;const R=E.target;d.contains(R)?y.current=R:Bs(y.current,{select:!0})},w=function(E){if(N.paused||!d)return;const R=E.relatedTarget;R!==null&&(d.contains(R)||Bs(y.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const L of E)L.removedNodes.length>0&&Bs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",w);const k=new MutationObserver(C);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",w),k.disconnect()}}},[n,d,N.paused]),v.useEffect(()=>{if(d){u0.add(N);const j=document.activeElement;if(!d.contains(j)){const C=new CustomEvent(nm,l0);d.addEventListener(nm,m),d.dispatchEvent(C),C.defaultPrevented||(DV($V(e1(d)),{select:!0}),document.activeElement===j&&Bs(d))}return()=>{d.removeEventListener(nm,m),setTimeout(()=>{const C=new CustomEvent(sm,l0);d.addEventListener(sm,p),d.dispatchEvent(C),C.defaultPrevented||Bs(j??document.body,{select:!0}),d.removeEventListener(sm,p),u0.remove(N)},0)}}},[d,m,p,N]);const _=v.useCallback(j=>{if(!r&&!n||N.paused)return;const w=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(w&&C){const k=j.currentTarget,[E,R]=MV(k);E&&R?!j.shiftKey&&C===R?(j.preventDefault(),r&&Bs(E,{select:!0})):j.shiftKey&&C===E&&(j.preventDefault(),r&&Bs(R,{select:!0})):C===k&&j.preventDefault()}},[r,n,N.paused]);return o.jsx(Ct.div,{tabIndex:-1,...c,ref:b,onKeyDown:_})});X_.displayName=LV;function DV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Bs(n,{select:e}),document.activeElement!==r)return}function MV(t){const e=e1(t),r=c0(e,t),n=c0(e.reverse(),t);return[r,n]}function e1(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c0(t,e){for(const r of t)if(!FV(r,{upTo:e}))return r}function FV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VV(t){return t instanceof HTMLInputElement&&"select"in t}function Bs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&VV(t)&&e&&t.select()}}var u0=UV();function UV(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=d0(t,e),t.unshift(e)},remove(e){t=d0(t,e),t[0]?.resume()}}}function d0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function $V(t){return t.filter(e=>e.tagName!=="A")}var im=0;function BV(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??f0()),document.body.insertAdjacentElement("beforeend",t[1]??f0()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function f0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Au="right-scroll-bar-position",Ru="width-before-scroll-bar",qV="with-scroll-bars-hidden",zV="--removed-body-scroll-bar-size";function om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function WV(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var KV=typeof window<"u"?v.useLayoutEffect:v.useEffect,h0=new WeakMap;function HV(t,e){var r=WV(null,function(n){return t.forEach(function(i){return om(i,n)})});return KV(function(){var n=h0.get(r);if(n){var i=new Set(n),l=new Set(t),c=r.current;i.forEach(function(d){l.has(d)||om(d,null)}),l.forEach(function(d){i.has(d)||om(d,c)})}h0.set(r,t)},[t]),r}function GV(t){return t}function QV(t,e){e===void 0&&(e=GV);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var h=function(){var p=c;c=[],p.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),r}}}};return i}function JV(t){t===void 0&&(t={});var e=QV(null);return e.options=fn({async:!0,ssr:!1},t),e}var t1=function(t){var e=t.sideCar,r=Xs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,fn({},r))};t1.isSideCarExport=!0;function ZV(t,e){return t.useMedium(e),t1}var r1=JV(),am=function(){},Td=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),i=n[0],l=n[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,p=t.enabled,y=t.shards,b=t.sideCar,N=t.noRelative,_=t.noIsolation,j=t.inert,w=t.allowPinchZoom,C=t.as,k=C===void 0?"div":C,E=t.gapMode,R=Xs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=b,F=HV([r,e]),K=fn(fn({},R),i);return v.createElement(v.Fragment,null,p&&v.createElement(L,{sideCar:r1,removeScrollBar:m,shards:y,noRelative:N,noIsolation:_,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:E}),c?v.cloneElement(v.Children.only(d),fn(fn({},K),{ref:F})):v.createElement(k,fn({},K,{className:h,ref:F}),d))});Td.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Td.classNames={fullWidth:Ru,zeroRight:Au};var YV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=YV();return e&&t.setAttribute("nonce",e),t}function eU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rU=function(){var t=0,e=null;return{add:function(r){t==0&&(e=XV())&&(eU(e,r),tU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nU=function(){var t=rU();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},n1=function(){var t=nU(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},sU={left:0,top:0,right:0,gap:0},lm=function(t){return parseInt(t||"",10)||0},iU=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[lm(r),lm(n),lm(i)]},oU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sU;var e=iU(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},aU=n1(),Uo="data-scroll-locked",lU=function(t,e,r,n){var i=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(qV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Au,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ru,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ru," .").concat(Ru,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(zV,": ").concat(d,`px;
  }
`)},m0=function(){var t=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(t)?t:0},cU=function(){v.useEffect(function(){return document.body.setAttribute(Uo,(m0()+1).toString()),function(){var t=m0()-1;t<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,t.toString())}},[])},uU=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;cU();var l=v.useMemo(function(){return oU(i)},[i]);return v.createElement(aU,{styles:lU(l,!e,i,r?"":"!important")})},lp=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{lp=!1}var go=lp?{passive:!1}:!1,dU=function(t){return t.tagName==="TEXTAREA"},s1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!dU(t)&&r[e]==="visible")},fU=function(t){return s1(t,"overflowY")},hU=function(t){return s1(t,"overflowX")},p0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=i1(t,n);if(i){var l=o1(t,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},mU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},pU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},i1=function(t,e){return t==="v"?fU(e):hU(e)},o1=function(t,e){return t==="v"?mU(e):pU(e)},gU=function(t,e){return t==="h"&&e==="rtl"?-1:1},yU=function(t,e,r,n,i){var l=gU(t,window.getComputedStyle(e).direction),c=l*n,d=r.target,h=e.contains(d),m=!1,p=c>0,y=0,b=0;do{if(!d)break;var N=o1(t,d),_=N[0],j=N[1],w=N[2],C=j-w-l*_;(_||C)&&i1(t,d)&&(y+=C,b+=_);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(p&&Math.abs(y)<1||!p&&Math.abs(b)<1)&&(m=!0),m},bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},g0=function(t){return[t.deltaX,t.deltaY]},y0=function(t){return t&&"current"in t?t.current:t},xU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},bU=0,yo=[];function wU(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),i=v.useState(bU++)[0],l=v.useState(n1)[0],c=v.useRef(t);v.useEffect(function(){c.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=dg([t.lockRef.current],(t.shards||[]).map(y0),!0).filter(Boolean);return j.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=v.useCallback(function(j,w){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var C=bu(j),k=r.current,E="deltaX"in j?j.deltaX:k[0]-C[0],R="deltaY"in j?j.deltaY:k[1]-C[1],L,F=j.target,K=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in j&&K==="h"&&F.type==="range")return!1;var Z=p0(K,F);if(!Z)return!0;if(Z?L=K:(L=K==="v"?"h":"v",Z=p0(K,F)),!Z)return!1;if(!n.current&&"changedTouches"in j&&(E||R)&&(n.current=L),!L)return!0;var O=n.current||L;return yU(O,w,j,O==="h"?E:R)},[]),h=v.useCallback(function(j){var w=j;if(!(!yo.length||yo[yo.length-1]!==l)){var C="deltaY"in w?g0(w):bu(w),k=e.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&xU(L.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var E=(c.current.shards||[]).map(y0).filter(Boolean).filter(function(L){return L.contains(w.target)}),R=E.length>0?d(w,E[0]):!c.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),m=v.useCallback(function(j,w,C,k){var E={name:j,delta:w,target:C,should:k,shadowParent:jU(C)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(R){return R!==E})},1)},[]),p=v.useCallback(function(j){r.current=bu(j),n.current=void 0},[]),y=v.useCallback(function(j){m(j.type,g0(j),j.target,d(j,t.lockRef.current))},[]),b=v.useCallback(function(j){m(j.type,bu(j),j.target,d(j,t.lockRef.current))},[]);v.useEffect(function(){return yo.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",h,go),document.addEventListener("touchmove",h,go),document.addEventListener("touchstart",p,go),function(){yo=yo.filter(function(j){return j!==l}),document.removeEventListener("wheel",h,go),document.removeEventListener("touchmove",h,go),document.removeEventListener("touchstart",p,go)}},[]);var N=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(l,{styles:vU(i)}):null,N?v.createElement(uU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NU=ZV(r1,wU);var a1=v.forwardRef(function(t,e){return v.createElement(Td,fn({},t,{ref:e,sideCar:NU}))});a1.classNames=Td.classNames;var SU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,wu=new WeakMap,ju={},cm=0,l1=function(t){return t&&(t.host||l1(t.parentNode))},_U=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=l1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},kU=function(t,e,r,n){var i=_U(e,Array.isArray(t)?t:[t]);ju[r]||(ju[r]=new WeakMap);var l=ju[r],c=[],d=new Set,h=new Set(i),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};i.forEach(m);var p=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(b){if(d.has(b))p(b);else try{var N=b.getAttribute(n),_=N!==null&&N!=="false",j=(xo.get(b)||0)+1,w=(l.get(b)||0)+1;xo.set(b,j),l.set(b,w),c.push(b),j===1&&_&&wu.set(b,!0),w===1&&b.setAttribute(r,"true"),_||b.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return p(e),d.clear(),cm++,function(){c.forEach(function(y){var b=xo.get(y)-1,N=l.get(y)-1;xo.set(y,b),l.set(y,N),b||(wu.has(y)||y.removeAttribute(n),wu.delete(y)),N||y.removeAttribute(r)}),cm--,cm||(xo=new WeakMap,xo=new WeakMap,wu=new WeakMap,ju={})}},CU=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=SU(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),kU(n,i,r,"aria-hidden")):function(){return null}},Pd="Dialog",[c1]=Qo(Pd),[EU,Rn]=c1(Pd),u1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=v.useRef(null),h=v.useRef(null),[m,p]=Il({prop:n,defaultProp:i??!1,onChange:l,caller:Pd});return o.jsx(EU,{scope:e,triggerRef:d,contentRef:h,contentId:il(),titleId:il(),descriptionId:il(),open:m,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(y=>!y),[p]),modal:c,children:r})};u1.displayName=Pd;var d1="DialogTrigger",TU=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Rn(d1,r),l=Yr(e,i.triggerRef);return o.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ig(i.open),...n,ref:l,onClick:Zt(t.onClick,i.onOpenToggle)})});TU.displayName=d1;var Rg="DialogPortal",[PU,f1]=c1(Rg,{forceMount:void 0}),h1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,l=Rn(Rg,e);return o.jsx(PU,{scope:e,forceMount:r,children:v.Children.map(n,c=>o.jsx(Jo,{present:r||l.open,children:o.jsx(vp,{asChild:!0,container:i,children:c})}))})};h1.displayName=Rg;var ad="DialogOverlay",m1=v.forwardRef((t,e)=>{const r=f1(ad,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=Rn(ad,t.__scopeDialog);return l.modal?o.jsx(Jo,{present:n||l.open,children:o.jsx(RU,{...i,ref:e})}):null});m1.displayName=ad;var AU=al("DialogOverlay.RemoveScroll"),RU=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Rn(ad,r);return o.jsx(a1,{as:AU,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Ct.div,{"data-state":Ig(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Li="DialogContent",p1=v.forwardRef((t,e)=>{const r=f1(Li,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=Rn(Li,t.__scopeDialog);return o.jsx(Jo,{present:n||l.open,children:l.modal?o.jsx(OU,{...i,ref:e}):o.jsx(IU,{...i,ref:e})})});p1.displayName=Li;var OU=v.forwardRef((t,e)=>{const r=Rn(Li,t.__scopeDialog),n=v.useRef(null),i=Yr(e,r.contentRef,n);return v.useEffect(()=>{const l=n.current;if(l)return CU(l)},[]),o.jsx(g1,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Zt(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Zt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Zt(t.onFocusOutside,l=>l.preventDefault())})}),IU=v.forwardRef((t,e)=>{const r=Rn(Li,t.__scopeDialog),n=v.useRef(!1),i=v.useRef(!1);return o.jsx(g1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),g1=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,d=Rn(Li,r),h=v.useRef(null),m=Yr(e,h);return BV(),o.jsxs(o.Fragment,{children:[o.jsx(X_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(xp,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ig(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(LU,{titleId:d.titleId}),o.jsx(MU,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Og="DialogTitle",y1=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Rn(Og,r);return o.jsx(Ct.h2,{id:i.titleId,...n,ref:e})});y1.displayName=Og;var x1="DialogDescription",v1=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Rn(x1,r);return o.jsx(Ct.p,{id:i.descriptionId,...n,ref:e})});v1.displayName=x1;var b1="DialogClose",w1=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Rn(b1,r);return o.jsx(Ct.button,{type:"button",...n,ref:e,onClick:Zt(t.onClick,()=>i.onOpenChange(!1))})});w1.displayName=b1;function Ig(t){return t?"open":"closed"}var j1="DialogTitleWarning",[CB,N1]=dT(j1,{contentName:Li,titleName:Og,docsSlug:"dialog"}),LU=({titleId:t})=>{const e=N1(j1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},DU="DialogDescriptionWarning",MU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N1(DU).contentName}}.`;return v.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},FU=u1,VU=h1,S1=m1,_1=p1,k1=y1,C1=v1,UU=w1;const $U=FU,BU=VU,E1=v.forwardRef(({className:t,...e},r)=>o.jsx(S1,{ref:r,className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));E1.displayName=S1.displayName;const T1=v.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(BU,{children:[o.jsx(E1,{}),o.jsxs(_1,{ref:n,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(UU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(zs,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));T1.displayName=_1.displayName;const P1=v.forwardRef(({className:t,...e},r)=>o.jsx(k1,{ref:r,className:pt("text-lg font-semibold leading-none tracking-tight",t),...e}));P1.displayName=k1.displayName;const qU=v.forwardRef(({className:t,...e},r)=>o.jsx(C1,{ref:r,className:pt("text-sm text-muted-foreground",t),...e}));qU.displayName=C1.displayName;function zU({open:t,onOpenChange:e}){const[r,n]=v.useState(0);return o.jsx($U,{open:t,onOpenChange:i=>{e(i),i||n(l=>l+1)},children:o.jsxs(T1,{className:"max-w-3xl p-0 overflow-hidden",children:[o.jsx(P1,{className:"sr-only",children:"Join the waitlist"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1.05fr_1.15fr]",children:[o.jsx("div",{className:"p-8",children:o.jsx(Ed,{embedded:!0})},r),o.jsxs("div",{className:"hidden md:flex flex-col justify-center gap-4 border-l border-border bg-card/60 px-10 py-12",children:[o.jsx("p",{className:"text-base font-medium text-foreground uppercase tracking-[0.25em]",children:"Why it matters"}),o.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"Every name on the waitlist is proof that science can belong to everyone. Well only reach out when theres meaningful progressno spam, just breakthroughs the community helps bring to life."})]})]})]})})}const WU=[{title:"1. Publish your lab",description:"Share your capabilities, equipment, and collaboration preferences in a structured profile built for scientists."},{title:"2. Verify once",description:"We run a light remote/on-site verification so partners know the details are accurate and trusted."},{title:"3. Connect quickly",description:"Inbound requests are routed straight to your team. Share availability, manage intros, and stay visible to the network."}],KU=[{title:"Labs & Core Facilities",description:"List your capabilities, surface underused equipment, and make it easy for peers and partners to collaborate."},{title:"Network Operators",description:"Manage multiple labs with consistent profiles, verification, and routing that respects each sites preferences."},{title:"Industry & Partners",description:"Find trusted collaborators faster, with clear capabilities, contact paths, and lightweight governance."}],HU=[{title:"Standardised discovery",description:"Profiles use the same structure across labs, so partners can compare expertise, equipment, and availability quickly."},{title:"Trusted details",description:"Verification checks make it clear whats real, whats available, and who to reach without endless back-and-forth."},{title:"Less time chasing",description:"GLASS-Connect routes qualified requests to the right people, helping teams spend more time collaborating."}];function GU(){const[t,e]=v.useState(!1);return o.jsxs("div",{className:"bg-background text-foreground",children:[o.jsx("section",{className:"border-b border-border bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:o.jsxs("div",{className:"max-w-3xl",children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Why we started GLASS-Connect"}),o.jsx("h1",{className:"mt-4 text-4xl font-semibold leading-tight md:text-5xl",children:"Science deserves collaboration thats fast, clear, and trusted."}),o.jsx("p",{className:"mt-6 text-lg text-muted-foreground leading-relaxed",children:"Labs have incredible capabilities, but no simple way to share them or filter serious collaboration requests from noise. GLASS-Connect is a directory and routing layer for labs: structured profiles, light verification, and direct introductions so teams can work together fasterwithout adding bureaucracy."}),o.jsxs("div",{className:"mt-8 flex flex-col gap-3 sm:flex-row sm:items-center",children:[o.jsx(Ne,{href:"/roadmap",children:o.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["Explore the roadmap",o.jsx(Kv,{className:"h-4 w-4"})]})}),o.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-6 py-3 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})})}),o.jsx("section",{className:"border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Why a lab network matters"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We built GLASS-Connect to make it effortless for partners to find, trust, and contact the right labwithout long chains of introductions or hidden spreadsheets."}),o.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:HU.map(r=>o.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),o.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),o.jsx("section",{className:"border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:o.jsxs("div",{className:"grid gap-10 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)] lg:items-start",children:[o.jsxs("article",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"What is GLASS-Connect?"}),o.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"GLASS-Connect is a directory and routing layer for research labs. We standardise how labs present their capabilities, verify key details, and connect inbound collaborations without burying teams in admin."})]}),o.jsxs("article",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Why GLASS-Connect matters"}),o.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"Today, capabilities are scattered across PDFs, cold emails, and outdated directories. GLASS-Connect gives every lab a clear presence and makes it simple for serious partners to reach the right people without chasing inboxes."})]})]})})}),o.jsx("section",{className:"border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"How Glass works"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We combine structured profiles with light verification and direct routing so collaborators can move from first contact to scoped work quickly."}),o.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:WU.map(r=>o.jsxs("div",{className:"h-full rounded-3xl border border-border bg-card p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),o.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),o.jsx("section",{className:"border-b border-border bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Who we build for"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"GLASS-Connect gives labs and partners a shared surface to collaboratewithout forcing them into new workflows."}),o.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:KU.map(r=>o.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),o.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),o.jsx(Y_,{}),o.jsx("section",{className:"border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Lets connect labs faster"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"Whether you manage a single lab or a network of facilities, GLASS-Connect gives you a clear, trusted place to showcase your work and meet collaborators."}),o.jsxs("div",{className:"mt-8 flex flex-col justify-center gap-3 sm:flex-row",children:[o.jsx(Ne,{href:"/roadmap",children:o.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["See whats next",o.jsx(Kv,{className:"h-4 w-4"})]})}),o.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-5 py-2.5 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})}),o.jsx(zU,{open:t,onOpenChange:e})]})}var Ad="Collapsible",[QU,A1]=Qo(Ad),[JU,Lg]=QU(Ad),R1=v.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:l,onOpenChange:c,...d}=t,[h,m]=Il({prop:n,defaultProp:i??!1,onChange:c,caller:Ad});return o.jsx(JU,{scope:r,disabled:l,contentId:il(),open:h,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),children:o.jsx(Ct.div,{"data-state":Mg(h),"data-disabled":l?"":void 0,...d,ref:e})})});R1.displayName=Ad;var O1="CollapsibleTrigger",I1=v.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=Lg(O1,r);return o.jsx(Ct.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Mg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Zt(t.onClick,i.onOpenToggle)})});I1.displayName=O1;var Dg="CollapsibleContent",L1=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Lg(Dg,t.__scopeCollapsible);return o.jsx(Jo,{present:r||i.open,children:({present:l})=>o.jsx(ZU,{...n,ref:e,present:l})})});L1.displayName=Dg;var ZU=v.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...l}=t,c=Lg(Dg,r),[d,h]=v.useState(n),m=v.useRef(null),p=Yr(e,m),y=v.useRef(0),b=y.current,N=v.useRef(0),_=N.current,j=c.open||d,w=v.useRef(j),C=v.useRef(void 0);return v.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),zn(()=>{const k=m.current;if(k){C.current=C.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const E=k.getBoundingClientRect();y.current=E.height,N.current=E.width,w.current||(k.style.transitionDuration=C.current.transitionDuration,k.style.animationName=C.current.animationName),h(n)}},[c.open,n]),o.jsx(Ct.div,{"data-state":Mg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...l,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:j&&i})});function Mg(t){return t?"open":"closed"}var YU=R1,XU=I1,e$=L1,t$=v.createContext(void 0);function r$(t){const e=v.useContext(t$);return t||e||"ltr"}var On="Accordion",n$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Fg,s$,i$]=G0(On),[Rd]=Qo(On,[i$,A1]),Vg=A1(),D1=Fe.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,l=n;return o.jsx(Fg.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?o.jsx(c$,{...l,ref:e}):o.jsx(l$,{...i,ref:e})})});D1.displayName=On;var[M1,o$]=Rd(On),[F1,a$]=Rd(On,{collapsible:!1}),l$=Fe.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:l=!1,...c}=t,[d,h]=Il({prop:r,defaultProp:n??"",onChange:i,caller:On});return o.jsx(M1,{scope:t.__scopeAccordion,value:Fe.useMemo(()=>d?[d]:[],[d]),onItemOpen:h,onItemClose:Fe.useCallback(()=>l&&h(""),[l,h]),children:o.jsx(F1,{scope:t.__scopeAccordion,collapsible:l,children:o.jsx(V1,{...c,ref:e})})})}),c$=Fe.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...l}=t,[c,d]=Il({prop:r,defaultProp:n??[],onChange:i,caller:On}),h=Fe.useCallback(p=>d((y=[])=>[...y,p]),[d]),m=Fe.useCallback(p=>d((y=[])=>y.filter(b=>b!==p)),[d]);return o.jsx(M1,{scope:t.__scopeAccordion,value:c,onItemOpen:h,onItemClose:m,children:o.jsx(F1,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(V1,{...l,ref:e})})})}),[u$,Od]=Rd(On),V1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:l="vertical",...c}=t,d=Fe.useRef(null),h=Yr(d,e),m=s$(r),y=r$(i)==="ltr",b=Zt(t.onKeyDown,N=>{if(!n$.includes(N.key))return;const _=N.target,j=m().filter(Z=>!Z.ref.current?.disabled),w=j.findIndex(Z=>Z.ref.current===_),C=j.length;if(w===-1)return;N.preventDefault();let k=w;const E=0,R=C-1,L=()=>{k=w+1,k>R&&(k=E)},F=()=>{k=w-1,k<E&&(k=R)};switch(N.key){case"Home":k=E;break;case"End":k=R;break;case"ArrowRight":l==="horizontal"&&(y?L():F());break;case"ArrowDown":l==="vertical"&&L();break;case"ArrowLeft":l==="horizontal"&&(y?F():L());break;case"ArrowUp":l==="vertical"&&F();break}const K=k%C;j[K].ref.current?.focus()});return o.jsx(u$,{scope:r,disabled:n,direction:i,orientation:l,children:o.jsx(Fg.Slot,{scope:r,children:o.jsx(Ct.div,{...c,"data-orientation":l,ref:h,onKeyDown:n?void 0:b})})})}),ld="AccordionItem",[d$,Ug]=Rd(ld),U1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,l=Od(ld,r),c=o$(ld,r),d=Vg(r),h=il(),m=n&&c.value.includes(n)||!1,p=l.disabled||t.disabled;return o.jsx(d$,{scope:r,open:m,disabled:p,triggerId:h,children:o.jsx(YU,{"data-orientation":l.orientation,"data-state":K1(m),...d,...i,ref:e,disabled:p,open:m,onOpenChange:y=>{y?c.onItemOpen(n):c.onItemClose(n)}})})});U1.displayName=ld;var $1="AccordionHeader",B1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Od(On,r),l=Ug($1,r);return o.jsx(Ct.h3,{"data-orientation":i.orientation,"data-state":K1(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:e})});B1.displayName=$1;var cp="AccordionTrigger",q1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Od(On,r),l=Ug(cp,r),c=a$(cp,r),d=Vg(r);return o.jsx(Fg.ItemSlot,{scope:r,children:o.jsx(XU,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId,...d,...n,ref:e})})});q1.displayName=cp;var z1="AccordionContent",W1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Od(On,r),l=Ug(z1,r),c=Vg(r);return o.jsx(e$,{role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation,...c,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});W1.displayName=z1;function K1(t){return t?"open":"closed"}var f$=D1,h$=U1,m$=B1,H1=q1,G1=W1;const p$=f$,Ou=v.forwardRef(({className:t,...e},r)=>o.jsx(h$,{ref:r,className:pt("border-b",t),...e}));Ou.displayName="AccordionItem";const Iu=v.forwardRef(({className:t,children:e,...r},n)=>o.jsx(m$,{className:"flex",children:o.jsxs(H1,{ref:n,className:pt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,o.jsx(u2,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Iu.displayName=H1.displayName;const Lu=v.forwardRef(({className:t,children:e,...r},n)=>o.jsx(G1,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:pt("pb-4 pt-0",t),children:e})}));Lu.displayName=G1.displayName;function g$(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"container mx-auto px-4 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-14",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Contact Glass"}),o.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["Every question, partnership idea, or introduction helps labs collaborate faster. Whether you are a researcher, operator, journalist, or partneryou can reach the GLASS-Connect team at"," ",o.jsx("a",{href:"mailto:support@glass.demo",className:"font-medium text-primary hover:underline",children:"contact@glass-funding.com"}),"."]})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid gap-10 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)] items-start",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 shadow-sm p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:o.jsx(kp,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground",children:"Write to us"}),o.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-lg font-medium text-foreground hover:text-primary",children:"contact@glass-funding.com"})]})]}),o.jsxs("div",{className:"grid gap-4 text-sm text-muted-foreground leading-relaxed",children:[o.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Researchers & Labs"}),o.jsx("p",{className:"mt-2",children:"Share your lab profile, ask about verification, or get help with listing updates and inbound requests."})]}),o.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Network Operators"}),o.jsx("p",{className:"mt-2",children:"Manage multiple labs, set routing rules, and keep data fresh across your networkwe can help."})]}),o.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Media & Partners"}),o.jsx("p",{className:"mt-2",children:"Request interviews, press kits, or collaboration details. Were happy to share what GLASS-Connect is building."})]})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/60 shadow-sm p-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground text-left",children:"FAQs"}),o.jsxs(p$,{type:"single",collapsible:!0,className:"mt-4 space-y-1",children:[o.jsxs(Ou,{value:"faq-1",children:[o.jsx(Iu,{className:"text-left text-sm",children:"How soon will someone reply?"}),o.jsx(Lu,{children:o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We aim to respond within 2 business days. Research submissions may take a little longer while we loop in advisors for review."})})]}),o.jsxs(Ou,{value:"faq-2",children:[o.jsx(Iu,{className:"text-left text-sm",children:"Do I need verification to list a lab?"}),o.jsx(Lu,{children:o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We recommend verification to improve trust and placement. You can publish a profile without it and schedule verification when you are ready."})})]}),o.jsxs(Ou,{value:"faq-3",children:[o.jsx(Iu,{className:"text-left text-sm",children:"Can I demo the platform before launch?"}),o.jsx(Lu,{children:o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Yesdrop us a note at contact@glass-funding.com and well share the latest demo environment and roadmap update."})})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground text-left",children:"Social"}),o.jsxs("div",{className:"mt-4 flex gap-3 text-muted-foreground",children:[o.jsx("a",{href:"https://x.com/GlassFunding",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on X",children:o.jsx(zs,{className:"h-4 w-4"})}),o.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on LinkedIn",children:o.jsx(_p,{className:"h-4 w-4"})}),o.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on Instagram",children:o.jsx(Nj,{className:"h-4 w-4"})})]})]})]})]})]})}),o.jsx(Ed,{})]})}function y$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"404 error"}),o.jsx("h1",{className:"mt-6 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Looks like this page drifted off the map."}),o.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"The link you followed might be broken or the content may have been moved. Try returning to the homepage or browse our available lab partners."}),o.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[o.jsx(Ne,{href:"/",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Back to homepage"})}),o.jsx(Ne,{href:"/labs",children:o.jsxs("a",{className:"inline-flex items-center justify-center gap-2 rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:[o.jsx(_2,{className:"h-4 w-4"}),"Browse labs"]})})]}),o.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Believe this is a mistake?"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"Let us know"}),"."]})]})})}function x$(){const{user:t,loading:e}=gr(),[r,n]=v.useState(""),[i,l]=v.useState(""),[c,d]=v.useState(null),[,h]=hs(),[m,p]=v.useState(!1),y=v.useMemo(()=>{try{return new URLSearchParams(window.location.search).get("next")||"/account"}catch{return"/account"}},[]);v.useEffect(()=>{!e&&t&&h(y,{replace:!0})},[e,t,h,y]);const b=async N=>{if(N.preventDefault(),!r||!i){d("Enter your email and password to continue.");return}d(null),p(!0);try{const{data:_,error:j}=await We.auth.signInWithPassword({email:r,password:i});j?d(j.message):_.session&&h(y,{replace:!0})}catch(_){console.error(_),d("Unexpected error occurred. Please try again.")}finally{p(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Welcome back"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Sign in to keep backing the science that matters to you."}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Access your portfolio, track donations, and stay close to the research teams you support."}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("p",{className:"font-medium text-foreground",children:"New to Glass?"}),o.jsx("p",{className:"mt-1",children:"Create an account in minutes and start directing capital to world-class labs."}),o.jsx(Ne,{href:"/signup",children:o.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Create your profile"})})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[o.jsxs("form",{className:"space-y-5",onSubmit:b,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:N=>n(N.target.value),placeholder:"you@example.org",required:!0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),o.jsx(Ne,{href:"/forgot-password",children:o.jsx("a",{className:"text-xs font-medium text-muted-foreground hover:text-foreground transition",children:"Forgot?"})})]}),o.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:i,onChange:N=>l(N.target.value),placeholder:"Enter your password",required:!0})]}),c&&o.jsx("p",{className:"text-sm text-destructive",children:c}),o.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:m,children:m?"Signing in...":"Log in"})]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Need to get set up?"," ",o.jsx(Ne,{href:"/signup",children:o.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Create an account"})})]})]})]})})})}function v$(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[i,l]=v.useState(""),[c,d]=v.useState(null),[h,m]=v.useState(!1),[,p]=hs(),y=async b=>{if(b.preventDefault(),!r.includes("@")||i.length<6){d("Use a valid email address and a password with at least 6 characters.");return}d(null),m(!0);try{const{data:N,error:_}=await We.auth.signUp({email:r,password:i});if(_){d(_.message),m(!1);return}p("/login")}catch(N){console.error(N),d("Unexpected error occurred. Please try again.")}finally{m(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Join the community"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Build your Glass profile and direct capital where breakthroughs happen."}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Tell us a little about you and well surface handpicked projects, personalized reports, and donation workflows."}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Already supporting teams?"}),o.jsx("p",{className:"mt-1",children:"Sign in to continue tracking milestones and managing your follow-ups."}),o.jsx(Ne,{href:"/login",children:o.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Log in instead"})})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[o.jsxs("form",{className:"space-y-5",onSubmit:y,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),o.jsx("input",{type:"text",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:t,onChange:b=>e(b.target.value),placeholder:"Your full name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:b=>n(b.target.value),placeholder:"you@example.org",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),o.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:i,onChange:b=>l(b.target.value),placeholder:"Minimum 6 characters",required:!0,minLength:6})]}),c&&o.jsx("p",{className:"text-sm text-destructive",children:c}),o.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:h,children:h?"Creating account...":"Create account"})]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",o.jsx(Ne,{href:"/login",children:o.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Log in"})})]})]})]})})})}function b$(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function w$(){const[t,e]=v.useState(""),[r,n]=v.useState(null),[,i]=hs(),l=c=>{if(c.preventDefault(),!b$(t)){n("Enter the email address linked to your account.");return}n(null),i("/forgot-password/confirmation")};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Reset access"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Forgotten your password? Let's get you back to your projects."}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Enter the email you use for Glass and we'll send a reset link. You'll see confirmation details on the next screen."}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Remembered it?"}),o.jsx("p",{className:"mt-1",children:"Jump back to sign in and continue exploring the portfolio."}),o.jsx(Ne,{href:"/login",children:o.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[o.jsxs("form",{className:"space-y-5",onSubmit:l,noValidate:!0,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:`mt-2 w-full rounded-full border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary ${r?"border-destructive":"border-border"}`,value:t,onChange:c=>e(c.target.value),placeholder:"you@example.org","aria-invalid":!!r,"aria-describedby":r?"reset-email-error":void 0}),r?o.jsx("p",{id:"reset-email-error",className:"mt-2 text-sm text-destructive",children:r}):null]}),o.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Send reset link"})]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Prefer to try again later?"," ",o.jsx(Ne,{href:"/login",children:o.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Back to login"})})]})]})]})})})}function j$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-border bg-card/90 p-10 text-center shadow-lg",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Check your inbox"}),o.jsx("h1",{className:"mt-6 text-3xl md:text-4xl font-semibold text-foreground",children:"Reset instructions are on their way."}),o.jsx("p",{className:"mt-4 text-sm md:text-base text-muted-foreground leading-relaxed",children:"If an account exists for the email you provided, you'll receive a message in the next few minutes. Follow the secure link to choose a new password and jump back into your Glass workspace."}),o.jsx("div",{className:"mt-8 grid gap-4",children:o.jsxs("div",{className:"rounded-2xl border border-border bg-muted/20 px-6 py-4 text-sm text-muted-foreground text-left",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Didn't see the email?"}),o.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[o.jsx("li",{children:"Check your spam or promotions folder."}),o.jsx("li",{children:"Make sure you entered the correct address."}),o.jsx("li",{children:"Still stuck? Request another link or reach out to our team."})]})]})}),o.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[o.jsx(Ne,{href:"/login",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})}),o.jsx(Ne,{href:"/forgot-password",children:o.jsx("a",{className:"text-sm font-medium text-muted-foreground hover:text-foreground transition",children:"Send another reset link"})})]})]})})})}const Q1=v.createContext(void 0);async function Nu(t,e){const{headers:r,...n}=e??{},i=await fetch(t,{...n,headers:{"Content-Type":"application/json",...r??{}}});if(!i.ok){let l="Request failed";try{const c=await i.json();c?.message&&(l=c.message)}catch{}throw new Error(l)}if(i.status!==204)return await i.json()}function N$({children:t}){const[e,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[d,h]=v.useState(!1),m=v.useCallback(async(j=!1)=>{i(!0);try{h(j);const w=await Nu(j?"/api/labs?includeHidden=true":"/api/labs"),C=j?w:w.filter(k=>k.isVisible!==!1);r(C),c(null)}catch(w){const C=w instanceof Error?w.message:"Unable to load labs";c(C)}finally{i(!1)}},[]);v.useEffect(()=>{m(d)},[m,d]);const p=v.useCallback(async j=>{const w=await Nu("/api/labs",{method:"POST",body:JSON.stringify(j)});return r(C=>{const k=[...C,w];return d?k:k.filter(E=>E.isVisible!==!1)}),w},[d]),y=v.useCallback(async(j,w)=>{const C=await Nu(`/api/labs/${j}`,{method:"PUT",body:JSON.stringify(w)});return r(k=>{const E=k.map(R=>R.id===j?C:R);return d?E:E.filter(R=>R.isVisible!==!1)}),C},[d]),b=v.useCallback(async j=>{await Nu(`/api/labs/${j}`,{method:"DELETE"}),r(w=>w.filter(C=>C.id!==j))},[]),N=v.useCallback(async(j=d)=>{await m(j)},[m,d]),_=v.useMemo(()=>({labs:e,isLoading:n,error:l,refresh:N,addLab:p,updateLab:y,removeLab:b}),[e,n,l,N,p,y,b]);return o.jsx(Q1.Provider,{value:_,children:t})}function ti(){const t=v.useContext(Q1);if(!t)throw new Error("useLabs must be used within a LabsProvider");return t}function S$(){const{labs:t,isLoading:e,error:r,refresh:n}=ti(),{user:i}=gr(),[l,c]=v.useState(""),[d,h]=v.useState(new Set),[m,p]=v.useState(!1),[y,b]=v.useState(!0),[N,_]=v.useState(null),[j,w]=v.useState(!1),C=v.useMemo(()=>t.filter(O=>O.isVisible!==!1),[t]),k=C.length,E=C.filter(O=>O.isVerified).length,R=v.useMemo(()=>{const O=new Set;return C.forEach(G=>{G.equipment.forEach(ne=>O.add(ne.toLowerCase()))}),O.size},[C]),L=(O,G=1200)=>O.startsWith("data:")?O:`${O}${O.includes("?")?"&":"?"}auto=format&fit=crop&w=${G}&q=${G>=1600?80:75}`;v.useEffect(()=>{let O=!0;async function G(){if(!i){h(new Set);return}try{w(!0);const{data:ne}=await We.auth.getSession(),H=ne.session?.access_token;if(!H){h(new Set);return}const te=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${H}`}});if(!te.ok)throw new Error("Unable to load favorites");const ee=await te.json();O&&h(new Set(ee.labIds??[]))}catch(ne){O&&_(ne.message||"Unable to load favorites")}finally{O&&w(!1)}}return G(),()=>{O=!1}},[i?.id]);const F=async O=>{if(!i){_("Sign in to favorite labs.");return}_(null);try{const{data:G}=await We.auth.getSession(),ne=G.session?.access_token;if(!ne)throw new Error("Please sign in again.");const H=d.has(O),te=H?"DELETE":"POST",ee=await fetch(`/api/labs/${O}/favorite`,{method:te,headers:{Authorization:`Bearer ${ne}`}});if(!ee.ok){const ke=await ee.json().catch(()=>({}));throw new Error(ke?.message||"Unable to update favorite")}h(ke=>{const Ce=new Set(ke);return H?Ce.delete(O):Ce.add(O),Ce})}catch(G){_(G.message||"Unable to update favorite")}},K=O=>(O?.subscriptionTier??O?.subscription_tier??"base").toLowerCase(),Z=v.useMemo(()=>{const O=l.trim().toLowerCase();let G=O?C.filter(ne=>[ne.name,ne.location,ne.equipment.join(" "),ne.focusAreas.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(O)):C;return y&&(G=G.filter(ne=>{const H=ne.isVerified===!0||ne.isVerified==="true"||ne.isVerified===1,te=K(ne);return H||!H&&te!=="base"})),m&&(G=G.filter(ne=>d.has(ne.id))),[...G].sort((ne,H)=>{const te=K(ne)==="premier",ee=K(H)==="premier";return te===ee?0:te?-1:1})},[C,l,m,d,y]);return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Partner Labs"}),o.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold leading-tight",children:"Rent bench space inside vetted labs aligned with Glass."}),o.jsx("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:"Each partner lab lists core equipment, focus areas, and compliance posture so your team can spin up work quickly with the right infrastructure in place."})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-10 flex flex-wrap items-start gap-4 md:gap-6",children:[o.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:o.jsx("div",{className:"flex items-center gap-3 justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Network size"}),o.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[k," labs"]}),o.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Vetted partners with GLASS-Connect alignment."})]})})}),o.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:o.jsx("div",{className:"flex items-center gap-3 justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Verified labs"}),o.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[E," verified"]}),o.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Completed verification to boost trust and routing."})]})})})]}),o.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["Across the network you'll find ",R,"+ distinct pieces of specialized equipment, supporting a broad range of wet lab, fabrication, and analytics workflows."]}),o.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",k," labs"]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("input",{type:"search",value:l,onChange:O=>c(O.target.value),placeholder:"Search labs by name or location",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx(Ws,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),i&&o.jsx("button",{type:"button",onClick:()=>p(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${m?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,disabled:j,children:m?"Showing favorites":"Show favorites"}),o.jsxs("button",{type:"button",onClick:()=>b(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${y?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,children:[o.jsx(Tn,{className:"h-4 w-4"}),y?"GLASS verified only":"Include unverified"]})]})]}),N&&o.jsx("p",{className:"mt-2 text-xs text-destructive",children:N}),r&&o.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[o.jsx("span",{children:r}),o.jsx("button",{type:"button",onClick:n,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.3em]",children:"Retry"})]}),o.jsx("div",{className:"mt-12",children:e&&t.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"Loading labs"}):t.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:r?"We couldn't load the lab directory. Please retry.":"No partner labs are available yet. Check back soon."}):Z.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"No labs match that search. Try a different name, city, or equipment keyword."}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:Z.map((O,G)=>{const H=(O.subscriptionTier??O.subscription_tier??"base").toLowerCase(),te=["premier","custom"].includes(H),ee=O.isVerified?"verified":H==="base"?"unverified":"pending",ke=["true","1",!0,1].includes(O.offersLabSpace),Ce=ee==="verified"?"bg-emerald-50 text-emerald-700":ee==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",re=ee==="verified"?"Verified":ee==="pending"?"Verification pending":"Unverified";return o.jsxs(Ye.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*(G%3)},className:`flex h-full flex-col rounded-3xl border ${te?"border-2 border-primary/80 shadow-lg":"border-border"} bg-card/80 p-8`,children:[O.photos.length>0&&o.jsx("div",{className:"mb-6 overflow-hidden rounded-2xl border border-border/60 bg-background/40",children:o.jsx("img",{src:L(O.photos[0].url),alt:`${O.name} preview - ${O.photos[0].name}`,className:"h-48 w-full object-cover",loading:"lazy"})}),o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[(O.logoUrl||["premier","custom"].includes(H))&&o.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:O.logoUrl?o.jsx("img",{src:O.logoUrl,alt:`${O.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:O.name}),o.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Ws,{className:"h-4 w-4 text-primary"}),o.jsx("span",{children:O.location})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${Ce}`,children:ee==="verified"?o.jsxs(o.Fragment,{children:[o.jsx(hd,{className:"h-3.5 w-3.5"}),re]}):ee==="pending"?o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-3.5 w-3.5"}),re]}):o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-3.5 w-3.5"}),re]})}),o.jsx("button",{type:"button",onClick:()=>F(O.id),className:`inline-flex h-8 w-8 items-center justify-center rounded-full border transition ${d.has(O.id)?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":d.has(O.id)?"Unfavorite lab":"Favorite lab",disabled:j,children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:d.has(O.id)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),ke&&o.jsx("span",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-[11px] font-medium bg-primary/10 text-primary",children:"Offers lab space"})]})]}),o.jsxs("div",{className:"mt-5 grid gap-4",children:[O.focusAreas.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Focus"}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.focusAreas.slice(0,3).map(Y=>o.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:Y},Y))})]}),O.equipment.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Equipment"}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-muted-foreground",children:O.equipment.slice(0,3).map(Y=>o.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1",children:Y},Y))})]}),O.photos.length>1&&o.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",children:[o.jsx(jj,{className:"h-3.5 w-3.5 text-primary"}),O.photos.length," photos provided"]})})]}),o.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[o.jsx(Ne,{href:`/labs/${O.id}`,children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"View details"})}),o.jsx("a",{href:`mailto:${O.contactEmail}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact lab"})]})]},O.id)})})})]})})}function _$(){return o.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms of Use"}),o.jsx("p",{children:"Welcome to GLASS-Connect. By accessing or using our website, you agree to the following terms and conditions. Please read them carefully."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),o.jsx("p",{children:"By using Glass, you agree to comply with and be legally bound by these Terms of Use."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of the Platform"}),o.jsx("p",{children:"Our platform is currently a read-only landing site without payment processing or user accounts. You may browse the site and access publicly available information."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Intellectual Property"}),o.jsx("p",{children:"All content, logos, and trademarks on this site are the property of Glass unless otherwise stated."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),o.jsxs("p",{children:["If you have any questions, contact us at ",o.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),o.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function k$(){return o.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),o.jsx("p",{children:"This Privacy Policy describes how GLASS-Connect collects and uses information through our website."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Data We Collect"}),o.jsx("p",{children:"We collect information you submit through our contact form (name, email, and message). We do not use cookies or tracking technologies."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of Information"}),o.jsx("p",{children:"Your information is used only to respond to inquiries. We do not share it with third parties unless legally required."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Your Rights"}),o.jsx("p",{children:"In accordance with the GDPR, you have the right to access, correct, or delete your personal data by contacting us."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),o.jsxs("p",{children:["For privacy concerns, contact ",o.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),o.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function C$(){return o.jsxs("div",{className:"pt-32 px-4",children:[o.jsx("p",{className:"text-center text-lg mb-6",children:"Join our waitlist today and be among the first to access Glass. By signing up, youll receive early updates and exclusive platform news."}),o.jsx(Ed,{})]})}const E$=[{title:"GLASS-Connect Overview",description:"A concise overview of GLASS-Connect, our mission, and how the platform helps labs share capabilities and connect with collaborators.",file:"/OnePageIntroduction.pdf"}];function T$(){return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-16",children:[o.jsx(Ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-bold text-center mb-10",children:"Glass One-Pagers"}),o.jsx(Ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"max-w-3xl mx-auto text-center text-muted-foreground mb-16",children:"Explore shareable one-pagers that highlight GLASS-Connect and our approach to connecting labs with collaborators."}),o.jsx("div",{className:"space-y-12",children:E$.map((t,e)=>o.jsxs(Ye.article,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:e*.1},className:"bg-card border rounded-2xl shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-8 space-y-4",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-semibold",children:t.title}),o.jsx("p",{className:"text-muted-foreground text-lg",children:t.description}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-full bg-primary px-6 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:"View PDF"}),o.jsx("a",{href:t.file,download:!0,className:"inline-flex items-center justify-center rounded-full border border-input px-6 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",children:"Download"})]})]}),o.jsx("div",{className:"border-t border-border bg-muted/40",children:o.jsx("object",{data:t.file,type:"application/pdf",className:"hidden w-full md:block lg:h-[720px] md:h-[640px]",children:o.jsxs("p",{className:"p-6 text-muted-foreground",children:["Your browser is unable to display the PDF. You can still"," ",o.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"underline",children:"open the document in a new tab"})," ","or download it for offline viewing."]})})})]},t.title))})]})})}const P$=[{title:"Phase 0  Foundation",copy:"Build the core GLASS-Connect directory with structured lab profiles, capability tags, and ownership so every listing stays accurate."},{title:"Phase 1  Verified Profiles",copy:"Launch remote/on-site verification, richer filtering (methods, equipment, availability), and clearer contact preferences for each lab."},{title:"Phase 2  Requests & Routing",copy:"Add scoped request forms, calendar-aware introductions, and response SLAs so collaborators hear back quickly from the right contact."},{title:"Phase 3  Integrations & API",copy:"Ship export/API access for operators, light CRM hooks, and data freshness signals so networks can keep many labs current with less effort."}],A$=[{title:"Network search",copy:"Tagging, filtering, and sorting improvements for labs across institutions and partners."},{title:"Profile polish",copy:"Cleaner capability blocks, equipment highlights, and collaboration preferences visible at a glance."},{title:"Verified badge",copy:"Remote verification pilot to improve trust and reduce back-and-forth for partners."}];function R$(){return o.jsx("div",{className:"min-h-screen bg-background pt-32 pb-32",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"max-w-3xl",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Product Roadmap"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Were building GLASS-Connect to make lab discovery and collaboration straightforward. Below is the current plan and whats already shipped to turn GLASS-Connect into the trusted hub for listing, verifying, and connecting labs."})]}),o.jsxs("div",{className:"mt-16 grid grid-cols-1 gap-12 lg:grid-cols-[minmax(0,_1.1fr)_minmax(0,_0.9fr)] lg:items-start",children:[o.jsxs("div",{className:"bg-card border border-border rounded-3xl shadow-sm p-8 lg:p-10 h-full",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Roadmap Overview"}),o.jsx("div",{className:"space-y-10 text-muted-foreground leading-relaxed",children:P$.map(t=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t.title}),o.jsx("p",{children:t.copy})]},t.title))}),o.jsxs("div",{className:"mt-10 border-t border-border pt-8",children:[o.jsx("h3",{className:"text-2xl font-semibold mb-4 text-foreground",children:"Our Long-Term Vision"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"GLASS-Connect aims to become the trusted bridge between labs and collaboratorsone place to find verified capabilities, contact real humans, and keep network data current without heavy tooling."})]})]}),o.jsxs("div",{className:"bg-card/80 border border-border rounded-3xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Recent progress"}),o.jsx("div",{className:"space-y-4 text-muted-foreground",children:A$.map(t=>o.jsxs("div",{className:"rounded-2xl border border-border/70 bg-background p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.title}),o.jsx("p",{className:"mt-2 text-sm leading-relaxed",children:t.copy})]},t.title))})]})]}),o.jsx("div",{className:"h-24"})]})})}const x0=[{id:"glass-web",name:"GLASS-Connect Directory",status:"Operational",uptime:"99.98%",lastIncident:"45 days ago",description:"Main lab-listing and discovery experience for labs and partners."},{id:"profiles",name:"Profile Edits",status:"Operational",uptime:"100%",lastIncident:"92 days ago",description:"Saving and publishing lab profile updates across the network."},{id:"routing",name:"Request Routing",status:"Degraded Performance",uptime:"99.2%",lastIncident:"Today",description:"Email and in-app handoffs for inbound collaboration requests.",note:"Delays of up to 2 hours while we upgrade the messaging queue."},{id:"workspace",name:"Operator Workspace",status:"Operational",uptime:"99.9%",lastIncident:"18 days ago",description:"Multi-lab management dashboards for network operators and admins."}],O$=[{date:"Today",severity:"minor",title:"Request routing queue delays",description:"Messages are sending successfully but slower than usual while we deploy enhanced analytics. We expect normal operation by 18:00 UTC."},{date:"May 5",severity:"maintenance",title:"Planned maintenance: Workspace exports",description:"Completed scheduled maintenance from 01:0003:00 UTC. Data exports were unavailable during this window."},{date:"Apr 17",severity:"resolved",title:"Resolved: Profile webhook retries",description:"Some partners experienced delayed webhook confirmations. The backlog was cleared within 30 minutes and no updates were lost."}];function v0(t){return t.toLowerCase().includes("degraded")?"text-amber-500":t.toLowerCase().includes("maintenance")?"text-blue-500":t.toLowerCase().includes("operational")?"text-emerald-500":"text-muted-foreground"}function I$(t){return t==="minor"?o.jsx(Ep,{className:"h-4 w-4 text-amber-500"}):t==="maintenance"?o.jsx(p2,{className:"h-4 w-4 text-blue-500"}):o.jsx(wj,{className:"h-4 w-4 text-emerald-500"})}function L$(){const t=x0.every(e=>!e.status.toLowerCase().includes("degraded"));return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-20",children:[o.jsxs("div",{className:"max-w-4xl",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"System status"}),o.jsx("h1",{className:"mt-5 text-4xl font-semibold text-foreground",children:t?"All systems are operational.":"Some services are experiencing delays."}),o.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["This page reports live availability across GLASS-Connect infrastructure. We refresh these metrics every 60 seconds. For urgent issues, reach the team at"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.demo",children:"support@glass.demo"}),"."]})]}),o.jsx("div",{className:"mt-10 grid gap-6",children:x0.map(e=>o.jsx("div",{className:"rounded-3xl border border-border bg-card/90 p-6 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(s2,{className:`h-4 w-4 ${v0(e.status)}`}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name})]}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e.description}),e.note?o.jsx("p",{className:"mt-2 rounded-2xl border border-amber-300/50 bg-amber-100/20 px-3 py-2 text-xs text-amber-700",children:e.note}):null]}),o.jsxs("div",{className:"grid gap-1 text-right text-sm text-muted-foreground",children:[o.jsx("span",{className:`font-semibold ${v0(e.status)}`,children:e.status}),o.jsxs("span",{children:["30-day uptime: ",e.uptime]}),o.jsxs("span",{children:["Last incident: ",e.lastIncident]})]})]})},e.id))}),o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Recent updates"}),o.jsx("div",{className:"mt-4 space-y-4",children:O$.map(e=>o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-5 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.25em] text-muted-foreground",children:[I$(e.severity),o.jsx("span",{children:e.date})]}),o.jsx("p",{className:"text-sm font-medium text-muted-foreground md:text-right",children:e.severity==="maintenance"?"Scheduled maintenance":e.severity==="minor"?"Minor":"Resolved"})]}),o.jsx("h3",{className:"mt-3 text-lg font-semibold text-foreground",children:e.title}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed",children:e.description})]},e.date+e.title))})]}),o.jsxs("div",{className:"mt-12 rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Need more detail?"}),o.jsxs("p",{className:"mt-2",children:["Follow"," ",o.jsx(Ne,{href:"/roadmap",children:o.jsx("a",{className:"text-primary hover:text-primary/80 transition",children:"our public roadmap"})})," ","for transparency on upcoming releases, or reach out to"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:ops@glass.demo",children:"ops@glass.demo"})," ","for enterprise status reports."]})]})]})})}function D$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"500 error"}),o.jsx(Ep,{className:"mt-6 h-12 w-12 text-amber-500"}),o.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Something went wrong on our side."}),o.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"We're already looking into it. Refresh the page to try again, or head back to a safe spot while we resolve the issue."}),o.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[o.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Retry"}),o.jsx(Ne,{href:"/status",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"View system status"})})]}),o.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["If the problem continues, email"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"support@glass.org"})," ","with a screenshot and we'll help out."]})]})})}function M$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Scheduled maintenance"}),o.jsx(T2,{className:"mt-6 h-12 w-12 text-primary"}),o.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"We're upgrading our systems to serve you better."}),o.jsxs("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:["The Glass platform is temporarily unavailable while we roll out new improvements. We expect to be back online by"," ",o.jsx("span",{className:"font-semibold text-foreground",children:"18:00 UTC"}),". Your data and ongoing donations are safe."]}),o.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[o.jsx(Ne,{href:"/status",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Track system status"})}),o.jsx("a",{href:"mailto:support@glass.org",className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"Contact support"})]}),o.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Need an update for your team? We'll share real-time notices on"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"https://status.glass.org",children:"status.glass.org"}),"."]})]})})}let F$=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function V$({params:t}){const{labs:e,isLoading:r}=ti(),{user:n}=gr(),[i,l]=v.useState(!1);v.useEffect(()=>{let J=!0;async function pe(){if(!n){l(!1);return}const{data:Ht,error:ir}=await We.from("profiles").select("role").eq("user_id",n.id).maybeSingle();if(!J)return;if(ir){l(!1);return}const Lt=Ht?.role?.toLowerCase?.()||"";l(Lt==="lab"||Lt==="admin"||Lt==="multi-lab")}return pe(),()=>{J=!1}},[n?.id]);const c=e.find(J=>J.id===Number(t.id));if(r&&!c)return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 py-20",children:o.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-8 text-muted-foreground",children:"Loading lab"})})});if(!c)return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 py-20",children:o.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-8 text-muted-foreground",children:"Lab not found."})})});const d=(J,pe=1600)=>J.startsWith("data:")?J:`${J}${J.includes("?")?"&":"?"}auto=format&fit=crop&w=${pe}&q=80`,h=c?.subscriptionTier??c?.subscription_tier??"base",m=c?.logoUrl??c?.logo_url??null,p=h.toLowerCase?.()??(typeof h=="string"?h.toLowerCase():"base"),y=c.isVerified?"verified":p==="base"?"unverified":"pending",b=c.offersLabSpace===!0||c.offersLabSpace==="true"||c.offersLabSpace===1||c.offersLabSpace==="1",N=y==="verified"?"bg-emerald-50 text-emerald-700":y==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",_=y==="verified"?"Verified by Glass":y==="pending"?"Verification pending":"Unverified",j=c.partnerLogos??[],w=c.website||null,C=c.linkedin||null,[k,E]=v.useState(!1),[R,L]=v.useState(!1),[F,K]=v.useState(null),[Z,O]=v.useState(!1),[G,ne]=v.useState(!1),[H,te]=v.useState(""),[ee,ke]=v.useState(n?.email||""),[Ce,re]=v.useState(""),[Y,me]=v.useState(""),[ce,A]=v.useState(""),[X,Ie]=v.useState(!1),[Ve,He]=v.useState(null),[U,xe]=v.useState(null),[ve,$e]=v.useState(!1),[et,sr]=v.useState(!1),[$,Se]=v.useState(null),[q,_e]=v.useState(null),[ye,ge]=v.useState({requesterName:"",requesterEmail:n?.email||"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1}),[lt,ot]=v.useState(!1),[P,M]=v.useState(!1),[W,de]=v.useState(null),[fe,ue]=v.useState(null),[be,Je]=v.useState({contactName:"",contactEmail:n?.email||"",targetLabs:c.name,collaborationFocus:"",resourcesOffered:"",desiredTimeline:"",additionalNotes:"",preferredContact:"email"}),at=async()=>{if(!n){K("Sign in to favorite labs.");return}L(!0),K(null);try{const{data:J}=await We.auth.getSession(),pe=J.session?.access_token;if(!pe){K("Please sign in again.");return}const Ht=k?"DELETE":"POST",ir=await fetch(`/api/labs/${c.id}/favorite`,{method:Ht,headers:{Authorization:`Bearer ${pe}`}});if(!ir.ok){const kr=await ir.json().catch(()=>({}));throw new Error(kr?.message||"Unable to update favorite")}const Lt=await ir.json();E(!!Lt?.favorited)}catch(J){K(J instanceof Error?J.message:"Unable to update favorite")}finally{L(!1)}};v.useEffect(()=>{let J=!0;async function pe(){if(!n){E(!1);return}try{const{data:Ht}=await We.auth.getSession(),ir=Ht.session?.access_token;if(!ir)return;const Lt=await fetch(`/api/labs/${c.id}/favorite`,{headers:{Authorization:`Bearer ${ir}`}});if(!Lt.ok)return;const kr=await Lt.json();J&&E(!!kr?.favorited)}catch{}}return pe(),()=>{J=!1}},[c.id,n?.id]),v.useEffect(()=>{if(Z)return;const J="glass-view-session";let pe=localStorage.getItem(J);pe||(pe=F$(),localStorage.setItem(J,pe));const Ht=`glass-view-${c.id}`,ir=localStorage.getItem(Ht),Lt=Date.now();if(ir&&Lt-Number(ir)<3600*1e3){O(!0);return}(async()=>{try{const{data:kr}=await We.auth.getSession(),en=kr.session?.access_token;await fetch(`/api/labs/${c.id}/view`,{method:"POST",headers:{"Content-Type":"application/json",...en?{Authorization:`Bearer ${en}`}:{}},body:JSON.stringify({labId:c.id,sessionId:pe,referrer:document.referrer||null})}),localStorage.setItem(Ht,String(Lt)),O(!0)}catch{}})()},[c.id,Z]);const Ut=async()=>{if(!ye.requesterName.trim()||!ye.requesterEmail.trim()||!ye.projectSummary.trim()){Se("Name, email, and project summary are required.");return}sr(!0),Se(null),_e(null);try{const J=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ye,labId:c.id,labName:c.name})});if(!J.ok){const pe=await J.text();throw new Error(pe||"Unable to submit request")}_e("Sent! The lab and our team have been notified."),ge(pe=>({...pe,requesterName:"",requesterEmail:n?.email||"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1})),$e(!1)}catch(J){Se(J?.message||"Unable to submit request")}finally{sr(!1)}},_r=async()=>{if(!be.contactName.trim()||!be.contactEmail.trim()||!be.collaborationFocus.trim()){de("Name, email, and collaboration focus are required.");return}M(!0),de(null),ue(null);try{const J=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...be,labId:c.id,targetLabs:be.targetLabs||c.name})});if(!J.ok){const pe=await J.text();throw new Error(pe||"Unable to submit collaboration")}ue("Sent! We'll notify the lab team."),Je({contactName:"",contactEmail:n?.email||"",targetLabs:c.name,collaborationFocus:"",resourcesOffered:"",desiredTimeline:"",additionalNotes:"",preferredContact:"email"}),ot(!1)}catch(J){de(J?.message||"Unable to submit collaboration")}finally{M(!1)}},Xt=async()=>{if(!H.trim()||!ee.trim()||!ce.trim()){He("Please add your name, email, and a brief message.");return}Ie(!0),He(null),xe(null);try{const J=await fetch(`/api/labs/${c.id}/investor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:H.trim(),email:ee.trim(),company:Ce.trim()||null,website:Y.trim()||null,message:ce.trim()})});if(!J.ok){const pe=await J.text();throw new Error(pe||"Unable to send inquiry")}xe("Sent! The lab has been notified."),te(""),ke(n?.email||""),re(""),me(""),A(""),ne(!1)}catch(J){He(J?.message||"Unable to send inquiry")}finally{Ie(!1)}};return r&&e.length===0?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Loading lab details"}),o.jsx("p",{className:"text-muted-foreground",children:"Pulling the latest information from the lab directory."})]})}):c?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsxs(Ne,{href:"/labs",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[o.jsx(i2,{className:"h-4 w-4"}),"Back to labs"]}),o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"mt-8 rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-10",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[o.jsx(Ws,{className:"h-3.5 w-3.5"}),c.location]}),o.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${N}`,children:y==="verified"?o.jsxs(o.Fragment,{children:[o.jsx(hd,{className:"h-3.5 w-3.5"}),_]}):o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-3.5 w-3.5"}),_]})}),b&&o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground",children:[o.jsx(j2,{className:"h-3.5 w-3.5 text-primary"}),"Offers lab space"]}),o.jsx("button",{type:"button",onClick:at,disabled:R,className:`ml-auto inline-flex h-8 w-8 items-center justify-center rounded-full border transition disabled:opacity-60 disabled:cursor-not-allowed ${k?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":k?"Unfavorite lab":"Favorite lab",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:k?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[(m||p==="premier")&&o.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:m?o.jsx("img",{src:m,alt:`${c.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:c.name})]}),c.description?o.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:c.description}):o.jsxs("p",{className:"text-muted-foreground text-base leading-relaxed",children:["Review compliance, offers, and baseline expectations before requesting space. Minimum commitment:",o.jsxs("span",{className:"font-medium text-foreground",children:[" ",c.minimumStay]}),"."]}),F&&o.jsx("span",{className:"text-xs text-destructive",children:F})]}),c.photos.length>0&&o.jsx("div",{className:"mt-2 overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-4 min-w-full",children:c.photos.map((J,pe)=>o.jsx("div",{className:"min-w-[320px] max-w-[420px] h-64 overflow-hidden rounded-3xl border border-border/80 bg-background/40 flex-shrink-0",children:o.jsx("img",{src:d(J.url,1200),alt:`${c.name} photo ${pe+1} - ${J.name}`,className:"h-full w-full object-cover",loading:pe===0?"eager":"lazy"})},J.url))})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Lab leadership"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(_j,{className:"h-4 w-4 text-primary"}),c.labManager]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(k2,{className:"h-4 w-4 text-primary"}),w||C?"Connect with the team":"Social links not provided yet"]}),(w||C)&&o.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&o.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(x2,{className:"h-3.5 w-3.5 text-primary"}),"Website"]}),C&&o.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(_p,{className:"h-3.5 w-3.5 text-primary"}),"LinkedIn"]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3 md:col-span-2",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Compliance posture"}),o.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:c.compliance.map(J=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1",children:[o.jsx(Tn,{className:"h-3.5 w-3.5 text-primary"}),J]},J))}),c.complianceDocs.length>0&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Supporting documents"}),o.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:c.complianceDocs.map(J=>o.jsx("li",{children:o.jsxs("a",{href:J.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 hover:border-primary hover:text-primary transition",children:[o.jsx(Tn,{className:"h-3.5 w-3.5 text-primary"}),J.name]})},J.url))})]})]})]}),b&&o.jsxs("section",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pricing & availability offers"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Labs may extend multiple engagement models; choose the approach that best matches your run plan."}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.offers.map(J=>o.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1 text-xs font-medium text-muted-foreground",children:J},J))}),o.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[o.jsx(c2,{className:"h-4 w-4 text-primary"}),"Minimum stay expectation: ",o.jsx("span",{className:"font-medium text-foreground",children:c.minimumStay})]}),o.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[o.jsx(jj,{className:"h-4 w-4 text-primary"}),c.photos.length," photo",c.photos.length===1?"":"s"," included"]})]}),o.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Focus areas"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Primary scientific domains supported by the lab team."}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.focusAreas.map(J=>o.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:J},J))})]}),o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Equipment inventory"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Critical instrumentation and tooling available in this lab."}),o.jsx("div",{className:"mt-4 grid gap-2 text-sm text-muted-foreground",children:c.equipment.map(J=>o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(a2,{className:"h-4 w-4 text-primary"}),J]},J))})]})]}),p==="premier"&&j.length>0&&o.jsxs("div",{className:"mt-8 rounded-2xl border border-primary/40 bg-primary/5 p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Featured partners"}),o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:j.map((J,pe)=>o.jsx("div",{className:"h-16 w-24 overflow-hidden rounded-xl border border-primary/40 bg-background flex-shrink-0",title:J.name,children:o.jsx("img",{src:J.url,alt:J.name,className:"h-full w-full object-cover"})},`${J.url}-${pe}`))})]}),o.jsxs("footer",{className:"flex flex-wrap gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{$e(!0),Se(null),_e(null)},className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Request lab time"}),p==="premier"&&o.jsx("button",{type:"button",onClick:()=>{ne(!0),He(null),xe(null)},className:"inline-flex items-center justify-center rounded-full border border-primary/70 px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact for investment"}),i&&o.jsx("button",{type:"button",onClick:()=>{ot(!0),de(null),ue(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Collaborate"}),o.jsx(Ne,{href:"/labs",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Explore other labs"})]}),G&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:o.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-border bg-card p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>ne(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Investor inquiry"}),o.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Reach out to ",c.name,". Well forward this to their team."]}),o.jsxs("div",{className:"mt-4 grid gap-3",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:H,onChange:J=>te(J.target.value)})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ee,onChange:J=>ke(J.target.value)})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company (optional)"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Ce,onChange:J=>re(J.target.value)})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Website (optional)"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Y,onChange:J=>me(J.target.value),placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Message"}),o.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ce,onChange:J=>A(J.target.value),placeholder:"Brief intro and what youre interested in."})]}),Ve&&o.jsx("p",{className:"text-sm text-destructive",children:Ve}),U&&o.jsx("p",{className:"text-sm text-emerald-600",children:U}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>ne(!1),disabled:X,children:"Cancel"}),o.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:Xt,disabled:X,children:X?"Sending":"Send inquiry"})]})]})]})}),ve&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl border border-border bg-card p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>$e(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Request lab time"}),o.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Tell ",c.name," what you need. Well route this to their team."]}),o.jsxs("div",{className:"mt-4 grid gap-3",children:[o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.requesterName,onChange:J=>ge(pe=>({...pe,requesterName:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.requesterEmail,onChange:J=>ge(pe=>({...pe,requesterEmail:J.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Organization"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.organization,onChange:J=>ge(pe=>({...pe,organization:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Role / Title"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.roleTitle,onChange:J=>ge(pe=>({...pe,roleTitle:J.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Project summary"}),o.jsx("textarea",{className:"min-h-[100px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.projectSummary,onChange:J=>ge(pe=>({...pe,projectSummary:J.target.value})),placeholder:"What work do you want to run here?"})]}),o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timeline"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.workTimeline,onChange:J=>ge(pe=>({...pe,workTimeline:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Weekly hours needed"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.weeklyHoursNeeded,onChange:J=>ge(pe=>({...pe,weeklyHoursNeeded:J.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Team size"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.teamSize,onChange:J=>ge(pe=>({...pe,teamSize:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Equipment needs"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.equipmentNeeds,onChange:J=>ge(pe=>({...pe,equipmentNeeds:J.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Special requirements"}),o.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.specialRequirements,onChange:J=>ge(pe=>({...pe,specialRequirements:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Links"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.referencesOrLinks,onChange:J=>ge(pe=>({...pe,referencesOrLinks:J.target.value})),placeholder:"Optional links to docs or examples"})]}),o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Verification"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.verification,onChange:J=>ge(pe=>({...pe,verification:J.target.value})),children:[o.jsx("option",{value:"glass_verified",children:"Glass verified"}),o.jsx("option",{value:"partner_verified",children:"Partner verified"}),o.jsx("option",{value:"unverified",children:"Unverified"})]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.preferredContactMethod,onChange:J=>ge(pe=>({...pe,preferredContactMethod:J.target.value})),children:[o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"video_call",children:"Video call"}),o.jsx("option",{value:"phone",children:"Phone"})]})]})]}),o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Verification proof (optional)"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.verificationProof,onChange:J=>ge(pe=>({...pe,verificationProof:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Delivery preference"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.preferredDeliveryWindow,onChange:J=>ge(pe=>({...pe,preferredDeliveryWindow:J.target.value})),children:[o.jsx("option",{value:"weekly_digest",children:"Weekly digest"}),o.jsx("option",{value:"biweekly_digest",children:"Bi-weekly digest"}),o.jsx("option",{value:"immediate",children:"Immediate"})]})]})]}),o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:ye.agreeToReview,onChange:J=>ge(pe=>({...pe,agreeToReview:J.target.checked}))}),"I agree to review this request with the lab."]}),$&&o.jsx("p",{className:"text-sm text-destructive",children:$}),q&&o.jsx("p",{className:"text-sm text-emerald-600",children:q}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>$e(!1),disabled:et,children:"Cancel"}),o.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:Ut,disabled:et,children:et?"Sending":"Send request"})]})]})]})}),lt&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl border border-border bg-card p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>ot(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Collaboration inquiry"}),o.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Share how youd like to collaborate with ",c.name,"."]}),o.jsxs("div",{className:"mt-4 grid gap-3",children:[o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.contactName,onChange:J=>Je(pe=>({...pe,contactName:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.contactEmail,onChange:J=>Je(pe=>({...pe,contactEmail:J.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.targetLabs,onChange:J=>Je(pe=>({...pe,targetLabs:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),o.jsx("textarea",{className:"min-h-[100px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.collaborationFocus,onChange:J=>Je(pe=>({...pe,collaborationFocus:J.target.value})),placeholder:"What would you like to collaborate on?"})]}),o.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered"}),o.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.resourcesOffered,onChange:J=>Je(pe=>({...pe,resourcesOffered:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timeline"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.desiredTimeline,onChange:J=>Je(pe=>({...pe,desiredTimeline:J.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes"}),o.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.additionalNotes,onChange:J=>Je(pe=>({...pe,additionalNotes:J.target.value}))})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.preferredContact,onChange:J=>Je(pe=>({...pe,preferredContact:J.target.value})),children:[o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"video_call",children:"Video call"}),o.jsx("option",{value:"in_person",children:"In person"})]})]}),W&&o.jsx("p",{className:"text-sm text-destructive",children:W}),fe&&o.jsx("p",{className:"text-sm text-emerald-600",children:fe}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>ot(!1),disabled:P,children:"Cancel"}),o.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:_r,disabled:P,children:P?"Sending":"Send collaboration"})]})]})]})})]})]})}):o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),o.jsx("p",{className:"text-muted-foreground",children:"We could not find the lab you were looking for. It may have been removed or you might have followed an outdated link."}),o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Browse labs"})})]})})}const b0={requesterName:"",requesterEmail:"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1};function U$({params:t}){const{labs:e,isLoading:r}=ti(),n=Number(t.id),i=v.useMemo(()=>e.find(w=>w.id===n),[e,n]),l="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",[c,d]=v.useState(b0),[h,m]=v.useState(!1),[p,y]=v.useState(null),[b,N]=v.useState(null),_=(w,C)=>{d(k=>({...k,[w]:C}))},j=async w=>{if(w.preventDefault(),!!i){m(!0),y(null);try{const C=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,labId:i.id,labName:i.name})});if(!C.ok){const E=await C.json().catch(()=>({message:"Unable to submit"}));throw new Error(E?.message??"Unable to submit request")}const k=await C.json();N(k.id),d(b0)}catch(C){y(C instanceof Error?C.message:"Unable to submit request")}finally{m(!1)}}};return r&&!i?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[o.jsx(wm,{className:"mx-auto h-8 w-8 animate-spin text-muted-foreground"}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading lab details"})]})}):i?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20 max-w-4xl",children:[o.jsx(Ne,{href:`/labs/${i.id}`,children:o.jsxs("a",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[" Back to ",i.name]})}),o.jsxs(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-6 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Lab intake"}),o.jsxs("h1",{className:"mt-3 text-3xl font-semibold text-foreground",children:["Request time at ",i.name]}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Glass reviews every submission for spam or quality issues before sharing them with the lab. Approved requests are batched and delivered on the cadence you choose."})]}),o.jsxs("div",{className:"rounded-2xl border border-primary/30 bg-primary/5 px-4 py-3 text-sm text-foreground",children:[o.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary"})," Help labs trust the outreach"]}),o.jsx("p",{className:"mt-1 text-muted-foreground",children:"Share proof of prior collaboration or a partner reference so Glass can pre-screen requests before sending them."})]})]}),b?o.jsx("div",{className:"mt-8 rounded-2xl border border-emerald-200 bg-emerald-50/70 px-6 py-5 text-sm text-emerald-900",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(hd,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Request queued for review"}),o.jsxs("p",{className:"mt-1 text-emerald-900/80",children:["Your submission #",b," is pending internal moderation. We send approved requests to ",i.labManager,"on the delivery window you selected."]})]})]})}):null,p&&o.jsxs("div",{className:"mt-6 flex items-center gap-3 rounded-2xl border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[o.jsx(Ep,{className:"h-4 w-4"}),o.jsx("span",{children:p})]}),o.jsxs("form",{className:"mt-10 space-y-6",onSubmit:j,children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Fr,{label:"Your name",required:!0,children:o.jsx("input",{type:"text",value:c.requesterName,onChange:w=>_("requesterName",w.target.value),className:l,placeholder:"Jordan Reyes",required:!0})}),o.jsx(Fr,{label:"Work email",required:!0,children:o.jsx("input",{type:"email",value:c.requesterEmail,onChange:w=>_("requesterEmail",w.target.value),className:l,placeholder:"jordan@teamglass.bio",required:!0})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Fr,{label:"Organization / team",required:!0,children:o.jsx("input",{type:"text",value:c.organization,onChange:w=>_("organization",w.target.value),className:l,placeholder:"Atlas Applied Biology",required:!0})}),o.jsx(Fr,{label:"Role / title",required:!0,children:o.jsx("input",{type:"text",value:c.roleTitle,onChange:w=>_("roleTitle",w.target.value),className:l,placeholder:"Program Lead",required:!0})})]}),o.jsx(Fr,{label:"Project summary",description:"Help the lab understand why you need space and what success looks like.",required:!0,children:o.jsx("textarea",{value:c.projectSummary,onChange:w=>_("projectSummary",w.target.value),className:`${l} min-h-[140px]`,placeholder:"Outline your experiment goals, team, and safety posture.",required:!0})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx(Fr,{label:"Desired start",required:!0,children:o.jsxs("select",{className:l,value:c.workTimeline,onChange:w=>_("workTimeline",w.target.value),required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Select timeline"}),o.jsx("option",{value:"next_2_weeks",children:"Within 2 weeks"}),o.jsx("option",{value:"next_month",children:"Within a month"}),o.jsx("option",{value:"next_quarter",children:"Next quarter"}),o.jsx("option",{value:"flexible",children:"Flexible / exploratory"})]})}),o.jsx(Fr,{label:"Weekly hours",required:!0,children:o.jsx("input",{type:"text",className:l,value:c.weeklyHoursNeeded,onChange:w=>_("weeklyHoursNeeded",w.target.value),placeholder:"20 bench hours",required:!0})}),o.jsx(Fr,{label:"Team size",required:!0,children:o.jsx("input",{type:"text",className:l,value:c.teamSize,onChange:w=>_("teamSize",w.target.value),placeholder:"3 researchers",required:!0})})]}),o.jsx(Fr,{label:"Equipment & process needs",description:"List any instruments, cleanroom access, or SOP support you expect.",children:o.jsx("textarea",{className:`${l} min-h-[100px]`,value:c.equipmentNeeds,onChange:w=>_("equipmentNeeds",w.target.value),placeholder:"BSL-2 hood, sequencing core time, GMP-aligned QA support..."})}),o.jsx(Fr,{label:"Compliance or special requirements",description:"Share certifications, biosafety requirements, or onboarding needs.",children:o.jsx("textarea",{className:l,value:c.complianceNotes,onChange:w=>_("complianceNotes",w.target.value),placeholder:"BSL-2+ handling, cleanroom training, DEA registration..."})}),o.jsx(Fr,{label:"Special requests",description:"Optional context for lab operations, security, or scheduling.",children:o.jsx("textarea",{className:l,value:c.specialRequirements,onChange:w=>_("specialRequirements",w.target.value),placeholder:"Preferred shift, shipping logistics, storage requirements..."})}),o.jsx(Fr,{label:"References, decks, or links",children:o.jsx("textarea",{className:l,value:c.referencesOrLinks,onChange:w=>_("referencesOrLinks",w.target.value),placeholder:"Paste Notion docs, pitch decks, public updates, etc."})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Fr,{label:"Contact preferences",description:"We coordinate intros after your request is approved.",required:!0,children:[o.jsx("div",{className:"space-y-2 rounded-2xl border border-border p-3",children:[{value:"email",label:"Email digest"},{value:"video_call",label:"Schedule a call"},{value:"phone",label:"Phone call"}].map(w=>o.jsxs("label",{className:"flex items-center gap-2 text-sm text-foreground",children:[o.jsx("input",{type:"radio",name:"contact",value:w.value,checked:c.preferredContactMethod===w.value,onChange:()=>_("preferredContactMethod",w.value)}),w.label]},w.value))}),o.jsxs("select",{className:`${l} mt-3`,value:c.preferredDeliveryWindow,onChange:w=>_("preferredDeliveryWindow",w.target.value),children:[o.jsx("option",{value:"weekly_digest",children:"Send with the weekly digest"}),o.jsx("option",{value:"biweekly_digest",children:"Hold for bi-weekly summary"}),o.jsx("option",{value:"immediate",children:"Send immediately after review"})]})]}),o.jsx(Fr,{label:"References or proof of work",description:"Share anything that helps the lab trust your request (optional).",children:o.jsx("input",{type:"text",className:l,value:c.verificationProof,onChange:w=>_("verificationProof",w.target.value),placeholder:"Link to a deck, partner reference, or update thread"})})]}),o.jsxs("label",{className:"flex items-start gap-3 rounded-2xl border border-border p-4 text-sm text-muted-foreground",children:[o.jsx("input",{type:"checkbox",checked:c.agreeToReview,onChange:w=>_("agreeToReview",w.target.checked)}),o.jsxs("span",{children:["I agree that Glass can review this submission for spam and will only send it to ",i.name," once it passes moderation."]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:[h&&o.jsx(wm,{className:"h-4 w-4 animate-spin"}),"Submit request"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"We queue requests once a week (or on demand if you selected immediate delivery)."})]})]})]})]})}):o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),o.jsx("p",{className:"text-muted-foreground",children:"The lab you selected doesnt exist or has been removed. Head back to the directory to choose another partner."}),o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Browse labs"})})]})})}function Fr({label:t,description:e,required:r,children:n}){return o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:o.jsxs("span",{children:[t,r?" *":""]})}),e?o.jsx("p",{className:"text-xs text-muted-foreground",children:e}):null,n]})}function $$({params:t}){const e=Number(t.id),{labs:r}=ti(),n=r.find(G=>G.id===e),{user:i}=gr(),[l,c]=v.useState(""),[d,h]=v.useState(""),[m,p]=v.useState(""),[y,b]=v.useState(""),[N,_]=v.useState(""),[j,w]=v.useState(""),[C,k]=v.useState(""),[E,R]=v.useState("email"),[L,F]=v.useState(null),[K,Z]=v.useState(!1);v.useEffect(()=>{n&&!m&&p(n.name)},[n]),v.useEffect(()=>{i?.email&&!d&&h(i.email);const G=i?.user_metadata?.display_name||i?.user_metadata?.full_name||i?.user_metadata?.name||"";G&&!l&&c(G)},[i?.email,i?.user_metadata,d,l]);const O=async G=>{G.preventDefault(),Z(!0),F(null);try{const ne={labId:e,contactName:l.trim(),contactEmail:d.trim(),targetLabs:m.trim(),collaborationFocus:y.trim(),resourcesOffered:N.trim(),desiredTimeline:j.trim(),additionalNotes:C.trim(),preferredContact:E},H=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!H.ok){const te=(await H.json().catch(()=>({})))?.message||"Submission failed";throw new Error(te)}F("Submitted. We'll notify the lab team."),c(""),h(""),p(""),b(""),_(""),w(""),k(""),R("email")}catch(ne){F(ne instanceof Error?ne.message:"Submission failed")}finally{Z(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 max-w-2xl",children:[o.jsx(Ne,{href:`/labs/${e}`,className:"text-sm text-muted-foreground hover:text-primary",children:"Back to lab"}),o.jsx("h1",{className:"mt-4 text-2xl font-semibold text-foreground",children:"Propose a collaboration"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:n?o.jsxs(o.Fragment,{children:["Youre collaborating with ",o.jsx("span",{className:"font-medium text-foreground",children:n.name}),"."]}):o.jsx(o.Fragment,{children:"Share a brief overview so the lab can assess fit quickly."})}),o.jsxs("form",{className:"mt-6 grid gap-4",onSubmit:O,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:l,onChange:G=>c(G.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:d,onChange:G=>h(G.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs (optional)"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:m,onChange:G=>p(G.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),o.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:y,onChange:G=>b(G.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered (optional)"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:N,onChange:G=>_(G.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Desired timeline (optional)"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:j,onChange:G=>w(G.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact method"}),o.jsxs("select",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:E,onChange:G=>R(G.target.value),children:[o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"video_call",children:"Video call"}),o.jsx("option",{value:"in_person",children:"In person"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes (optional)"}),o.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:C,onChange:G=>k(G.target.value)})]}),L&&o.jsx("p",{className:"text-sm text-muted-foreground",children:L}),o.jsx("button",{disabled:K,className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground",children:K?"Submitting":"Submit proposal"})]})]})})}const Id=["Monthly rent","Hourly rate","Equipment use rate","Day rate"],um=kd({name:jt().min(1,"Asset name is required"),url:jt().min(1,"Asset URL is required")}),J1=kd({name:jt().min(1,"Lab name is required"),location:jt().min(1,"Location is required"),labManager:jt().min(1,"Lab manager name is required"),contactEmail:jt().email("Valid contact email is required"),ownerUserId:jt().uuid().optional().nullable(),description:jt().max(5e3).optional().nullable(),offersLabSpace:Ei().default(!1),addressLine1:jt().min(1).optional().nullable(),addressLine2:jt().min(1).optional().nullable(),city:jt().min(1).optional().nullable(),state:jt().min(1).optional().nullable(),postalCode:jt().min(1).optional().nullable(),country:jt().min(1).optional().nullable(),siretNumber:jt().min(4).optional().nullable(),logoUrl:jt().url("Logo must be a valid URL").optional().nullable(),website:jt().url("Website must be a valid URL").optional().nullable(),linkedin:jt().url("LinkedIn must be a valid URL").optional().nullable(),partnerLogos:Vn(um).default([]),compliance:Vn(jt().min(1)).default([]),complianceDocs:Vn(um).default([]),isVerified:Ei().default(!1),isVisible:Ei().default(!0),equipment:Vn(jt().min(1)).default([]),focusAreas:Vn(jt().min(1)).default([]),offers:Vn(ap(Id)).default([]),pricePrivacy:Ei().default(!1),minimumStay:jt().optional().default(""),rating:zl().min(0).max(5).default(0),subscriptionTier:ap(["base","verified","premier"]).default("base"),photos:Vn(um).min(0),field:jt().min(1).optional().nullable()}),B$=J1.extend({id:zl().int().positive()});J1.partial().refine(t=>Object.keys(t).length>0,{message:"At least one field must be provided for an update"});Vn(B$);const dm={name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",description:"",offersLabSpace:"no",siretNumber:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],compliance:"",verification:"no",pricePrivacy:"no",equipment:"",focusAreas:"",offers:[],minimumStay:"",rating:"",photoUrlInput:"",complianceDocUrlInput:"",isVisible:"yes"};function q$(t){return{name:t.name,location:t.location,labManager:t.labManager,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",description:t.description||"",offersLabSpace:t.offersLabSpace?"yes":"no",siretNumber:t.siretNumber||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",country:t.country||"",website:t.website||"",linkedin:t.linkedin||"",partnerLogos:t.partnerLogos||[],compliance:t.compliance.join(", "),verification:t.isVerified?"yes":"no",pricePrivacy:t.pricePrivacy?"yes":"no",equipment:t.equipment.join(", "),focusAreas:t.focusAreas.join(", "),offers:[...t.offers],minimumStay:t.minimumStay,rating:t.rating.toString(),photoUrlInput:"",complianceDocUrlInput:"",isVisible:t.isVisible===!1?"no":"yes"}}function fm(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}function z$(t){const e=Array.from(t);return Promise.all(e.map(r=>new Promise((n,i)=>{const l=new FileReader;l.onload=()=>{if(typeof l.result!="string"){i(new Error("Unsupported file format"));return}n({name:r.name,url:l.result})},l.onerror=()=>{i(l.error??new Error("Failed to read file"))},l.readAsDataURL(r)})))}function W$(t,e,r,n){const i=t.rating.trim()===""?0:Number(t.rating);if(t.rating.trim()!==""&&(Number.isNaN(i)||i<0||i>5))throw new Error("Rating must be a number between 0 and 5");return{name:t.name.trim(),location:t.location.trim(),labManager:t.labManager.trim(),contactEmail:t.contactEmail.trim(),logoUrl:t.logoUrl.trim()||null,description:t.description.trim()||null,offersLabSpace:t.offersLabSpace==="yes",siretNumber:t.siretNumber.trim()||null,addressLine1:t.addressLine1.trim()||null,addressLine2:t.addressLine2.trim()||null,city:t.city.trim()||null,state:t.state.trim()||null,postalCode:t.postalCode.trim()||null,country:t.country.trim()||null,website:t.website.trim()||null,linkedin:t.linkedin.trim()||null,partnerLogos:n,compliance:fm(t.compliance),isVerified:t.verification==="yes",equipment:fm(t.equipment),focusAreas:fm(t.focusAreas),offers:t.offers,pricePrivacy:t.pricePrivacy==="yes",minimumStay:t.minimumStay.trim(),rating:t.rating.trim()===""?0:i,photos:e,complianceDocs:r,isVisible:t.isVisible==="yes"}}function K$(){const{labs:t,addLab:e,updateLab:r,removeLab:n,isLoading:i,error:l,refresh:c}=ti(),[d,h]=v.useState(null),[m,p]=v.useState(dm),[y,b]=v.useState(null),[N,_]=v.useState([]),[j,w]=v.useState([]),[C,k]=v.useState([]),[E,R]=v.useState(!1),[L,F]=v.useState(null),[K,Z]=v.useState(!1),[O,G]=v.useState(null),[ne,H]=v.useState("");v.useEffect(()=>{c(!0).catch(()=>{})},[c]);const te=v.useMemo(()=>{const $=ne.trim().toLowerCase();return $?t.filter(Se=>[Se.name,Se.location,Se.labManager,Se.contactEmail].filter(Boolean).join(" ").toLowerCase().includes($)):t},[t,ne]),ee=()=>{h("new"),p(dm),b(null),_([]),w([]),k([]),G(null)},ke=$=>{h($.id),p(q$($)),b(null),_($.photos),w($.complianceDocs),k($.partnerLogos||[]),G(null)},Ce=()=>{h(null),p(dm),_([]),w([]),k([])},re=($,Se)=>{p(q=>({...q,[$]:Se}))},Y=async $=>{try{b(null),await r($.id,{isVisible:!($.isVisible??!0)}),await c(!0),b({type:"success",text:`Marked ${$.name} as ${$.isVisible===!1?"visible":"hidden"}`})}catch(Se){b({type:"error",text:Se instanceof Error?Se.message:"Unable to update visibility"})}},me=$=>{p(Se=>{const q=Se.offers.includes($)?Se.offers.filter(_e=>_e!==$):[...Se.offers,$];return{...Se,offers:q}})},ce=async $=>{const Se=$.target.files?.[0];if(Se){G(null),Z(!0);try{const q=Se.name.split(".").pop()||"png",ye=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${q}`}`,{error:ge}=await We.storage.from("lab-logos").upload(ye,Se,{upsert:!0,contentType:Se.type});if(ge)throw ge;const{data:lt}=We.storage.from("lab-logos").getPublicUrl(ye),ot=lt.publicUrl;p(P=>({...P,logoUrl:ot})),b({type:"success",text:"Logo uploaded"})}catch(q){G(q?.message||"Unable to upload logo")}finally{Z(!1)}}},A=async $=>{const Se=$.target.files?.[0];if(Se){b(null);try{const q=Se.name.split(".").pop()||"png",_e=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${q}`,ge=`${typeof d=="number"?`labs/${d}/partners`:"partners"}/${_e}`,{error:lt}=await We.storage.from("lab-logos").upload(ge,Se,{upsert:!0,contentType:Se.type});if(lt)throw lt;const{data:ot}=We.storage.from("lab-logos").getPublicUrl(ge),P=ot.publicUrl;k(M=>[...M,{name:Se.name,url:P}]),b({type:"success",text:"Partner logo uploaded"})}catch(q){b({type:"error",text:q?.message||"Unable to upload partner logo"})}}},X=()=>{const $=m.photoUrlInput.trim();$&&(_(Se=>[...Se,{name:$.split("/").pop()??`Photo ${Se.length+1}`,url:$}]),p(Se=>({...Se,photoUrlInput:""})))},Ie=()=>{const $=m.complianceDocUrlInput.trim();$&&(w(Se=>[...Se,{name:$.split("/").pop()??`Document ${Se.length+1}`,url:$}]),p(Se=>({...Se,complianceDocUrlInput:""})))},Ve=async $=>{const Se=$.target.files;if(!(!Se||Se.length===0))try{const q=await z$(Se);_(_e=>[..._e,...q]),b(null)}catch(q){b({type:"error",text:q instanceof Error?q.message:"Unable to process photo uploads"})}finally{$.target.value=""}},He=async $=>{const Se=$.target.files;if(!Se||Se.length===0)return;const q=typeof d=="number"?`labs/${d}/docs`:"docs",_e=[];try{for(const ye of Array.from(Se)){const ge=ye.name.split(".").pop()||"pdf",lt=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ge}`,ot=`${q}/${lt}`,{error:P}=await We.storage.from("lab-pdfs").upload(ot,ye,{upsert:!0,contentType:ye.type});if(P)throw P;const{data:M}=We.storage.from("lab-pdfs").getPublicUrl(ot);_e.push({name:ye.name,url:M.publicUrl})}_e.length&&(w(ye=>[...ye,..._e]),b({type:"success",text:"Documents uploaded"}))}catch(ye){b({type:"error",text:ye instanceof Error?ye.message:"Unable to upload documents"})}finally{$.target.value=""}},U=$=>{_(Se=>Se.filter(q=>q.url!==$.url))},xe=$=>{w(Se=>Se.filter(q=>q.url!==$.url))},ve=$=>{k(Se=>Se.filter(q=>q.url!==$.url))},$e=()=>{if(!m.name.trim())throw new Error("Lab name is required");if(!m.location.trim())throw new Error("Location is required");if(!m.contactEmail.trim())throw new Error("Contact email is required");if(N.length===0)throw new Error("Please upload or link at least one lab photo.")},et=async $=>{$.preventDefault();try{R(!0),$e();const Se=W$(m,N,j,C);if(d==="new"){const q=await e(Se);b({type:"success",text:`Created ${q.name}`})}else typeof d=="number"&&(await r(d,Se),b({type:"success",text:"Lab details updated"}));Ce(),await c(!0)}catch(Se){b({type:"error",text:Se instanceof Error?Se.message:"Unable to save lab details"})}finally{R(!1)}},sr=async $=>{try{F($),await n($),d===$&&Ce(),b({type:"success",text:"Lab removed from the directory"})}catch(Se){b({type:"error",text:Se instanceof Error?Se.message:"Unable to remove lab"})}finally{F(null)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab directory"}),o.jsx("h1",{className:"mt-3 text-4xl font-semibold text-foreground",children:"Admin: manage partner labs"}),o.jsx("p",{className:"mt-2 max-w-2xl text-muted-foreground",children:"Keep the lab rental directory current by updating contacts, compliance, and equipment details. Edits go live instantly for the lab browsing experience."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx("input",{type:"search",value:ne,onChange:$=>H($.target.value),placeholder:"Search labs",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx(Ws,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),o.jsx(Ne,{href:"/lab-profile",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Lab profile guide"})}),o.jsxs("button",{type:"button",onClick:ee,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(Sj,{className:"h-4 w-4"}),"Add lab"]})]})]}),y&&o.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:`mt-6 rounded-2xl border p-4 text-sm ${y.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":"border-red-300 bg-red-50 text-red-900"}`,children:y.text}),l&&o.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[o.jsx("span",{children:l}),o.jsx("button",{type:"button",onClick:c,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.2em]",children:"Retry"})]}),o.jsxs("div",{className:"mt-10 grid gap-8 lg:grid-cols-[1.05fr_1fr]",children:[o.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4",children:t.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:i?"Loading lab directory":l?"Unable to load the lab directory right now.":"No labs in the directory yet. Use Add lab to create your first listing."}):te.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:"No labs match that search."}):te.map($=>o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:$.name}),o.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Ws,{className:"h-4 w-4 text-primary"}),$.location]})]}),o.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[o.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${$.isVerified?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:$.isVerified?o.jsxs(o.Fragment,{children:[o.jsx(hd,{className:"h-3.5 w-3.5"}),"Verified"]}):o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"h-3.5 w-3.5"}),"Pending"]})}),o.jsx("button",{type:"button",onClick:()=>Y($),className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition ${$.isVisible===!1?"bg-slate-200 text-slate-800 hover:bg-slate-300":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,title:$.isVisible===!1?"Currently hidden. Click to show.":"Currently visible. Click to hide.",children:$.isVisible===!1?"Hidden  click to show":"Visible  click to hide"})]})]}),o.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(_j,{className:"h-4 w-4 text-primary"}),o.jsx("span",{children:$.labManager})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(kp,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"break-all",children:$.contactEmail})]})]}),o.jsxs("dl",{className:"mt-4 grid gap-3 text-xs text-muted-foreground md:grid-cols-2",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Compliance"}),o.jsx("span",{children:$.compliance.join(", ")||""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Focus areas"}),o.jsx("span",{children:$.focusAreas.join(", ")||""})]}),o.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Equipment"}),o.jsx("span",{children:$.equipment.join(", ")||""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Minimum stay"}),o.jsx("span",{children:$.minimumStay||""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Pricing"}),o.jsx("span",{children:$.pricePrivacy?"Quotes required":"Rates published"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Photos"}),o.jsx("span",{children:$.photos.length?`${$.photos.length} supplied`:""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Compliance docs"}),o.jsx("span",{children:$.complianceDocs.length?`${$.complianceDocs.length} uploaded`:""})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>ke($),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground transition hover:border-primary hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(N2,{className:"h-3.5 w-3.5"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>sr($.id),disabled:L===$.id,className:"inline-flex items-center gap-2 rounded-full border border-destructive/40 px-3 py-1.5 text-xs font-medium text-destructive transition hover:bg-destructive/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-destructive disabled:cursor-not-allowed disabled:opacity-60",children:[o.jsx(C2,{className:"h-3.5 w-3.5"}),L===$.id?"Removing":"Remove"]})]})]},$.id))}),o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:d==="new"?"Add a lab partner":d?"Edit lab details":"Select a lab"}),d&&o.jsxs("button",{type:"button",onClick:()=>{Ce(),b(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:text-primary hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(zs,{className:"h-3.5 w-3.5"}),"Cancel"]})]}),d?o.jsxs("form",{className:"mt-6 space-y-5",onSubmit:et,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-name",children:"Lab name"}),o.jsx("input",{id:"lab-name",type:"text",value:m.name,onChange:$=>re("name",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Atlas Applied Biology",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-location",children:"Location"}),o.jsx("input",{id:"lab-location",type:"text",value:m.location,onChange:$=>re("location",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston, MA",required:!0})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-manager",children:"Lab manager"}),o.jsx("input",{id:"lab-manager",type:"text",value:m.labManager,onChange:$=>re("labManager",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Naomi Chen"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-email",children:"Contact email"}),o.jsx("input",{id:"lab-email",type:"email",value:m.contactEmail,onChange:$=>re("contactEmail",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"labs+atlas@glass.demo",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-logo",children:"Logo (stored in Supabase)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{id:"lab-logo",type:"file",accept:"image/*",onChange:ce,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),m.logoUrl&&o.jsxs("button",{type:"button",onClick:()=>p($=>({...$,logoUrl:""})),className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:border-destructive hover:text-destructive",children:[o.jsx(zs,{className:"h-3 w-3"}),"Remove"]})]}),K&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),O&&o.jsx("p",{className:"text-xs text-destructive",children:O}),m.logoUrl&&o.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("img",{src:m.logoUrl,alt:`${m.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),o.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:m.logoUrl})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload saves to the `lab-logos` bucket. Keep files small (e.g., 300x300)."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom feature)"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders."}),C.length>0&&o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:C.map($=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[o.jsx("img",{src:$.url,alt:$.name,className:"h-10 w-10 rounded object-cover"}),o.jsx("button",{type:"button",onClick:()=>ve($),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},$.url))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-description",children:"Lab description"}),o.jsx("textarea",{id:"lab-description",value:m.description,onChange:$=>re("description",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Short intro to the lab (shown on Lab Details)",rows:4}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional intro that appears on the lab detail page."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-offers-space",children:"Offers lab space?"}),o.jsxs("select",{id:"lab-offers-space",value:m.offersLabSpace,onChange:$=>re("offersLabSpace",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"yes",children:"Yes, accepting bench/space requests"}),o.jsx("option",{value:"no",children:"No, visibility only"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls whether pricing/offers show on the lab page."})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address1",children:"Address line 1 (internal)"}),o.jsx("input",{id:"lab-address1",type:"text",value:m.addressLine1,onChange:$=>re("addressLine1",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"123 Bio Ave"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address2",children:"Address line 2 (internal)"}),o.jsx("input",{id:"lab-address2",type:"text",value:m.addressLine2,onChange:$=>re("addressLine2",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Suite, floor, etc."})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-city",children:"City (internal)"}),o.jsx("input",{id:"lab-city",type:"text",value:m.city,onChange:$=>re("city",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-state",children:"State/Region (internal)"}),o.jsx("input",{id:"lab-state",type:"text",value:m.state,onChange:$=>re("state",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"MA"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-postal",children:"Postal code (internal)"}),o.jsx("input",{id:"lab-postal",type:"text",value:m.postalCode,onChange:$=>re("postalCode",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"02118"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-country",children:"Country (internal)"}),o.jsx("input",{id:"lab-country",type:"text",value:m.country,onChange:$=>re("country",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"United States"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-website",children:"Website (optional)"}),o.jsx("input",{id:"lab-website",type:"url",value:m.website,onChange:$=>re("website",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://labs.example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-linkedin",children:"LinkedIn (optional)"}),o.jsx("input",{id:"lab-linkedin",type:"url",value:m.linkedin,onChange:$=>re("linkedin",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://www.linkedin.com/company/example"})]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-siret",children:"SIRET (internal)"}),o.jsx("input",{id:"lab-siret",type:"text",value:m.siretNumber,onChange:$=>re("siretNumber",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"14-digit SIRET"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal use only; not shown publicly."})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-verification",children:"Verification status"}),o.jsxs("select",{id:"lab-verification",value:m.verification,onChange:$=>re("verification",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"yes",children:"Verified"}),o.jsx("option",{value:"no",children:"Pending verification"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-visibility",children:"Visibility"}),o.jsxs("select",{id:"lab-visibility",value:m.isVisible,onChange:$=>re("isVisible",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"yes",children:"Visible in directory"}),o.jsx("option",{value:"no",children:"Hidden (admin only)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-pricePrivacy",children:"Price privacy"}),o.jsxs("select",{id:"lab-pricePrivacy",value:m.pricePrivacy,onChange:$=>re("pricePrivacy",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"no",children:"Rates published"}),o.jsx("option",{value:"yes",children:"Quotes required"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-compliance",children:"Compliance (comma separated)"}),o.jsx("input",{id:"lab-compliance",type:"text",value:m.compliance,onChange:$=>re("compliance",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"BSL-2, ISO 7 Cleanroom"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: BSL-2, ISO 7 Cleanroom, GMP-aligned SOPs."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-complianceDocs",children:"Compliance certificates (PDF)"}),o.jsx("input",{id:"lab-complianceDocs",type:"file",accept:"application/pdf",multiple:!0,onChange:He,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploads are stored in the Supabase bucket `lab-pdfs`."}),o.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:j.map($=>o.jsxs("button",{type:"button",onClick:()=>xe($),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 transition hover:border-destructive hover:text-destructive",children:[o.jsx(b2,{className:"h-3 w-3 text-primary"}),$.name,o.jsx(zs,{className:"h-3 w-3"})]},$.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:m.complianceDocUrlInput,onChange:$=>re("complianceDocUrlInput",$.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/certificate.pdf"}),o.jsxs("button",{type:"button",onClick:Ie,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(E2,{className:"h-4 w-4"}),"Add URL"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload or link to safety certifications. These appear alongside compliance notes for researchers."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-focusAreas",children:"Focus areas (comma separated)"}),o.jsx("input",{id:"lab-focusAreas",type:"text",value:m.focusAreas,onChange:$=>re("focusAreas",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Cell therapy, Process development"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Offers"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Id.map($=>o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("input",{type:"checkbox",checked:m.offers.includes($),onChange:()=>me($),className:"h-4 w-4 rounded border-border text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary"}),$]},$))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-equipment",children:"Equipment (comma separated)"}),o.jsx("textarea",{id:"lab-equipment",value:m.equipment,onChange:$=>re("equipment",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Single-use bioreactors, Cryostorage, Sequencing core",rows:3}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"List flagship instrumentation available to teams."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-minimumStay",children:"Minimum stay / commitment"}),o.jsx("input",{id:"lab-minimumStay",type:"text",value:m.minimumStay,onChange:$=>re("minimumStay",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"20 lab hours per month"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-photos",children:"Lab photos"}),o.jsx("input",{id:"lab-photos",type:"file",accept:"image/*",multiple:!0,onChange:Ve,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:N.map($=>o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-border",children:[o.jsx("img",{src:$.url,alt:$.name,className:"h-24 w-full object-cover"}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-muted-foreground bg-background/80",children:[o.jsx("span",{className:"truncate",children:$.name}),o.jsx("button",{type:"button",onClick:()=>U($),className:"rounded-full border border-border px-2 py-0.5 text-[10px] uppercase tracking-[0.2em] transition hover:border-destructive hover:text-destructive",children:"Remove"})]})]},$.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:m.photoUrlInput,onChange:$=>re("photoUrlInput",$.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/photo.jpg"}),o.jsxs("button",{type:"button",onClick:X,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(w2,{className:"h-4 w-4"}),"Add URL"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload photos directly or link to hosted images. The first photo is used for the public thumbnail."})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[o.jsxs("button",{type:"submit",disabled:E,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary disabled:opacity-60 disabled:cursor-not-allowed",children:[o.jsx(S2,{className:"h-4 w-4"}),E?"Saving":"Save changes"]}),o.jsxs("button",{type:"button",onClick:()=>{Ce(),b(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(zs,{className:"h-4 w-4"}),"Cancel"]})]})]}):o.jsx("div",{className:"mt-16 text-center text-sm text-muted-foreground",children:"Select a lab from the list or choose Add lab to create a new listing."})]})]})]})})}const H$=[{name:"Base",monthly_price:0,description:"Launch on GLASS-Connect with the essentials.",highlights:["Profile page","Equipment showcase","Inbound contact form"],featured:!1},{name:"Verified",monthly_price:99,description:"Add the badge researchers trust.",highlights:["Remote/on-site verification","Badge on listing","Priority placement"],featured:!1},{name:"Premier",monthly_price:199,description:"Flagship placement plus media support.",highlights:["Free verification","Direct collaboration management","Seminar access"],featured:!0},{name:"Custom",monthly_price:null,description:"For networks or operators managing multiple labs.",highlights:["Central billing","Dedicated partner manager","API & tooling access"],featured:!1}];function Z1(){const[t,e]=v.useState(H$),[r,n]=v.useState(!1);return v.useEffect(()=>{let i=!0;async function l(){n(!0);try{const c=await fetch("/api/pricing"),d=c.headers.get("content-type")||"";if(!c.ok||!d.includes("application/json")){await c.text();return}const h=await c.json();i&&Array.isArray(h?.tiers)&&h.tiers.length&&e(h.tiers.map(m=>({name:m.name,monthly_price:m.monthly_price===void 0?null:m.monthly_price,description:m.description,highlights:Array.isArray(m.highlights)?m.highlights:[],featured:!!m.featured})))}catch{}finally{i&&n(!1)}}return l(),()=>{i=!1}},[]),{tiers:t,loading:r}}function G$(){const{tiers:t}=Z1();return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl space-y-6",children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.3em] text-muted-foreground",children:"GLASS-Connect pricing"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground leading-tight",children:"Simple plans to showcase your lab. No hidden fees."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose how visible you want to be on GLASS-Connect. Switch tiers anytime; your listing stays live."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Ne,{href:"/admin/labs",children:o.jsx("a",{className:"inline-flex items-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"List your lab"})}),o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs on GLASS-Connect"})})]})]}),o.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-14 grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.name.toLowerCase(),n=e.name==="Custom"?`/payments?plan=${r}#custom`:`/payments?plan=${r}`,i=e.monthly_price??e.monthlyPrice,l=i===0||i==="0",c=i!=null&&!l,d=l?"Free":c?`${i}`:"Custom";return o.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${e.featured?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),o.jsxs("p",{className:"mt-3 text-4xl font-semibold text-foreground",children:[d,c&&o.jsx("span",{className:"text-base text-muted-foreground",children:" / month"})]})]}),e.featured&&o.jsx(Cp,{className:"h-6 w-6 text-primary"})]}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:e.description}),o.jsx("ul",{className:"mt-6 space-y-3 text-sm text-muted-foreground",children:e.highlights.map(h=>o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(h2,{className:"h-4 w-4 text-primary"}),h]},h))}),e.name==="Custom"?o.jsx(Ne,{href:n,children:o.jsxs("a",{className:"mt-6 inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Talk to partnerships",o.jsx(Ch,{className:"ml-2 h-4 w-4"})]})}):o.jsx(Ne,{href:n,children:o.jsx("a",{className:"mt-6 inline-flex items-center rounded-full bg-foreground px-4 py-2 text-sm font-medium text-background transition hover:bg-foreground/90",children:"Get started"})})]},e.name)})}),o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-12 grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Add-ons"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification visits: 250500 depending on geography. Remote verifications are available if you already have documented SOPs."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need ACH, wire, or invoices? Use the Custom intake on the plan details page and well send tailored options."})]}),o.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"After you subscribe"}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[o.jsx("li",{children:"Stripe emails a receipt instantly and your listing stays live as you edit."}),o.jsx("li",{children:"GLASS-Connect activates your listing within one business day and schedules verification if needed."}),o.jsx("li",{children:"Weekly Fridays: we highlight new labs and route qualified requests right to your inbox."})]}),o.jsx(Ne,{href:"/payments?plan=base",children:o.jsxs("a",{className:"inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["View plan details",o.jsx(Ch,{className:"ml-2 h-4 w-4"})]})})]})]}),o.jsxs("div",{className:"mt-12 flex flex-wrap gap-3",children:[o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs"})}),o.jsx(Ne,{href:"/admin/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage my lab profile"})}),o.jsxs("a",{href:"mailto:contact@glass-funding.com",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Contact support",o.jsx(Ch,{className:"ml-2 h-4 w-4"})]})]})]})})}function Q$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28 max-w-4xl",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab profile setup"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-semibold leading-tight text-foreground",children:"Share the essentials about your lab before it appears in listings."}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Lab managers can use this guide to collect everything needed for the public listing and verification badge. Once you have the details and documents ready, jump into the editor to publish or update your profile."})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-12 grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(m2,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"What to prepare"})]}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[o.jsx("li",{children:"Core lab details: location, lab manager, contact email, and equipment list."}),o.jsx("li",{children:"Focus areas and booking offers (monthly, hourly, day rates, or equipment-only access)."}),o.jsx("li",{children:"Minimum stay expectations and any special onboarding notes for new teams."})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(g2,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Upload requirements"})]}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[o.jsx("li",{children:"High-quality photos of the facility and key equipment (at least one required)."}),o.jsx("li",{children:"Optional hosted photo URLs if your lab already has imagery online."}),o.jsx("li",{children:"Safety/compliance certificates (PDF) to display alongside credential summaries."})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4 md:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Tn,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Verification badge checklist"})]}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"After you submit your profile, Glass coordinates a location-based site visit. A representative will confirm the equipment, access controls, and safety documentation on file. Keep digital copies handy for the visit and make sure the listed contact can host the walkthrough."}),o.jsx("div",{className:"mt-4 rounded-2xl border border-border bg-background/60 p-5 text-sm text-muted-foreground",children:o.jsx("p",{children:"Remember: rental agreements, insurance coverage, and day-to-day operations stay between your team and the researchers. Glass provides the marketplace and verification layer, but does not intermediate leases or liability."})})]})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-12 flex flex-wrap gap-3",children:[o.jsx(Ne,{href:"/lab/manage",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Open lab editor"})}),o.jsx(Ne,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Review listing pricing"})}),o.jsx("a",{href:"mailto:support@glass.demo",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact the Glass team"})]})]})})}function J$(){return C0.useSyncExternalStore(Z$,()=>!0,()=>!1)}function Z$(){return()=>{}}var $g="Avatar",[Y$]=Qo($g),[X$,Y1]=Y$($g),X1=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,l]=v.useState("idle");return o.jsx(X$,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:o.jsx(Ct.span,{...n,ref:e})})});X1.displayName=$g;var ek="AvatarImage",tk=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...l}=t,c=Y1(ek,r),d=eB(n,l),h=qn(m=>{i(m),c.onImageLoadingStatusChange(m)});return zn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?o.jsx(Ct.img,{...l,ref:e,src:n}):null});tk.displayName=ek;var rk="AvatarFallback",nk=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,l=Y1(rk,r),[c,d]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?o.jsx(Ct.span,{...i,ref:e}):null});nk.displayName=rk;function w0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eB(t,{referrerPolicy:e,crossOrigin:r}){const n=J$(),i=v.useRef(null),l=n?(i.current||(i.current=new window.Image),i.current):null,[c,d]=v.useState(()=>w0(l,t));return zn(()=>{d(w0(l,t))},[l,t]),zn(()=>{const h=y=>()=>{d(y)};if(!l)return;const m=h("loaded"),p=h("error");return l.addEventListener("load",m),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",p)}},[l,r,e]),c}var sk=X1,ik=tk,ok=nk;const Bg=v.forwardRef(({className:t,...e},r)=>o.jsx(sk,{ref:r,className:pt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bg.displayName=sk.displayName;const qg=v.forwardRef(({className:t,...e},r)=>o.jsx(ik,{ref:r,className:pt("aspect-square h-full w-full",t),...e}));qg.displayName=ik.displayName;const zg=v.forwardRef(({className:t,...e},r)=>o.jsx(ok,{ref:r,className:pt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));zg.displayName=ok.displayName;function tB(){const t="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",{user:e,loading:r,signOut:n}=gr(),[i,l]=v.useState(null),[c,d]=v.useState(!0),[h,m]=v.useState(!1),[p,y]=v.useState(null),[b,N]=v.useState(""),[_,j]=v.useState(""),[w,C]=v.useState(""),[k,E]=v.useState(""),[R,L]=v.useState(null),[F,K]=v.useState(!1);v.useEffect(()=>{async function ne(){if(!e){l(null),d(!1);return}const{data:te,error:ee}=await We.from("profiles").select("user_id,email,display_name,role,subscription_status,name,avatar_url,created_at,updated_at").eq("user_id",e.id).maybeSingle();ee?(console.error("Error fetching profile:",ee.message),l(null)):(l(te||null),te?(N(te.name??""),j(te.display_name??""),C(te.role??""),E(te.subscription_status??""),L(te.avatar_url??null)):(C("user"),E("none"))),d(!1)}r||ne();const{data:H}=We.auth.onAuthStateChange((te,ee)=>{ee?.user?ne():l(null)});return()=>{try{H?.subscription?.unsubscribe?.(),H?.unsubscribe?.()}catch{}}},[r,e?.id]);const Z=async()=>{await n()},O=async()=>{if(y(null),m(!0),!e){y("You must be logged in to save your profile."),m(!1);return}try{const ne={user_id:e.id,email:e.email,name:b||null,display_name:_||null,avatar_url:R||null},{error:H}=await We.from("profiles").upsert(ne,{onConflict:"user_id"});if(H)throw H;l(te=>({...te??{},...ne}))}catch(ne){console.error(ne),y(ne.message||"Failed to save profile.")}finally{m(!1)}};async function G(ne){const H=ne.target.files?.[0];if(!(!H||!e)){K(!0),y(null);try{const te=H.name.split(".").pop()?.toLowerCase()||"png",ee=`${e.id}/avatar.${te}`,{error:ke}=await We.storage.from("avatars").upload(ee,H,{cacheControl:"3600",upsert:!0,contentType:H.type});if(ke)throw ke;const{data:Ce}=We.storage.from("avatars").getPublicUrl(ee),re=Ce.publicUrl;L(re);const{error:Y}=await We.from("profiles").upsert({user_id:e.id,email:e.email,avatar_url:re},{onConflict:"user_id"});if(Y)throw Y}catch(te){console.error(te),y(te.message||"Failed to upload avatar.")}finally{K(!1)}}}return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"max-w-2xl space-y-4",children:[o.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Account preview"}),o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Your Glass profile"}),o.jsx("p",{className:"text-muted-foreground",children:"This page will eventually show your verified status, saved labs, requests, and billing."})]}),o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Browse labs"})})]}),o.jsxs("div",{className:"mt-12 grid gap-8 lg:grid-cols-2",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Profile Info"}),c||r?o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading profile..."}):i?o.jsxs("div",{className:"mt-4 space-y-2 text-sm text-foreground",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",i.name||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Display name:"})," ",i.display_name||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",e?.email||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Role:"})," ",i.role||w||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subscription:"})," ",i.subscription_status||k||""]}),o.jsx("button",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",onClick:Z,children:"Sign out"})]}):o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"You are not signed in or profile not created yet."})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:i?"Edit your profile":"Create your profile"}),p&&o.jsx("p",{className:"text-sm text-destructive mt-2",children:p}),o.jsxs("form",{className:"mt-6 space-y-4",onSubmit:ne=>ne.preventDefault(),children:[o.jsx(vo,{label:"Avatar",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Bg,{className:"h-14 w-14",children:[o.jsx(qg,{src:R??void 0,alt:_||b||"Avatar"}),o.jsx(zg,{className:"text-base font-semibold bg-muted",children:(_||b||e?.email||"?").slice(0,2).toUpperCase()})]}),o.jsxs("label",{className:"inline-flex items-center rounded-full border px-3 py-2 text-xs font-medium cursor-pointer hover:border-primary hover:text-primary",children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:G}),F?"Uploading":"Upload photo"]})]})}),o.jsx(vo,{label:"Full name",children:o.jsx("input",{className:t,value:b,onChange:ne=>N(ne.target.value)})}),o.jsx(vo,{label:"Display name",children:o.jsx("input",{className:t,value:_,onChange:ne=>j(ne.target.value)})}),o.jsx(vo,{label:"Email",children:o.jsx("input",{className:t,value:e?.email??"",disabled:!0})}),o.jsx(vo,{label:"Role",children:o.jsx("input",{className:t,value:w,disabled:!0})}),o.jsx(vo,{label:"Subscription status",children:o.jsx("input",{className:t,value:k,disabled:!0})}),o.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",onClick:O,disabled:h,children:h?"Saving...":"Save profile"})]})]})]})]})})}function vo({label:t,children:e}){return o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:t}),e]})}function rB(){const{user:t,loading:e}=gr(),{labs:r}=ti(),[n,i]=v.useState(null),[l,c]=v.useState(!0),[d,h]=v.useState(null),[m,p]=v.useState(!1),[y,b]=v.useState([]),[N,_]=v.useState(null),[j,w]=v.useState(0),[C,k]=v.useState(0),[E,R]=v.useState([]),[L,F]=v.useState(!1),[K,Z]=v.useState(!1),[O,G]=v.useState(null),[ne,H]=v.useState(null),[te,ee]=v.useState(""),[ke,Ce]=v.useState(""),[re,Y]=v.useState("update"),[me,ce]=v.useState(null),[A,X]=v.useState([]),[Ie,Ve]=v.useState(!1),[He,U]=v.useState(!0),[xe,ve]=v.useState([]),[$e,et]=v.useState(!1),[sr,$]=v.useState(null),[Se,q]=v.useState(!1),[_e,ye]=v.useState(null),[ge,lt]=v.useState(!1),[ot,P]=v.useState(null),[M,W]=v.useState(null),[de,fe]=v.useState({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""}),[ue,be]=v.useState(!1),[Je,at]=v.useState(""),[Ut,_r]=v.useState(""),[Xt,J]=v.useState(null),[pe,Ht]=v.useState(null),[ir,Lt]=v.useState(null),[kr,en]=v.useState(!1),ri=v.useMemo(()=>n?.display_name||n?.name||t?.email||"Your Account",[n?.display_name,n?.name,t?.email]),ra=v.useMemo(()=>{const Pe=(n?.display_name||n?.name||t?.email||"?").replace(/@.*/,"").trim().split(/\s+/);return(Pe.length>=2?Pe[0][0]+Pe[1][0]:Pe[0][0]).toUpperCase()},[n?.display_name,n?.name,t?.email]);v.useEffect(()=>{async function Q(){if(!t){i(null),c(!1);return}const{data:Pe,error:ut}=await We.from("profiles").select("user_id,email,display_name,name,role,subscription_status,subscription_tier,avatar_url,created_at,updated_at").eq("user_id",t.id).maybeSingle();ut?(h(ut.message),i(null)):i(Pe??null),c(!1)}e||Q()},[e,t?.id]),v.useEffect(()=>{async function Q(){if(!t){b([]);return}p(!0);try{const{data:Pe}=await We.auth.getSession(),ut=Pe.session?.access_token,mt=ut?{Authorization:`Bearer ${ut}`}:{},vt=await fetch("/api/my-labs/analytics",{headers:mt});if(vt.ok){const or=await vt.json();b(or?.labs??[]),_(null)}else{const or=await vt.text();_(or||"Unable to load analytics")}try{const or=await fetch("/api/my-labs/requests",{headers:mt}),tn=or.headers.get("content-type")||"";if(or.ok&&tn.includes("application/json")){const Ur=await or.json();w(Array.isArray(Ur?.collaborations)?Ur.collaborations.length:0),k(Array.isArray(Ur?.contacts)?Ur.contacts.length:0)}}catch{}try{const or=await fetch("/api/favorites",{headers:mt}),tn=or.headers.get("content-type")||"";if(or.ok&&tn.includes("application/json")){const Ur=await or.json(),Jl=Array.isArray(Ur?.labIds)?Ur.labIds:[];R(Jl.map(Ui=>Number(Ui)).filter(Ui=>!Number.isNaN(Ui)))}}catch{}}catch(Pe){_(Pe.message||"Unable to load dashboard data")}finally{p(!1)}}e||Q()},[e,t?.id]);const Hn=(()=>{const Q=n?.subscription_tier?.toLowerCase?.()??"base";return Q==="premier"?"Premier":Q==="verified"?"Verified":Q==="custom"?"Custom":"Base"})();y.filter(Q=>Q.isVisible!==!1).length;const Gn=y.filter(Q=>Q.isVisible===!1).length,Wl=y.filter(Q=>(Q.subscriptionTier||"").toLowerCase()==="premier"),Kl=y.reduce((Q,Pe)=>Q+(Pe.views7d||0),0),Hl=y.reduce((Q,Pe)=>Q+(Pe.views30d||0),0),Gl=y.reduce((Q,Pe)=>Q+(Pe.favorites||0),0),ni=y.reduce((Q,Pe)=>Pe.views30d>(Q?.views30d??-1)?Pe:Q,y.length?y[0]:null),ms=y.reduce((Q,Pe)=>Pe.favorites>(Q?.favorites??-1)?Pe:Q,y.length?y[0]:null),Ql=E.length?r.filter(Q=>E.includes(Q.id)):[],ps=n&&(n.role==="admin"||n.role==="multi-lab"||Wl.length>0),na=ps,gs=Q=>{const Pe=y.find(vt=>vt.id===Q);if(Pe&&Pe.isVerified!==void 0){const vt=Pe.isVerified;return vt===!0||vt==="true"||vt===1||vt==="1"}const ut=r.find(vt=>vt.id===Q),mt=ut?.isVerified??ut?.is_verified;return mt===!0||mt==="true"||mt===1||mt==="1"},Fi=v.useMemo(()=>y.filter(Q=>(Q.subscriptionTier||"").toLowerCase()==="premier"),[y]),ys=v.useMemo(()=>r.filter(Q=>Q.ownerUserId===t?.id||Q.owner_user_id===t?.id||y.some(Pe=>Pe.id===Q.id)),[r,y,t?.id]),xs=v.useMemo(()=>ys.filter(Q=>!gs(Q.id)),[ys]);v.useEffect(()=>{Fi.length&&!me&&ce(Fi[0].id)},[Fi,me]);async function Vi(Q){if(!(!Q||!Q.length)){G(null),Ve(!0);try{const Pe=Array.from(Q).slice(0,4-A.length),ut=[];for(const mt of Pe){const vt=mt.name.replace(/\s+/g,"-").toLowerCase(),or=`news/${t?.id??"anon"}/${Date.now()}-${vt}`,{error:tn}=await We.storage.from("lab-news").upload(or,mt,{upsert:!0,contentType:mt.type});if(tn)throw tn;const{data:Ur}=We.storage.from("lab-news").getPublicUrl(or);Ur?.publicUrl&&ut.push({url:Ur.publicUrl,name:mt.name})}X(mt=>[...mt,...ut].slice(0,4))}catch(Pe){G(Pe?.message||"Unable to upload photos")}finally{Ve(!1)}}}async function sa(){if(!me){G("Select a lab to post this update.");return}if(!te.trim()||!ke.trim()){G("Title and summary are required.");return}Z(!0),G(null),H(null);try{const{data:Q}=await We.auth.getSession(),Pe=Q.session?.access_token,ut={"Content-Type":"application/json",...Pe?{Authorization:`Bearer ${Pe}`}:{}},mt=await fetch("/api/news",{method:"POST",headers:ut,body:JSON.stringify({labId:me,title:te.trim(),summary:ke.trim(),category:re,images:A,authorId:t?.id??null})});if(!mt.ok){const vt=await mt.text();throw new Error(vt||"Unable to post news")}H("Sent! We'll review and publish it soon."),ee(""),Ce(""),X([]),F(!1)}catch(Q){G(Q?.message||"Unable to post news")}finally{Z(!1)}}async function Ld(){if(!_e){P("Select a lab to verify.");return}if(gs(_e)){lt(!1),P("This lab is already verified by GLASS."),typeof window<"u"&&alert("This lab is already verified by GLASS.");return}lt(!0),P(null),W(null);try{const{data:Q}=await We.auth.getSession(),Pe=Q.session?.access_token,ut={"Content-Type":"application/json",...Pe?{Authorization:`Bearer ${Pe}`}:{}},mt=await fetch("/api/verification-requests",{method:"POST",headers:ut,body:JSON.stringify({labId:_e,...de})});if(!mt.ok){const vt=await mt.text();throw new Error(vt||"Unable to submit verification request")}W("Request received! We will reach out to schedule verification (additional cost applies)."),q(!1),fe({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""})}catch(Q){P(Q?.message||"Unable to submit verification request")}finally{lt(!1)}}return v.useEffect(()=>{async function Q(){if(t){et(!0),$(null);try{const{data:Pe}=await We.auth.getSession(),ut=Pe.session?.access_token,mt=ut?{Authorization:`Bearer ${ut}`}:{},vt=await fetch("/api/news/mine",{headers:mt}),or=vt.headers.get("content-type")||"";if(!vt.ok||!or.includes("application/json"))throw await vt.text(),new Error("Unable to load news");const tn=await vt.json();ve(Array.isArray(tn?.news)?tn.news:[])}catch(Pe){$(Pe?.message||"Unable to load news"),ve([])}finally{et(!1)}}}e||Q()},[e,t?.id]),o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Bg,{className:"h-14 w-14",children:[o.jsx(qg,{src:n?.avatar_url??void 0,alt:ri}),o.jsx(zg,{className:"text-base font-semibold bg-gradient-to-br from-indigo-500/20 to-pink-500/20 text-foreground",children:ra})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:ri}),o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:Hn})]}),o.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Your Glass profile overview."})]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx(Ne,{href:"/account/edit",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Edit account"}),n&&n.role!=="user"&&o.jsx(Ne,{href:"/requests",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Requests"}),n&&(n.role==="lab"||n.role==="admin"||n.role==="multi-lab")&&o.jsx(Ne,{href:"/lab/manage",className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage lab"}),n&&n.role==="admin"&&o.jsx(Ne,{href:"/admin/labs",className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10",children:"Admin labs"}),xs.length>0&&o.jsx("button",{type:"button",onClick:()=>{ye(xs[0]?.id??null),q(!0),P(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Get Verified by GLASS"}),o.jsxs(Ne,{href:"/favorites",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:[o.jsx("span",{className:"mr-2 flex h-7 w-7 items-center justify-center rounded-full border border-border text-muted-foreground",children:""}),"Favorites (",Ql.length,")"]}),o.jsx(Ne,{href:"/subscriptions",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Change plan"}),n&&(n.role==="lab"||n.role==="multi-lab"||n.role==="admin")&&o.jsx("button",{type:"button",onClick:()=>{be(!0),Ht(null),Lt(null),J(y[0]?.id??null)},className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Legal assistance"})]})]}),L&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>F(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Post a lab update"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"For premier/custom labs. Well review and feature these on the main page."}),o.jsxs("div",{className:"mt-4 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),o.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:me??"",onChange:Q=>ce(Number(Q.target.value)),children:Fi.map(Q=>o.jsx("option",{value:Q.id,children:Q.name},Q.id))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Title"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"New equipment, collaboration call, milestone",value:te,onChange:Q=>ee(Q.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Summary"}),o.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Quick blurb for the homepage ticker.",value:ke,onChange:Q=>Ce(Q.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Category"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:re,onChange:Q=>Y(Q.target.value),children:[o.jsx("option",{value:"update",children:"Update"}),o.jsx("option",{value:"equipment",children:"New equipment"}),o.jsx("option",{value:"project",children:"New project"}),o.jsx("option",{value:"collaboration",children:"Collaboration request"}),o.jsx("option",{value:"announcement",children:"Announcement"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Photos (up to 4)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(Q=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[160px] truncate",children:Q.name}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>X(Pe=>Pe.filter(ut=>ut.url!==Q.url)),children:"Remove"})]},Q.url))}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3",children:[o.jsx("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Upload photos"}),o.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:async Q=>{await Vi(Q.target.files),Q.target&&(Q.target.value="")},disabled:A.length>=4||Ie})]}),Ie&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"Uploading"})]})]}),O&&o.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:O}),ne&&o.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:ne}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>F(!1),disabled:K,children:"Cancel"}),o.jsx("button",{type:"button",onClick:sa,disabled:K,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:K?"Sending":"Send update"})]})]})]})}),Se&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>q(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Get verified by GLASS"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification includes an on-site visit and carries an additional cost. Choose a lab and provide an address if missing."}),o.jsxs("div",{className:"mt-4 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),o.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:_e??"",onChange:Q=>ye(Number(Q.target.value)),children:xs.map(Q=>o.jsx("option",{value:Q.id,children:Q.name},Q.id))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 1"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Street address",value:de.addressLine1,onChange:Q=>fe(Pe=>({...Pe,addressLine1:Q.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 2"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Suite / Unit (optional)",value:de.addressLine2,onChange:Q=>fe(Pe=>({...Pe,addressLine2:Q.target.value}))})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.city,onChange:Q=>fe(Pe=>({...Pe,city:Q.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"State/Region"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.state,onChange:Q=>fe(Pe=>({...Pe,state:Q.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Postal code"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.postalCode,onChange:Q=>fe(Pe=>({...Pe,postalCode:Q.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Country"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.country,onChange:Q=>fe(Pe=>({...Pe,country:Q.target.value}))})]})]}),ot&&o.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:ot}),M&&o.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:M}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>q(!1),disabled:ge,children:"Cancel"}),o.jsx("button",{type:"button",onClick:Ld,disabled:ge,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:ge?"Sending":"Submit request"})]})]})]})}),ue&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>be(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Connect with legal support"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Well connect you with our legal expert for contract help."}),o.jsxs("div",{className:"mt-4 grid gap-3",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Topic"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Je,onChange:Q=>at(Q.target.value)})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Details"}),o.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Ut,onChange:Q=>_r(Q.target.value),placeholder:"Share context and any timelines."})]}),y.length>0&&o.jsxs("div",{className:"grid gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Related lab"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Xt??"",onChange:Q=>J(Number(Q.target.value)),children:[o.jsx("option",{value:"",children:"Select lab (optional)"}),y.map(Q=>o.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),pe&&o.jsx("p",{className:"text-sm text-destructive",children:pe}),ir&&o.jsx("p",{className:"text-sm text-emerald-600",children:ir}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>be(!1),disabled:kr,children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{if(!Je.trim()||!Ut.trim()){Ht("Topic and details are required.");return}en(!0),Ht(null),Lt(null);try{const Q=await fetch("/api/legal-assist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:Je.trim(),details:Ut.trim(),labId:Xt||void 0,name:ri,email:n?.email||t?.email||""})});if(!Q.ok){const Pe=await Q.text();throw new Error(Pe||"Unable to send request")}Lt("Sent! Well connect you with our legal contact shortly."),at(""),_r(""),J(y[0]?.id??null),be(!1)}catch(Q){Ht(Q?.message||"Unable to send request")}finally{en(!1)}},className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",disabled:kr,children:kr?"Sending":"Send"})]})]})]})}),na&&o.jsxs("div",{className:"mt-10 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[o.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent updates from your labs"})]})}),$e&&o.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),sr&&o.jsxs("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:[sr,". You can still post a new update below."]}),!$e&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"flex gap-4 min-w-full",children:[o.jsxs("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground mb-1",children:"Share an update"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Post equipment arrivals, collaborations, or milestones."})]}),o.jsx("button",{type:"button",onClick:()=>{F(!0),G(null)},className:"mt-3 inline-flex items-center justify-center rounded-full bg-primary px-3 py-2 text-xs font-medium text-primary-foreground transition hover:bg-primary/90",children:"Create post"})]}),xe.length>0&&xe.map(Q=>{const Pe=Q.labs?.name||`Lab ${Q.lab_id}`,ut=Q.created_at?new Date(Q.created_at).toLocaleDateString():"";return o.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[o.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:o.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:Q.category||"update"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:Q.title}),o.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:Q.summary})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"truncate",children:Pe}),o.jsx("span",{className:"text-[11px]",children:ut})]}),o.jsx("div",{className:"flex items-center gap-2",children:Q.images?.slice(0,2).map(mt=>o.jsx("img",{src:mt.url,alt:mt.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},mt.url))})]},Q.id)})]})})]}),ps&&o.jsx("div",{className:"mt-8 flex flex-col gap-6 lg:flex-row",children:o.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3 cursor-pointer select-none",onClick:()=>U(Q=>!Q),children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Dashboard"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Your activity at a glance"})]}),o.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:He?"Collapse":"Expand"})]}),He&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[o.jsx(vi,{label:"Tier",value:Hn,hint:n?.subscription_status||""}),o.jsx(vi,{label:"Labs linked",value:y.length.toString(),hint:Gn?`${Gn} hidden`:""}),o.jsx(vi,{label:"Views (7d total)",value:Kl.toString()}),o.jsx(vi,{label:"Views (30d total)",value:Hl.toString()}),o.jsx(vi,{label:"Favorites total",value:Gl.toString()}),o.jsx(vi,{label:"Collab requests",value:j.toString()}),o.jsx(vi,{label:"Rent/contact requests",value:C.toString()}),N&&o.jsx("div",{className:"col-span-full rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:N})]}),y.length>0&&o.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[ni&&o.jsx(j0,{title:"Best performing",subtitle:"Most views (30d)",primary:`${ni.views30d} views`,secondary:ni.name,badge:(ni.subscriptionTier||"").toLowerCase()==="premier"?"Premium":void 0}),ms&&o.jsx(j0,{title:"Most favorited",subtitle:"Total favorites",primary:`${ms.favorites} favorites`,secondary:ms.name,badge:(ms.subscriptionTier||"").toLowerCase()==="premier"?"Premium":void 0})]}),y.length>0&&o.jsxs("div",{className:"mt-8",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Linked labs"}),o.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:y.map(Q=>{const Pe=(Q.subscriptionTier||"").toLowerCase(),ut=Pe==="premier"||Pe==="custom";return o.jsxs("div",{className:"rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:Q.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ut?"Premier/Custom":Pe||"Base","  ",Q.isVisible===!1?"Hidden":"Visible"]})]}),o.jsx(Ne,{href:`/lab/manage/${Q.id}`,className:"text-xs font-medium text-primary hover:underline",children:"Manage"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["7d views: ",Q.views7d]}),o.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["30d views: ",Q.views30d]}),o.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["Favorites: ",Q.favorites]})]})]},Q.id)})})]})]})]})})]})})}function vi({label:t,value:e,hint:r}){return o.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),o.jsx("p",{className:"mt-1 text-2xl font-semibold text-foreground",children:e}),r?o.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:r}):null]})}function j0({title:t,subtitle:e,primary:r,secondary:n,badge:i}){return o.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),i?o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:i}):null]}),o.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:r}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n})]})}function nB(){const{user:t}=gr(),[e,r]=v.useState({labs:[],collaborations:[],contacts:[]}),[n,i]=v.useState(!0),[l,c]=v.useState(null),[d,h]=v.useState("collaboration"),[m,p]=v.useState(new Set),[y,b]=v.useState(new Set);v.useEffect(()=>{(async()=>{c(null),i(!0);try{const{data:w}=await We.auth.getSession(),C=w.session?.access_token,k=await fetch("/api/my-labs/requests",{headers:C?{Authorization:`Bearer ${C}`}:{}}),E=k.headers.get("content-type")||"";if(!k.ok||!E.includes("application/json")){const L=await k.text();throw new Error(L||"Unable to load requests")}const R=await k.json();r(R)}catch(w){c(w.message||"Unable to load requests")}finally{i(!1)}})()},[t?.id]);const N=async(w,C)=>{let k=!0;if(p(E=>{const R=new Set(E);return R.has(w)?(R.delete(w),k=!1):(R.add(w),k=!0),R}),k&&C.contact_email&&!y.has(w))try{const{data:E}=await We.auth.getSession(),R=E.session?.access_token;await fetch("/api/my-labs/requests/viewed",{method:"POST",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}},body:JSON.stringify({contactEmail:C.contact_email,labName:C.lab_name,type:d==="collaboration"?"collaboration":"rental"})}),b(L=>{const F=new Set(L);return F.add(w),F})}catch{}},_=w=>{const C=w.id??`${w.lab_id??""}-${w.lab_name??""}-${w.contact_email??""}-${w.created_at??""}`,k=w.created_at?new Date(w.created_at).toLocaleString():null,E=m.has(C);return o.jsxs("div",{className:"rounded-2xl border border-border bg-card/70",children:[o.jsxs("button",{type:"button",onClick:()=>N(C,w),className:"flex w-full items-center justify-between gap-4 px-4 py-3 text-left hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[o.jsx("p",{className:"text-sm font-semibold text-foreground",children:w.lab_name||"Unknown lab"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_name||"Unknown contact"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k&&o.jsx("p",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:k}),o.jsx("span",{className:"text-xs text-primary",children:E?"Hide":"View"})]})]}),E&&o.jsxs("div",{className:"border-t border-border px-4 py-4 space-y-4 text-sm text-foreground",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Contact"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_email||"No email provided"}),w.preferred_contact&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Preferred: ",w.preferred_contact==="video_call"?"Video call":w.preferred_contact==="in_person"?"In person":"Email"]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Request"}),w.collaboration_focus&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Focus:"})," ",w.collaboration_focus]}),w.desired_timeline&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Timeline:"})," ",w.desired_timeline]}),w.target_labs&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Target labs:"})," ",w.target_labs]}),w.resources_offered&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Resources offered:"})," ",w.resources_offered]})]}),w.additional_notes&&o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Notes"}),o.jsx("p",{children:w.additional_notes})]}),w.message&&!w.collaboration_focus&&o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Message"}),o.jsx("p",{children:w.message})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[w.contact_email&&o.jsx("a",{href:`mailto:${encodeURIComponent(w.contact_email)}?subject=Re:%20${encodeURIComponent(w.lab_name||"your request")}`,className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-primary hover:border-primary",children:"Reply via email"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const R=`Video call with ${w.contact_name??"contact"} (${w.contact_email})`;navigator.clipboard?.writeText(R)}},children:"Schedule call"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const R=`${w.contact_name??"Contact"} <${w.contact_email}>`;navigator.clipboard?.writeText(R)}},children:"Copy contact"})]})]})]},C)},j=d==="collaboration"?e.collaborations:e.contacts;return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsx(Ne,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Requests"}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Inbox"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Collaboration or rental requests linked to your labs."})]}),o.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[o.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="collaboration"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("collaboration"),children:["Collaboration (",e.collaborations.length,")"]}),o.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="contact"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("contact"),children:["Renting / contact (",e.contacts.length,")"]})]}),o.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-6 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:n?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests"}):l?o.jsx("p",{className:"text-sm text-destructive",children:l}):e.labs.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No labs linked to your account yet."}):j.length===0?o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",d," requests yet."]}):o.jsx("div",{className:"grid gap-3",children:j.map(_)})})]})})}function sB({params:t}){const e=Number(t?.id),{user:r}=gr(),[n,i]=v.useState(!0),[l,c]=v.useState(!1),[d,h]=v.useState(null),[m,p]=v.useState(null),[y,b]=v.useState("base"),[N,_]=v.useState(null),[j,w]=v.useState(null),[C,k]=v.useState(Number.isNaN(e)?null:e),[E,R]=v.useState(!0),[L,F]=v.useState([]),[K,Z]=v.useState(""),[O,G]=v.useState({name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",siretNumber:"",offersLabSpace:!1,description:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],complianceTags:[],equipmentTags:[],focusTags:[],offers:[],minimumStay:"",pricePrivacy:!1}),[ne,H]=v.useState(!1),[te,ee]=v.useState(null),[ke,Ce]=v.useState([]),[re,Y]=v.useState({field:"complianceTags",value:""}),[me,ce]=v.useState(!1),[A,X]=v.useState(null);v.useEffect(()=>{(async()=>{h(null),p(null);try{if(!C)throw new Error("No lab selected. Go back and choose a lab.");const{data:q}=await We.auth.getSession(),_e=q.session?.access_token;await $(C,_e)}catch(q){h(q.message||"Unable to load your lab")}finally{i(!1)}})()},[r?.id,C]);async function Ie(q){const _e=q.target.files?.[0];if(_e){ee(null),H(!0);try{const ye=_e.name.split(".").pop()||"png",lt=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ye}`}`,{error:ot}=await We.storage.from("lab-logos").upload(lt,_e,{upsert:!0,contentType:_e.type});if(ot)throw ot;const{data:P}=We.storage.from("lab-logos").getPublicUrl(lt),M=P.publicUrl;G(W=>({...W,logoUrl:M})),p("Logo uploaded")}catch(ye){ee(ye?.message||"Unable to upload logo")}finally{H(!1)}}}async function Ve(q){const _e=q.target.files?.[0];if(_e){p(null);try{const ye=_e.name.split(".").pop()||"png",ge=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ye}`,ot=`${C?`labs/${C}/partners`:"partners"}/${ge}`,{error:P}=await We.storage.from("lab-logos").upload(ot,_e,{upsert:!0,contentType:_e.type});if(P)throw P;const{data:M}=We.storage.from("lab-logos").getPublicUrl(ot),W=M.publicUrl;Ce(de=>[...de,{name:_e.name,url:W}]),G(de=>({...de,partnerLogos:[...de.partnerLogos,{name:_e.name,url:W}]})),p("Partner logo uploaded")}catch(ye){p(ye?.message||"Unable to upload partner logo")}}}const He=q=>{Ce(_e=>_e.filter(ye=>ye.url!==q)),G(_e=>({..._e,partnerLogos:_e.partnerLogos.filter(ye=>ye.url!==q)}))},U=()=>{const q=K.trim();q&&(F(_e=>[..._e,{name:q.split("/").pop()??`Photo ${_e.length+1}`,url:q}]),Z(""))},xe=q=>{F(_e=>_e.filter(ye=>ye.url!==q.url))};async function ve(q){const _e=q.target.files?.[0];if(!(!_e||!C)){X(null),ce(!0);try{const ye=_e.name.split(".").pop()||"jpg",ge=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ye}`,lt=`labs/${C}/photos/${ge}`,{error:ot}=await We.storage.from("lab-photos").upload(lt,_e,{upsert:!0,contentType:_e.type});if(ot)throw ot;const{data:P}=We.storage.from("lab-photos").getPublicUrl(lt),M=P.publicUrl,W={name:_e.name,url:M};F(de=>[...de,W]),p("Photo uploaded")}catch(ye){X(ye?.message||"Unable to upload photo")}finally{ce(!1),q.target&&(q.target.value="")}}}const $e=(q,_e)=>{const ye=_e.trim();ye&&G(ge=>ge[q].includes(ye)?ge:{...ge,[q]:[...ge[q],ye]})},et=(q,_e)=>{G(ye=>({...ye,[q]:ye[q].filter(ge=>ge!==_e)}))},sr=q=>_e=>{_e.key==="Enter"&&(_e.preventDefault(),$e(q,re.value||_e.target.value),Y({field:q,value:""}))};async function $(q,_e){try{i(!0),h(null);const ye=await fetch(`/api/my-lab/${q}`,{headers:_e?{Authorization:`Bearer ${_e}`}:{}});if(!ye.ok){const lt=await ye.text();throw new Error(lt||"Unable to load lab")}const ge=await ye.json();k(ge.id),b((ge.subscriptionTier||"base").toLowerCase()),R(ge.isVisible!==!1),G({name:ge.name||"",location:ge.location||"",labManager:ge.labManager||"",contactEmail:ge.contactEmail||r?.email||"",logoUrl:ge.logoUrl||"",siretNumber:ge.siretNumber||"",offersLabSpace:ge.offersLabSpace??!0,description:ge.description||"",addressLine1:ge.addressLine1||"",addressLine2:ge.addressLine2||"",city:ge.city||"",state:ge.state||"",postalCode:ge.postalCode||"",country:ge.country||"",website:ge.website||"",linkedin:ge.linkedin||"",partnerLogos:ge.partnerLogos||[],complianceTags:ge.compliance||[],equipmentTags:ge.equipment||[],focusTags:ge.focusAreas||[],offers:ge.offers||[],minimumStay:ge.minimumStay||"",pricePrivacy:!!ge.pricePrivacy}),Ce(ge.partnerLogos||[]),F(ge.photos||[]),_(null),w(null);try{const lt=await fetch("/api/my-lab/analytics",{headers:_e?{Authorization:`Bearer ${_e}`}:{}});if(lt.ok){const ot=await lt.json();_({views7d:ot.views7d??0,views30d:ot.views30d??0,favorites:ot.favorites??0,recentFavorites:(ot.recentFavorites??[]).map(P=>({userId:P.userId,createdAt:P.createdAt}))})}else if(lt.status!==403){const ot=await lt.text();w(ot||"Unable to load analytics")}}catch(lt){w(lt.message||"Unable to load analytics")}}catch(ye){h(ye.message||"Unable to load your lab")}finally{i(!1)}}async function Se(){c(!0),h(null),p(null);try{const{data:q}=await We.auth.getSession(),_e=q.session?.access_token;if(!C)throw new Error("Select a lab first");const ye=await fetch(`/api/my-lab/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",..._e?{Authorization:`Bearer ${_e}`}:{}},body:JSON.stringify({name:O.name,location:O.location,labManager:O.labManager,contactEmail:O.contactEmail,logoUrl:O.logoUrl||null,siretNumber:O.siretNumber||null,offersLabSpace:O.offersLabSpace,description:O.description||null,ownerUserId:r?.id||null,addressLine1:O.addressLine1||null,addressLine2:O.addressLine2||null,city:O.city||null,state:O.state||null,postalCode:O.postalCode||null,country:O.country||null,website:O.website||null,linkedin:O.linkedin||null,photos:L,partnerLogos:O.partnerLogos,compliance:O.complianceTags,equipment:O.equipmentTags,focusAreas:O.focusTags,offers:O.offers,minimumStay:O.minimumStay,pricePrivacy:O.pricePrivacy})});if(!ye.ok){let ge="Failed to save";if((ye.headers.get("content-type")||"").includes("application/json"))try{ge=(await ye.json()).message||ge}catch{}else try{ge=await ye.text()}catch{}throw new Error(ge)}p("Saved")}catch(q){h(q.message||"Failed to save")}finally{c(!1)}}return o.jsxs("section",{className:"bg-background min-h-screen",children:[o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[o.jsx(Ne,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage my lab"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Update basic details for your lab."}),C&&E===!1&&o.jsx("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-medium text-amber-800",children:"This lab is hidden from the public directory"}),!C&&o.jsxs("p",{className:"mt-4 text-sm text-destructive",children:["No lab selected. Go back and choose a lab to manage.",o.jsx(Ne,{href:"/lab/manage",children:o.jsx("a",{className:"ml-2 underline text-primary",children:"Back to lab selection"})})]}),N&&o.jsxs("div",{className:"mt-4 rounded-2xl border border-border bg-card/70 p-4 text-sm",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Premier / Custom analytics"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (7d)"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.views7d})]}),o.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (30d)"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.views30d})]}),o.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.favorites})]})]}),N.recentFavorites.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Recent favorites"}),o.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:N.recentFavorites.map(q=>o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",title:new Date(q.createdAt).toLocaleString(),children:["User ",q.userId.slice(0,6)," favorited"]},`${q.userId}-${q.createdAt}`))})]}),j&&o.jsx("p",{className:"mt-2 text-xs text-destructive",children:j})]}),n?o.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading"}):d?o.jsx("p",{className:"mt-6 text-sm text-destructive",children:d}):o.jsxs(Ye.form,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-8 space-y-8",onSubmit:q=>{q.preventDefault(),Se()},children:[o.jsxs(bo,{title:"Basics",children:[o.jsx(Mt,{label:"Lab name",children:o.jsx("input",{className:"input",value:O.name,onChange:q=>G({...O,name:q.target.value})})}),o.jsx(Mt,{label:"Location",children:o.jsx("input",{className:"input",value:O.location,onChange:q=>G({...O,location:q.target.value})})}),o.jsx(Mt,{label:"Lab manager",children:o.jsx("input",{className:"input",value:O.labManager,onChange:q=>G({...O,labManager:q.target.value})})}),o.jsx(Mt,{label:"Contact email",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{className:"input",value:O.contactEmail,disabled:!0}),o.jsx("span",{className:"text-muted-foreground","aria-hidden":"true",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[o.jsx("rect",{x:"5",y:"11",width:"14",height:"9",rx:"2"}),o.jsx("path",{d:"M8 11v-2a4 4 0 0 1 8 0v2"})]})})]})}),o.jsx(Mt,{label:"Lab description",children:o.jsx("textarea",{className:"input",rows:4,value:O.description,onChange:q=>G({...O,description:q.target.value}),placeholder:"Short intro to your lab (shown on Lab Details)"})}),o.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",checked:O.offersLabSpace,onChange:q=>G({...O,offersLabSpace:q.target.checked})}),"Offers lab space (enables pricing/offers on your page)"]})]}),o.jsxs(bo,{title:"Branding & Links",children:[(y==="premier"||y==="custom")&&o.jsx(Mt,{label:"Logo",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("label",{className:"inline-flex items-center gap-3",children:[o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",onChange:Ie,className:"hidden"})]}),O.logoUrl&&o.jsx("button",{type:"button",onClick:()=>G({...O,logoUrl:""}),className:"rounded-full border border-border px-3 py-1 text-xs text-muted-foreground hover:border-destructive hover:text-destructive",children:"Remove"})]}),ne&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),te&&o.jsx("p",{className:"text-xs text-destructive",children:te}),O.logoUrl&&o.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("img",{src:O.logoUrl,alt:`${O.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),o.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:O.logoUrl})]})]})}),y==="premier"?o.jsx(Mt,{label:"Partner logos (premier feature)",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",onChange:Ve,className:"hidden"})]})}),ke.length>0&&o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:ke.map(q=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[o.jsx("img",{src:q.url,alt:q.name,className:"h-10 w-10 rounded object-cover"}),o.jsx("button",{type:"button",onClick:()=>He(q.url),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},q.url))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders. Shown for premier labs."})]})}):o.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are available on the premier plan."}),o.jsx(Mt,{label:"Website (optional)",children:o.jsx("input",{className:"input",value:O.website,onChange:q=>G({...O,website:q.target.value}),placeholder:"https://labs.example.com"})}),o.jsx(Mt,{label:"LinkedIn (optional)",children:o.jsx("input",{className:"input",value:O.linkedin,onChange:q=>G({...O,linkedin:q.target.value}),placeholder:"https://www.linkedin.com/company/example"})})]}),o.jsxs(bo,{title:"Company details",children:[o.jsx(Mt,{label:"Address line 1",children:o.jsx("input",{className:"input",value:O.addressLine1,onChange:q=>G({...O,addressLine1:q.target.value})})}),o.jsx(Mt,{label:"Address line 2",children:o.jsx("input",{className:"input",value:O.addressLine2,onChange:q=>G({...O,addressLine2:q.target.value})})}),o.jsx(Mt,{label:"SIRET",children:o.jsx("input",{className:"input",value:O.siretNumber,onChange:q=>G({...O,siretNumber:q.target.value})})}),o.jsx(Mt,{label:"City",children:o.jsx("input",{className:"input",value:O.city,onChange:q=>G({...O,city:q.target.value})})}),o.jsx(Mt,{label:"State/Region",children:o.jsx("input",{className:"input",value:O.state,onChange:q=>G({...O,state:q.target.value})})}),o.jsx(Mt,{label:"Postal code",children:o.jsx("input",{className:"input",value:O.postalCode,onChange:q=>G({...O,postalCode:q.target.value})})}),o.jsx(Mt,{label:"Country",children:o.jsx("input",{className:"input",value:O.country,onChange:q=>G({...O,country:q.target.value})})})]}),o.jsxs(bo,{title:"Compliance & capabilities",children:[o.jsx(Mt,{label:"Compliance",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"input",placeholder:"Add compliance and press Enter",value:re.field==="complianceTags"?re.value:"",onChange:q=>Y({field:"complianceTags",value:q.target.value}),onKeyDown:sr("complianceTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.complianceTags.map(q=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[q,o.jsx("button",{type:"button",onClick:()=>et("complianceTags",q),className:"text-muted-foreground hover:text-destructive",children:""})]},q))})]})}),o.jsx(Mt,{label:"Equipment",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"input",placeholder:"Add equipment and press Enter",value:re.field==="equipmentTags"?re.value:"",onChange:q=>Y({field:"equipmentTags",value:q.target.value}),onKeyDown:sr("equipmentTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.equipmentTags.map(q=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[q,o.jsx("button",{type:"button",onClick:()=>et("equipmentTags",q),className:"text-muted-foreground hover:text-destructive",children:""})]},q))})]})}),o.jsx(Mt,{label:"Focus areas",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"input",placeholder:"Add focus area and press Enter",value:re.field==="focusTags"?re.value:"",onChange:q=>Y({field:"focusTags",value:q.target.value}),onKeyDown:sr("focusTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.focusTags.map(q=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[q,o.jsx("button",{type:"button",onClick:()=>et("focusTags",q),className:"text-muted-foreground hover:text-destructive",children:""})]},q))})]})})]}),o.jsxs(bo,{title:"Photos",children:[o.jsx(Mt,{label:"Add photo",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Upload file",o.jsx("input",{type:"file",accept:"image/*",onChange:ve,className:"hidden"})]})}),o.jsxs("div",{className:"flex flex-1 gap-2",children:[o.jsx("input",{className:"input flex-1",value:K,onChange:q=>Z(q.target.value),placeholder:"https://images.example.com/photo.jpg"}),o.jsx("button",{type:"button",onClick:U,className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add"})]})]}),me&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading photo"}),A&&o.jsx("p",{className:"text-xs text-destructive",children:A})]})}),L.length>0&&o.jsx("div",{className:"flex flex-wrap gap-3",children:L.map(q=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("img",{src:q.url,alt:q.name,className:"h-14 w-20 rounded object-cover"}),o.jsx("button",{type:"button",onClick:()=>xe(q),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},q.url))})]}),o.jsxs(bo,{title:"Offers & pricing",children:[o.jsx(Mt,{label:"Offers",children:o.jsx("div",{className:"flex flex-wrap gap-3",children:Id.map(q=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:O.offers.includes(q),onChange:_e=>{G(ye=>{const ge=_e.target.checked?[...ye.offers,q]:ye.offers.filter(lt=>lt!==q);return{...ye,offers:ge}})}}),q]},q))})}),o.jsx(Mt,{label:"Minimum stay",children:o.jsx("input",{className:"input",value:O.minimumStay,onChange:q=>G({...O,minimumStay:q.target.value})})}),o.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",checked:O.pricePrivacy,onChange:q=>G({...O,pricePrivacy:q.target.checked})}),"Pricing shared privately"]})]}),m&&o.jsx("p",{className:"text-sm text-emerald-600",children:m}),o.jsx("div",{className:"flex gap-3",children:l?o.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",disabled:!0,children:"Saving"}):o.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",type:"submit",children:"Save"})})]})]}),o.jsx("style",{children:".input{width:100%;border:1px solid var(--border);background:var(--background);padding:.5rem .75rem;border-radius:12px;}"})]})}function bo({title:t,children:e}){return o.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-5 space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:t}),o.jsx("div",{className:"grid gap-4",children:e})]})}function Mt({label:t,children:e}){return o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:t}),e]})}function iB(){return v.useEffect(()=>{(async()=>{try{await We.auth.signOut()}finally{window.location.replace("/")}})()},[]),null}const N0={ownerName:"",organization:"",labsManaged:"",email:"",phone:"",message:""};function oB(){const{user:t,loading:e}=gr(),[r,n]=hs(),[i,l]=v.useState(N0),[c,d]=v.useState("idle"),[h,m]=v.useState(null),[p,y]=v.useState("idle"),[b,N]=v.useState(null),[_,j]=v.useState(null),w=typeof window<"u"?window.location.search:"",C=v.useMemo(()=>{try{return new URLSearchParams(w).get("plan")}catch{return null}},[w]),k=(C??"").toLowerCase(),E=k==="base"||k==="free",R=k==="verified"||k==="premier"||k==="custom",L=k==="custom"||k==="enterprise",F=t?.user_metadata?.full_name||t?.user_metadata?.name||t?.user_metadata?.fullName||t?.user_metadata?.display_name||t?.user_metadata?.displayName||"",K=`/api/stripe/checkout?plan=${k||"base"}`;v.useEffect(()=>{if(e)return;if(!C||!["base","free","verified","premier","custom","enterprise"].includes(k)){n("/pricing");return}if(!t){const te=encodeURIComponent(`/payments?plan=${k}`);n(`/login?next=${te}`);return}},[t,C,k,e,n]),v.useEffect(()=>{if(!t)return;async function H(){const{data:te,error:ee}=await We.from("profiles").select("name").eq("user_id",t.id).maybeSingle();!ee&&te?.name?(j(te.name),l(ke=>({...ke,ownerName:ke.ownerName||te.name}))):j(null)}H(),l(te=>({...te,ownerName:te.ownerName||F||t?.email?.split("@")[0]||"",email:te.email||t.email||"",phone:te.phone||t.user_metadata?.phone||t.phone||""}))},[t,F]);const Z=H=>te=>{l(ee=>({...ee,[H]:te.target.value}))},O=async H=>{H.preventDefault(),d("loading"),m(null);try{const te=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.ownerName||i.organization,email:i.email,message:[`Organization: ${i.organization}`,`Labs managed: ${i.labsManaged}`,"",i.message||"No additional context provided."].join(`
`)})});if(!te.ok){const ee=await te.json().catch(()=>({message:"Unable to send request"}));throw new Error(ee?.message??"Unable to send request")}d("success"),l(N0)}catch(te){d("error"),m(te instanceof Error?te.message:"Unable to send request")}},G=async()=>{y("loading"),N(null);try{if(!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.ownerName||F||t?.email||"GLASS-Connect user",email:t?.email,message:`Confirming free plan signup for ${t?.email||"unknown"} on GLASS-Connect.`})})).ok)throw new Error("Unable to send confirmation");y("success")}catch(H){y("error"),N(H instanceof Error?H.message:"Unable to send confirmation")}},ne="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary";return e||!t||!C?null:o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl space-y-12",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Payment flow"}),o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:E?"Your GLASS-Connect free listing":"Stripe-first billing built for labs"}),o.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:E?"Confirm your free plan so your listing stays live while you edit. You can upgrade anytime.":"We keep billing transparent: standard plans go through Stripe Checkout (with optional SEPA transfer), and multi-lab operators can request a custom agreement."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Ne,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Review plans"})}),o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Explore live listings"})})]})]}),E&&o.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Free plan confirmation"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirm your free GLASS-Connect listing. Well email a confirmation and keep your profile live while you edit."}),o.jsx("button",{onClick:G,disabled:p==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:p==="loading"?"Sending confirmation":"Confirm free plan"}),p==="success"&&o.jsxs("p",{className:"text-sm text-emerald-600",children:["Confirmation sent to ",t?.email??"your email on file",". If you dont see it, check spam or contact support."]}),p==="error"&&o.jsx("p",{className:"text-sm text-destructive",children:b??"We couldnt send the confirmation. Please try again or contact support."})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"What you get"}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary mt-0.5"}),"Standardised lab profile with capabilities, equipment, and contact prefs."]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary mt-0.5"}),"Inbound requests routed to your team while you edit and refine details."]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary mt-0.5"}),"Upgrade anytime to add verification, placement, and media support."]})]})]})]}),R&&o.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Stripe Checkout"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Youll be redirected to a Stripe-hosted checkout page for the ",k," plan. Glass never touches raw card numbers."]}),o.jsx("button",{onClick:()=>{window.location.href=K},className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Proceed to Stripe Checkout"}),o.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-sm text-muted-foreground",children:"After payment, well activate your listing within one business day and schedule verification if needed."})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Prefer bank transfer (SEPA)?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank transfer option coming soon. We'll share SEPA details once the Glass account is live."})]})]}),L&&o.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Enterprise intake"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tell us about your network and billing needs. Well follow up with the right agreement, procurement details, and onboarding."}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[o.jsx("li",{children:"Dedicated partner manager and verification scheduling across sites."}),o.jsx("li",{children:"Custom invoicing (ACH/SEPA/wire), procurement docs, and data exports."}),o.jsx("li",{children:"API access and multi-lab routing preferences."})]})]}),o.jsxs("div",{id:"custom",className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(l2,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Enterprise form"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Well get back to you within one business day."})]})]}),c==="success"&&o.jsx("div",{className:"rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:"Thanks! Weve logged your details and will respond within one business day."}),c==="error"&&o.jsx("div",{className:"rounded-2xl border border-destructive/50 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:h??"We couldnt send your message. Please try again."}),o.jsxs("form",{className:"space-y-4",onSubmit:O,children:[o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Your name"}),o.jsx("input",{className:ne,value:i.ownerName,onChange:Z("ownerName"),placeholder:"Jordan Reyes",required:!0})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Contact email"}),o.jsx("input",{type:"email",className:ne,value:i.email,onChange:Z("email"),placeholder:"you@labs.com",required:!0})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Phone number"}),o.jsx("input",{className:ne,value:i.phone,onChange:Z("phone"),placeholder:"+49 171 2345678",required:!0})]})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Organization"}),o.jsx("input",{className:ne,value:i.organization,onChange:Z("organization"),placeholder:"Atlas Applied Biology",required:!0})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Labs managed (optional)"}),o.jsx("input",{className:ne,value:i.labsManaged,onChange:Z("labsManaged"),placeholder:"e.g. 4 locations"})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"What do you need?"}),o.jsx("textarea",{className:`${ne} min-h-[120px]`,value:i.message,onChange:Z("message"),placeholder:"Tell us about your footprint, routing preferences, billing needs, or integrations."})]}),o.jsx("button",{type:"submit",disabled:c==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:c==="loading"?"Sending":"Send to Glass partnerships"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"We route this form to our Brevo/email inbox so a real person can follow up with invoices, contracts, or procurement info."})]})]})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Need a direct line?"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email ",o.jsx("a",{className:"text-primary underline",href:"mailto:contact@glass-funding.com",children:"contact@glass-funding.com"})," or drop a note in the custom form. We can accommodate purchase orders, wire transfers, and co-branded partnership agreements."]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Ne,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),o.jsx(Ne,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"See partner labs"})})]})]})]})})}function aB(){const{user:t}=gr(),[e,r]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),[d,h]=v.useState(""),[m,p]=v.useState("base");v.useEffect(()=>{(async()=>{c(null);try{const{data:j}=await We.auth.getSession(),w=j.session?.access_token,C=await fetch("/api/my-labs",{headers:w?{Authorization:`Bearer ${w}`}:{}});if(!C.ok){const L=await C.text();throw new Error(L||"Unable to load labs")}const k=await C.json();r(k??[]);const{data:E}=await We.from("profiles").select("subscription_tier").eq("user_id",t?.id).maybeSingle(),R=(E?.subscription_tier||"base").toLowerCase();p(R)}catch(j){c(j.message||"Unable to load labs")}finally{i(!1)}})()},[t?.id]);const y=v.useMemo(()=>{const j=d.trim().toLowerCase();return j?e.filter(w=>{const C=(w.lab_equipment??[]).map(E=>E.item).join(" ");return[w.name,w.location,C].filter(Boolean).join(" ").toLowerCase().includes(j)}):e},[e,d]),b=m==="custom"||e.length===0,N=j=>{const w=(j.subscription_tier||"").toLowerCase(),C=w==="premier"||w==="custom",k=j.is_visible===!1;return o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[C?o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:w==="custom"?"Custom":"Premier"}):null,k?o.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-[11px] font-medium text-amber-800",children:"Not visible"}):null]})},_=j=>j.logo_url?j.logo_url:j.lab_photos?.[0]?.url||null;return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl",children:[o.jsx(Ne,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage your labs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pick a lab to edit. Premier labs keep their analytics and partner features."})]}),o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("input",{type:"search",value:d,onChange:j=>h(j.target.value),placeholder:"Search labs by name or city",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx(Ws,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]})]}),n?o.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading labs"}):l?o.jsx("p",{className:"mt-6 text-sm text-destructive",children:l}):y.length===0?o.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["No labs match that search. ",e.length===0?"No lab is linked to your account yet.":""]}):o.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-dashed border-border bg-card/60 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 p-6 text-center",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:o.jsx(Sj,{className:"h-6 w-6"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add a new lab"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:b?"Create another lab profile and manage its details.":"Multi-lab management is available on Custom tier."})]}),o.jsx("div",{className:"p-4",children:b?o.jsx(Ne,{href:"/lab/manage/new",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add lab"}):o.jsx(Ne,{href:"/payments?plan=custom#custom",className:"inline-flex w-full items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Upgrade to Custom"})})]},"add-lab"),y.map(j=>o.jsxs(Ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-border bg-card/80 shadow-sm overflow-hidden",children:[_(j)&&o.jsx("div",{className:"h-36 w-full overflow-hidden border-b border-border/60 bg-background/40",children:o.jsx("img",{src:_(j),alt:j.name,className:"h-full w-full object-cover"})}),o.jsxs("div",{className:"p-4 space-y-2 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:j.name}),o.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(Ws,{className:"h-3.5 w-3.5 text-primary"}),o.jsx("span",{children:j.location?.trim()||"Location not set"})]})]}),N(j)]}),j.lab_equipment&&j.lab_equipment.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-muted-foreground",children:j.lab_equipment.slice(0,3).map(w=>o.jsx("span",{className:"rounded-full border border-border px-2 py-1",children:w.item},w.item))}),o.jsx("div",{className:"pt-2",children:o.jsx(Ne,{href:`/lab/manage/${j.id}`,children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage"})})})]})]},j.id))]})]})})}function lB(){const{addLab:t}=ti(),{user:e}=gr(),[,r]=hs(),[n,i]=v.useState({name:"",location:"",labManager:"",contactEmail:e?.email??"",description:"",field:"",offersLabSpace:!0,addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",siretNumber:"",minimumStay:"",pricePrivacy:!1,equipmentTags:[],focusTags:[],complianceTags:[],offers:[],logoUrl:""}),[l,c]=v.useState([]),[d,h]=v.useState([]),[m,p]=v.useState(""),[y,b]=v.useState(""),[N,_]=v.useState(!1),[j,w]=v.useState(!1),[C,k]=v.useState(!1),[E,R]=v.useState(null),[L,F]=v.useState(null),[K,Z]=v.useState(null),[O,G]=v.useState([]),[ne,H]=v.useState(!1),[te,ee]=v.useState(null),[ke,Ce]=v.useState({field:"equipmentTags",value:""}),[re,Y]=v.useState(!1),[me,ce]=v.useState(null),A=(U,xe)=>{i(ve=>({...ve,[U]:xe}))},X=(U,xe)=>{const ve=xe.trim();ve&&(i($e=>{const et=new Set($e[U]);return et.add(ve),{...$e,[U]:Array.from(et)}}),Ce({field:U,value:""}))},Ie=(U,xe)=>{i(ve=>({...ve,[U]:ve[U].filter($e=>$e!==xe)}))},Ve=U=>xe=>{xe.key==="Enter"&&(xe.preventDefault(),X(U,ke.value))},He=async U=>{U.preventDefault(),Y(!0),ce(null);try{const xe=await t({name:n.name.trim(),location:n.location.trim(),labManager:n.labManager.trim(),contactEmail:n.contactEmail.trim(),ownerUserId:e?.id??null,description:n.description.trim()||null,offersLabSpace:n.offersLabSpace,addressLine1:n.addressLine1.trim()||null,addressLine2:n.addressLine2.trim()||null,city:n.city.trim()||null,state:n.state.trim()||null,postalCode:n.postalCode.trim()||null,country:n.country.trim()||null,website:n.website.trim()||null,linkedin:n.linkedin.trim()||null,compliance:n.complianceTags,complianceDocs:O,isVerified:!1,isVisible:!0,equipment:n.equipmentTags,focusAreas:n.focusTags,offers:n.offers,pricePrivacy:n.pricePrivacy,minimumStay:n.minimumStay.trim(),rating:0,photos:l,logoUrl:n.logoUrl.trim()||null,siretNumber:n.siretNumber.trim()||null,partnerLogos:d,field:n.field.trim()||null});r(`/lab/manage/${xe.id}`)}catch(xe){ce(xe?.message||"Unable to create lab")}finally{Y(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[o.jsx(Ne,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),o.jsxs(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Create"}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mt-1",children:"Add a new lab"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start with the basics. You can add photos, equipment, and pricing later."}),o.jsxs("form",{className:"mt-8 space-y-8",onSubmit:He,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(qt,{label:"Lab name",required:!0,children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.name,onChange:U=>A("name",U.target.value),required:!0})}),o.jsx(qt,{label:"SIRET (optional)",children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:U=>A("siretNumber",U.target.value)})}),o.jsx(qt,{label:"Location",required:!0,children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.location,onChange:U=>A("location",U.target.value),required:!0})}),o.jsx(qt,{label:"Lab manager",required:!0,children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.labManager,onChange:U=>A("labManager",U.target.value),required:!0})}),o.jsx(qt,{label:"Contact email",required:!0,children:o.jsx("input",{type:"email",className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.contactEmail,onChange:U=>A("contactEmail",U.target.value),required:!0})}),o.jsx(qt,{label:"Description",children:o.jsx("textarea",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary min-h-[96px]",value:n.description,onChange:U=>A("description",U.target.value),placeholder:"Brief overview of your lab"})}),o.jsx(qt,{label:"Science field (optional)",children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.field,onChange:U=>A("field",U.target.value),placeholder:"e.g., immunology, materials science, bioengineering"})}),o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offersLabSpace,onChange:U=>A("offersLabSpace",U.target.checked)}),"Offers lab space"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qt,{label:"Logo (premier/custom only)",children:o.jsx("input",{className:"input",value:n.logoUrl,onChange:U=>A("logoUrl",U.target.value),placeholder:"Available for premier/custom tiers"})}),o.jsxs("label",{className:"inline-flex items-center gap-3",children:[o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async U=>{const xe=U.target.files?.[0];xe&&(R(null),_(!0),await Su("lab-logos",xe,"new/logos",(ve,$e)=>i(et=>({...et,logoUrl:ve||et.logoUrl||""})),ve=>R(ve)),_(!1),U.target&&(U.target.value=""))}})]}),N&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),E&&o.jsx("p",{className:"text-xs text-destructive",children:E})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Logo avatars display for premier/custom labs."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Photos (base: up to 2)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(U=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:U.name||U.url}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>c(xe=>xe.filter(ve=>ve.url!==U.url)),children:"Remove"})]},U.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{className:"input flex-1",value:m,onChange:U=>p(U.target.value),placeholder:"https://example.com/photo.jpg"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const U=m.trim();if(!U||l.length>=2)return;const xe=U.split("/").pop()||`Photo ${l.length+1}`;c(ve=>[...ve,{name:xe,url:U}]),p("")},disabled:l.length>=2,children:"Add photo"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",disabled:l.length>=2,onChange:async U=>{const xe=U.target.files?.[0];!xe||l.length>=2||(F(null),w(!0),await Su("lab-photos",xe,"new/photos",(ve,$e)=>c(et=>[...et,{name:$e,url:ve}]),ve=>F(ve)),w(!1),U.target&&(U.target.value=""))}})]})}),j&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),L&&o.jsx("p",{className:"text-xs text-destructive",children:L})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Base labs can add 2 photos here; you can add more later in manage."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(U=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:U.name||U.url}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>h(xe=>xe.filter(ve=>ve.url!==U.url)),children:"Remove"})]},U.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{className:"input flex-1",value:y,onChange:U=>b(U.target.value),placeholder:"https://example.com/logo.png"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const U=y.trim();if(!U)return;const xe=U.split("/").pop()||`Logo ${d.length+1}`;h(ve=>[...ve,{name:xe,url:U}]),b("")},children:"Add logo"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async U=>{const xe=U.target.files?.[0];xe&&(Z(null),k(!0),await Su("lab-logos",xe,"new/partners",(ve,$e)=>h(et=>[...et,{name:$e,url:ve}]),ve=>Z(ve)),k(!1),U.target&&(U.target.value=""))}})]})}),C&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),K&&o.jsx("p",{className:"text-xs text-destructive",children:K})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are shown for premier/custom labs."})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(qt,{label:"Address line 1",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine1,onChange:U=>A("addressLine1",U.target.value)})}),o.jsx(qt,{label:"Address line 2",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine2,onChange:U=>A("addressLine2",U.target.value)})}),o.jsx(qt,{label:"City",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.city,onChange:U=>A("city",U.target.value)})}),o.jsx(qt,{label:"State/Region",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.state,onChange:U=>A("state",U.target.value)})}),o.jsx(qt,{label:"Postal code",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.postalCode,onChange:U=>A("postalCode",U.target.value)})}),o.jsx(qt,{label:"Country",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.country,onChange:U=>A("country",U.target.value)})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(qt,{label:"Website",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.website,onChange:U=>A("website",U.target.value)})}),o.jsx(qt,{label:"LinkedIn",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.linkedin,onChange:U=>A("linkedin",U.target.value)})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(qt,{label:"Minimum stay",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.minimumStay,onChange:U=>A("minimumStay",U.target.value)})}),o.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:["Price privacy",o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.pricePrivacy?"yes":"no",onChange:U=>A("pricePrivacy",U.target.value==="yes"),children:[o.jsx("option",{value:"no",children:"Rates published"}),o.jsx("option",{value:"yes",children:"Quotes required"})]})]})]}),o.jsx(qt,{label:"Equipment",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add equipment and press Enter",value:ke.field==="equipmentTags"?ke.value:"",onChange:U=>Ce({field:"equipmentTags",value:U.target.value}),onKeyDown:Ve("equipmentTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.equipmentTags.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[U,o.jsx("button",{type:"button",onClick:()=>Ie("equipmentTags",U),className:"text-muted-foreground hover:text-destructive",children:""})]},U))})]})}),o.jsx(qt,{label:"Focus areas",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add focus area and press Enter",value:ke.field==="focusTags"?ke.value:"",onChange:U=>Ce({field:"focusTags",value:U.target.value}),onKeyDown:Ve("focusTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.focusTags.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[U,o.jsx("button",{type:"button",onClick:()=>Ie("focusTags",U),className:"text-muted-foreground hover:text-destructive",children:""})]},U))})]})}),o.jsx(qt,{label:"Compliance",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add compliance and press Enter",value:ke.field==="complianceTags"?ke.value:"",onChange:U=>Ce({field:"complianceTags",value:U.target.value}),onKeyDown:Ve("complianceTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.complianceTags.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[U,o.jsx("button",{type:"button",onClick:()=>Ie("complianceTags",U),className:"text-muted-foreground hover:text-destructive",children:""})]},U))})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Compliance documents (PDF)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(U=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:U.name||U.url}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>G(xe=>xe.filter(ve=>ve.url!==U.url)),children:"Remove"})]},U.url))}),o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:async U=>{const xe=U.target.files?.[0];xe&&(ee(null),H(!0),await Su("lab-pdfs",xe,"new/compliance",(ve,$e)=>G(et=>[...et,{name:$e,url:ve}]),ve=>ee(ve)),H(!1),U.target&&(U.target.value=""))}})]})}),ne&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),te&&o.jsx("p",{className:"text-xs text-destructive",children:te}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload PDF compliance certificates; you can add more later."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Offers"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Id.map(U=>o.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offers.includes(U),onChange:xe=>{const ve=xe.target.checked?[...n.offers,U]:n.offers.filter($e=>$e!==U);A("offers",ve)}}),U]},U))})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsx(qt,{label:"SIRET (optional)",children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:U=>A("siretNumber",U.target.value)})})}),me&&o.jsx("p",{className:"text-sm text-destructive",children:me}),o.jsx("button",{type:"submit",disabled:re,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:re?"Creating":"Create lab"})]})]})]})})}function qt({label:t,children:e,required:r}){return o.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:[t," ",r?o.jsx("span",{className:"text-destructive",children:"*"}):null,o.jsx("div",{className:"text-foreground font-normal",children:e})]})}const cB=t=>{const e=t.split(".").pop()||"jpg";return typeof crypto<"u"&&crypto.randomUUID?`${crypto.randomUUID()}.${e}`:`${Date.now()}.${e}`},Su=async(t,e,r,n,i)=>{try{const l=`${r}/${cB(e.name)}`,{error:c}=await We.storage.from(t).upload(l,e,{upsert:!0,contentType:e.type});if(c)throw c;const{data:d}=We.storage.from(t).getPublicUrl(l);n(d.publicUrl,e.name)}catch(l){i(l?.message||"Upload failed")}};function uB(){const{user:t}=gr(),{labs:e}=ti(),[r,n]=v.useState([]),[i,l]=v.useState(!0),[c,d]=v.useState(null);v.useEffect(()=>{let m=!0;async function p(){l(!0),d(null);try{const{data:y}=await We.auth.getSession(),b=y.session?.access_token,N=b?{Authorization:`Bearer ${b}`}:{},_=await fetch("/api/favorites",{headers:N}),j=_.headers.get("content-type")||"";if(!_.ok||!j.includes("application/json"))throw new Error("Unable to load favorites");const w=await _.json(),C=Array.isArray(w?.labIds)?w.labIds:[];m&&n(C.map(k=>Number(k)).filter(k=>!Number.isNaN(k)))}catch(y){m&&d(y.message||"Unable to load favorites")}finally{m&&l(!1)}}return t?p():l(!1),()=>{m=!1}},[t]);const h=v.useMemo(()=>r.length?e.filter(m=>r.includes(m.id)):[],[r,e]);return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-16 lg:py-20",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Favorites"}),o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Saved labs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Labs you have favorited for quick access."})]}),o.jsx(Ne,{href:"/account",className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:" Back to account"})]}),o.jsxs("div",{className:"mt-8",children:[i&&o.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"Loading favorites"}),c&&o.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:c}),!i&&!c&&h.length===0&&o.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"You have no favorites yet. Browse labs and tap the heart to save them."}),h.length>0&&o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(m=>{const p=(m.subscriptionTier||m.subscription_tier||"").toLowerCase(),y=p==="premier"||p==="custom";return o.jsxs("div",{className:"rounded-2xl border border-border bg-card/80 p-4 shadow-sm flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:m.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.location})]}),y&&o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:"Premium"})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:m.isVisible===!1?"Hidden":"Visible"}),o.jsx("span",{className:"font-medium text-primary",children:p||"base"})]}),o.jsx(Ne,{href:`/labs/${m.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},m.id)})})]})]})})}function dB(){const{tiers:t}=Z1();return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-20 lg:py-24 space-y-10",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Subscriptions"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground",children:"Choose your GLASS plan"}),o.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"New accounts start on Base. Upgrade anytime; after payment well switch your subscription tier automatically."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Ne,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"View pricing page"})}),o.jsx(Ne,{href:"/account",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Back to profile"})})]})]}),o.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.featured,n=e.name.toLowerCase(),i=n==="custom"?"/payments?plan=custom#custom":`/payments?plan=${n}`,l=e.monthly_price??e.monthlyPrice,c=l===0||l==="0",d=l!=null&&!c,h=c?"Free":d?`${l}/mo`:"Talk to us";return o.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${r?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),o.jsx("p",{className:"mt-3 text-3xl font-semibold text-foreground",children:h}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description??"Choose your plan and switch anytime."})]}),e.name==="Base"&&o.jsx(Tn,{className:"h-6 w-6 text-muted-foreground"}),r&&o.jsx(Cp,{className:"h-6 w-6 text-primary"})]}),o.jsx("ul",{className:"mt-5 space-y-3 text-sm text-muted-foreground",children:e.highlights?.map(m=>o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(wj,{className:"h-4 w-4 text-primary"}),m]},m))}),o.jsx(Ne,{href:i,children:o.jsx("a",{className:`mt-6 inline-flex items-center rounded-full px-4 py-2 text-sm font-medium transition ${n==="custom"?"border border-border text-muted-foreground hover:border-primary hover:text-primary":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:n==="custom"?"Talk to us":"Subscribe"})})]},n)})})]})})}function qa({path:t,component:e}){const{user:r,loading:n}=gr(),[,i]=hs(),[l,c]=v.useState(!0),[d,h]=v.useState(null);return v.useEffect(()=>{let m=!0;async function p(){c(!0);try{const{data:y}=await We.auth.getSession();if(!m)return;h(!!y.session?.user)}finally{m&&c(!1)}}return r?(h(!0),c(!1)):p(),()=>{m=!1}},[r]),o.jsx(xt,{path:t,component:m=>{if(n||l||d===null)return null;if(r||d)return o.jsx(e,{...m});const p=encodeURIComponent(window.location.pathname+window.location.search);return i(`/login?next=${p}`,{replace:!0}),null}})}function _u({path:t,component:e}){const{user:r,loading:n}=gr(),[i,l]=v.useState(null);return v.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await We.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=h?.role||"user";l(p==="lab"||p==="admin"||p==="multi-lab")}return n||d(),()=>{c=!1}},[n,r?.id]),o.jsx(xt,{path:t,component:c=>{if(n||i===null)return null;if(!r){const d=encodeURIComponent(window.location.pathname);return window.location.replace(`/login?next=${d}`),null}if(!i){const d=c?.params?.id;return window.location.replace(d?`/labs/${d}`:"/"),null}return o.jsx(e,{...c})}})}function fB({path:t,component:e}){const{user:r,loading:n}=gr(),[i,l]=v.useState(null);return v.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await We.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=typeof h?.role=="string"?h.role.toLowerCase().trim():"";l(p==="admin")}return n||d(),()=>{c=!1}},[n,r?.id]),o.jsx(xt,{path:t,component:c=>n||i===null?null:r?i?o.jsx(e,{...c}):(window.location.replace("/"),null):(window.location.replace(`/login?next=${encodeURIComponent(t)}`),null)})}function hB(){const{user:t,loading:e}=gr(),[r,n]=hs(),[i,l]=v.useState(!1),c=typeof window<"u"?window.location.search:"",d=v.useMemo(()=>{try{return new URLSearchParams(c).get("plan")?.toLowerCase()??null}catch{return null}},[c]),m=d&&["verified","premier","custom"].includes(d);return v.useEffect(()=>{if(!e){if(!m){n("/pricing");return}if(!t){const p=encodeURIComponent(`/stripe?plan=${d}`);n(`/login?next=${p}`);return}l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`}},[t,e,m,d,n]),e||!m?null:o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 py-20 max-w-3xl",children:o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6 text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Stripe checkout"})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Redirecting to Stripe"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:["Were opening Stripe for the ",d," plan. If nothing happens, use the button below."]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Ye.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.4,ease:"linear"},children:o.jsx(wm,{className:"h-10 w-10 text-primary"})})}),o.jsxs("button",{onClick:()=>{l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`},className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",disabled:i,children:[o.jsx(y2,{className:"mr-2 h-4 w-4"}),i?"Opening Stripe...":"Open Stripe Checkout"]}),o.jsxs("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-xs text-muted-foreground text-left space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-foreground font-semibold text-sm",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary"}),"What to expect"]}),o.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"We never see or store card numbersStripe handles everything."}),o.jsx("li",{children:"Youll receive a receipt immediately after payment."}),o.jsx("li",{children:"Your listing is activated within one business day."})]})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[o.jsx(Ne,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),o.jsx(Ne,{href:"/payments",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-foreground px-4 py-2 text-background transition hover:bg-foreground/90",children:"View payment options"})})]})]})})})}function mB(){return o.jsx("footer",{className:"bg-muted py-12",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid md:grid-cols-4 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-4",children:"Glass"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Connecting labs with collaborators through trusted, verified profiles."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ne,{href:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),o.jsx("li",{children:o.jsx(Ne,{href:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About Us"})}),o.jsx("li",{children:o.jsx(Ne,{href:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Ne,{href:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(Ne,{href:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4",children:"Follow Us"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"https://x.com/GlassFunding",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(zs,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(_p,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(Nj,{className:"h-5 w-5"})})]})]})]}),o.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm text-muted-foreground",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Glass. All rights reserved."]})})]})})}function pB(){const[t]=hs();return v.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function gB({children:t}){const[e]=hs(),[r,n]=v.useState(!1);return v.useEffect(()=>{n(!1);const i=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(i)},[e]),v.useEffect(()=>{const i=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(i)},[]),o.jsx("div",{className:`page-transition ${r?"page-transition--active":""}`,children:t})}function yB(){return o.jsxs(_E,{children:[o.jsx(xt,{path:"/labs",component:S$}),o.jsx(xt,{path:"/labs/:id",component:V$}),o.jsx(xt,{path:"/labs/:id/request",component:U$}),o.jsx(_u,{path:"/labs/:id/collaborate",component:$$}),o.jsx(fB,{path:"/admin/labs",component:K$}),o.jsx(xt,{path:"/lab-profile",component:Q$}),o.jsx(qa,{path:"/account",component:rB}),o.jsx(qa,{path:"/account/edit",component:tB}),o.jsx(qa,{path:"/requests",component:nB}),o.jsx(qa,{path:"/subscriptions",component:dB}),o.jsx(qa,{path:"/favorites",component:uB}),o.jsx(_u,{path:"/lab/manage",component:aB}),o.jsx(_u,{path:"/lab/manage/new",component:lB}),o.jsx(_u,{path:"/lab/manage/:id",component:sB}),o.jsx(xt,{path:"/payments",component:oB}),o.jsx(xt,{path:"/stripe",component:hB}),o.jsx(xt,{path:"/logout",component:iB}),o.jsx(xt,{path:"/login",component:x$}),o.jsx(xt,{path:"/signup",component:v$}),o.jsx(xt,{path:"/forgot-password",component:w$}),o.jsx(xt,{path:"/forgot-password/confirmation",component:j$}),o.jsx(xt,{path:"/",component:RV}),o.jsx(xt,{path:"/about",component:GU}),o.jsx(xt,{path:"/pricing",component:G$}),o.jsx(xt,{path:"/contact",component:g$}),o.jsx(xt,{path:"/one-pagers",component:T$}),o.jsx(xt,{path:"/roadmap",component:R$}),o.jsx(xt,{path:"/status",component:L$}),o.jsx(xt,{path:"/500",component:D$}),o.jsx(xt,{path:"/maintenance",component:M$}),o.jsx(xt,{path:"/terms",component:_$}),o.jsx(xt,{path:"/privacy",component:k$}),o.jsx(xt,{path:"/Waitlist",component:C$}),o.jsx(xt,{component:y$})]})}function xB(){return o.jsx(tT,{client:sT,children:o.jsx(mD,{children:o.jsxs(N$,{children:[o.jsx(pD,{}),o.jsx(pB,{}),o.jsx(gB,{children:o.jsx(yB,{})}),o.jsx(mB,{}),o.jsx(fP,{})]})})})}const vB=document.getElementById("root");nE.createRoot(vB).render(o.jsx(xB,{}));window.requestAnimationFrame(()=>{document.body.classList.add("is-page-loaded")});
