function _0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k0(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var xh={exports:{}},Fa={},yh={exports:{}},it={};var gv;function ZC(){if(gv)return it;gv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function w(R,ee,Ie){this.props=R,this.context=ee,this.refs=j,this.updater=Ie||N}w.prototype.isReactComponent={},w.prototype.setState=function(R,ee){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ee,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=w.prototype;function k(R,ee,Ie){this.props=R,this.context=ee,this.refs=j,this.updater=Ie||N}var E=k.prototype=new C;E.constructor=k,_(E,w.prototype),E.isPureReactComponent=!0;var A=Array.isArray,L=Object.prototype.hasOwnProperty,V={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function Z(R,ee,Ie){var Ve,He={},$=null,ye=null;if(ee!=null)for(Ve in ee.ref!==void 0&&(ye=ee.ref),ee.key!==void 0&&($=""+ee.key),ee)L.call(ee,Ve)&&!H.hasOwnProperty(Ve)&&(He[Ve]=ee[Ve]);var ve=arguments.length-2;if(ve===1)He.children=Ie;else if(1<ve){for(var $e=Array(ve),et=0;et<ve;et++)$e[et]=arguments[et+2];He.children=$e}if(R&&R.defaultProps)for(Ve in ve=R.defaultProps,ve)He[Ve]===void 0&&(He[Ve]=ve[Ve]);return{$$typeof:t,type:R,key:$,ref:ye,props:He,_owner:V.current}}function O(R,ee){return{$$typeof:t,type:R.type,key:ee,ref:R.ref,props:R.props,_owner:R._owner}}function Q(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function re(R){var ee={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Ie){return ee[Ie]})}var D=/\/+/g;function G(R,ee){return typeof R=="object"&&R!==null&&R.key!=null?re(""+R.key):ee.toString(36)}function te(R,ee,Ie,Ve,He){var $=typeof R;($==="undefined"||$==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch($){case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case t:case e:ye=!0}}if(ye)return ye=R,He=He(ye),R=Ve===""?"."+G(ye,0):Ve,A(He)?(Ie="",R!=null&&(Ie=R.replace(D,"$&/")+"/"),te(He,ee,Ie,"",function(et){return et})):He!=null&&(Q(He)&&(He=O(He,Ie+(!He.key||ye&&ye.key===He.key?"":(""+He.key).replace(D,"$&/")+"/")+R)),ee.push(He)),1;if(ye=0,Ve=Ve===""?".":Ve+":",A(R))for(var ve=0;ve<R.length;ve++){$=R[ve];var $e=Ve+G($,ve);ye+=te($,ee,Ie,$e,He)}else if($e=b(R),typeof $e=="function")for(R=$e.call(R),ve=0;!($=R.next()).done;)$=$.value,$e=Ve+G($,ve++),ye+=te($,ee,Ie,$e,He);else if($==="object")throw ee=String(R),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ye}function ke(R,ee,Ie){if(R==null)return R;var Ve=[],He=0;return te(R,Ve,"","",function($){return ee.call(Ie,$,He++)}),Ve}function Ce(R){if(R._status===-1){var ee=R._result;ee=ee(),ee.then(function(Ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=Ie)},function(Ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=Ie)}),R._status===-1&&(R._status=0,R._result=ee)}if(R._status===1)return R._result.default;throw R._result}var ne={current:null},X={transition:null},me={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:X,ReactCurrentOwner:V};function ce(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:ke,forEach:function(R,ee,Ie){ke(R,function(){ee.apply(this,arguments)},Ie)},count:function(R){var ee=0;return ke(R,function(){ee++}),ee},toArray:function(R){return ke(R,function(ee){return ee})||[]},only:function(R){if(!Q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},it.Component=w,it.Fragment=r,it.Profiler=o,it.PureComponent=k,it.StrictMode=n,it.Suspense=h,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,it.act=ce,it.cloneElement=function(R,ee,Ie){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Ve=_({},R.props),He=R.key,$=R.ref,ye=R._owner;if(ee!=null){if(ee.ref!==void 0&&($=ee.ref,ye=V.current),ee.key!==void 0&&(He=""+ee.key),R.type&&R.type.defaultProps)var ve=R.type.defaultProps;for($e in ee)L.call(ee,$e)&&!H.hasOwnProperty($e)&&(Ve[$e]=ee[$e]===void 0&&ve!==void 0?ve[$e]:ee[$e])}var $e=arguments.length-2;if($e===1)Ve.children=Ie;else if(1<$e){ve=Array($e);for(var et=0;et<$e;et++)ve[et]=arguments[et+2];Ve.children=ve}return{$$typeof:t,type:R.type,key:He,ref:$,props:Ve,_owner:ye}},it.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},it.createElement=Z,it.createFactory=function(R){var ee=Z.bind(null,R);return ee.type=R,ee},it.createRef=function(){return{current:null}},it.forwardRef=function(R){return{$$typeof:d,render:R}},it.isValidElement=Q,it.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:Ce}},it.memo=function(R,ee){return{$$typeof:m,type:R,compare:ee===void 0?null:ee}},it.startTransition=function(R){var ee=X.transition;X.transition={};try{R()}finally{X.transition=ee}},it.unstable_act=ce,it.useCallback=function(R,ee){return ne.current.useCallback(R,ee)},it.useContext=function(R){return ne.current.useContext(R)},it.useDebugValue=function(){},it.useDeferredValue=function(R){return ne.current.useDeferredValue(R)},it.useEffect=function(R,ee){return ne.current.useEffect(R,ee)},it.useId=function(){return ne.current.useId()},it.useImperativeHandle=function(R,ee,Ie){return ne.current.useImperativeHandle(R,ee,Ie)},it.useInsertionEffect=function(R,ee){return ne.current.useInsertionEffect(R,ee)},it.useLayoutEffect=function(R,ee){return ne.current.useLayoutEffect(R,ee)},it.useMemo=function(R,ee){return ne.current.useMemo(R,ee)},it.useReducer=function(R,ee,Ie){return ne.current.useReducer(R,ee,Ie)},it.useRef=function(R){return ne.current.useRef(R)},it.useState=function(R){return ne.current.useState(R)},it.useSyncExternalStore=function(R,ee,Ie){return ne.current.useSyncExternalStore(R,ee,Ie)},it.useTransition=function(){return ne.current.useTransition()},it.version="18.3.1",it}var xv;function cd(){return xv||(xv=1,yh.exports=ZC()),yh.exports}var yv;function YC(){if(yv)return Fa;yv=1;var t=cd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var p,x={},b=null,N=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(N=h.ref);for(p in h)n.call(h,p)&&!l.hasOwnProperty(p)&&(x[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)x[p]===void 0&&(x[p]=h[p]);return{$$typeof:e,type:d,key:b,ref:N,props:x,_owner:o.current}}return Fa.Fragment=r,Fa.jsx=c,Fa.jsxs=c,Fa}var vv;function XC(){return vv||(vv=1,xh.exports=YC()),xh.exports}var i=XC(),ru={},vh={exports:{}},Mr={},bh={exports:{}},wh={};var bv;function eE(){return bv||(bv=1,(function(t){function e(X,me){var ce=X.length;X.push(me);e:for(;0<ce;){var R=ce-1>>>1,ee=X[R];if(0<o(ee,me))X[R]=me,X[ce]=ee,ce=R;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var me=X[0],ce=X.pop();if(ce!==me){X[0]=ce;e:for(var R=0,ee=X.length,Ie=ee>>>1;R<Ie;){var Ve=2*(R+1)-1,He=X[Ve],$=Ve+1,ye=X[$];if(0>o(He,ce))$<ee&&0>o(ye,He)?(X[R]=ye,X[$]=ce,R=$):(X[R]=He,X[Ve]=ce,R=Ve);else if($<ee&&0>o(ye,ce))X[R]=ye,X[$]=ce,R=$;else break e}}return me}function o(X,me){var ce=X.sortIndex-me.sortIndex;return ce!==0?ce:X.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,x=null,b=3,N=!1,_=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(X){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=X)n(m),me.sortIndex=me.expirationTime,e(h,me);else break;me=r(m)}}function A(X){if(j=!1,E(X),!_)if(r(h)!==null)_=!0,Ce(L);else{var me=r(m);me!==null&&ne(A,me.startTime-X)}}function L(X,me){_=!1,j&&(j=!1,C(Z),Z=-1),N=!0;var ce=b;try{for(E(me),x=r(h);x!==null&&(!(x.expirationTime>me)||X&&!re());){var R=x.callback;if(typeof R=="function"){x.callback=null,b=x.priorityLevel;var ee=R(x.expirationTime<=me);me=t.unstable_now(),typeof ee=="function"?x.callback=ee:x===r(h)&&n(h),E(me)}else n(h);x=r(h)}if(x!==null)var Ie=!0;else{var Ve=r(m);Ve!==null&&ne(A,Ve.startTime-me),Ie=!1}return Ie}finally{x=null,b=ce,N=!1}}var V=!1,H=null,Z=-1,O=5,Q=-1;function re(){return!(t.unstable_now()-Q<O)}function D(){if(H!==null){var X=t.unstable_now();Q=X;var me=!0;try{me=H(!0,X)}finally{me?G():(V=!1,H=null)}}else V=!1}var G;if(typeof k=="function")G=function(){k(D)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ke=te.port2;te.port1.onmessage=D,G=function(){ke.postMessage(null)}}else G=function(){w(D,0)};function Ce(X){H=X,V||(V=!0,G())}function ne(X,me){Z=w(function(){X(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){_||N||(_=!0,Ce(L))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(X){switch(b){case 1:case 2:case 3:var me=3;break;default:me=b}var ce=b;b=me;try{return X()}finally{b=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,me){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=b;b=X;try{return me()}finally{b=ce}},t.unstable_scheduleCallback=function(X,me,ce){var R=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?R+ce:R):ce=R,X){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ce+ee,X={id:p++,callback:me,priorityLevel:X,startTime:ce,expirationTime:ee,sortIndex:-1},ce>R?(X.sortIndex=ce,e(m,X),r(h)===null&&X===r(m)&&(j?(C(Z),Z=-1):j=!0,ne(A,ce-R))):(X.sortIndex=ee,e(h,X),_||N||(_=!0,Ce(L))),X},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(X){var me=b;return function(){var ce=b;b=me;try{return X.apply(this,arguments)}finally{b=ce}}}})(wh)),wh}var wv;function tE(){return wv||(wv=1,bh.exports=eE()),bh.exports}var jv;function rE(){if(jv)return Mr;jv=1;var t=cd(),e=tE();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function b(s){return h.call(x,s)?!0:h.call(p,s)?!1:m.test(s)?x[s]=!0:(p[s]=!0,!1)}function N(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,a,u,f){if(a===null||typeof a>"u"||N(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(s,a,u,f,g,y,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=S}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new j(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,a,u,f){var g=w.hasOwnProperty(a)?w[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,u,g,f)&&(u=null),f||g===null?b(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),re=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),X=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,R;function ee(s){if(R===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);R=a&&a[1]||""}return`
`+R+s}var Ie=!1;function Ve(s,a){if(!s||Ie)return"";Ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var f=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){f=W}s.call(a.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),y=f.stack.split(`
`),S=g.length-1,T=y.length-1;1<=S&&0<=T&&g[S]!==y[T];)T--;for(;1<=S&&0<=T;S--,T--)if(g[S]!==y[T]){if(S!==1||T!==1)do if(S--,T--,0>T||g[S]!==y[T]){var I=`
`+g[S].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=S&&0<=T);break}}}finally{Ie=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function He(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Ve(s.type,!1),s;case 11:return s=Ve(s.type.render,!1),s;case 1:return s=Ve(s.type,!0),s;default:return""}}function $(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case H:return"Fragment";case V:return"Portal";case O:return"Profiler";case Z:return"StrictMode";case G:return"Suspense";case te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case D:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return a=s.displayName||null,a!==null?a:$(s.type)||"Memo";case Ce:a=s._payload,s=s._init;try{return $(s(a))}catch{}}return null}function ye(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $e(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function et(s){var a=$e(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function sr(s){s._valueTracker||(s._valueTracker=et(s))}function B(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=$e(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Se(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function z(s,a){var u=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function _e(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=ve(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function xe(s,a){a=a.checked,a!=null&&E(s,"checked",a,!1)}function ge(s,a){xe(s,a);var u=ve(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ot(s,a.type,u):a.hasOwnProperty("defaultValue")&&ot(s,a.type,ve(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function lt(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ot(s,a,u){(a!=="number"||Se(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var P=Array.isArray;function F(s,a,u,f){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+ve(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function K(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function de(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(P(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ve(u)}}function fe(s,a){var u=ve(a.value),f=ve(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function ue(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function be(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?be(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var at,Ut=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=at.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function _r(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(s){Y.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Xt[a]=Xt[s]})});function pe(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Xt.hasOwnProperty(s)&&Xt[s]?(""+a).trim():a+"px"}function Ht(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=pe(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var ir=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lt(s,a){if(a){if(ir[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function kr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function ri(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ra=null,Gn=null,Qn=null;function Wl(s){if(s=Na(s)){if(typeof ra!="function")throw Error(r(280));var a=s.stateNode;a&&(a=xc(a),ra(s.stateNode,s.type,a))}}function Kl(s){Gn?Qn?Qn.push(s):Qn=[s]:Gn=s}function Hl(){if(Gn){var s=Gn,a=Qn;if(Qn=Gn=null,Wl(s),a)for(s=0;s<a.length;s++)Wl(a[s])}}function Gl(s,a){return s(a)}function ni(){}var ms=!1;function Ql(s,a,u){if(ms)return s(a,u);ms=!0;try{return Gl(s,a,u)}finally{ms=!1,(Gn!==null||Qn!==null)&&(ni(),Hl())}}function ps(s,a){var u=s.stateNode;if(u===null)return null;var f=xc(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var na=!1;if(d)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){na=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{na=!1}function Fi(s,a,u,f,g,y,S,T,I){var W=Array.prototype.slice.call(arguments,3);try{a.apply(u,W)}catch(oe){this.onError(oe)}}var xs=!1,ys=null,Vi=!1,sa=null,Ld={onError:function(s){xs=!0,ys=s}};function J(s,a,u,f,g,y,S,T,I){xs=!1,ys=null,Fi.apply(Ld,arguments)}function Pe(s,a,u,f,g,y,S,T,I){if(J.apply(this,arguments),xs){if(xs){var W=ys;xs=!1,ys=null}else throw Error(r(198));Vi||(Vi=!0,sa=W)}}function ut(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function mt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function vt(s){if(ut(s)!==s)throw Error(r(188))}function or(s){var a=s.alternate;if(!a){if(a=ut(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return vt(g),s;if(y===f)return vt(g),a;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=g,f=y;else{for(var S=!1,T=g.child;T;){if(T===u){S=!0,u=g,f=y;break}if(T===f){S=!0,f=g,u=y;break}T=T.sibling}if(!S){for(T=y.child;T;){if(T===u){S=!0,u=y,f=g;break}if(T===f){S=!0,f=y,u=g;break}T=T.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function tn(s){return s=or(s),s!==null?Ur(s):null}function Ur(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ur(s);if(a!==null)return a;s=s.sibling}return null}var Jl=e.unstable_scheduleCallback,Ui=e.unstable_cancelCallback,lk=e.unstable_shouldYield,ck=e.unstable_requestPaint,$t=e.unstable_now,uk=e.unstable_getCurrentPriorityLevel,Dd=e.unstable_ImmediatePriority,Wg=e.unstable_UserBlockingPriority,Zl=e.unstable_NormalPriority,dk=e.unstable_LowPriority,Kg=e.unstable_IdlePriority,Yl=null,In=null;function fk(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Yl,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:pk,hk=Math.log,mk=Math.LN2;function pk(s){return s>>>=0,s===0?32:31-(hk(s)/mk|0)|0}var Xl=64,ec=4194304;function ia(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function tc(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,y=s.pingedLanes,S=u&268435455;if(S!==0){var T=S&~g;T!==0?f=ia(T):(y&=S,y!==0&&(f=ia(y)))}else S=u&~g,S!==0?f=ia(S):y!==0&&(f=ia(y));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-hn(a),g=1<<u,f|=s[u],a&=~g;return f}function gk(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xk(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-hn(y),T=1<<S,I=g[S];I===-1?((T&u)===0||(T&f)!==0)&&(g[S]=gk(T,a)):I<=a&&(s.expiredLanes|=T),y&=~T}}function Md(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hg(){var s=Xl;return Xl<<=1,(Xl&4194240)===0&&(Xl=64),s}function Fd(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function oa(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-hn(a),s[a]=u}function yk(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-hn(u),y=1<<g;a[g]=0,f[g]=-1,s[g]=-1,u&=~y}}function Vd(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-hn(u),g=1<<f;g&a|s[f]&a&&(s[f]|=a),u&=~g}}var gt=0;function Gg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qg,Ud,Jg,Zg,Yg,$d=!1,rc=[],vs=null,bs=null,ws=null,aa=new Map,la=new Map,js=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(s,a){switch(s){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":aa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(a.pointerId)}}function ca(s,a,u,f,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Na(a),a!==null&&Ud(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function bk(s,a,u,f,g){switch(a){case"focusin":return vs=ca(vs,s,a,u,f,g),!0;case"dragenter":return bs=ca(bs,s,a,u,f,g),!0;case"mouseover":return ws=ca(ws,s,a,u,f,g),!0;case"pointerover":var y=g.pointerId;return aa.set(y,ca(aa.get(y)||null,s,a,u,f,g)),!0;case"gotpointercapture":return y=g.pointerId,la.set(y,ca(la.get(y)||null,s,a,u,f,g)),!0}return!1}function ex(s){var a=si(s.target);if(a!==null){var u=ut(a);if(u!==null){if(a=u.tag,a===13){if(a=mt(u),a!==null){s.blockedOn=a,Yg(s.priority,function(){Jg(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function nc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=qd(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);en=f,u.target.dispatchEvent(f),en=null}else return a=Na(u),a!==null&&Ud(a),s.blockedOn=u,!1;a.shift()}return!0}function tx(s,a,u){nc(s)&&u.delete(a)}function wk(){$d=!1,vs!==null&&nc(vs)&&(vs=null),bs!==null&&nc(bs)&&(bs=null),ws!==null&&nc(ws)&&(ws=null),aa.forEach(tx),la.forEach(tx)}function ua(s,a){s.blockedOn===a&&(s.blockedOn=null,$d||($d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wk)))}function da(s){function a(g){return ua(g,s)}if(0<rc.length){ua(rc[0],s);for(var u=1;u<rc.length;u++){var f=rc[u];f.blockedOn===s&&(f.blockedOn=null)}}for(vs!==null&&ua(vs,s),bs!==null&&ua(bs,s),ws!==null&&ua(ws,s),aa.forEach(a),la.forEach(a),u=0;u<js.length;u++)f=js[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<js.length&&(u=js[0],u.blockedOn===null);)ex(u),u.blockedOn===null&&js.shift()}var $i=A.ReactCurrentBatchConfig,sc=!0;function jk(s,a,u,f){var g=gt,y=$i.transition;$i.transition=null;try{gt=1,Bd(s,a,u,f)}finally{gt=g,$i.transition=y}}function Nk(s,a,u,f){var g=gt,y=$i.transition;$i.transition=null;try{gt=4,Bd(s,a,u,f)}finally{gt=g,$i.transition=y}}function Bd(s,a,u,f){if(sc){var g=qd(s,a,u,f);if(g===null)af(s,a,f,ic,u),Xg(s,f);else if(bk(g,s,a,u,f))f.stopPropagation();else if(Xg(s,f),a&4&&-1<vk.indexOf(s)){for(;g!==null;){var y=Na(g);if(y!==null&&Qg(y),y=qd(s,a,u,f),y===null&&af(s,a,f,ic,u),y===g)break;g=y}g!==null&&f.stopPropagation()}else af(s,a,f,null,u)}}var ic=null;function qd(s,a,u,f){if(ic=null,s=ri(f),s=si(s),s!==null)if(a=ut(s),a===null)s=null;else if(u=a.tag,u===13){if(s=mt(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ic=s,null}function rx(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case Dd:return 1;case Wg:return 4;case Zl:case dk:return 16;case Kg:return 536870912;default:return 16}default:return 16}}var Ns=null,zd=null,oc=null;function nx(){if(oc)return oc;var s,a=zd,u=a.length,f,g="value"in Ns?Ns.value:Ns.textContent,y=g.length;for(s=0;s<u&&a[s]===g[s];s++);var S=u-s;for(f=1;f<=S&&a[u-f]===g[y-f];f++);return oc=g.slice(s,1<f?1-f:void 0)}function ac(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function lc(){return!0}function sx(){return!1}function $r(s){function a(u,f,g,y,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(u=s[T],this[T]=u?u(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lc:sx,this.isPropagationStopped=sx,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),a}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=$r(Bi),fa=ce({},Bi,{view:0,detail:0}),Sk=$r(fa),Kd,Hd,ha,cc=ce({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ha&&(ha&&s.type==="mousemove"?(Kd=s.screenX-ha.screenX,Hd=s.screenY-ha.screenY):Hd=Kd=0,ha=s),Kd)},movementY:function(s){return"movementY"in s?s.movementY:Hd}}),ix=$r(cc),_k=ce({},cc,{dataTransfer:0}),kk=$r(_k),Ck=ce({},fa,{relatedTarget:0}),Gd=$r(Ck),Ek=ce({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tk=$r(Ek),Pk=ce({},Bi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ak=$r(Pk),Rk=ce({},Bi,{data:0}),ox=$r(Rk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Lk[s])?!!a[s]:!1}function Qd(){return Dk}var Mk=ce({},fa,{key:function(s){if(s.key){var a=Ok[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ac(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ik[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(s){return s.type==="keypress"?ac(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ac(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fk=$r(Mk),Vk=ce({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=$r(Vk),Uk=ce({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),$k=$r(Uk),Bk=ce({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=$r(Bk),zk=ce({},cc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Wk=$r(zk),Kk=[9,13,27,32],Jd=d&&"CompositionEvent"in window,ma=null;d&&"documentMode"in document&&(ma=document.documentMode);var Hk=d&&"TextEvent"in window&&!ma,lx=d&&(!Jd||ma&&8<ma&&11>=ma),cx=" ",ux=!1;function dx(s,a){switch(s){case"keyup":return Kk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qi=!1;function Gk(s,a){switch(s){case"compositionend":return fx(a);case"keypress":return a.which!==32?null:(ux=!0,cx);case"textInput":return s=a.data,s===cx&&ux?null:s;default:return null}}function Qk(s,a){if(qi)return s==="compositionend"||!Jd&&dx(s,a)?(s=nx(),oc=zd=Ns=null,qi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return lx&&a.locale!=="ko"?null:a.data;default:return null}}var Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Jk[s.type]:a==="textarea"}function mx(s,a,u,f){Kl(f),a=mc(a,"onChange"),0<a.length&&(u=new Wd("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var pa=null,ga=null;function Zk(s){Rx(s,0)}function uc(s){var a=Gi(s);if(B(a))return s}function Yk(s,a){if(s==="change")return a}var px=!1;if(d){var Zd;if(d){var Yd="oninput"in document;if(!Yd){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Yd=typeof gx.oninput=="function"}Zd=Yd}else Zd=!1;px=Zd&&(!document.documentMode||9<document.documentMode)}function xx(){pa&&(pa.detachEvent("onpropertychange",yx),ga=pa=null)}function yx(s){if(s.propertyName==="value"&&uc(ga)){var a=[];mx(a,ga,s,ri(s)),Ql(Zk,a)}}function Xk(s,a,u){s==="focusin"?(xx(),pa=a,ga=u,pa.attachEvent("onpropertychange",yx)):s==="focusout"&&xx()}function eC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uc(ga)}function tC(s,a){if(s==="click")return uc(a)}function rC(s,a){if(s==="input"||s==="change")return uc(a)}function nC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mn=typeof Object.is=="function"?Object.is:nC;function xa(s,a){if(mn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(a,g)||!mn(s[g],a[g]))return!1}return!0}function vx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bx(s,a){var u=vx(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=vx(u)}}function wx(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?wx(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function jx(){for(var s=window,a=Se();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Se(s.document)}return a}function Xd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function sC(s){var a=jx(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&wx(u.ownerDocument.documentElement,u)){if(f!==null&&Xd(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!s.extend&&y>f&&(g=f,f=y,y=g),g=bx(u,y);var S=bx(u,f);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var iC=d&&"documentMode"in document&&11>=document.documentMode,zi=null,ef=null,ya=null,tf=!1;function Nx(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tf||zi==null||zi!==Se(f)||(f=zi,"selectionStart"in f&&Xd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ya&&xa(ya,f)||(ya=f,f=mc(ef,"onSelect"),0<f.length&&(a=new Wd("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=zi)))}function dc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Wi={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},rf={},Sx={};d&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function fc(s){if(rf[s])return rf[s];if(!Wi[s])return s;var a=Wi[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Sx)return rf[s]=a[u];return s}var _x=fc("animationend"),kx=fc("animationiteration"),Cx=fc("animationstart"),Ex=fc("transitionend"),Tx=new Map,Px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(s,a){Tx.set(s,a),l(a,[s])}for(var nf=0;nf<Px.length;nf++){var sf=Px[nf],oC=sf.toLowerCase(),aC=sf[0].toUpperCase()+sf.slice(1);Ss(oC,"on"+aC)}Ss(_x,"onAnimationEnd"),Ss(kx,"onAnimationIteration"),Ss(Cx,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(Ex,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Ax(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Pe(f,a,void 0,s),s.currentTarget=null}function Rx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var S=f.length-1;0<=S;S--){var T=f[S],I=T.instance,W=T.currentTarget;if(T=T.listener,I!==y&&g.isPropagationStopped())break e;Ax(g,T,W),y=I}else for(S=0;S<f.length;S++){if(T=f[S],I=T.instance,W=T.currentTarget,T=T.listener,I!==y&&g.isPropagationStopped())break e;Ax(g,T,W),y=I}}}if(Vi)throw s=sa,Vi=!1,sa=null,s}function Nt(s,a){var u=a[hf];u===void 0&&(u=a[hf]=new Set);var f=s+"__bubble";u.has(f)||(Ox(a,s,2,!1),u.add(f))}function of(s,a,u){var f=0;a&&(f|=4),Ox(u,s,f,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ba(s){if(!s[hc]){s[hc]=!0,n.forEach(function(u){u!=="selectionchange"&&(lC.has(u)||of(u,!1,s),of(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[hc]||(a[hc]=!0,of("selectionchange",!1,a))}}function Ox(s,a,u,f){switch(rx(a)){case 1:var g=jk;break;case 4:g=Nk;break;default:g=Bd}u=g.bind(null,a,u,s),g=void 0,!na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function af(s,a,u,f,g){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;S=S.return}for(;T!==null;){if(S=si(T),S===null)return;if(I=S.tag,I===5||I===6){f=y=S;continue e}T=T.parentNode}}f=f.return}Ql(function(){var W=y,oe=ri(u),ae=[];e:{var se=Tx.get(s);if(se!==void 0){var Ee=Wd,Re=s;switch(s){case"keypress":if(ac(u)===0)break e;case"keydown":case"keyup":Ee=Fk;break;case"focusin":Re="focus",Ee=Gd;break;case"focusout":Re="blur",Ee=Gd;break;case"beforeblur":case"afterblur":Ee=Gd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=$k;break;case _x:case kx:case Cx:Ee=Tk;break;case Ex:Ee=qk;break;case"scroll":Ee=Sk;break;case"wheel":Ee=Wk;break;case"copy":case"cut":case"paste":Ee=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=ax}var Oe=(a&4)!==0,Bt=!Oe&&s==="scroll",U=Oe?se!==null?se+"Capture":null:se;Oe=[];for(var M=W,q;M!==null;){q=M;var he=q.stateNode;if(q.tag===5&&he!==null&&(q=he,U!==null&&(he=ps(M,U),he!=null&&Oe.push(wa(M,he,q)))),Bt)break;M=M.return}0<Oe.length&&(se=new Ee(se,Re,null,u,oe),ae.push({event:se,listeners:Oe}))}}if((a&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",se&&u!==en&&(Re=u.relatedTarget||u.fromElement)&&(si(Re)||Re[Jn]))break e;if((Ee||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,Ee?(Re=u.relatedTarget||u.toElement,Ee=W,Re=Re?si(Re):null,Re!==null&&(Bt=ut(Re),Re!==Bt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ee=null,Re=W),Ee!==Re)){if(Oe=ix,he="onMouseLeave",U="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=ax,he="onPointerLeave",U="onPointerEnter",M="pointer"),Bt=Ee==null?se:Gi(Ee),q=Re==null?se:Gi(Re),se=new Oe(he,M+"leave",Ee,u,oe),se.target=Bt,se.relatedTarget=q,he=null,si(oe)===W&&(Oe=new Oe(U,M+"enter",Re,u,oe),Oe.target=q,Oe.relatedTarget=Bt,he=Oe),Bt=he,Ee&&Re)t:{for(Oe=Ee,U=Re,M=0,q=Oe;q;q=Ki(q))M++;for(q=0,he=U;he;he=Ki(he))q++;for(;0<M-q;)Oe=Ki(Oe),M--;for(;0<q-M;)U=Ki(U),q--;for(;M--;){if(Oe===U||U!==null&&Oe===U.alternate)break t;Oe=Ki(Oe),U=Ki(U)}Oe=null}else Oe=null;Ee!==null&&Ix(ae,se,Ee,Oe,!1),Re!==null&&Bt!==null&&Ix(ae,Bt,Re,Oe,!0)}}e:{if(se=W?Gi(W):window,Ee=se.nodeName&&se.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&se.type==="file")var De=Yk;else if(hx(se))if(px)De=rC;else{De=eC;var Be=Xk}else(Ee=se.nodeName)&&Ee.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(De=tC);if(De&&(De=De(s,W))){mx(ae,De,u,oe);break e}Be&&Be(s,se,W),s==="focusout"&&(Be=se._wrapperState)&&Be.controlled&&se.type==="number"&&ot(se,"number",se.value)}switch(Be=W?Gi(W):window,s){case"focusin":(hx(Be)||Be.contentEditable==="true")&&(zi=Be,ef=W,ya=null);break;case"focusout":ya=ef=zi=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Nx(ae,u,oe);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":Nx(ae,u,oe)}var qe;if(Jd)e:{switch(s){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else qi?dx(s,u)&&(Ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(lx&&u.locale!=="ko"&&(qi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&qi&&(qe=nx()):(Ns=oe,zd="value"in Ns?Ns.value:Ns.textContent,qi=!0)),Be=mc(W,Ze),0<Be.length&&(Ze=new ox(Ze,s,null,u,oe),ae.push({event:Ze,listeners:Be}),qe?Ze.data=qe:(qe=fx(u),qe!==null&&(Ze.data=qe)))),(qe=Hk?Gk(s,u):Qk(s,u))&&(W=mc(W,"onBeforeInput"),0<W.length&&(oe=new ox("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:W}),oe.data=qe))}Rx(ae,a)})}function wa(s,a,u){return{instance:s,listener:a,currentTarget:u}}function mc(s,a){for(var u=a+"Capture",f=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=ps(s,u),y!=null&&f.unshift(wa(s,y,g)),y=ps(s,a),y!=null&&f.push(wa(s,y,g))),s=s.return}return f}function Ki(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ix(s,a,u,f,g){for(var y=a._reactName,S=[];u!==null&&u!==f;){var T=u,I=T.alternate,W=T.stateNode;if(I!==null&&I===f)break;T.tag===5&&W!==null&&(T=W,g?(I=ps(u,y),I!=null&&S.unshift(wa(u,I,T))):g||(I=ps(u,y),I!=null&&S.push(wa(u,I,T)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var cC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function Lx(s){return(typeof s=="string"?s:""+s).replace(cC,`
`).replace(uC,"")}function pc(s,a,u){if(a=Lx(a),Lx(s)!==a&&u)throw Error(r(425))}function gc(){}var lf=null,cf=null;function uf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(s){return Dx.resolve(null).then(s).catch(hC)}:df;function hC(s){setTimeout(function(){throw s})}function ff(s,a){var u=a,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),da(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);da(a)}function _s(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Mx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Hi,ja="__reactProps$"+Hi,Jn="__reactContainer$"+Hi,hf="__reactEvents$"+Hi,mC="__reactListeners$"+Hi,pC="__reactHandles$"+Hi;function si(s){var a=s[Ln];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Jn]||u[Ln]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Mx(s);s!==null;){if(u=s[Ln])return u;s=Mx(s)}return a}s=u,u=s.parentNode}return null}function Na(s){return s=s[Ln]||s[Jn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Gi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function xc(s){return s[ja]||null}var mf=[],Qi=-1;function ks(s){return{current:s}}function St(s){0>Qi||(s.current=mf[Qi],mf[Qi]=null,Qi--)}function bt(s,a){Qi++,mf[Qi]=s.current,s.current=a}var Cs={},xr=ks(Cs),Rr=ks(!1),ii=Cs;function Ji(s,a){var u=s.type.contextTypes;if(!u)return Cs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=a[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Or(s){return s=s.childContextTypes,s!=null}function yc(){St(Rr),St(xr)}function Fx(s,a,u){if(xr.current!==Cs)throw Error(r(168));bt(xr,a),bt(Rr,u)}function Vx(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(r(108,ye(s)||"Unknown",g));return ce({},u,f)}function vc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,ii=xr.current,bt(xr,s),bt(Rr,Rr.current),!0}function Ux(s,a,u){var f=s.stateNode;if(!f)throw Error(r(169));u?(s=Vx(s,a,ii),f.__reactInternalMemoizedMergedChildContext=s,St(Rr),St(xr),bt(xr,s)):St(Rr),bt(Rr,u)}var Zn=null,bc=!1,pf=!1;function $x(s){Zn===null?Zn=[s]:Zn.push(s)}function gC(s){bc=!0,$x(s)}function Es(){if(!pf&&Zn!==null){pf=!0;var s=0,a=gt;try{var u=Zn;for(gt=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Zn=null,bc=!1}catch(g){throw Zn!==null&&(Zn=Zn.slice(s+1)),Jl(Dd,Es),g}finally{gt=a,pf=!1}}return null}var Zi=[],Yi=0,wc=null,jc=0,rn=[],nn=0,oi=null,Yn=1,Xn="";function ai(s,a){Zi[Yi++]=jc,Zi[Yi++]=wc,wc=s,jc=a}function Bx(s,a,u){rn[nn++]=Yn,rn[nn++]=Xn,rn[nn++]=oi,oi=s;var f=Yn;s=Xn;var g=32-hn(f)-1;f&=~(1<<g),u+=1;var y=32-hn(a)+g;if(30<y){var S=g-g%5;y=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Yn=1<<32-hn(a)+g|u<<g|f,Xn=y+s}else Yn=1<<y|u<<g|f,Xn=s}function gf(s){s.return!==null&&(ai(s,1),Bx(s,1,0))}function xf(s){for(;s===wc;)wc=Zi[--Yi],Zi[Yi]=null,jc=Zi[--Yi],Zi[Yi]=null;for(;s===oi;)oi=rn[--nn],rn[nn]=null,Xn=rn[--nn],rn[nn]=null,Yn=rn[--nn],rn[nn]=null}var Br=null,qr=null,Et=!1,pn=null;function qx(s,a){var u=ln(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function zx(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Br=s,qr=_s(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Br=s,qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=oi!==null?{id:Yn,overflow:Xn}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ln(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Br=s,qr=null,!0):!1;default:return!1}}function yf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vf(s){if(Et){var a=qr;if(a){var u=a;if(!zx(s,a)){if(yf(s))throw Error(r(418));a=_s(u.nextSibling);var f=Br;a&&zx(s,a)?qx(f,u):(s.flags=s.flags&-4097|2,Et=!1,Br=s)}}else{if(yf(s))throw Error(r(418));s.flags=s.flags&-4097|2,Et=!1,Br=s}}}function Wx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Br=s}function Nc(s){if(s!==Br)return!1;if(!Et)return Wx(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!uf(s.type,s.memoizedProps)),a&&(a=qr)){if(yf(s))throw Kx(),Error(r(418));for(;a;)qx(s,a),a=_s(a.nextSibling)}if(Wx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){qr=_s(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}qr=null}}else qr=Br?_s(s.stateNode.nextSibling):null;return!0}function Kx(){for(var s=qr;s;)s=_s(s.nextSibling)}function Xi(){qr=Br=null,Et=!1}function bf(s){pn===null?pn=[s]:pn.push(s)}var xC=A.ReactCurrentBatchConfig;function Sa(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var f=u.stateNode}if(!f)throw Error(r(147,s));var g=f,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(S){var T=g.refs;S===null?delete T[y]:T[y]=S},a._stringRef=y,a)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function Sc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Hx(s){var a=s._init;return a(s._payload)}function Gx(s){function a(U,M){if(s){var q=U.deletions;q===null?(U.deletions=[M],U.flags|=16):q.push(M)}}function u(U,M){if(!s)return null;for(;M!==null;)a(U,M),M=M.sibling;return null}function f(U,M){for(U=new Map;M!==null;)M.key!==null?U.set(M.key,M):U.set(M.index,M),M=M.sibling;return U}function g(U,M){return U=Ds(U,M),U.index=0,U.sibling=null,U}function y(U,M,q){return U.index=q,s?(q=U.alternate,q!==null?(q=q.index,q<M?(U.flags|=2,M):q):(U.flags|=2,M)):(U.flags|=1048576,M)}function S(U){return s&&U.alternate===null&&(U.flags|=2),U}function T(U,M,q,he){return M===null||M.tag!==6?(M=dh(q,U.mode,he),M.return=U,M):(M=g(M,q),M.return=U,M)}function I(U,M,q,he){var De=q.type;return De===H?oe(U,M,q.props.children,he,q.key):M!==null&&(M.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ce&&Hx(De)===M.type)?(he=g(M,q.props),he.ref=Sa(U,M,q),he.return=U,he):(he=Gc(q.type,q.key,q.props,null,U.mode,he),he.ref=Sa(U,M,q),he.return=U,he)}function W(U,M,q,he){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=fh(q,U.mode,he),M.return=U,M):(M=g(M,q.children||[]),M.return=U,M)}function oe(U,M,q,he,De){return M===null||M.tag!==7?(M=pi(q,U.mode,he,De),M.return=U,M):(M=g(M,q),M.return=U,M)}function ae(U,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=dh(""+M,U.mode,q),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return q=Gc(M.type,M.key,M.props,null,U.mode,q),q.ref=Sa(U,null,M),q.return=U,q;case V:return M=fh(M,U.mode,q),M.return=U,M;case Ce:var he=M._init;return ae(U,he(M._payload),q)}if(P(M)||me(M))return M=pi(M,U.mode,q,null),M.return=U,M;Sc(U,M)}return null}function se(U,M,q,he){var De=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return De!==null?null:T(U,M,""+q,he);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===De?I(U,M,q,he):null;case V:return q.key===De?W(U,M,q,he):null;case Ce:return De=q._init,se(U,M,De(q._payload),he)}if(P(q)||me(q))return De!==null?null:oe(U,M,q,he,null);Sc(U,q)}return null}function Ee(U,M,q,he,De){if(typeof he=="string"&&he!==""||typeof he=="number")return U=U.get(q)||null,T(M,U,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case L:return U=U.get(he.key===null?q:he.key)||null,I(M,U,he,De);case V:return U=U.get(he.key===null?q:he.key)||null,W(M,U,he,De);case Ce:var Be=he._init;return Ee(U,M,q,Be(he._payload),De)}if(P(he)||me(he))return U=U.get(q)||null,oe(M,U,he,De,null);Sc(M,he)}return null}function Re(U,M,q,he){for(var De=null,Be=null,qe=M,Ze=M=0,cr=null;qe!==null&&Ze<q.length;Ze++){qe.index>Ze?(cr=qe,qe=null):cr=qe.sibling;var ht=se(U,qe,q[Ze],he);if(ht===null){qe===null&&(qe=cr);break}s&&qe&&ht.alternate===null&&a(U,qe),M=y(ht,M,Ze),Be===null?De=ht:Be.sibling=ht,Be=ht,qe=cr}if(Ze===q.length)return u(U,qe),Et&&ai(U,Ze),De;if(qe===null){for(;Ze<q.length;Ze++)qe=ae(U,q[Ze],he),qe!==null&&(M=y(qe,M,Ze),Be===null?De=qe:Be.sibling=qe,Be=qe);return Et&&ai(U,Ze),De}for(qe=f(U,qe);Ze<q.length;Ze++)cr=Ee(qe,U,Ze,q[Ze],he),cr!==null&&(s&&cr.alternate!==null&&qe.delete(cr.key===null?Ze:cr.key),M=y(cr,M,Ze),Be===null?De=cr:Be.sibling=cr,Be=cr);return s&&qe.forEach(function(Ms){return a(U,Ms)}),Et&&ai(U,Ze),De}function Oe(U,M,q,he){var De=me(q);if(typeof De!="function")throw Error(r(150));if(q=De.call(q),q==null)throw Error(r(151));for(var Be=De=null,qe=M,Ze=M=0,cr=null,ht=q.next();qe!==null&&!ht.done;Ze++,ht=q.next()){qe.index>Ze?(cr=qe,qe=null):cr=qe.sibling;var Ms=se(U,qe,ht.value,he);if(Ms===null){qe===null&&(qe=cr);break}s&&qe&&Ms.alternate===null&&a(U,qe),M=y(Ms,M,Ze),Be===null?De=Ms:Be.sibling=Ms,Be=Ms,qe=cr}if(ht.done)return u(U,qe),Et&&ai(U,Ze),De;if(qe===null){for(;!ht.done;Ze++,ht=q.next())ht=ae(U,ht.value,he),ht!==null&&(M=y(ht,M,Ze),Be===null?De=ht:Be.sibling=ht,Be=ht);return Et&&ai(U,Ze),De}for(qe=f(U,qe);!ht.done;Ze++,ht=q.next())ht=Ee(qe,U,Ze,ht.value,he),ht!==null&&(s&&ht.alternate!==null&&qe.delete(ht.key===null?Ze:ht.key),M=y(ht,M,Ze),Be===null?De=ht:Be.sibling=ht,Be=ht);return s&&qe.forEach(function(JC){return a(U,JC)}),Et&&ai(U,Ze),De}function Bt(U,M,q,he){if(typeof q=="object"&&q!==null&&q.type===H&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var De=q.key,Be=M;Be!==null;){if(Be.key===De){if(De=q.type,De===H){if(Be.tag===7){u(U,Be.sibling),M=g(Be,q.props.children),M.return=U,U=M;break e}}else if(Be.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ce&&Hx(De)===Be.type){u(U,Be.sibling),M=g(Be,q.props),M.ref=Sa(U,Be,q),M.return=U,U=M;break e}u(U,Be);break}else a(U,Be);Be=Be.sibling}q.type===H?(M=pi(q.props.children,U.mode,he,q.key),M.return=U,U=M):(he=Gc(q.type,q.key,q.props,null,U.mode,he),he.ref=Sa(U,M,q),he.return=U,U=he)}return S(U);case V:e:{for(Be=q.key;M!==null;){if(M.key===Be)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){u(U,M.sibling),M=g(M,q.children||[]),M.return=U,U=M;break e}else{u(U,M);break}else a(U,M);M=M.sibling}M=fh(q,U.mode,he),M.return=U,U=M}return S(U);case Ce:return Be=q._init,Bt(U,M,Be(q._payload),he)}if(P(q))return Re(U,M,q,he);if(me(q))return Oe(U,M,q,he);Sc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(u(U,M.sibling),M=g(M,q),M.return=U,U=M):(u(U,M),M=dh(q,U.mode,he),M.return=U,U=M),S(U)):u(U,M)}return Bt}var eo=Gx(!0),Qx=Gx(!1),_c=ks(null),kc=null,to=null,wf=null;function jf(){wf=to=kc=null}function Nf(s){var a=_c.current;St(_c),s._currentValue=a}function Sf(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function ro(s,a){kc=s,wf=to=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ir=!0),s.firstContext=null)}function sn(s){var a=s._currentValue;if(wf!==s)if(s={context:s,memoizedValue:a,next:null},to===null){if(kc===null)throw Error(r(308));to=s,kc.dependencies={lanes:0,firstContext:s}}else to=to.next=s;return a}var li=null;function _f(s){li===null?li=[s]:li.push(s)}function Jx(s,a,u,f){var g=a.interleaved;return g===null?(u.next=u,_f(a)):(u.next=g.next,g.next=u),a.interleaved=u,es(s,f)}function es(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ts=!1;function kf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ts(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ps(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,es(s,u)}return g=f.interleaved,g===null?(a.next=a,_f(f)):(a.next=g.next,g.next=a),f.interleaved=a,es(s,u)}function Cc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Vd(s,u)}}function Yx(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?g=y=a:y=y.next=a}else g=y=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ec(s,a,u,f){var g=s.updateQueue;Ts=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var I=T,W=I.next;I.next=null,S===null?y=W:S.next=W,S=I;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==S&&(T===null?oe.firstBaseUpdate=W:T.next=W,oe.lastBaseUpdate=I))}if(y!==null){var ae=g.baseState;S=0,oe=W=I=null,T=y;do{var se=T.lane,Ee=T.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:Ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Re=s,Oe=T;switch(se=a,Ee=u,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ae=Re.call(Ee,ae,se);break e}ae=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,se=typeof Re=="function"?Re.call(Ee,ae,se):Re,se==null)break e;ae=ce({},ae,se);break e;case 2:Ts=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[T]:se.push(T))}else Ee={eventTime:Ee,lane:se,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(W=oe=Ee,I=ae):oe=oe.next=Ee,S|=se;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;se=T,T=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(I=ae),g.baseState=I,g.firstBaseUpdate=W,g.lastBaseUpdate=oe,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);di|=S,s.lanes=S,s.memoizedState=ae}}function Xx(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var _a={},Dn=ks(_a),ka=ks(_a),Ca=ks(_a);function ci(s){if(s===_a)throw Error(r(174));return s}function Cf(s,a){switch(bt(Ca,a),bt(ka,s),bt(Dn,_a),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Je(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Je(a,s)}St(Dn),bt(Dn,a)}function no(){St(Dn),St(ka),St(Ca)}function ey(s){ci(Ca.current);var a=ci(Dn.current),u=Je(a,s.type);a!==u&&(bt(ka,s),bt(Dn,u))}function Ef(s){ka.current===s&&(St(Dn),St(ka))}var Tt=ks(0);function Tc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tf=[];function Pf(){for(var s=0;s<Tf.length;s++)Tf[s]._workInProgressVersionPrimary=null;Tf.length=0}var Pc=A.ReactCurrentDispatcher,Af=A.ReactCurrentBatchConfig,ui=0,Pt=null,er=null,ar=null,Ac=!1,Ea=!1,Ta=0,yC=0;function yr(){throw Error(r(321))}function Rf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!mn(s[u],a[u]))return!1;return!0}function Of(s,a,u,f,g,y){if(ui=y,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Pc.current=s===null||s.memoizedState===null?jC:NC,s=u(f,g),Ea){y=0;do{if(Ea=!1,Ta=0,25<=y)throw Error(r(301));y+=1,ar=er=null,a.updateQueue=null,Pc.current=SC,s=u(f,g)}while(Ea)}if(Pc.current=Ic,a=er!==null&&er.next!==null,ui=0,ar=er=Pt=null,Ac=!1,a)throw Error(r(300));return s}function If(){var s=Ta!==0;return Ta=0,s}function Mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Pt.memoizedState=ar=s:ar=ar.next=s,ar}function on(){if(er===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=er.next;var a=ar===null?Pt.memoizedState:ar.next;if(a!==null)ar=a,er=s;else{if(s===null)throw Error(r(310));er=s,s={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ar===null?Pt.memoizedState=ar=s:ar=ar.next=s}return ar}function Pa(s,a){return typeof a=="function"?a(s):a}function Lf(s){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=er,g=f.baseQueue,y=u.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}f.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,f=f.baseState;var T=S=null,I=null,W=y;do{var oe=W.lane;if((ui&oe)===oe)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var ae={lane:oe,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(T=I=ae,S=f):I=I.next=ae,Pt.lanes|=oe,di|=oe}W=W.next}while(W!==null&&W!==y);I===null?S=f:I.next=T,mn(f,a.memoizedState)||(Ir=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=I,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do y=g.lane,Pt.lanes|=y,di|=y,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Df(s){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,y=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do y=s(y,S.action),S=S.next;while(S!==g);mn(y,a.memoizedState)||(Ir=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,f]}function ty(){}function ry(s,a){var u=Pt,f=on(),g=a(),y=!mn(f.memoizedState,g);if(y&&(f.memoizedState=g,Ir=!0),f=f.queue,Mf(iy.bind(null,u,f,s),[s]),f.getSnapshot!==a||y||ar!==null&&ar.memoizedState.tag&1){if(u.flags|=2048,Aa(9,sy.bind(null,u,f,g,a),void 0,null),lr===null)throw Error(r(349));(ui&30)!==0||ny(u,a,g)}return g}function ny(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function sy(s,a,u,f){a.value=u,a.getSnapshot=f,oy(a)&&ay(s)}function iy(s,a,u){return u(function(){oy(a)&&ay(s)})}function oy(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!mn(s,u)}catch{return!0}}function ay(s){var a=es(s,1);a!==null&&vn(a,s,1,-1)}function ly(s){var a=Mn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:s},a.queue=s,s=s.dispatch=wC.bind(null,Pt,s),[a.memoizedState,s]}function Aa(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function cy(){return on().memoizedState}function Rc(s,a,u,f){var g=Mn();Pt.flags|=s,g.memoizedState=Aa(1|a,u,void 0,f===void 0?null:f)}function Oc(s,a,u,f){var g=on();f=f===void 0?null:f;var y=void 0;if(er!==null){var S=er.memoizedState;if(y=S.destroy,f!==null&&Rf(f,S.deps)){g.memoizedState=Aa(a,u,y,f);return}}Pt.flags|=s,g.memoizedState=Aa(1|a,u,y,f)}function uy(s,a){return Rc(8390656,8,s,a)}function Mf(s,a){return Oc(2048,8,s,a)}function dy(s,a){return Oc(4,2,s,a)}function fy(s,a){return Oc(4,4,s,a)}function hy(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function my(s,a,u){return u=u!=null?u.concat([s]):null,Oc(4,4,hy.bind(null,a,s),u)}function Ff(){}function py(s,a){var u=on();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Rf(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function gy(s,a){var u=on();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Rf(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function xy(s,a,u){return(ui&21)===0?(s.baseState&&(s.baseState=!1,Ir=!0),s.memoizedState=u):(mn(u,a)||(u=Hg(),Pt.lanes|=u,di|=u,s.baseState=!0),a)}function vC(s,a){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var f=Af.transition;Af.transition={};try{s(!1),a()}finally{gt=u,Af.transition=f}}function yy(){return on().memoizedState}function bC(s,a,u){var f=Is(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},vy(s))by(a,u);else if(u=Jx(s,a,u,f),u!==null){var g=Er();vn(u,s,f,g),wy(u,a,f)}}function wC(s,a,u){var f=Is(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(vy(s))by(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,T=y(S,u);if(g.hasEagerState=!0,g.eagerState=T,mn(T,S)){var I=a.interleaved;I===null?(g.next=g,_f(a)):(g.next=I.next,I.next=g),a.interleaved=g;return}}catch{}finally{}u=Jx(s,a,g,f),u!==null&&(g=Er(),vn(u,s,f,g),wy(u,a,f))}}function vy(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function by(s,a){Ea=Ac=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function wy(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Vd(s,u)}}var Ic={readContext:sn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},jC={readContext:sn,useCallback:function(s,a){return Mn().memoizedState=[s,a===void 0?null:a],s},useContext:sn,useEffect:uy,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Rc(4194308,4,hy.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Rc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Rc(4,2,s,a)},useMemo:function(s,a){var u=Mn();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Mn();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=bC.bind(null,Pt,s),[f.memoizedState,s]},useRef:function(s){var a=Mn();return s={current:s},a.memoizedState=s},useState:ly,useDebugValue:Ff,useDeferredValue:function(s){return Mn().memoizedState=s},useTransition:function(){var s=ly(!1),a=s[0];return s=vC.bind(null,s[1]),Mn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=Pt,g=Mn();if(Et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),lr===null)throw Error(r(349));(ui&30)!==0||ny(f,a,u)}g.memoizedState=u;var y={value:u,getSnapshot:a};return g.queue=y,uy(iy.bind(null,f,y,s),[s]),f.flags|=2048,Aa(9,sy.bind(null,f,y,u,a),void 0,null),u},useId:function(){var s=Mn(),a=lr.identifierPrefix;if(Et){var u=Xn,f=Yn;u=(f&~(1<<32-hn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ta++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=yC++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},NC={readContext:sn,useCallback:py,useContext:sn,useEffect:Mf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Lf,useRef:cy,useState:function(){return Lf(Pa)},useDebugValue:Ff,useDeferredValue:function(s){var a=on();return xy(a,er.memoizedState,s)},useTransition:function(){var s=Lf(Pa)[0],a=on().memoizedState;return[s,a]},useMutableSource:ty,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1},SC={readContext:sn,useCallback:py,useContext:sn,useEffect:Mf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Df,useRef:cy,useState:function(){return Df(Pa)},useDebugValue:Ff,useDeferredValue:function(s){var a=on();return er===null?a.memoizedState=s:xy(a,er.memoizedState,s)},useTransition:function(){var s=Df(Pa)[0],a=on().memoizedState;return[s,a]},useMutableSource:ty,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1};function gn(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Vf(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:ce({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Lc={isMounted:function(s){return(s=s._reactInternals)?ut(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Er(),g=Is(s),y=ts(f,g);y.payload=a,u!=null&&(y.callback=u),a=Ps(s,y,g),a!==null&&(vn(a,s,g,f),Cc(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Er(),g=Is(s),y=ts(f,g);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Ps(s,y,g),a!==null&&(vn(a,s,g,f),Cc(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Er(),f=Is(s),g=ts(u,f);g.tag=2,a!=null&&(g.callback=a),a=Ps(s,g,f),a!==null&&(vn(a,s,f,u),Cc(a,s,f))}};function jy(s,a,u,f,g,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,S):a.prototype&&a.prototype.isPureReactComponent?!xa(u,f)||!xa(g,y):!0}function Ny(s,a,u){var f=!1,g=Cs,y=a.contextType;return typeof y=="object"&&y!==null?y=sn(y):(g=Or(a)?ii:xr.current,f=a.contextTypes,y=(f=f!=null)?Ji(s,g):Cs),a=new a(u,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lc,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function Sy(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Lc.enqueueReplaceState(a,a.state,null)}function Uf(s,a,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},kf(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=sn(y):(y=Or(a)?ii:xr.current,g.context=Ji(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Vf(s,a,y,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Lc.enqueueReplaceState(g,g.state,null),Ec(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function so(s,a){try{var u="",f=a;do u+=He(f),f=f.return;while(f);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function $f(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Bf(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var _C=typeof WeakMap=="function"?WeakMap:Map;function _y(s,a,u){u=ts(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Bc||(Bc=!0,nh=f),Bf(s,a)},u}function ky(s,a,u){u=ts(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){Bf(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Bf(s,a),typeof f!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function Cy(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new _C;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),s=VC.bind(null,s,a,u),a.then(s,s))}function Ey(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ty(s,a,u,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=ts(-1,1),a.tag=2,Ps(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var kC=A.ReactCurrentOwner,Ir=!1;function Cr(s,a,u,f){a.child=s===null?Qx(a,null,u,f):eo(a,s.child,u,f)}function Py(s,a,u,f,g){u=u.render;var y=a.ref;return ro(a,g),f=Of(s,a,u,f,y,g),u=If(),s!==null&&!Ir?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,rs(s,a,g)):(Et&&u&&gf(a),a.flags|=1,Cr(s,a,f,g),a.child)}function Ay(s,a,u,f,g){if(s===null){var y=u.type;return typeof y=="function"&&!uh(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=y,Ry(s,a,y,f,g)):(s=Gc(u.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&g)===0){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:xa,u(S,f)&&s.ref===a.ref)return rs(s,a,g)}return a.flags|=1,s=Ds(y,f),s.ref=a.ref,s.return=a,a.child=s}function Ry(s,a,u,f,g){if(s!==null){var y=s.memoizedProps;if(xa(y,f)&&s.ref===a.ref)if(Ir=!1,a.pendingProps=f=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Ir=!0);else return a.lanes=s.lanes,rs(s,a,g)}return qf(s,a,u,f,g)}function Oy(s,a,u){var f=a.pendingProps,g=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(oo,zr),zr|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,bt(oo,zr),zr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,bt(oo,zr),zr|=f}else y!==null?(f=y.baseLanes|u,a.memoizedState=null):f=u,bt(oo,zr),zr|=f;return Cr(s,a,g,u),a.child}function Iy(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function qf(s,a,u,f,g){var y=Or(u)?ii:xr.current;return y=Ji(a,y),ro(a,g),u=Of(s,a,u,f,y,g),f=If(),s!==null&&!Ir?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,rs(s,a,g)):(Et&&f&&gf(a),a.flags|=1,Cr(s,a,u,g),a.child)}function Ly(s,a,u,f,g){if(Or(u)){var y=!0;vc(a)}else y=!1;if(ro(a,g),a.stateNode===null)Mc(s,a),Ny(a,u,f),Uf(a,u,f,g),f=!0;else if(s===null){var S=a.stateNode,T=a.memoizedProps;S.props=T;var I=S.context,W=u.contextType;typeof W=="object"&&W!==null?W=sn(W):(W=Or(u)?ii:xr.current,W=Ji(a,W));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==f||I!==W)&&Sy(a,S,f,W),Ts=!1;var se=a.memoizedState;S.state=se,Ec(a,f,S,g),I=a.memoizedState,T!==f||se!==I||Rr.current||Ts?(typeof oe=="function"&&(Vf(a,u,oe,f),I=a.memoizedState),(T=Ts||jy(a,u,T,f,se,I,W))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=I),S.props=f,S.state=I,S.context=W,f=T):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,Zx(s,a),T=a.memoizedProps,W=a.type===a.elementType?T:gn(a.type,T),S.props=W,ae=a.pendingProps,se=S.context,I=u.contextType,typeof I=="object"&&I!==null?I=sn(I):(I=Or(u)?ii:xr.current,I=Ji(a,I));var Ee=u.getDerivedStateFromProps;(oe=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==ae||se!==I)&&Sy(a,S,f,I),Ts=!1,se=a.memoizedState,S.state=se,Ec(a,f,S,g);var Re=a.memoizedState;T!==ae||se!==Re||Rr.current||Ts?(typeof Ee=="function"&&(Vf(a,u,Ee,f),Re=a.memoizedState),(W=Ts||jy(a,u,W,f,se,Re,I)||!1)?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Re,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Re,I)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),S.props=f,S.state=Re,S.context=I,f=W):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),f=!1)}return zf(s,a,u,f,y,g)}function zf(s,a,u,f,g,y){Iy(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&Ux(a,u,!1),rs(s,a,y);f=a.stateNode,kC.current=a;var T=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=eo(a,s.child,null,y),a.child=eo(a,null,T,y)):Cr(s,a,T,y),a.memoizedState=f.state,g&&Ux(a,u,!0),a.child}function Dy(s){var a=s.stateNode;a.pendingContext?Fx(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Fx(s,a.context,!1),Cf(s,a.containerInfo)}function My(s,a,u,f,g){return Xi(),bf(g),a.flags|=256,Cr(s,a,u,f),a.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Kf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Fy(s,a,u){var f=a.pendingProps,g=Tt.current,y=!1,S=(a.flags&128)!==0,T;if((T=S)||(T=s!==null&&s.memoizedState===null?!1:(g&2)!==0),T?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),bt(Tt,g&1),s===null)return vf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,s=f.fallback,y?(f=a.mode,y=a.child,S={mode:"hidden",children:S},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Qc(S,f,0,null),s=pi(s,f,u,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=Kf(u),a.memoizedState=Wf,s):Hf(a,S));if(g=s.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return CC(s,a,S,f,T,g,u);if(y){y=f.fallback,S=a.mode,g=s.child,T=g.sibling;var I={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=I,a.deletions=null):(f=Ds(g,I),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?y=Ds(T,y):(y=pi(y,S,u,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,S=s.child.memoizedState,S=S===null?Kf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~u,a.memoizedState=Wf,f}return y=s.child,s=y.sibling,f=Ds(y,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Hf(s,a){return a=Qc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Dc(s,a,u,f){return f!==null&&bf(f),eo(a,s.child,null,u),s=Hf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function CC(s,a,u,f,g,y,S){if(u)return a.flags&256?(a.flags&=-257,f=$f(Error(r(422))),Dc(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=f.fallback,g=a.mode,f=Qc({mode:"visible",children:f.children},g,0,null),y=pi(y,g,S,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,(a.mode&1)!==0&&eo(a,s.child,null,S),a.child.memoizedState=Kf(S),a.memoizedState=Wf,y);if((a.mode&1)===0)return Dc(s,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,y=Error(r(419)),f=$f(y,f,void 0),Dc(s,a,S,f)}if(T=(S&s.childLanes)!==0,Ir||T){if(f=lr,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,es(s,g),vn(f,s,g,-1))}return ch(),f=$f(Error(r(421))),Dc(s,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=UC.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,qr=_s(g.nextSibling),Br=a,Et=!0,pn=null,s!==null&&(rn[nn++]=Yn,rn[nn++]=Xn,rn[nn++]=oi,Yn=s.id,Xn=s.overflow,oi=a),a=Hf(a,f.children),a.flags|=4096,a)}function Vy(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Sf(s.return,a,u)}function Gf(s,a,u,f,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=g)}function Uy(s,a,u){var f=a.pendingProps,g=f.revealOrder,y=f.tail;if(Cr(s,a,f.children,u),f=Tt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Vy(s,u,a);else if(s.tag===19)Vy(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(bt(Tt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Tc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Gf(a,!1,g,u,y);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Tc(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Gf(a,!0,u,null,y);break;case"together":Gf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function rs(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),di|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Ds(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ds(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function EC(s,a,u){switch(a.tag){case 3:Dy(a),Xi();break;case 5:ey(a);break;case 1:Or(a.type)&&vc(a);break;case 4:Cf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;bt(_c,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(bt(Tt,Tt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Fy(s,a,u):(bt(Tt,Tt.current&1),s=rs(s,a,u),s!==null?s.sibling:null);bt(Tt,Tt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Uy(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),bt(Tt,Tt.current),f)break;return null;case 22:case 23:return a.lanes=0,Oy(s,a,u)}return rs(s,a,u)}var $y,Qf,By,qy;$y=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qf=function(){},By=function(s,a,u,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,ci(Dn.current);var y=null;switch(u){case"input":g=z(s,g),f=z(s,f),y=[];break;case"select":g=ce({},g,{value:void 0}),f=ce({},f,{value:void 0}),y=[];break;case"textarea":g=K(s,g),f=K(s,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=gc)}Lt(u,f);var S;u=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var T=g[W];for(S in T)T.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in f){var I=f[W];if(T=g?.[W],f.hasOwnProperty(W)&&I!==T&&(I!=null||T!=null))if(W==="style")if(T){for(S in T)!T.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in I)I.hasOwnProperty(S)&&T[S]!==I[S]&&(u||(u={}),u[S]=I[S])}else u||(y||(y=[]),y.push(W,u)),u=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,T=T?T.__html:void 0,I!=null&&T!==I&&(y=y||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(y=y||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&Nt("scroll",s),y||T===I||(y=[])):(y=y||[]).push(W,I))}u&&(y=y||[]).push("style",u);var W=y;(a.updateQueue=W)&&(a.flags|=4)}},qy=function(s,a,u,f){u!==f&&(a.flags|=4)};function Ra(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function vr(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function TC(s,a,u){var f=a.pendingProps;switch(xf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(a),null;case 1:return Or(a.type)&&yc(),vr(a),null;case 3:return f=a.stateNode,no(),St(Rr),St(xr),Pf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Nc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pn!==null&&(oh(pn),pn=null))),Qf(s,a),vr(a),null;case 5:Ef(a);var g=ci(Ca.current);if(u=a.type,s!==null&&a.stateNode!=null)By(s,a,u,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return vr(a),null}if(s=ci(Dn.current),Nc(a)){f=a.stateNode,u=a.type;var y=a.memoizedProps;switch(f[Ln]=a,f[ja]=y,s=(a.mode&1)!==0,u){case"dialog":Nt("cancel",f),Nt("close",f);break;case"iframe":case"object":case"embed":Nt("load",f);break;case"video":case"audio":for(g=0;g<va.length;g++)Nt(va[g],f);break;case"source":Nt("error",f);break;case"img":case"image":case"link":Nt("error",f),Nt("load",f);break;case"details":Nt("toggle",f);break;case"input":_e(f,y),Nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Nt("invalid",f);break;case"textarea":de(f,y),Nt("invalid",f)}Lt(u,y),g=null;for(var S in y)if(y.hasOwnProperty(S)){var T=y[S];S==="children"?typeof T=="string"?f.textContent!==T&&(y.suppressHydrationWarning!==!0&&pc(f.textContent,T,s),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&pc(f.textContent,T,s),g=["children",""+T]):o.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&Nt("scroll",f)}switch(u){case"input":sr(f),lt(f,y,!0);break;case"textarea":sr(f),ue(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=gc)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=be(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[Ln]=a,s[ja]=f,$y(s,a,!1,!1),a.stateNode=s;e:{switch(S=kr(u,f),u){case"dialog":Nt("cancel",s),Nt("close",s),g=f;break;case"iframe":case"object":case"embed":Nt("load",s),g=f;break;case"video":case"audio":for(g=0;g<va.length;g++)Nt(va[g],s);g=f;break;case"source":Nt("error",s),g=f;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),g=f;break;case"details":Nt("toggle",s),g=f;break;case"input":_e(s,f),g=z(s,f),Nt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ce({},f,{value:void 0}),Nt("invalid",s);break;case"textarea":de(s,f),g=K(s,f),Nt("invalid",s);break;default:g=f}Lt(u,g),T=g;for(y in T)if(T.hasOwnProperty(y)){var I=T[y];y==="style"?Ht(s,I):y==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Ut(s,I)):y==="children"?typeof I=="string"?(u!=="textarea"||I!=="")&&_r(s,I):typeof I=="number"&&_r(s,""+I):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?I!=null&&y==="onScroll"&&Nt("scroll",s):I!=null&&E(s,y,I,S))}switch(u){case"input":sr(s),lt(s,f,!1);break;case"textarea":sr(s),ue(s);break;case"option":f.value!=null&&s.setAttribute("value",""+ve(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?F(s,!!f.multiple,y,!1):f.defaultValue!=null&&F(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=gc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vr(a),null;case 6:if(s&&a.stateNode!=null)qy(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(u=ci(Ca.current),ci(Dn.current),Nc(a)){if(f=a.stateNode,u=a.memoizedProps,f[Ln]=a,(y=f.nodeValue!==u)&&(s=Br,s!==null))switch(s.tag){case 3:pc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pc(f.nodeValue,u,(s.mode&1)!==0)}y&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ln]=a,a.stateNode=f}return vr(a),null;case 13:if(St(Tt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&qr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Kx(),Xi(),a.flags|=98560,y=!1;else if(y=Nc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Ln]=a}else Xi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vr(a),y=!1}else pn!==null&&(oh(pn),pn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?tr===0&&(tr=3):ch())),a.updateQueue!==null&&(a.flags|=4),vr(a),null);case 4:return no(),Qf(s,a),s===null&&ba(a.stateNode.containerInfo),vr(a),null;case 10:return Nf(a.type._context),vr(a),null;case 17:return Or(a.type)&&yc(),vr(a),null;case 19:if(St(Tt),y=a.memoizedState,y===null)return vr(a),null;if(f=(a.flags&128)!==0,S=y.rendering,S===null)if(f)Ra(y,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Tc(s),S!==null){for(a.flags|=128,Ra(y,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)y=u,s=f,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return bt(Tt,Tt.current&1|2),a.child}s=s.sibling}y.tail!==null&&$t()>ao&&(a.flags|=128,f=!0,Ra(y,!1),a.lanes=4194304)}else{if(!f)if(s=Tc(S),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ra(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Et)return vr(a),null}else 2*$t()-y.renderingStartTime>ao&&u!==1073741824&&(a.flags|=128,f=!0,Ra(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(u=y.last,u!==null?u.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=$t(),a.sibling=null,u=Tt.current,bt(Tt,f?u&1|2:u&1),a):(vr(a),null);case 22:case 23:return lh(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(zr&1073741824)!==0&&(vr(a),a.subtreeFlags&6&&(a.flags|=8192)):vr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function PC(s,a){switch(xf(a),a.tag){case 1:return Or(a.type)&&yc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return no(),St(Rr),St(xr),Pf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ef(a),null;case 13:if(St(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Xi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return St(Tt),null;case 4:return no(),null;case 10:return Nf(a.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var Fc=!1,br=!1,AC=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function io(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Dt(s,a,f)}else u.current=null}function Jf(s,a,u){try{u()}catch(f){Dt(s,a,f)}}var zy=!1;function RC(s,a){if(lf=sc,s=jx(),Xd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,T=-1,I=-1,W=0,oe=0,ae=s,se=null;t:for(;;){for(var Ee;ae!==u||g!==0&&ae.nodeType!==3||(T=S+g),ae!==y||f!==0&&ae.nodeType!==3||(I=S+f),ae.nodeType===3&&(S+=ae.nodeValue.length),(Ee=ae.firstChild)!==null;)se=ae,ae=Ee;for(;;){if(ae===s)break t;if(se===u&&++W===g&&(T=S),se===y&&++oe===f&&(I=S),(Ee=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=Ee}u=T===-1||I===-1?null:{start:T,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(cf={focusedElem:s,selectionRange:u},sc=!1,Ae=a;Ae!==null;)if(a=Ae,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ae=s;else for(;Ae!==null;){a=Ae;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Bt=Re.memoizedState,U=a.stateNode,M=U.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:gn(a.type,Oe),Bt);U.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){Dt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,Ae=s;break}Ae=a.return}return Re=zy,zy=!1,Re}function Oa(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&Jf(a,u,y)}g=g.next}while(g!==f)}}function Vc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Zf(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Wy(s){var a=s.alternate;a!==null&&(s.alternate=null,Wy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ln],delete a[ja],delete a[hf],delete a[mC],delete a[pC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ky(s){return s.tag===5||s.tag===3||s.tag===4}function Hy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ky(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=gc));else if(f!==4&&(s=s.child,s!==null))for(Yf(s,a,u),s=s.sibling;s!==null;)Yf(s,a,u),s=s.sibling}function Xf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Xf(s,a,u),s=s.sibling;s!==null;)Xf(s,a,u),s=s.sibling}var dr=null,xn=!1;function As(s,a,u){for(u=u.child;u!==null;)Gy(s,a,u),u=u.sibling}function Gy(s,a,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Yl,u)}catch{}switch(u.tag){case 5:br||io(u,a);case 6:var f=dr,g=xn;dr=null,As(s,a,u),dr=f,xn=g,dr!==null&&(xn?(s=dr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):dr.removeChild(u.stateNode));break;case 18:dr!==null&&(xn?(s=dr,u=u.stateNode,s.nodeType===8?ff(s.parentNode,u):s.nodeType===1&&ff(s,u),da(s)):ff(dr,u.stateNode));break;case 4:f=dr,g=xn,dr=u.stateNode.containerInfo,xn=!0,As(s,a,u),dr=f,xn=g;break;case 0:case 11:case 14:case 15:if(!br&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&Jf(u,a,S),g=g.next}while(g!==f)}As(s,a,u);break;case 1:if(!br&&(io(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(T){Dt(u,a,T)}As(s,a,u);break;case 21:As(s,a,u);break;case 22:u.mode&1?(br=(f=br)||u.memoizedState!==null,As(s,a,u),br=f):As(s,a,u);break;default:As(s,a,u)}}function Qy(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new AC),a.forEach(function(f){var g=$C.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function yn(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var y=s,S=a,T=S;e:for(;T!==null;){switch(T.tag){case 5:dr=T.stateNode,xn=!1;break e;case 3:dr=T.stateNode.containerInfo,xn=!0;break e;case 4:dr=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(dr===null)throw Error(r(160));Gy(y,S,g),dr=null,xn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(W){Dt(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Jy(a,s),a=a.sibling}function Jy(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yn(a,s),Fn(s),f&4){try{Oa(3,s,s.return),Vc(3,s)}catch(Oe){Dt(s,s.return,Oe)}try{Oa(5,s,s.return)}catch(Oe){Dt(s,s.return,Oe)}}break;case 1:yn(a,s),Fn(s),f&512&&u!==null&&io(u,u.return);break;case 5:if(yn(a,s),Fn(s),f&512&&u!==null&&io(u,u.return),s.flags&32){var g=s.stateNode;try{_r(g,"")}catch(Oe){Dt(s,s.return,Oe)}}if(f&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,S=u!==null?u.memoizedProps:y,T=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&xe(g,y),kr(T,S);var W=kr(T,y);for(S=0;S<I.length;S+=2){var oe=I[S],ae=I[S+1];oe==="style"?Ht(g,ae):oe==="dangerouslySetInnerHTML"?Ut(g,ae):oe==="children"?_r(g,ae):E(g,oe,ae,W)}switch(T){case"input":ge(g,y);break;case"textarea":fe(g,y);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var Ee=y.value;Ee!=null?F(g,!!y.multiple,Ee,!1):se!==!!y.multiple&&(y.defaultValue!=null?F(g,!!y.multiple,y.defaultValue,!0):F(g,!!y.multiple,y.multiple?[]:"",!1))}g[ja]=y}catch(Oe){Dt(s,s.return,Oe)}}break;case 6:if(yn(a,s),Fn(s),f&4){if(s.stateNode===null)throw Error(r(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(Oe){Dt(s,s.return,Oe)}}break;case 3:if(yn(a,s),Fn(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{da(a.containerInfo)}catch(Oe){Dt(s,s.return,Oe)}break;case 4:yn(a,s),Fn(s);break;case 13:yn(a,s),Fn(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(rh=$t())),f&4&&Qy(s);break;case 22:if(oe=u!==null&&u.memoizedState!==null,s.mode&1?(br=(W=br)||oe,yn(a,s),br=W):yn(a,s),Fn(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!oe&&(s.mode&1)!==0)for(Ae=s,oe=s.child;oe!==null;){for(ae=Ae=oe;Ae!==null;){switch(se=Ae,Ee=se.child,se.tag){case 0:case 11:case 14:case 15:Oa(4,se,se.return);break;case 1:io(se,se.return);var Re=se.stateNode;if(typeof Re.componentWillUnmount=="function"){f=se,u=se.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){Dt(f,u,Oe)}}break;case 5:io(se,se.return);break;case 22:if(se.memoizedState!==null){Xy(ae);continue}}Ee!==null?(Ee.return=se,Ae=Ee):Xy(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{g=ae.stateNode,W?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=ae.stateNode,I=ae.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,T.style.display=pe("display",S))}catch(Oe){Dt(s,s.return,Oe)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=W?"":ae.memoizedProps}catch(Oe){Dt(s,s.return,Oe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:yn(a,s),Fn(s),f&4&&Qy(s);break;case 21:break;default:yn(a,s),Fn(s)}}function Fn(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Ky(u)){var f=u;break e}u=u.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(_r(g,""),f.flags&=-33);var y=Hy(s);Xf(s,y,g);break;case 3:case 4:var S=f.stateNode.containerInfo,T=Hy(s);Yf(s,T,S);break;default:throw Error(r(161))}}catch(I){Dt(s,s.return,I)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function OC(s,a,u){Ae=s,Zy(s)}function Zy(s,a,u){for(var f=(s.mode&1)!==0;Ae!==null;){var g=Ae,y=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Fc;if(!S){var T=g.alternate,I=T!==null&&T.memoizedState!==null||br;T=Fc;var W=br;if(Fc=S,(br=I)&&!W)for(Ae=g;Ae!==null;)S=Ae,I=S.child,S.tag===22&&S.memoizedState!==null?ev(g):I!==null?(I.return=S,Ae=I):ev(g);for(;y!==null;)Ae=y,Zy(y),y=y.sibling;Ae=g,Fc=T,br=W}Yy(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,Ae=y):Yy(s)}}function Yy(s){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:br||Vc(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!br)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:gn(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Xx(a,y,f);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Xx(a,S,u)}break;case 5:var T=a.stateNode;if(u===null&&a.flags&4){u=T;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&u.focus();break;case"img":I.src&&(u.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var oe=W.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&da(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}br||a.flags&512&&Zf(a)}catch(se){Dt(a,a.return,se)}}if(a===s){Ae=null;break}if(u=a.sibling,u!==null){u.return=a.return,Ae=u;break}Ae=a.return}}function Xy(s){for(;Ae!==null;){var a=Ae;if(a===s){Ae=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Ae=u;break}Ae=a.return}}function ev(s){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Vc(4,a)}catch(I){Dt(a,u,I)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(I){Dt(a,g,I)}}var y=a.return;try{Zf(a)}catch(I){Dt(a,y,I)}break;case 5:var S=a.return;try{Zf(a)}catch(I){Dt(a,S,I)}}}catch(I){Dt(a,a.return,I)}if(a===s){Ae=null;break}var T=a.sibling;if(T!==null){T.return=a.return,Ae=T;break}Ae=a.return}}var IC=Math.ceil,Uc=A.ReactCurrentDispatcher,eh=A.ReactCurrentOwner,an=A.ReactCurrentBatchConfig,dt=0,lr=null,Gt=null,fr=0,zr=0,oo=ks(0),tr=0,Ia=null,di=0,$c=0,th=0,La=null,Lr=null,rh=0,ao=1/0,ns=null,Bc=!1,nh=null,Rs=null,qc=!1,Os=null,zc=0,Da=0,sh=null,Wc=-1,Kc=0;function Er(){return(dt&6)!==0?$t():Wc!==-1?Wc:Wc=$t()}function Is(s){return(s.mode&1)===0?1:(dt&2)!==0&&fr!==0?fr&-fr:xC.transition!==null?(Kc===0&&(Kc=Hg()),Kc):(s=gt,s!==0||(s=window.event,s=s===void 0?16:rx(s.type)),s)}function vn(s,a,u,f){if(50<Da)throw Da=0,sh=null,Error(r(185));oa(s,u,f),((dt&2)===0||s!==lr)&&(s===lr&&((dt&2)===0&&($c|=u),tr===4&&Ls(s,fr)),Dr(s,f),u===1&&dt===0&&(a.mode&1)===0&&(ao=$t()+500,bc&&Es()))}function Dr(s,a){var u=s.callbackNode;xk(s,a);var f=tc(s,s===lr?fr:0);if(f===0)u!==null&&Ui(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Ui(u),a===1)s.tag===0?gC(rv.bind(null,s)):$x(rv.bind(null,s)),fC(function(){(dt&6)===0&&Es()}),u=null;else{switch(Gg(f)){case 1:u=Dd;break;case 4:u=Wg;break;case 16:u=Zl;break;case 536870912:u=Kg;break;default:u=Zl}u=uv(u,tv.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function tv(s,a){if(Wc=-1,Kc=0,(dt&6)!==0)throw Error(r(327));var u=s.callbackNode;if(lo()&&s.callbackNode!==u)return null;var f=tc(s,s===lr?fr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Hc(s,f);else{a=f;var g=dt;dt|=2;var y=sv();(lr!==s||fr!==a)&&(ns=null,ao=$t()+500,hi(s,a));do try{MC();break}catch(T){nv(s,T)}while(!0);jf(),Uc.current=y,dt=g,Gt!==null?a=0:(lr=null,fr=0,a=tr)}if(a!==0){if(a===2&&(g=Md(s),g!==0&&(f=g,a=ih(s,g))),a===1)throw u=Ia,hi(s,0),Ls(s,f),Dr(s,$t()),u;if(a===6)Ls(s,f);else{if(g=s.current.alternate,(f&30)===0&&!LC(g)&&(a=Hc(s,f),a===2&&(y=Md(s),y!==0&&(f=y,a=ih(s,y))),a===1))throw u=Ia,hi(s,0),Ls(s,f),Dr(s,$t()),u;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:mi(s,Lr,ns);break;case 3:if(Ls(s,f),(f&130023424)===f&&(a=rh+500-$t(),10<a)){if(tc(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Er(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=df(mi.bind(null,s,Lr,ns),a);break}mi(s,Lr,ns);break;case 4:if(Ls(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var S=31-hn(f);y=1<<S,S=a[S],S>g&&(g=S),f&=~y}if(f=g,f=$t()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*IC(f/1960))-f,10<f){s.timeoutHandle=df(mi.bind(null,s,Lr,ns),f);break}mi(s,Lr,ns);break;case 5:mi(s,Lr,ns);break;default:throw Error(r(329))}}}return Dr(s,$t()),s.callbackNode===u?tv.bind(null,s):null}function ih(s,a){var u=La;return s.current.memoizedState.isDehydrated&&(hi(s,a).flags|=256),s=Hc(s,a),s!==2&&(a=Lr,Lr=u,a!==null&&oh(a)),s}function oh(s){Lr===null?Lr=s:Lr.push.apply(Lr,s)}function LC(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],y=g.getSnapshot;g=g.value;try{if(!mn(y(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ls(s,a){for(a&=~th,a&=~$c,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-hn(a),f=1<<u;s[u]=-1,a&=~f}}function rv(s){if((dt&6)!==0)throw Error(r(327));lo();var a=tc(s,0);if((a&1)===0)return Dr(s,$t()),null;var u=Hc(s,a);if(s.tag!==0&&u===2){var f=Md(s);f!==0&&(a=f,u=ih(s,f))}if(u===1)throw u=Ia,hi(s,0),Ls(s,a),Dr(s,$t()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,mi(s,Lr,ns),Dr(s,$t()),null}function ah(s,a){var u=dt;dt|=1;try{return s(a)}finally{dt=u,dt===0&&(ao=$t()+500,bc&&Es())}}function fi(s){Os!==null&&Os.tag===0&&(dt&6)===0&&lo();var a=dt;dt|=1;var u=an.transition,f=gt;try{if(an.transition=null,gt=1,s)return s()}finally{gt=f,an.transition=u,dt=a,(dt&6)===0&&Es()}}function lh(){zr=oo.current,St(oo)}function hi(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,dC(u)),Gt!==null)for(u=Gt.return;u!==null;){var f=u;switch(xf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&yc();break;case 3:no(),St(Rr),St(xr),Pf();break;case 5:Ef(f);break;case 4:no();break;case 13:St(Tt);break;case 19:St(Tt);break;case 10:Nf(f.type._context);break;case 22:case 23:lh()}u=u.return}if(lr=s,Gt=s=Ds(s.current,null),fr=zr=a,tr=0,Ia=null,th=$c=di=0,Lr=La=null,li!==null){for(a=0;a<li.length;a++)if(u=li[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,y=u.pending;if(y!==null){var S=y.next;y.next=g,f.next=S}u.pending=f}li=null}return s}function nv(s,a){do{var u=Gt;try{if(jf(),Pc.current=Ic,Ac){for(var f=Pt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ac=!1}if(ui=0,ar=er=Pt=null,Ea=!1,Ta=0,eh.current=null,u===null||u.return===null){tr=1,Ia=a,Gt=null;break}e:{var y=s,S=u.return,T=u,I=a;if(a=fr,T.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,oe=T,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var Ee=Ey(S);if(Ee!==null){Ee.flags&=-257,Ty(Ee,S,T,y,a),Ee.mode&1&&Cy(y,W,a),a=Ee,I=W;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add(I),a.updateQueue=Oe}else Re.add(I);break e}else{if((a&1)===0){Cy(y,W,a),ch();break e}I=Error(r(426))}}else if(Et&&T.mode&1){var Bt=Ey(S);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),Ty(Bt,S,T,y,a),bf(so(I,T));break e}}y=I=so(I,T),tr!==4&&(tr=2),La===null?La=[y]:La.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var U=_y(y,I,a);Yx(y,U);break e;case 1:T=I;var M=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Rs===null||!Rs.has(q)))){y.flags|=65536,a&=-a,y.lanes|=a;var he=ky(y,T,a);Yx(y,he);break e}}y=y.return}while(y!==null)}ov(u)}catch(De){a=De,Gt===u&&u!==null&&(Gt=u=u.return);continue}break}while(!0)}function sv(){var s=Uc.current;return Uc.current=Ic,s===null?Ic:s}function ch(){(tr===0||tr===3||tr===2)&&(tr=4),lr===null||(di&268435455)===0&&($c&268435455)===0||Ls(lr,fr)}function Hc(s,a){var u=dt;dt|=2;var f=sv();(lr!==s||fr!==a)&&(ns=null,hi(s,a));do try{DC();break}catch(g){nv(s,g)}while(!0);if(jf(),dt=u,Uc.current=f,Gt!==null)throw Error(r(261));return lr=null,fr=0,tr}function DC(){for(;Gt!==null;)iv(Gt)}function MC(){for(;Gt!==null&&!lk();)iv(Gt)}function iv(s){var a=cv(s.alternate,s,zr);s.memoizedProps=s.pendingProps,a===null?ov(s):Gt=a,eh.current=null}function ov(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=TC(u,a,zr),u!==null){Gt=u;return}}else{if(u=PC(u,a),u!==null){u.flags&=32767,Gt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tr=6,Gt=null;return}}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=s}while(a!==null);tr===0&&(tr=5)}function mi(s,a,u){var f=gt,g=an.transition;try{an.transition=null,gt=1,FC(s,a,u,f)}finally{an.transition=g,gt=f}return null}function FC(s,a,u,f){do lo();while(Os!==null);if((dt&6)!==0)throw Error(r(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(yk(s,y),s===lr&&(Gt=lr=null,fr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||qc||(qc=!0,uv(Zl,function(){return lo(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=an.transition,an.transition=null;var S=gt;gt=1;var T=dt;dt|=4,eh.current=null,RC(s,u),Jy(u,s),sC(cf),sc=!!lf,cf=lf=null,s.current=u,OC(u),ck(),dt=T,gt=S,an.transition=y}else s.current=u;if(qc&&(qc=!1,Os=s,zc=g),y=s.pendingLanes,y===0&&(Rs=null),fk(u.stateNode),Dr(s,$t()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Bc)throw Bc=!1,s=nh,nh=null,s;return(zc&1)!==0&&s.tag!==0&&lo(),y=s.pendingLanes,(y&1)!==0?s===sh?Da++:(Da=0,sh=s):Da=0,Es(),null}function lo(){if(Os!==null){var s=Gg(zc),a=an.transition,u=gt;try{if(an.transition=null,gt=16>s?16:s,Os===null)var f=!1;else{if(s=Os,Os=null,zc=0,(dt&6)!==0)throw Error(r(331));var g=dt;for(dt|=4,Ae=s.current;Ae!==null;){var y=Ae,S=y.child;if((Ae.flags&16)!==0){var T=y.deletions;if(T!==null){for(var I=0;I<T.length;I++){var W=T[I];for(Ae=W;Ae!==null;){var oe=Ae;switch(oe.tag){case 0:case 11:case 15:Oa(8,oe,y)}var ae=oe.child;if(ae!==null)ae.return=oe,Ae=ae;else for(;Ae!==null;){oe=Ae;var se=oe.sibling,Ee=oe.return;if(Wy(oe),oe===W){Ae=null;break}if(se!==null){se.return=Ee,Ae=se;break}Ae=Ee}}}var Re=y.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Bt=Oe.sibling;Oe.sibling=null,Oe=Bt}while(Oe!==null)}}Ae=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,Ae=S;else e:for(;Ae!==null;){if(y=Ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Oa(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,Ae=U;break e}Ae=y.return}}var M=s.current;for(Ae=M;Ae!==null;){S=Ae;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,Ae=q;else e:for(S=M;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Vc(9,T)}}catch(De){Dt(T,T.return,De)}if(T===S){Ae=null;break e}var he=T.sibling;if(he!==null){he.return=T.return,Ae=he;break e}Ae=T.return}}if(dt=g,Es(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Yl,s)}catch{}f=!0}return f}finally{gt=u,an.transition=a}}return!1}function av(s,a,u){a=so(u,a),a=_y(s,a,1),s=Ps(s,a,1),a=Er(),s!==null&&(oa(s,1,a),Dr(s,a))}function Dt(s,a,u){if(s.tag===3)av(s,s,u);else for(;a!==null;){if(a.tag===3){av(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))){s=so(u,s),s=ky(a,s,1),a=Ps(a,s,1),s=Er(),a!==null&&(oa(a,1,s),Dr(a,s));break}}a=a.return}}function VC(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=Er(),s.pingedLanes|=s.suspendedLanes&u,lr===s&&(fr&u)===u&&(tr===4||tr===3&&(fr&130023424)===fr&&500>$t()-rh?hi(s,0):th|=u),Dr(s,a)}function lv(s,a){a===0&&((s.mode&1)===0?a=1:(a=ec,ec<<=1,(ec&130023424)===0&&(ec=4194304)));var u=Er();s=es(s,a),s!==null&&(oa(s,a,u),Dr(s,u))}function UC(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),lv(s,u)}function $C(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),lv(s,u)}var cv;cv=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Rr.current)Ir=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Ir=!1,EC(s,a,u);Ir=(s.flags&131072)!==0}else Ir=!1,Et&&(a.flags&1048576)!==0&&Bx(a,jc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Mc(s,a),s=a.pendingProps;var g=Ji(a,xr.current);ro(a,u),g=Of(null,a,f,s,g,u);var y=If();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Or(f)?(y=!0,vc(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,kf(a),g.updater=Lc,a.stateNode=g,g._reactInternals=a,Uf(a,f,s,u),a=zf(null,a,f,!0,y,u)):(a.tag=0,Et&&y&&gf(a),Cr(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Mc(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=qC(f),s=gn(f,s),g){case 0:a=qf(null,a,f,s,u);break e;case 1:a=Ly(null,a,f,s,u);break e;case 11:a=Py(null,a,f,s,u);break e;case 14:a=Ay(null,a,f,gn(f.type,s),u);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),qf(s,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),Ly(s,a,f,g,u);case 3:e:{if(Dy(a),s===null)throw Error(r(387));f=a.pendingProps,y=a.memoizedState,g=y.element,Zx(s,a),Ec(a,f,null,u);var S=a.memoizedState;if(f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=so(Error(r(423)),a),a=My(s,a,f,u,g);break e}else if(f!==g){g=so(Error(r(424)),a),a=My(s,a,f,u,g);break e}else for(qr=_s(a.stateNode.containerInfo.firstChild),Br=a,Et=!0,pn=null,u=Qx(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xi(),f===g){a=rs(s,a,u);break e}Cr(s,a,f,u)}a=a.child}return a;case 5:return ey(a),s===null&&vf(a),f=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,S=g.children,uf(f,g)?S=null:y!==null&&uf(f,y)&&(a.flags|=32),Iy(s,a),Cr(s,a,S,u),a.child;case 6:return s===null&&vf(a),null;case 13:return Fy(s,a,u);case 4:return Cf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=eo(a,null,f,u):Cr(s,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),Py(s,a,f,g,u);case 7:return Cr(s,a,a.pendingProps,u),a.child;case 8:return Cr(s,a,a.pendingProps.children,u),a.child;case 12:return Cr(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,y=a.memoizedProps,S=g.value,bt(_c,f._currentValue),f._currentValue=S,y!==null)if(mn(y.value,S)){if(y.children===g.children&&!Rr.current){a=rs(s,a,u);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var T=y.dependencies;if(T!==null){S=y.child;for(var I=T.firstContext;I!==null;){if(I.context===f){if(y.tag===1){I=ts(-1,u&-u),I.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var oe=W.pending;oe===null?I.next=I:(I.next=oe.next,oe.next=I),W.pending=I}}y.lanes|=u,I=y.alternate,I!==null&&(I.lanes|=u),Sf(y.return,u,a),T.lanes|=u;break}I=I.next}}else if(y.tag===10)S=y.type===a.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(r(341));S.lanes|=u,T=S.alternate,T!==null&&(T.lanes|=u),Sf(S,u,a),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Cr(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,ro(a,u),g=sn(g),f=f(g),a.flags|=1,Cr(s,a,f,u),a.child;case 14:return f=a.type,g=gn(f,a.pendingProps),g=gn(f.type,g),Ay(s,a,f,g,u);case 15:return Ry(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),Mc(s,a),a.tag=1,Or(f)?(s=!0,vc(a)):s=!1,ro(a,u),Ny(a,f,g),Uf(a,f,g,u),zf(null,a,f,!0,s,u);case 19:return Uy(s,a,u);case 22:return Oy(s,a,u)}throw Error(r(156,a.tag))};function uv(s,a){return Jl(s,a)}function BC(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(s,a,u,f){return new BC(s,a,u,f)}function uh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qC(s){if(typeof s=="function")return uh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===ke)return 14}return 2}function Ds(s,a){var u=s.alternate;return u===null?(u=ln(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Gc(s,a,u,f,g,y){var S=2;if(f=s,typeof s=="function")uh(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case H:return pi(u.children,g,y,a);case Z:S=8,g|=8;break;case O:return s=ln(12,u,a,g|2),s.elementType=O,s.lanes=y,s;case G:return s=ln(13,u,a,g),s.elementType=G,s.lanes=y,s;case te:return s=ln(19,u,a,g),s.elementType=te,s.lanes=y,s;case ne:return Qc(u,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:S=10;break e;case re:S=9;break e;case D:S=11;break e;case ke:S=14;break e;case Ce:S=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=ln(S,u,a,g),a.elementType=s,a.type=f,a.lanes=y,a}function pi(s,a,u,f){return s=ln(7,s,f,a),s.lanes=u,s}function Qc(s,a,u,f){return s=ln(22,s,f,a),s.elementType=ne,s.lanes=u,s.stateNode={isHidden:!1},s}function dh(s,a,u){return s=ln(6,s,null,a),s.lanes=u,s}function fh(s,a,u){return a=ln(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function zC(s,a,u,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function hh(s,a,u,f,g,y,S,T,I){return s=new zC(s,a,u,T,I),a===1?(a=1,y===!0&&(a|=8)):a=0,y=ln(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(y),s}function WC(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function dv(s){if(!s)return Cs;s=s._reactInternals;e:{if(ut(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Or(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(Or(u))return Vx(s,u,a)}return a}function fv(s,a,u,f,g,y,S,T,I){return s=hh(u,f,!0,s,g,y,S,T,I),s.context=dv(null),u=s.current,f=Er(),g=Is(u),y=ts(f,g),y.callback=a??null,Ps(u,y,g),s.current.lanes=g,oa(s,g,f),Dr(s,f),s}function Jc(s,a,u,f){var g=a.current,y=Er(),S=Is(g);return u=dv(u),a.context===null?a.context=u:a.pendingContext=u,a=ts(y,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ps(g,a,S),s!==null&&(vn(s,g,S,y),Cc(s,g,S)),S}function Zc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function mh(s,a){hv(s,a),(s=s.alternate)&&hv(s,a)}function KC(){return null}var mv=typeof reportError=="function"?reportError:function(s){console.error(s)};function ph(s){this._internalRoot=s}Yc.prototype.render=ph.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Jc(s,a,null,null)},Yc.prototype.unmount=ph.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;fi(function(){Jc(null,s,null,null)}),a[Jn]=null}};function Yc(s){this._internalRoot=s}Yc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Zg();s={blockedOn:null,target:s,priority:a};for(var u=0;u<js.length&&a!==0&&a<js[u].priority;u++);js.splice(u,0,s),u===0&&ex(s)}};function gh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pv(){}function HC(s,a,u,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var W=Zc(S);y.call(W)}}var S=fv(a,f,s,0,null,!1,!1,"",pv);return s._reactRootContainer=S,s[Jn]=S.current,ba(s.nodeType===8?s.parentNode:s),fi(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var W=Zc(I);T.call(W)}}var I=hh(s,0,!1,null,null,!1,!1,"",pv);return s._reactRootContainer=I,s[Jn]=I.current,ba(s.nodeType===8?s.parentNode:s),fi(function(){Jc(a,I,u,f)}),I}function eu(s,a,u,f,g){var y=u._reactRootContainer;if(y){var S=y;if(typeof g=="function"){var T=g;g=function(){var I=Zc(S);T.call(I)}}Jc(a,S,s,g)}else S=HC(u,a,s,g,f);return Zc(S)}Qg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ia(a.pendingLanes);u!==0&&(Vd(a,u|1),Dr(a,$t()),(dt&6)===0&&(ao=$t()+500,Es()))}break;case 13:fi(function(){var f=es(s,1);if(f!==null){var g=Er();vn(f,s,1,g)}}),mh(s,1)}},Ud=function(s){if(s.tag===13){var a=es(s,134217728);if(a!==null){var u=Er();vn(a,s,134217728,u)}mh(s,134217728)}},Jg=function(s){if(s.tag===13){var a=Is(s),u=es(s,a);if(u!==null){var f=Er();vn(u,s,a,f)}mh(s,a)}},Zg=function(){return gt},Yg=function(s,a){var u=gt;try{return gt=s,a()}finally{gt=u}},ra=function(s,a,u){switch(a){case"input":if(ge(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var g=xc(f);if(!g)throw Error(r(90));B(f),ge(f,g)}}}break;case"textarea":fe(s,u);break;case"select":a=u.value,a!=null&&F(s,!!u.multiple,a,!1)}},Gl=ah,ni=fi;var GC={usingClientEntryPoint:!1,Events:[Na,Gi,xc,Kl,Hl,ah]},Ma={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QC={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=tn(s),s===null?null:s.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||KC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Yl=tu.inject(QC),In=tu}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC,Mr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(a))throw Error(r(200));return WC(s,a,null,u)},Mr.createRoot=function(s,a){if(!gh(s))throw Error(r(299));var u=!1,f="",g=mv;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=hh(s,1,!1,null,null,u,!1,f,g),s[Jn]=a.current,ba(s.nodeType===8?s.parentNode:s),new ph(a)},Mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=tn(a),s=s===null?null:s.stateNode,s},Mr.flushSync=function(s){return fi(s)},Mr.hydrate=function(s,a,u){if(!Xc(a))throw Error(r(200));return eu(null,s,a,!0,u)},Mr.hydrateRoot=function(s,a,u){if(!gh(s))throw Error(r(405));var f=u!=null&&u.hydratedSources||null,g=!1,y="",S=mv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=fv(a,null,s,1,u??null,g,!1,y,S),s[Jn]=a.current,ba(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Yc(a)},Mr.render=function(s,a,u){if(!Xc(a))throw Error(r(200));return eu(null,s,a,!1,u)},Mr.unmountComponentAtNode=function(s){if(!Xc(s))throw Error(r(40));return s._reactRootContainer?(fi(function(){eu(null,null,s,!1,function(){s._reactRootContainer=null,s[Jn]=null})}),!0):!1},Mr.unstable_batchedUpdates=ah,Mr.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Xc(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return eu(s,a,u,!1,f)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var Nv;function C0(){if(Nv)return vh.exports;Nv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vh.exports=rE(),vh.exports}var Sv;function nE(){if(Sv)return ru;Sv=1;var t=C0();return ru.createRoot=t.createRoot,ru.hydrateRoot=t.hydrateRoot,ru}var sE=nE();function iE(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,o,l,c=[],d="",h=t.split("/");for(h[0]||h.shift();o=h.shift();)r=o[0],r==="*"?(c.push(r),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=o.indexOf("?",1),l=o.indexOf(".",1),c.push(o.substring(1,~n?n:~l?l:o.length)),d+=~n&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~n?"?":"")+"\\"+o.substring(l))):d+="/"+o;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var v=cd();const Fe=up(v),dp=_0({__proto__:null,default:Fe},[v]);var jh={exports:{}},Nh={};var _v;function oE(){if(_v)return Nh;_v=1;var t=cd();function e(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(x,b){var N=b(),_=n({inst:{value:N,getSnapshot:b}}),j=_[0].inst,w=_[1];return l(function(){j.value=N,j.getSnapshot=b,h(j)&&w({inst:j})},[x,N,b]),o(function(){return h(j)&&w({inst:j}),x(function(){h(j)&&w({inst:j})})},[x]),c(N),N}function h(x){var b=x.getSnapshot;x=x.value;try{var N=b();return!r(x,N)}catch{return!0}}function m(x,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Nh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Nh}var kv;function aE(){return kv||(kv=1,jh.exports=oE()),jh.exports}var E0=aE();const lE=dp.useInsertionEffect,cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uE=cE?v.useLayoutEffect:v.useEffect,dE=lE||uE,T0=t=>{const e=v.useRef([t,(...r)=>e[0](...r)]).current;return dE(()=>{e[0]=t}),e[1]},fE="popstate",fp="pushState",hp="replaceState",hE="hashchange",Cv=[fE,fp,hp,hE],mE=t=>{for(const e of Cv)addEventListener(e,t);return()=>{for(const e of Cv)removeEventListener(e,t)}},P0=(t,e)=>E0.useSyncExternalStore(mE,t,e),pE=()=>location.search,gE=({ssrSearch:t=""}={})=>P0(pE,()=>t),Ev=()=>location.pathname,xE=({ssrPath:t}={})=>P0(Ev,t?()=>t:Ev),yE=(t,{replace:e=!1,state:r=null}={})=>history[e?hp:fp](r,"",t),vE=(t={})=>[xE(t),yE],Tv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Tv]>"u"){for(const t of[fp,hp]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Tv,{value:!0})}const bE=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",A0=(t="")=>t==="/"?"":t,wE=(t,e)=>t[0]==="~"?t.slice(1):A0(e)+t,jE=(t="",e)=>bE(Pv(A0(t)),Pv(e)),Pv=t=>{try{return decodeURI(t)}catch{return t}},R0={hook:vE,searchHook:gE,parser:iE,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},O0=v.createContext(R0),Rl=()=>v.useContext(O0),I0={},L0=v.createContext(I0),NE=()=>v.useContext(L0),ud=t=>{const[e,r]=t.hook(t);return[jE(t.base,e),T0((n,o)=>r(wE(n,t.base),o))]},Hn=()=>ud(Rl()),D0=(t,e,r,n)=>{const{pattern:o,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),c=o.exec(r)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((x,b)=>[x,h[b]])):c.groups;let p={...h};return m&&Object.assign(p,m),p})(),...n?[d]:[]]:[!1,null]},SE=({children:t,...e})=>{const r=Rl(),n=e.hook?R0:r;let o=n;const[l,c]=e.ssrPath?.split("?")??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??e.hook?.hrefs;let d=v.useRef({}),h=d.current,m=h;for(let p in n){const x=p==="base"?n[p]+(e[p]||""):e[p]||n[p];h===m&&x!==m[p]&&(d.current=m={...m}),m[p]=x,(x!==n[p]||x!==o[p])&&(o=m)}return v.createElement(O0.Provider,{value:o,children:t})},Av=({children:t,component:e},r)=>e?v.createElement(e,{params:r}):typeof t=="function"?t(r):t,_E=t=>{let e=v.useRef(I0);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,o])=>o!==r[n])?t:r},yt=({path:t,nest:e,match:r,...n})=>{const o=Rl(),[l]=ud(o),[c,d,h]=r??D0(o.parser,t,l,e),m=_E({...NE(),...d});if(!c)return null;const p=h?v.createElement(SE,{base:h},Av(n,m)):Av(n,m);return v.createElement(L0.Provider,{value:m,children:p})},Ne=v.forwardRef((t,e)=>{const r=Rl(),[n,o]=ud(r),{to:l="",href:c=l,onClick:d,asChild:h,children:m,className:p,replace:x,state:b,...N}=t,_=T0(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),o(c,t)))}),j=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return h&&v.isValidElement(m)?v.cloneElement(m,{onClick:_,href:j}):v.createElement("a",{...N,onClick:_,href:j,className:p?.call?p(n===c):p,children:m,ref:e})}),M0=t=>Array.isArray(t)?t.flatMap(e=>M0(e&&e.type===v.Fragment?e.props.children:e)):[t],kE=({children:t,location:e})=>{const r=Rl(),[n]=ud(r);for(const o of M0(t)){let l=0;if(v.isValidElement(o)&&(l=D0(r.parser,o.props.path,e||n,o.props.nest))[0])return v.cloneElement(o,{match:l})}return null};var Ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},CE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},EE=class{#e=CE;#r=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},hm=new EE;function TE(t){setTimeout(t,0)}var dd=typeof window>"u"||"Deno"in globalThis;function dn(){}function PE(t,e){return typeof t=="function"?t(e):t}function AE(t){return typeof t=="number"&&t>=0&&t!==1/0}function RE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mm(t,e){return typeof t=="function"?t(e):t}function OE(t,e){return typeof t=="function"?t(e):t}function Rv(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:l,queryKey:c,stale:d}=t;if(c){if(n){if(e.queryHash!==mp(c,e.options))return!1}else if(!ol(e.queryKey,c))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||l&&!l(e))}function Ov(t,e){const{exact:r,status:n,predicate:o,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(Ai(e.options.mutationKey)!==Ai(l))return!1}else if(!ol(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function mp(t,e){return(e?.queryKeyHashFn||Ai)(t)}function Ai(t){return JSON.stringify(t,(e,r)=>pm(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function ol(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ol(t[r],e[r])):!1}var IE=Object.prototype.hasOwnProperty;function F0(t,e){if(t===e)return t;const r=Iv(t)&&Iv(e);if(!r&&!(pm(t)&&pm(e)))return e;const o=(r?t:Object.keys(t)).length,l=r?e:Object.keys(e),c=l.length,d=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const p=r?m:l[m],x=t[p],b=e[p];if(x===b){d[p]=x,(r?m<o:IE.call(t,p))&&h++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[p]=b;continue}const N=F0(x,b);d[p]=N,N===x&&h++}return o===c&&h===o?t:d}function LE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Iv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pm(t){if(!Lv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Lv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lv(t){return Object.prototype.toString.call(t)==="[object Object]"}function DE(t){return new Promise(e=>{hm.setTimeout(e,t)})}function ME(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?F0(t,e):e}function FE(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function VE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pp=Symbol();function V0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function UE(t,e){return typeof t=="function"?t(...e):!!t}var $E=class extends Ol{#e;#r;#t;constructor(){super(),this.#t=t=>{if(!dd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},U0=new $E;function BE(){let t,e;const r=new Promise((o,l)=>{t=o,e=l});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}var qE=TE;function zE(){let t=[],e=0,r=d=>{d()},n=d=>{d()},o=qE;const l=d=>{e?t.push(d):o(()=>{r(d)})},c=()=>{const d=t;t=[],d.length&&o(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{o=d}}}var pr=zE(),WE=class extends Ol{#e=!0;#r;#t;constructor(){super(),this.#t=t=>{if(!dd&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Du=new WE;function KE(t){return Math.min(1e3*2**t,3e4)}function $0(t){return(t??"online")==="online"?Du.isOnline():!0}var gm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function B0(t){let e=!1,r=0,n;const o=BE(),l=()=>o.status!=="pending",c=j=>{if(!l()){const w=new gm(j);b(w),t.onCancel?.(w)}},d=()=>{e=!0},h=()=>{e=!1},m=()=>U0.isFocused()&&(t.networkMode==="always"||Du.isOnline())&&t.canRun(),p=()=>$0(t.networkMode)&&t.canRun(),x=j=>{l()||(n?.(),o.resolve(j))},b=j=>{l()||(n?.(),o.reject(j))},N=()=>new Promise(j=>{n=w=>{(l()||m())&&j(w)},t.onPause?.()}).then(()=>{n=void 0,l()||t.onContinue?.()}),_=()=>{if(l())return;let j;const w=r===0?t.initialPromise:void 0;try{j=w??t.fn()}catch(C){j=Promise.reject(C)}Promise.resolve(j).then(x).catch(C=>{if(l())return;const k=t.retry??(dd?0:3),E=t.retryDelay??KE,A=typeof E=="function"?E(r,C):E,L=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,C);if(e||!L){b(C);return}r++,t.onFail?.(r,C),DE(A).then(()=>m()?void 0:N()).then(()=>{e?b(C):_()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(n?.(),o),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?_():N().then(_),o)}}var q0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AE(this.gcTime)&&(this.#e=hm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(hm.clearTimeout(this.#e),this.#e=void 0)}},HE=class extends q0{#e;#r;#t;#s;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#t=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Dv(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Dv(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const r=ME(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>OE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!RE(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},o=()=>{const d=V0(this.options,e),m=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#r=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=B0({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof gm&&d.revert&&this.setState({...this.#r,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#t.config.onSuccess?.(d,this),this.#t.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof gm){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#t.config.onError?.(d,this),this.#t.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...GE(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#r=t.manual?n:void 0,n;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function GE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Mv(t){return{onFetch:(e,r)=>{const n=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let p=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=V0(e.options,e.fetchOptions),N=async(_,j,w)=>{if(p)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:j,direction:w?"backward":"forward",meta:e.options.meta};return x(V),V})(),E=await b(k),{maxPages:A}=e.options,L=w?VE:FE;return{pages:L(_.pages,E,A),pageParams:L(_.pageParams,j,A)}};if(o&&l.length){const _=o==="backward",j=_?QE:Fv,w={pages:l,pageParams:c},C=j(n,w);d=await N(w,C,_)}else{const _=t??l.length;do{const j=h===0?c[0]??n.initialPageParam:Fv(n,d);if(h>0&&j==null)break;d=await N(d,j),h++}while(h<_)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function Fv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function QE(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var JE=class extends q0{#e;#r;#t;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#r=[],this.state=t.state||z0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#r.includes(t)||(this.#r.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#r=this.#r.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#r.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=B0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",o=!this.#s.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:o}),await this.#t.config.onMutate?.(t,this,r);const c=await this.options.onMutate?.(t,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:t,isPaused:o})}const l=await this.#s.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this,r),await this.options.onSuccess?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,t,this.state.context,r),this.#n({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this,r),await this.options.onError?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,t,this.state.context,r),l}finally{this.#n({type:"error",error:l})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pr.batch(()=>{this.#r.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function z0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ZE=class extends Ol{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#r=new Map,this.#t=0}#e;#r;#t;build(t,e,r){const n=new JE({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=nu(t);if(typeof e=="string"){const r=this.#r.get(e);r?r.push(t):this.#r.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nu(t);if(typeof e=="string"){const r=this.#r.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#r.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nu(t);if(typeof e=="string"){const n=this.#r.get(e)?.find(o=>o.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=nu(t);return typeof e=="string"?this.#r.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#r.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Ov(e,r))}findAll(t={}){return this.getAll().filter(e=>Ov(t,e))}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pr.batch(()=>Promise.all(t.map(e=>e.continue().catch(dn))))}};function nu(t){return t.options.scope?.id}var YE=class extends Ol{#e;#r=void 0;#t;#s;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),LE(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ai(r.mutationKey)!==Ai(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#o(e)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#n(),this.#o()}mutate(e,r){return this.#s=r,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#n(){const e=this.#t?.state??z0();this.#r={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){pr.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#r.variables,n=this.#r.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,r,n,o),this.#s.onSettled?.(e.data,null,r,n,o)):e?.type==="error"&&(this.#s.onError?.(e.error,r,n,o),this.#s.onSettled?.(void 0,e.error,r,n,o))}this.listeners.forEach(r=>{r(this.#r)})})}},XE=class extends Ol{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,o=e.queryHash??mp(n,e);let l=this.get(o);return l||(l=new HE({client:t,queryKey:n,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Rv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Rv(t,r)):e}notify(t){pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},eT=class{#e;#r;#t;#s;#n;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new XE,this.#r=t.mutationCache||new ZE,this.#t=t.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=U0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Du.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#r.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mm(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(n.queryHash)?.state.data,c=PE(e,l);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return pr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;pr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return pr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=pr.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then(dn).catch(dn)}invalidateQueries(t,e={}){return pr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=pr.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,r);return r.throwOnError||(l=l.catch(dn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(mm(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=Mv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=Mv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Du.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#r}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#s.set(Ai(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{ol(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(Ai(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{ol(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#r.clear()}},W0=v.createContext(void 0),tT=t=>{const e=v.useContext(W0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rT=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(W0.Provider,{value:t,children:e}));function K0(t,e){const r=tT(),[n]=v.useState(()=>new YE(r,t));v.useEffect(()=>{n.setOptions(t)},[n,t]);const o=v.useSyncExternalStore(v.useCallback(c=>n.subscribe(pr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=v.useCallback((c,d)=>{n.mutate(c,d).catch(dn)},[n]);if(o.error&&UE(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function nT(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const sT=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e[0],{credentials:"include"});return await nT(r),await r.json()},iT=new eT({defaultOptions:{queries:{queryFn:sT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),oT=1,aT=1e6;let Sh=0;function lT(){return Sh=(Sh+1)%Number.MAX_SAFE_INTEGER,Sh.toString()}const _h=new Map,Vv=t=>{if(_h.has(t))return;const e=setTimeout(()=>{_h.delete(t),Ga({type:"REMOVE_TOAST",toastId:t})},aT);_h.set(t,e)},cT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,oT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Vv(r):t.toasts.forEach(n=>{Vv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},ku=[];let Cu={toasts:[]};function Ga(t){Cu=cT(Cu,t),ku.forEach(e=>{e(Cu)})}function uT({...t}){const e=lT(),r=o=>Ga({type:"UPDATE_TOAST",toast:{...o,id:e}}),n=()=>Ga({type:"DISMISS_TOAST",toastId:e});return Ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||n()}}}),{id:e,dismiss:n,update:r}}function gp(){const[t,e]=v.useState(Cu);return v.useEffect(()=>(ku.push(e),()=>{const r=ku.indexOf(e);r>-1&&ku.splice(r,1)}),[t]),{...t,toast:uT,dismiss:r=>Ga({type:"DISMISS_TOAST",toastId:r})}}var xp=C0();const dT=up(xp);function Zt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Uv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function H0(...t){return e=>{let r=!1;const n=t.map(o=>{const l=Uv(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Uv(t[o],null)}}}}function Yr(...t){return v.useCallback(H0(...t),t)}function fT(t,e){const r=v.createContext(e),n=l=>{const{children:c,...d}=l,h=v.useMemo(()=>d,Object.values(d));return i.jsx(r.Provider,{value:h,children:c})};n.displayName=t+"Provider";function o(l){const c=v.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,o]}function Qo(t,e=[]){let r=[];function n(l,c){const d=v.createContext(c),h=r.length;r=[...r,c];const m=x=>{const{scope:b,children:N,..._}=x,j=b?.[t]?.[h]||d,w=v.useMemo(()=>_,Object.values(_));return i.jsx(j.Provider,{value:w,children:N})};m.displayName=l+"Provider";function p(x,b){const N=b?.[t]?.[h]||d,_=v.useContext(N);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,p]}const o=()=>{const l=r.map(c=>v.createContext(c));return function(d){const h=d?.[t]||l;return v.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[n,hT(o,...e)]}function hT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((d,{useScope:h,scopeName:m})=>{const x=h(l)[`__scope${m}`];return{...d,...x}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function al(t){const e=mT(t),r=v.forwardRef((n,o)=>{const{children:l,...c}=n,d=v.Children.toArray(l),h=d.find(gT);if(h){const m=h.props.children,p=d.map(x=>x===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...c,ref:o,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return i.jsx(e,{...c,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}var G0=al("Slot");function mT(t){const e=v.forwardRef((r,n)=>{const{children:o,...l}=r;if(v.isValidElement(o)){const c=yT(o),d=xT(l,o.props);return o.type!==v.Fragment&&(d.ref=n?H0(n,c):c),v.cloneElement(o,d)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pT=Symbol("radix.slottable");function gT(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pT}function xT(t,e){const r={...e};for(const n in e){const o=t[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function yT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Q0(t){const e=t+"CollectionProvider",[r,n]=Qo(e),[o,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:w,children:C}=j,k=Fe.useRef(null),E=Fe.useRef(new Map).current;return i.jsx(o,{scope:w,itemMap:E,collectionRef:k,children:C})};c.displayName=e;const d=t+"CollectionSlot",h=al(d),m=Fe.forwardRef((j,w)=>{const{scope:C,children:k}=j,E=l(d,C),A=Yr(w,E.collectionRef);return i.jsx(h,{ref:A,children:k})});m.displayName=d;const p=t+"CollectionItemSlot",x="data-radix-collection-item",b=al(p),N=Fe.forwardRef((j,w)=>{const{scope:C,children:k,...E}=j,A=Fe.useRef(null),L=Yr(w,A),V=l(p,C);return Fe.useEffect(()=>(V.itemMap.set(A,{ref:A,...E}),()=>void V.itemMap.delete(A))),i.jsx(b,{[x]:"",ref:L,children:k})});N.displayName=p;function _(j){const w=l(t+"CollectionConsumer",j);return Fe.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const E=Array.from(k.querySelectorAll(`[${x}]`));return Array.from(w.itemMap.values()).sort((V,H)=>E.indexOf(V.ref.current)-E.indexOf(H.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:N},_,n]}var vT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=vT.reduce((t,e)=>{const r=al(`Primitive.${e}`),n=v.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function J0(t,e){t&&xp.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>e.current?.(...r),[])}function bT(t,e=globalThis?.document){const r=qn(t);v.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var wT="DismissableLayer",xm="dismissableLayer.update",jT="dismissableLayer.pointerDownOutside",NT="dismissableLayer.focusOutside",$v,Z0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yp=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,m=v.useContext(Z0),[p,x]=v.useState(null),b=p?.ownerDocument??globalThis?.document,[,N]=v.useState({}),_=Yr(e,H=>x(H)),j=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(w),k=p?j.indexOf(p):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,L=_T(H=>{const Z=H.target,O=[...m.branches].some(Q=>Q.contains(Z));!A||O||(o?.(H),c?.(H),H.defaultPrevented||d?.())},b),V=kT(H=>{const Z=H.target;[...m.branches].some(Q=>Q.contains(Z))||(l?.(H),c?.(H),H.defaultPrevented||d?.())},b);return bT(H=>{k===m.layers.size-1&&(n?.(H),!H.defaultPrevented&&d&&(H.preventDefault(),d()))},b),v.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($v=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Bv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=$v)}},[p,b,r,m]),v.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Bv())},[p,m]),v.useEffect(()=>{const H=()=>N({});return document.addEventListener(xm,H),()=>document.removeEventListener(xm,H)},[]),i.jsx(Ct.div,{...h,ref:_,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:Zt(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Zt(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Zt(t.onPointerDownCapture,L.onPointerDownCapture)})});yp.displayName=wT;var ST="DismissableLayerBranch",Y0=v.forwardRef((t,e)=>{const r=v.useContext(Z0),n=v.useRef(null),o=Yr(e,n);return v.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),i.jsx(Ct.div,{...t,ref:o})});Y0.displayName=ST;function _T(t,e=globalThis?.document){const r=qn(t),n=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let h=function(){X0(jT,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function kT(t,e=globalThis?.document){const r=qn(t),n=v.useRef(!1);return v.useEffect(()=>{const o=l=>{l.target&&!n.current&&X0(NT,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bv(){const t=new CustomEvent(xm);document.dispatchEvent(t)}function X0(t,e,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?J0(o,l):o.dispatchEvent(l)}var CT=yp,ET=Y0,zn=globalThis?.document?v.useLayoutEffect:()=>{},TT="Portal",vp=v.forwardRef((t,e)=>{const{container:r,...n}=t,[o,l]=v.useState(!1);zn(()=>l(!0),[]);const c=r||o&&globalThis?.document?.body;return c?dT.createPortal(i.jsx(Ct.div,{...n,ref:e}),c):null});vp.displayName=TT;function PT(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var Jo=t=>{const{present:e,children:r}=t,n=AT(e),o=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),l=Yr(n.ref,RT(o));return typeof r=="function"||n.isPresent?v.cloneElement(o,{ref:l}):null};Jo.displayName="Presence";function AT(t){const[e,r]=v.useState(),n=v.useRef(null),o=v.useRef(t),l=v.useRef("none"),c=t?"mounted":"unmounted",[d,h]=PT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=su(n.current);l.current=d==="mounted"?m:"none"},[d]),zn(()=>{const m=n.current,p=o.current;if(p!==t){const b=l.current,N=su(m);t?h("MOUNT"):N==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&b!==N?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),zn(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,x=N=>{const j=su(n.current).includes(CSS.escape(N.animationName));if(N.target===e&&j&&(h("ANIMATION_END"),!o.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},b=N=>{N.target===e&&(l.current=su(n.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function su(t){return t?.animationName||"none"}function RT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var OT=dp[" useInsertionEffect ".trim().toString()]||zn;function Il({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[o,l,c]=IT({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:o;{const p=v.useRef(t!==void 0);v.useEffect(()=>{const x=p.current;x!==d&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const m=v.useCallback(p=>{if(d){const x=LT(p)?p(t):p;x!==t&&c.current?.(x)}else l(p)},[d,t,l,c]);return[h,m]}function IT({defaultProp:t,onChange:e}){const[r,n]=v.useState(t),o=v.useRef(r),l=v.useRef(e);return OT(()=>{l.current=e},[e]),v.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,n,l]}function LT(t){return typeof t=="function"}var DT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MT="VisuallyHidden",bp=v.forwardRef((t,e)=>i.jsx(Ct.span,{...t,ref:e,style:{...DT,...t.style}}));bp.displayName=MT;var wp="ToastProvider",[jp,FT,VT]=Q0("Toast"),[ej]=Qo("Toast",[VT]),[UT,fd]=ej(wp),tj=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=t,[d,h]=v.useState(null),[m,p]=v.useState(0),x=v.useRef(!1),b=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wp}\`. Expected non-empty \`string\`.`),i.jsx(jp.Provider,{scope:e,children:i.jsx(UT,{scope:e,label:r,duration:n,swipeDirection:o,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:v.useCallback(()=>p(N=>N+1),[]),onToastRemove:v.useCallback(()=>p(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:b,children:c})})};tj.displayName=wp;var rj="ToastViewport",$T=["F8"],ym="toast.viewportPause",vm="toast.viewportResume",nj=v.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=$T,label:o="Notifications ({hotkey})",...l}=t,c=fd(rj,r),d=FT(r),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),x=v.useRef(null),b=Yr(e,x,c.onViewportChange),N=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=c.toastCount>0;v.useEffect(()=>{const w=C=>{n.length!==0&&n.every(E=>C[E]||C.code===E)&&x.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),v.useEffect(()=>{const w=h.current,C=x.current;if(_&&w&&C){const k=()=>{if(!c.isClosePausedRef.current){const V=new CustomEvent(ym);C.dispatchEvent(V),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const V=new CustomEvent(vm);C.dispatchEvent(V),c.isClosePausedRef.current=!1}},A=V=>{!w.contains(V.relatedTarget)&&E()},L=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",k),w.addEventListener("focusout",A),w.addEventListener("pointermove",k),w.addEventListener("pointerleave",L),window.addEventListener("blur",k),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",k),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",k),w.removeEventListener("pointerleave",L),window.removeEventListener("blur",k),window.removeEventListener("focus",E)}}},[_,c.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:w})=>{const k=d().map(E=>{const A=E.ref.current,L=[A,...e2(A)];return w==="forwards"?L:L.reverse()});return(w==="forwards"?k.reverse():k).flat()},[d]);return v.useEffect(()=>{const w=x.current;if(w){const C=k=>{const E=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!E){const L=document.activeElement,V=k.shiftKey;if(k.target===w&&V){m.current?.focus();return}const O=j({tabbingDirection:V?"backwards":"forwards"}),Q=O.findIndex(re=>re===L);kh(O.slice(Q+1))?k.preventDefault():V?m.current?.focus():p.current?.focus()}};return w.addEventListener("keydown",C),()=>w.removeEventListener("keydown",C)}},[d,j]),i.jsxs(ET,{ref:h,role:"region","aria-label":o.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&i.jsx(bm,{ref:m,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"forwards"});kh(w)}}),i.jsx(jp.Slot,{scope:r,children:i.jsx(Ct.ol,{tabIndex:-1,...l,ref:b})}),_&&i.jsx(bm,{ref:p,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"backwards"});kh(w)}})]})});nj.displayName=rj;var sj="ToastFocusProxy",bm=v.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=t,l=fd(sj,r);return i.jsx(bp,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&n()}})});bm.displayName=sj;var Ll="Toast",BT="toast.swipeStart",qT="toast.swipeMove",zT="toast.swipeCancel",WT="toast.swipeEnd",ij=v.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:l,...c}=t,[d,h]=Il({prop:n,defaultProp:o??!0,onChange:l,caller:Ll});return i.jsx(Jo,{present:r||d,children:i.jsx(GT,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:Zt(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Zt(t.onSwipeMove,m=>{const{x:p,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Zt(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Zt(t.onSwipeEnd,m=>{const{x:p,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),h(!1)})})})});ij.displayName=Ll;var[KT,HT]=ej(Ll,{onClose(){}}),GT=v.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:x,onSwipeCancel:b,onSwipeEnd:N,..._}=t,j=fd(Ll,r),[w,C]=v.useState(null),k=Yr(e,te=>C(te)),E=v.useRef(null),A=v.useRef(null),L=o||j.duration,V=v.useRef(0),H=v.useRef(L),Z=v.useRef(0),{onToastAdd:O,onToastRemove:Q}=j,re=qn(()=>{w?.contains(document.activeElement)&&j.viewport?.focus(),c()}),D=v.useCallback(te=>{!te||te===1/0||(window.clearTimeout(Z.current),V.current=new Date().getTime(),Z.current=window.setTimeout(re,te))},[re]);v.useEffect(()=>{const te=j.viewport;if(te){const ke=()=>{D(H.current),m?.()},Ce=()=>{const ne=new Date().getTime()-V.current;H.current=H.current-ne,window.clearTimeout(Z.current),h?.()};return te.addEventListener(ym,Ce),te.addEventListener(vm,ke),()=>{te.removeEventListener(ym,Ce),te.removeEventListener(vm,ke)}}},[j.viewport,L,h,m,D]),v.useEffect(()=>{l&&!j.isClosePausedRef.current&&D(L)},[l,L,j.isClosePausedRef,D]),v.useEffect(()=>(O(),()=>Q()),[O,Q]);const G=v.useMemo(()=>w?fj(w):null,[w]);return j.viewport?i.jsxs(i.Fragment,{children:[G&&i.jsx(QT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:G}),i.jsx(KT,{scope:r,onClose:re,children:xp.createPortal(i.jsx(jp.ItemSlot,{scope:r,children:i.jsx(CT,{asChild:!0,onEscapeKeyDown:Zt(d,()=>{j.isFocusedToastEscapeKeyDownRef.current||re(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ct.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,..._,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Zt(t.onKeyDown,te=>{te.key==="Escape"&&(d?.(te.nativeEvent),te.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:Zt(t.onPointerDown,te=>{te.button===0&&(E.current={x:te.clientX,y:te.clientY})}),onPointerMove:Zt(t.onPointerMove,te=>{if(!E.current)return;const ke=te.clientX-E.current.x,Ce=te.clientY-E.current.y,ne=!!A.current,X=["left","right"].includes(j.swipeDirection),me=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ce=X?me(0,ke):0,R=X?0:me(0,Ce),ee=te.pointerType==="touch"?10:2,Ie={x:ce,y:R},Ve={originalEvent:te,delta:Ie};ne?(A.current=Ie,iu(qT,x,Ve,{discrete:!1})):qv(Ie,j.swipeDirection,ee)?(A.current=Ie,iu(BT,p,Ve,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(ke)>ee||Math.abs(Ce)>ee)&&(E.current=null)}),onPointerUp:Zt(t.onPointerUp,te=>{const ke=A.current,Ce=te.target;if(Ce.hasPointerCapture(te.pointerId)&&Ce.releasePointerCapture(te.pointerId),A.current=null,E.current=null,ke){const ne=te.currentTarget,X={originalEvent:te,delta:ke};qv(ke,j.swipeDirection,j.swipeThreshold)?iu(WT,N,X,{discrete:!0}):iu(zT,b,X,{discrete:!0}),ne.addEventListener("click",me=>me.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),QT=t=>{const{__scopeToast:e,children:r,...n}=t,o=fd(Ll,e),[l,c]=v.useState(!1),[d,h]=v.useState(!1);return YT(()=>c(!0)),v.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:i.jsx(vp,{asChild:!0,children:i.jsx(bp,{...n,children:l&&i.jsxs(i.Fragment,{children:[o.label," ",r]})})})},JT="ToastTitle",oj=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ct.div,{...n,ref:e})});oj.displayName=JT;var ZT="ToastDescription",aj=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ct.div,{...n,ref:e})});aj.displayName=ZT;var lj="ToastAction",cj=v.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(dj,{altText:r,asChild:!0,children:i.jsx(Np,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lj}\`. Expected non-empty \`string\`.`),null)});cj.displayName=lj;var uj="ToastClose",Np=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,o=HT(uj,r);return i.jsx(dj,{asChild:!0,children:i.jsx(Ct.button,{type:"button",...n,ref:e,onClick:Zt(t.onClick,o.onClose)})})});Np.displayName=uj;var dj=v.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...o}=t;return i.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:e})});function fj(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),XT(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...fj(n))}}),e}function iu(t,e,r,{discrete:n}){const o=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?J0(o,l):o.dispatchEvent(l)}var qv=(t,e,r=0)=>{const n=Math.abs(t.x),o=Math.abs(t.y),l=n>o;return e==="left"||e==="right"?l&&n>r:!l&&o>r};function YT(t=()=>{}){const e=qn(t);zn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function XT(t){return t.nodeType===t.ELEMENT_NODE}function e2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kh(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var t2=tj,hj=nj,mj=ij,pj=oj,gj=aj,xj=cj,yj=Np;function vj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=vj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function bj(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=vj(t))&&(n&&(n+=" "),n+=e);return n}const zv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wv=bj,Sp=(t,e)=>r=>{var n;if(e?.variants==null)return Wv(t,r?.class,r?.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(m=>{const p=r?.[m],x=l?.[m];if(p===null)return null;const b=zv(p)||zv(x);return o[m][b]}),d=r&&Object.entries(r).reduce((m,p)=>{let[x,b]=p;return b===void 0||(m[x]=b),m},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,p)=>{let{class:x,className:b,...N}=p;return Object.entries(N).every(_=>{let[j,w]=_;return Array.isArray(w)?w.includes({...l,...d}[j]):{...l,...d}[j]===w})?[...m,x,b]:m},[]);return Wv(t,c,h,r?.class,r?.className)};const r2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wj=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var n2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s2=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},h)=>v.createElement("svg",{ref:h,...n2,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:wj("lucide",o),...d},[...c.map(([m,p])=>v.createElement(m,p)),...Array.isArray(l)?l:[l]]));const Xe=(t,e)=>{const r=v.forwardRef(({className:n,...o},l)=>v.createElement(s2,{ref:l,iconNode:e,className:wj(`lucide-${r2(t)}`,n),...o}));return r.displayName=`${t}`,r};const i2=Xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const o2=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Kv=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Ch=Xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const a2=Xe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const l2=Xe("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const c2=Xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const u2=Xe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const d2=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const f2=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const h2=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const jj=Xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const hd=Xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const m2=Xe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const p2=Xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const g2=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const x2=Xe("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const y2=Xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const v2=Xe("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const b2=Xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const w2=Xe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const j2=Xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Nj=Xe("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);const Sj=Xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const _p=Xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const wm=Xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const N2=Xe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const kp=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ws=Xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const S2=Xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const _j=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const _2=Xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const k2=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Mu=Xe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Tn=Xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Cp=Xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const C2=Xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const E2=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ep=Xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const T2=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const kj=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const P2=Xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const zs=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const A2=Xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tp="-",R2=t=>{const e=I2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const d=c.split(Tp);return d[0]===""&&d.length!==1&&d.shift(),Cj(d,e)||O2(c)},getConflictingClassGroupIds:(c,d)=>{const h=r[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},Cj=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?Cj(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(Tp);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Hv=/^\[(.+)\]$/,O2=t=>{if(Hv.test(t)){const e=Hv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},I2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return D2(Object.entries(t.classGroups),r).forEach(([l,c])=>{jm(c,n,l,e)}),n},jm=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Gv(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(L2(o)){jm(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{jm(c,Gv(e,l),r,n)})})},Gv=(t,e)=>{let r=t;return e.split(Tp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},L2=t=>t.isThemeGetter,D2=(t,e)=>e?t.map(([r,n])=>{const o=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[r,o]}):t,M2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},Ej="!",F2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],l=e.length,c=d=>{const h=[];let m=0,p=0,x;for(let w=0;w<d.length;w++){let C=d[w];if(m===0){if(C===o&&(n||d.slice(w,w+l)===e)){h.push(d.slice(p,w)),p=w+l;continue}if(C==="/"){x=w;continue}}C==="["?m++:C==="]"&&m--}const b=h.length===0?d:d.substring(p),N=b.startsWith(Ej),_=N?b.substring(1):b,j=x&&x>p?x-p:void 0;return{modifiers:h,hasImportantModifier:N,baseClassName:_,maybePostfixModifierPosition:j}};return r?d=>r({className:d,parseClassName:c}):c},V2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},U2=t=>({cache:M2(t.cacheSize),parseClassName:F2(t),...R2(t)}),$2=/\s+/,B2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,l=[],c=t.trim().split($2);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{modifiers:p,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:N}=r(m);let _=!!N,j=n(_?b.substring(0,N):b);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(b),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const w=V2(p).join(":"),C=x?w+Ej:w,k=C+j;if(l.includes(k))continue;l.push(k);const E=o(j,_);for(let A=0;A<E.length;++A){const L=E[A];l.push(C+L)}d=m+(d.length>0?" "+d:d)}return d};function q2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Tj(e))&&(n&&(n+=" "),n+=r);return n}const Tj=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Tj(t[n]))&&(r&&(r+=" "),r+=e);return r};function z2(t,...e){let r,n,o,l=c;function c(h){const m=e.reduce((p,x)=>x(p),t());return r=U2(m),n=r.cache.get,o=r.cache.set,l=d,d(h)}function d(h){const m=n(h);if(m)return m;const p=B2(h,r);return o(h,p),p}return function(){return l(q2.apply(null,arguments))}}const _t=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Pj=/^\[(?:([a-z-]+):)?(.+)\]$/i,W2=/^\d+\/\d+$/,K2=new Set(["px","full","screen"]),H2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>Ao(t)||K2.has(t)||W2.test(t),Fs=t=>Zo(t,"length",iP),Ao=t=>!!t&&!Number.isNaN(Number(t)),Eh=t=>Zo(t,"number",Ao),Va=t=>!!t&&Number.isInteger(Number(t)),Y2=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),rt=t=>Pj.test(t),Vs=t=>H2.test(t),X2=new Set(["length","size","percentage"]),eP=t=>Zo(t,X2,Aj),tP=t=>Zo(t,"position",Aj),rP=new Set(["image","url"]),nP=t=>Zo(t,rP,aP),sP=t=>Zo(t,"",oP),Ua=()=>!0,Zo=(t,e,r)=>{const n=Pj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},iP=t=>G2.test(t)&&!Q2.test(t),Aj=()=>!1,oP=t=>J2.test(t),aP=t=>Z2.test(t),lP=()=>{const t=_t("colors"),e=_t("spacing"),r=_t("blur"),n=_t("brightness"),o=_t("borderColor"),l=_t("borderRadius"),c=_t("borderSpacing"),d=_t("borderWidth"),h=_t("contrast"),m=_t("grayscale"),p=_t("hueRotate"),x=_t("invert"),b=_t("gap"),N=_t("gradientColorStops"),_=_t("gradientColorStopPositions"),j=_t("inset"),w=_t("margin"),C=_t("opacity"),k=_t("padding"),E=_t("saturate"),A=_t("scale"),L=_t("sepia"),V=_t("skew"),H=_t("space"),Z=_t("translate"),O=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",rt,e],D=()=>[rt,e],G=()=>["",ss,Fs],te=()=>["auto",Ao,rt],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",rt],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Ao,rt];return{cacheSize:500,separator:":",theme:{colors:[Ua],spacing:[ss,Fs],blur:["none","",Vs,rt],brightness:R(),borderColor:[t],borderRadius:["none","","full",Vs,rt],borderSpacing:D(),borderWidth:G(),contrast:R(),grayscale:me(),hueRotate:R(),invert:me(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[Y2,Fs],inset:re(),margin:re(),opacity:R(),padding:D(),saturate:R(),scale:R(),sepia:me(),skew:R(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),rt]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Va,rt]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Va,rt]}],"grid-cols":[{"grid-cols":[Ua]}],"col-start-end":[{col:["auto",{span:["full",Va,rt]},rt]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Ua]}],"row-start-end":[{row:["auto",{span:[Va,rt]},rt]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eh]}],"font-family":[{font:[Ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Ao,Eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Fs]}],"underline-offset":[{"underline-offset":["auto",ss,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),tP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[ss,rt]}],"outline-w":[{outline:[ss,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[ss,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vs,sP]}],"shadow-color":[{shadow:[Ua]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Vs,rt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[E]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Va,rt]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ss,Fs,Eh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cP=z2(lP);function pt(...t){return cP(bj(t))}const uP=t2,Rj=v.forwardRef(({className:t,...e},r)=>i.jsx(hj,{ref:r,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Rj.displayName=hj.displayName;const dP=Sp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Oj=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(mj,{ref:n,className:pt(dP({variant:e}),t),...r}));Oj.displayName=mj.displayName;const fP=v.forwardRef(({className:t,...e},r)=>i.jsx(xj,{ref:r,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fP.displayName=xj.displayName;const Ij=v.forwardRef(({className:t,...e},r)=>i.jsx(yj,{ref:r,className:pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(zs,{className:"h-4 w-4"})}));Ij.displayName=yj.displayName;const Lj=v.forwardRef(({className:t,...e},r)=>i.jsx(pj,{ref:r,className:pt("text-sm font-semibold",t),...e}));Lj.displayName=pj.displayName;const Dj=v.forwardRef(({className:t,...e},r)=>i.jsx(gj,{ref:r,className:pt("text-sm opacity-90",t),...e}));Dj.displayName=gj.displayName;function hP(){const{toasts:t}=gp();return i.jsxs(uP,{children:[t.map(function({id:e,title:r,description:n,action:o,...l}){return i.jsxs(Oj,{...l,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Lj,{children:r}),n&&i.jsx(Dj,{children:n})]}),o,i.jsx(Ij,{})]},e)}),i.jsx(Rj,{})]})}const Pp=v.createContext({});function Ap(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const md=v.createContext(null),Rp=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mP extends v.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pP({children:t,isPresent:e}){const r=v.useId(),n=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=v.useContext(Rp);return v.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m}=o.current;if(e||!n.current||!c||!d)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return l&&(p.nonce=l),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),i.jsx(mP,{isPresent:e,childRef:n,sizeRef:o,children:v.cloneElement(t,{ref:n})})}const gP=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:c})=>{const d=Ap(xP),h=v.useId(),m=v.useCallback(x=>{d.set(x,!0);for(const b of d.values())if(!b)return;n&&n()},[d,n]),p=v.useMemo(()=>({id:h,initial:e,isPresent:r,custom:o,onExitComplete:m,register:x=>(d.set(x,!1),()=>d.delete(x))}),l?[Math.random(),m]:[r,m]);return v.useMemo(()=>{d.forEach((x,b)=>d.set(b,!1))},[r]),v.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),c==="popLayout"&&(t=i.jsx(pP,{isPresent:r,children:t})),i.jsx(md.Provider,{value:p,children:t})};function xP(){return new Map}function Mj(t=!0){const e=v.useContext(md);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=e,l=v.useId();v.useEffect(()=>{t&&o(l)},[t]);const c=v.useCallback(()=>t&&n&&n(l),[l,n,t]);return!r&&n?[!1,c]:[!0]}const ou=t=>t.key||"";function Qv(t){const e=[];return v.Children.forEach(t,r=>{v.isValidElement(r)&&e.push(r)}),e}const Op=typeof window<"u",Fj=Op?v.useLayoutEffect:v.useEffect,yP=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1})=>{const[d,h]=Mj(c),m=v.useMemo(()=>Qv(t),[t]),p=c&&!d?[]:m.map(ou),x=v.useRef(!0),b=v.useRef(m),N=Ap(()=>new Map),[_,j]=v.useState(m),[w,C]=v.useState(m);Fj(()=>{x.current=!1,b.current=m;for(let A=0;A<w.length;A++){const L=ou(w[A]);p.includes(L)?N.delete(L):N.get(L)!==!0&&N.set(L,!1)}},[w,p.length,p.join("-")]);const k=[];if(m!==_){let A=[...m];for(let L=0;L<w.length;L++){const V=w[L],H=ou(V);p.includes(H)||(A.splice(L,0,V),k.push(V))}l==="wait"&&k.length&&(A=k),C(Qv(A)),j(m);return}const{forceRender:E}=v.useContext(Pp);return i.jsx(i.Fragment,{children:w.map(A=>{const L=ou(A),V=c&&!d?!1:m===w||p.includes(L),H=()=>{if(N.has(L))N.set(L,!0);else return;let Z=!0;N.forEach(O=>{O||(Z=!1)}),Z&&(E?.(),C(b.current),c&&h?.(),n&&n())};return i.jsx(gP,{isPresent:V,initial:!x.current||r?void 0:!1,custom:V?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:V?void 0:H,children:A},L)})})},Jr=t=>t;let Vj=Jr;function Ip(t){let e;return()=>(e===void 0&&(e=t()),e)}const $o=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},us=t=>t*1e3,ds=t=>t/1e3,vP={useManualTiming:!1};function bP(t){let e=new Set,r=new Set,n=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,p=!1,x=!1)=>{const N=x&&n?e:r;return p&&l.add(m),N.has(m)||N.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,n){o=!0;return}n=!0,[e,r]=[r,e],e.forEach(d),e.clear(),n=!1,o&&(o=!1,h.process(m))}};return h}const au=["read","resolveKeyframes","update","preRender","render","postRender"],wP=40;function Uj(t,e){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=au.reduce((C,k)=>(C[k]=bP(l),C),{}),{read:d,resolveKeyframes:h,update:m,preRender:p,render:x,postRender:b}=c,N=()=>{const C=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(C-o.timestamp,wP),1),o.timestamp=C,o.isProcessing=!0,d.process(o),h.process(o),m.process(o),p.process(o),x.process(o),b.process(o),o.isProcessing=!1,r&&e&&(n=!1,t(N))},_=()=>{r=!0,n=!0,o.isProcessing||t(N)};return{schedule:au.reduce((C,k)=>{const E=c[k];return C[k]=(A,L=!1,V=!1)=>(r||_(),E.schedule(A,L,V)),C},{}),cancel:C=>{for(let k=0;k<au.length;k++)c[au[k]].cancel(C)},state:o,steps:c}}const{schedule:kt,cancel:Ks,state:mr,steps:Th}=Uj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jr,!0),$j=v.createContext({strict:!1}),Jv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in Jv)Bo[t]={isEnabled:e=>Jv[t].some(r=>!!e[r])};function jP(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const NP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NP.has(t)}let Bj=t=>!Fu(t);function SP(t){t&&(Bj=e=>e.startsWith("on")?!Fu(e):t(e))}try{SP(require("@emotion/is-prop-valid").default)}catch{}function _P(t,e,r){const n={};for(const o in t)o==="values"&&typeof t.values=="object"||(Bj(o)||r===!0&&Fu(o)||!e&&!Fu(o)||t.draggable&&o.startsWith("onDrag"))&&(n[o]=t[o]);return n}function kP(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const pd=v.createContext({});function ll(t){return typeof t=="string"||Array.isArray(t)}function gd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Lp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dp=["initial",...Lp];function xd(t){return gd(t.animate)||Dp.some(e=>ll(t[e]))}function qj(t){return!!(xd(t)||t.variants)}function CP(t,e){if(xd(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ll(r)?r:void 0,animate:ll(n)?n:void 0}}return t.inherit!==!1?e:{}}function EP(t){const{initial:e,animate:r}=CP(t,v.useContext(pd));return v.useMemo(()=>({initial:e,animate:r}),[Zv(e),Zv(r)])}function Zv(t){return Array.isArray(t)?t.join(" "):t}const TP=Symbol.for("motionComponentSymbol");function _o(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PP(t,e,r){return v.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):_o(r)&&(r.current=n))},[e])}const Mp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AP="framerAppearId",zj="data-"+Mp(AP),{schedule:Fp}=Uj(queueMicrotask,!1),Wj=v.createContext({});function RP(t,e,r,n,o){var l,c;const{visualElement:d}=v.useContext(pd),h=v.useContext($j),m=v.useContext(md),p=v.useContext(Rp).reducedMotion,x=v.useRef(null);n=n||h.renderer,!x.current&&n&&(x.current=n(t,{visualState:e,parent:d,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const b=x.current,N=v.useContext(Wj);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&OP(x.current,r,o,N);const _=v.useRef(!1);v.useInsertionEffect(()=>{b&&_.current&&b.update(r,m)});const j=r[zj],w=v.useRef(!!j&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,j))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,j)));return Fj(()=>{b&&(_.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Fp.render(b.render),w.current&&b.animationState&&b.animationState.animateChanges())}),v.useEffect(()=>{b&&(!w.current&&b.animationState&&b.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,j)}),w.current=!1))}),b}function OP(t,e,r,n){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Kj(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&_o(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,layoutScroll:h,layoutRoot:m})}function Kj(t){if(t)return t.options.allowProjection!==!1?t.projection:Kj(t.parent)}function IP({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:o}){var l,c;t&&jP(t);function d(m,p){let x;const b={...v.useContext(Rp),...m,layoutId:LP(m)},{isStatic:N}=b,_=EP(m),j=n(m,N);if(!N&&Op){DP();const w=MP(b);x=w.MeasureLayout,_.visualElement=RP(o,j,b,e,w.ProjectionNode)}return i.jsxs(pd.Provider,{value:_,children:[x&&_.visualElement?i.jsx(x,{visualElement:_.visualElement,...b}):null,r(o,m,PP(j,_.visualElement,p),j,N,_.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=v.forwardRef(d);return h[TP]=o,h}function LP({layoutId:t}){const e=v.useContext(Pp).id;return e&&t!==void 0?e+"-"+t:t}function DP(t,e){v.useContext($j).strict}function MP(t){const{drag:e,layout:r}=Bo;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const FP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(t){return typeof t!="string"||t.includes("-")?!1:!!(FP.indexOf(t)>-1||/[A-Z]/u.test(t))}function Yv(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Up(t,e,r,n){if(typeof e=="function"){const[o,l]=Yv(n);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Yv(n);e=e(r!==void 0?r:t.custom,o,l)}return e}const Nm=t=>Array.isArray(t),VP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),UP=t=>Nm(t)?t[t.length-1]||0:t,Nr=t=>!!(t&&t.getVelocity);function Eu(t){const e=Nr(t)?t.get():t;return VP(e)?e.toValue():e}function $P({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,o,l){const c={latestValues:BP(n,o,l,t),renderState:e()};return r&&(c.onMount=d=>r({props:n,current:d,...c}),c.onUpdate=d=>r(d)),c}const Hj=t=>(e,r)=>{const n=v.useContext(pd),o=v.useContext(md),l=()=>$P(t,e,n,o);return r?l():Ap(l)};function BP(t,e,r,n){const o={},l=n(t,{});for(const b in l)o[b]=Eu(l[b]);let{initial:c,animate:d}=t;const h=xd(t),m=qj(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const x=p?d:c;if(x&&typeof x!="boolean"&&!gd(x)){const b=Array.isArray(x)?x:[x];for(let N=0;N<b.length;N++){const _=Up(t,b[N]);if(_){const{transitionEnd:j,transition:w,...C}=_;for(const k in C){let E=C[k];if(Array.isArray(E)){const A=p?E.length-1:0;E=E[A]}E!==null&&(o[k]=E)}for(const k in j)o[k]=j[k]}}}return o}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Di=new Set(Yo),Gj=t=>e=>typeof e=="string"&&e.startsWith(t),Qj=Gj("--"),qP=Gj("var(--"),$p=t=>qP(t)?zP.test(t.split("/*")[0].trim()):!1,zP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fs=(t,e,r)=>r>e?e:r<t?t:r,Xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...Xo,transform:t=>fs(0,1,t)},lu={...Xo,default:1},Dl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Dl("deg"),Un=Dl("%"),ze=Dl("px"),WP=Dl("vh"),KP=Dl("vw"),Xv={...Un,parse:t=>Un.parse(t)/100,transform:t=>Un.transform(t*100)},HP={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},GP={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:lu,scaleX:lu,scaleY:lu,scaleZ:lu,skew:$s,skewX:$s,skewY:$s,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:cl,originX:Xv,originY:Xv,originZ:ze},eb={...Xo,transform:Math.round},Bp={...HP,...GP,zIndex:eb,size:ze,fillOpacity:cl,strokeOpacity:cl,numOctaves:eb},QP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JP=Yo.length;function ZP(t,e,r){let n="",o=!0;for(let l=0;l<JP;l++){const c=Yo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const m=Jj(d,Bp[c]);if(!h){o=!1;const p=QP[c]||c;n+=`${p}(${m}) `}r&&(e[c]=m)}}return n=n.trim(),r?n=r(e,o?"":n):o&&(n="none"),n}function qp(t,e,r){const{style:n,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(Di.has(h)){c=!0;continue}else if(Qj(h)){o[h]=m;continue}else{const p=Jj(m,Bp[h]);h.startsWith("origin")?(d=!0,l[h]=p):n[h]=p}}if(e.transform||(c||r?n.transform=ZP(e,t.transform,r):n.transform&&(n.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;n.transformOrigin=`${h} ${m} ${p}`}}const YP={offset:"stroke-dashoffset",array:"stroke-dasharray"},XP={offset:"strokeDashoffset",array:"strokeDasharray"};function eA(t,e,r=1,n=0,o=!0){t.pathLength=1;const l=o?YP:XP;t[l.offset]=ze.transform(-n);const c=ze.transform(e),d=ze.transform(r);t[l.array]=`${c} ${d}`}function tb(t,e,r){return typeof t=="string"?t:ze.transform(e+r*t)}function tA(t,e,r){const n=tb(e,t.x,t.width),o=tb(r,t.y,t.height);return`${n} ${o}`}function zp(t,{attrX:e,attrY:r,attrScale:n,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...m},p,x){if(qp(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:N,dimensions:_}=t;b.transform&&(_&&(N.transform=b.transform),delete b.transform),_&&(o!==void 0||l!==void 0||N.transform)&&(N.transformOrigin=tA(_,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),r!==void 0&&(b.y=r),n!==void 0&&(b.scale=n),c!==void 0&&eA(b,c,d,h,!1)}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Zj=()=>({...Wp(),attrs:{}}),Kp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yj(t,{style:e,vars:r},n,o){Object.assign(t.style,e,o&&o.getProjectionStyles(n));for(const l in r)t.style.setProperty(l,r[l])}const Xj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eN(t,e,r,n){Yj(t,e,void 0,n);for(const o in e.attrs)t.setAttribute(Xj.has(o)?o:Mp(o),e.attrs[o])}const Vu={};function rA(t){Object.assign(Vu,t)}function tN(t,{layout:e,layoutId:r}){return Di.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Vu[t]||t==="opacity")}function Hp(t,e,r){var n;const{style:o}=t,l={};for(const c in o)(Nr(o[c])||e.style&&Nr(e.style[c])||tN(c,t)||((n=r?.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function rN(t,e,r){const n=Hp(t,e,r);for(const o in t)if(Nr(t[o])||Nr(e[o])){const l=Yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=t[o]}return n}function nA(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const rb=["x","y","width","height","cx","cy","r"],sA={useVisualState:Hj({scrapeMotionValuesFromProps:rN,createRenderState:Zj,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:o})=>{if(!r)return;let l=!!t.drag;if(!l){for(const d in o)if(Di.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<rb.length;d++){const h=rb[d];t[h]!==e[h]&&(c=!0)}c&&kt.read(()=>{nA(r,n),kt.render(()=>{zp(n,o,Kp(r.tagName),t.transformTemplate),eN(r,n)})})}})},iA={useVisualState:Hj({scrapeMotionValuesFromProps:Hp,createRenderState:Wp})};function nN(t,e,r){for(const n in e)!Nr(e[n])&&!tN(n,r)&&(t[n]=e[n])}function oA({transformTemplate:t},e){return v.useMemo(()=>{const r=Wp();return qp(r,e,t),Object.assign({},r.vars,r.style)},[e])}function aA(t,e){const r=t.style||{},n={};return nN(n,r,t),Object.assign(n,oA(t,e)),n}function lA(t,e){const r={},n=aA(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function cA(t,e,r,n){const o=v.useMemo(()=>{const l=Zj();return zp(l,e,Kp(n),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};nN(l,t.style,t),o.style={...l,...o.style}}return o}function uA(t=!1){return(r,n,o,{latestValues:l},c)=>{const h=(Vp(r)?cA:lA)(n,l,c,r),m=_P(n,typeof r=="string",t),p=r!==v.Fragment?{...m,...h,ref:o}:{},{children:x}=n,b=v.useMemo(()=>Nr(x)?x.get():x,[x]);return v.createElement(r,{...p,children:b})}}function dA(t,e){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Vp(n)?sA:iA,preloadedFeatures:t,useRender:uA(o),createVisualElement:e,Component:n};return IP(c)}}function sN(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function yd(t,e,r){const n=t.getProps();return Up(n,e,r!==void 0?r:n.custom,t)}const fA=Ip(()=>window.ScrollTimeline!==void 0);class hA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(o=>{if(fA()&&o.attachTimeline)return o.attachTimeline(e);if(typeof r=="function")return r(o)});return()=>{n.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mA extends hA{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Gp(t,e){return t?t[e]||t.default||t:void 0}const Sm=2e4;function iN(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Sm;)e+=r,n=t.next(e);return e>=Sm?1/0:e}function Qp(t){return typeof t=="function"}function nb(t,e){t.timeline=e,t.onfinish=null}const Jp=t=>Array.isArray(t)&&typeof t[0]=="number",pA={linearEasing:void 0};function gA(t,e){const r=Ip(t);return()=>{var n;return(n=pA[e])!==null&&n!==void 0?n:r()}}const Uu=gA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oN=(t,e,r=10)=>{let n="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)n+=t($o(0,o-1,l))+", ";return`linear(${n.substring(0,n.length-2)})`};function aN(t){return!!(typeof t=="function"&&Uu()||!t||typeof t=="string"&&(t in _m||Uu())||Jp(t)||Array.isArray(t)&&t.every(aN))}const za=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,_m={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function lN(t,e){if(t)return typeof t=="function"&&Uu()?oN(t,e):Jp(t)?za(t):Array.isArray(t)?t.map(r=>lN(r,e)||_m.easeOut):_m[t]}const jn={x:!1,y:!1};function cN(){return jn.x||jn.y}function xA(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(n=void 0)!==null&&n!==void 0?n:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function uN(t,e){const r=xA(t),n=new AbortController,o={passive:!0,...e,signal:n.signal};return[r,o,()=>n.abort()]}function sb(t){return e=>{e.pointerType==="touch"||cN()||t(e)}}function yA(t,e,r={}){const[n,o,l]=uN(t,r),c=sb(d=>{const{target:h}=d,m=e(d);if(typeof m!="function"||!h)return;const p=sb(x=>{m(x),h.removeEventListener("pointerleave",p)});h.addEventListener("pointerleave",p,o)});return n.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const dN=(t,e)=>e?t===e?!0:dN(t,e.parentElement):!1,Zp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bA(t){return vA.has(t.tagName)||t.tabIndex!==-1}const Wa=new WeakSet;function ib(t){return e=>{e.key==="Enter"&&t(e)}}function Ph(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wA=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ib(()=>{if(Wa.has(r))return;Ph(r,"down");const o=ib(()=>{Ph(r,"up")}),l=()=>Ph(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function ob(t){return Zp(t)&&!cN()}function jA(t,e,r={}){const[n,o,l]=uN(t,r),c=d=>{const h=d.currentTarget;if(!ob(d)||Wa.has(h))return;Wa.add(h);const m=e(d),p=(N,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!ob(N)||!Wa.has(h))&&(Wa.delete(h),typeof m=="function"&&m(N,{success:_}))},x=N=>{p(N,r.useGlobalTarget||dN(h,N.target))},b=N=>{p(N,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",b,o)};return n.forEach(d=>{!bA(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",m=>wA(m,o),o)}),l}function NA(t){return t==="x"||t==="y"?jn[t]?null:(jn[t]=!0,()=>{jn[t]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}const fN=new Set(["width","height","top","left","right","bottom",...Yo]);let Tu;function SA(){Tu=void 0}const $n={now:()=>(Tu===void 0&&$n.set(mr.isProcessing||vP.useManualTiming?mr.timestamp:performance.now()),Tu),set:t=>{Tu=t,queueMicrotask(SA)}};function Yp(t,e){t.indexOf(e)===-1&&t.push(e)}function Xp(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class eg{constructor(){this.subscriptions=[]}add(e){return Yp(this.subscriptions,e),()=>Xp(this.subscriptions,e)}notify(e,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,n);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hN(t,e){return e?t*(1e3/e):0}const ab=30,_A=t=>!isNaN(parseFloat(t));class kA{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const l=$n.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_A(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new eg);const n=this.events[e].add(r);return e==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ab)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ab);return hN(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new kA(t,e)}function CA(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ul(r))}function EA(t,e){const r=yd(t,e);let{transitionEnd:n={},transition:o={},...l}=r||{};l={...l,...n};for(const c in l){const d=UP(l[c]);CA(t,c,d)}}function TA(t){return!!(Nr(t)&&t.add)}function km(t,e){const r=t.getValue("willChange");if(TA(r))return r.add(e)}function mN(t){return t.props[zj]}const pN=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,PA=1e-7,AA=12;function RA(t,e,r,n,o){let l,c,d=0;do c=e+(r-e)/2,l=pN(c,n,o)-t,l>0?r=c:e=c;while(Math.abs(l)>PA&&++d<AA);return c}function Ml(t,e,r,n){if(t===e&&r===n)return Jr;const o=l=>RA(l,0,1,t,r);return l=>l===0||l===1?l:pN(o(l),e,n)}const gN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xN=t=>e=>1-t(1-e),yN=Ml(.33,1.53,.69,.99),tg=xN(yN),vN=gN(tg),bN=t=>(t*=2)<1?.5*tg(t):.5*(2-Math.pow(2,-10*(t-1))),rg=t=>1-Math.sin(Math.acos(t)),wN=xN(rg),jN=gN(rg),NN=t=>/^0[^.\s]+$/u.test(t);function OA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NN(t):!0}const Qa=t=>Math.round(t*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IA(t){return t==null}const LA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sg=(t,e)=>r=>!!(typeof r=="string"&&LA.test(r)&&r.startsWith(t)||e&&!IA(r)&&Object.prototype.hasOwnProperty.call(r,e)),SN=(t,e,r)=>n=>{if(typeof n!="string")return n;const[o,l,c,d]=n.match(ng);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},DA=t=>fs(0,255,t),Ah={...Xo,transform:t=>Math.round(DA(t))},_i={test:sg("rgb","red"),parse:SN("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ah.transform(t)+", "+Ah.transform(e)+", "+Ah.transform(r)+", "+Qa(cl.transform(n))+")"};function MA(t){let e="",r="",n="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Cm={test:sg("#"),parse:MA,transform:_i.transform},ko={test:sg("hsl","hue"),parse:SN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Un.transform(Qa(e))+", "+Un.transform(Qa(r))+", "+Qa(cl.transform(n))+")"},jr={test:t=>_i.test(t)||Cm.test(t)||ko.test(t),parse:t=>_i.test(t)?_i.parse(t):ko.test(t)?ko.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_i.transform(t):ko.transform(t)},FA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VA(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ng))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(FA))===null||r===void 0?void 0:r.length)||0)>0}const _N="number",kN="color",UA="var",$A="var(",lb="${}",BA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dl(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(BA,h=>(jr.test(h)?(n.color.push(l),o.push(kN),r.push(jr.parse(h))):h.startsWith($A)?(n.var.push(l),o.push(UA),r.push(h)):(n.number.push(l),o.push(_N),r.push(parseFloat(h))),++l,lb)).split(lb);return{values:r,split:d,indexes:n,types:o}}function CN(t){return dl(t).values}function EN(t){const{split:e,types:r}=dl(t),n=e.length;return o=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],o[c]!==void 0){const d=r[c];d===_N?l+=Qa(o[c]):d===kN?l+=jr.transform(o[c]):l+=o[c]}return l}}const qA=t=>typeof t=="number"?0:t;function zA(t){const e=CN(t);return EN(t)(e.map(qA))}const Hs={test:VA,parse:CN,createTransformer:EN,getAnimatableNone:zA},WA=new Set(["brightness","contrast","saturate","opacity"]);function KA(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ng)||[];if(!n)return t;const o=r.replace(n,"");let l=WA.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+o+")"}const HA=/\b([a-z-]*)\(.*?\)/gu,Em={...Hs,getAnimatableNone:t=>{const e=t.match(HA);return e?e.map(KA).join(" "):t}},GA={...Bp,color:jr,backgroundColor:jr,outlineColor:jr,fill:jr,stroke:jr,borderColor:jr,borderTopColor:jr,borderRightColor:jr,borderBottomColor:jr,borderLeftColor:jr,filter:Em,WebkitFilter:Em},ig=t=>GA[t];function TN(t,e){let r=ig(t);return r!==Em&&(r=Hs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const QA=new Set(["auto","none","0"]);function JA(t,e,r){let n=0,o;for(;n<t.length&&!o;){const l=t[n];typeof l=="string"&&!QA.has(l)&&dl(l).values.length&&(o=t[n]),n++}if(o&&r)for(const l of e)t[l]=TN(r,o)}const cb=t=>t===Xo||t===ze,ub=(t,e)=>parseFloat(t.split(", ")[e]),db=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return ub(o[1],e);{const l=n.match(/^matrix\((.+)\)$/u);return l?ub(l[1],t):0}},ZA=new Set(["x","y","z"]),YA=Yo.filter(t=>!ZA.has(t));function XA(t){const e=[];return YA.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const qo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:db(4,13),y:db(5,14)};qo.translateX=qo.x;qo.translateY=qo.y;const Ti=new Set;let Tm=!1,Pm=!1;function PN(){if(Pm){const t=Array.from(Ti).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const o=XA(n);o.length&&(r.set(n,o),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([l,c])=>{var d;(d=n.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Pm=!1,Tm=!1,Ti.forEach(t=>t.complete()),Ti.clear()}function AN(){Ti.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pm=!0)})}function eR(){AN(),PN()}class og{constructor(e,r,n,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ti.add(this),Tm||(Tm=!0,kt.read(AN),kt.resolveKeyframes(PN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&r){const h=n.readValue(r,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ti.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ti.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rR(t){const e=tR.exec(t);if(!e)return[,];const[,r,n,o]=e;return[`--${r??n}`,o]}function ON(t,e,r=1){const[n,o]=rR(t);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return RN(c)?parseFloat(c):c}return $p(o)?ON(o,e,r+1):o}const IN=t=>e=>e.test(t),nR={test:t=>t==="auto",parse:t=>t},LN=[Xo,ze,Un,$s,KP,WP,nR],fb=t=>LN.find(IN(t));class DN extends og{constructor(e,r,n,o,l){super(e,r,n,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),$p(m))){const p=ON(m,r.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!fN.has(n)||e.length!==2)return;const[o,l]=e,c=fb(o),d=fb(l);if(c!==d)if(cb(c)&&cb(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let o=0;o<e.length;o++)OA(e[o])&&n.push(o);n.length&&JA(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(n,o).jump(o,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const l=r.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=qo[n](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{r.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hs.test(t)||t==="0")&&!t.startsWith("url("));function sR(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function iR(t,e,r,n){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=hb(o,e),d=hb(l,e);return!c||!d?!1:sR(t)||(r==="spring"||Qp(r))&&n}const oR=t=>t!==null;function vd(t,{repeat:e,repeatType:r="loop"},n){const o=t.filter(oR),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const aR=40;class MN{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$n.now(),this.options={autoplay:e,delay:r,type:n,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eR(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=$n.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:m}=this.options;if(!m&&!iR(e,n,o,l))if(c)this.options.duration=0;else{h&&h(vd(e,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,r);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const It=(t,e,r)=>t+(e-t)*r;function Rh(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lR({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let o=0,l=0,c=0;if(!e)o=l=c=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=Rh(h,d,t+1/3),l=Rh(h,d,t),c=Rh(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function $u(t,e){return r=>r>0?e:t}const Oh=(t,e,r)=>{const n=t*t,o=r*(e*e-n)+n;return o<0?0:Math.sqrt(o)},cR=[Cm,_i,ko],uR=t=>cR.find(e=>e.test(t));function mb(t){const e=uR(t);if(!e)return!1;let r=e.parse(t);return e===ko&&(r=lR(r)),r}const pb=(t,e)=>{const r=mb(t),n=mb(e);if(!r||!n)return $u(t,e);const o={...r};return l=>(o.red=Oh(r.red,n.red,l),o.green=Oh(r.green,n.green,l),o.blue=Oh(r.blue,n.blue,l),o.alpha=It(r.alpha,n.alpha,l),_i.transform(o))},dR=(t,e)=>r=>e(t(r)),Fl=(...t)=>t.reduce(dR),Am=new Set(["none","hidden"]);function fR(t,e){return Am.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hR(t,e){return r=>It(t,e,r)}function ag(t){return typeof t=="number"?hR:typeof t=="string"?$p(t)?$u:jr.test(t)?pb:gR:Array.isArray(t)?FN:typeof t=="object"?jr.test(t)?pb:mR:$u}function FN(t,e){const r=[...t],n=r.length,o=t.map((l,c)=>ag(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=o[c](l);return r}}function mR(t,e){const r={...t,...e},n={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(n[o]=ag(t[o])(t[o],e[o]));return o=>{for(const l in n)r[l]=n[l](o);return r}}function pR(t,e){var r;const n=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],h=(r=t.values[d])!==null&&r!==void 0?r:0;n[l]=h,o[c]++}return n}const gR=(t,e)=>{const r=Hs.createTransformer(e),n=dl(t),o=dl(e);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Am.has(t)&&!o.values.length||Am.has(e)&&!n.values.length?fR(t,e):Fl(FN(pR(n,o),o.values),r):$u(t,e)};function VN(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?It(t,e,r):ag(t)(t,e)}const xR=5;function UN(t,e,r){const n=Math.max(e-xR,0);return hN(r-t(n),e-n)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ih=.001;function yR({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:r=Ft.velocity,mass:n=Ft.mass}){let o,l,c=1-e;c=fs(Ft.minDamping,Ft.maxDamping,c),t=fs(Ft.minDuration,Ft.maxDuration,ds(t)),c<1?(o=m=>{const p=m*c,x=p*t,b=p-r,N=Rm(m,c),_=Math.exp(-x);return Ih-b/N*_},l=m=>{const x=m*c*t,b=x*r+r,N=Math.pow(c,2)*Math.pow(m,2)*t,_=Math.exp(-x),j=Rm(Math.pow(m,2),c);return(-o(m)+Ih>0?-1:1)*((b-N)*_)/j}):(o=m=>{const p=Math.exp(-m*t),x=(m-r)*t+1;return-Ih+p*x},l=m=>{const p=Math.exp(-m*t),x=(r-m)*(t*t);return p*x});const d=5/t,h=bR(o,l,d);if(t=us(t),isNaN(h))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(h,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const vR=12;function bR(t,e,r){let n=r;for(let o=1;o<vR;o++)n=n-t(n)/e(n);return n}function Rm(t,e){return t*Math.sqrt(1-e*e)}const wR=["duration","bounce"],jR=["stiffness","damping","mass"];function gb(t,e){return e.some(r=>t[r]!==void 0)}function NR(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!gb(t,jR)&&gb(t,wR))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,l=2*fs(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ft.mass,stiffness:o,damping:l}}else{const r=yR(t);e={...e,...r,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function $N(t=Ft.visualDuration,e=Ft.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:p,duration:x,velocity:b,isResolvedFromDuration:N}=NR({...r,velocity:-ds(r.velocity||0)}),_=b||0,j=m/(2*Math.sqrt(h*p)),w=c-l,C=ds(Math.sqrt(h/p)),k=Math.abs(w)<5;n||(n=k?Ft.restSpeed.granular:Ft.restSpeed.default),o||(o=k?Ft.restDelta.granular:Ft.restDelta.default);let E;if(j<1){const L=Rm(C,j);E=V=>{const H=Math.exp(-j*C*V);return c-H*((_+j*C*w)/L*Math.sin(L*V)+w*Math.cos(L*V))}}else if(j===1)E=L=>c-Math.exp(-C*L)*(w+(_+C*w)*L);else{const L=C*Math.sqrt(j*j-1);E=V=>{const H=Math.exp(-j*C*V),Z=Math.min(L*V,300);return c-H*((_+j*C*w)*Math.sinh(Z)+L*w*Math.cosh(Z))/L}}const A={calculatedDuration:N&&x||null,next:L=>{const V=E(L);if(N)d.done=L>=x;else{let H=0;j<1&&(H=L===0?us(_):UN(E,L,V));const Z=Math.abs(H)<=n,O=Math.abs(c-V)<=o;d.done=Z&&O}return d.value=d.done?c:V,d},toString:()=>{const L=Math.min(iN(A),Sm),V=oN(H=>A.next(L*H).value,L,30);return L+"ms "+V}};return A}function xb({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:p}){const x=t[0],b={done:!1,value:x},N=Z=>d!==void 0&&Z<d||h!==void 0&&Z>h,_=Z=>d===void 0?h:h===void 0||Math.abs(d-Z)<Math.abs(h-Z)?d:h;let j=r*e;const w=x+j,C=c===void 0?w:c(w);C!==w&&(j=C-x);const k=Z=>-j*Math.exp(-Z/n),E=Z=>C+k(Z),A=Z=>{const O=k(Z),Q=E(Z);b.done=Math.abs(O)<=m,b.value=b.done?C:Q};let L,V;const H=Z=>{N(b.value)&&(L=Z,V=$N({keyframes:[b.value,_(b.value)],velocity:UN(E,Z,b.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return H(0),{calculatedDuration:null,next:Z=>{let O=!1;return!V&&L===void 0&&(O=!0,A(Z),H(Z)),L!==void 0&&Z>=L?V.next(Z-L):(!O&&A(Z),b)}}}const SR=Ml(.42,0,1,1),_R=Ml(0,0,.58,1),BN=Ml(.42,0,.58,1),kR=t=>Array.isArray(t)&&typeof t[0]!="number",CR={linear:Jr,easeIn:SR,easeInOut:BN,easeOut:_R,circIn:rg,circInOut:jN,circOut:wN,backIn:tg,backInOut:vN,backOut:yN,anticipate:bN},yb=t=>{if(Jp(t)){Vj(t.length===4);const[e,r,n,o]=t;return Ml(e,r,n,o)}else if(typeof t=="string")return CR[t];return t};function ER(t,e,r){const n=[],o=r||VN,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Jr:e;d=Fl(h,d)}n.push(d)}return n}function TR(t,e,{clamp:r=!0,ease:n,mixer:o}={}){const l=t.length;if(Vj(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=ER(e,n,o),h=d.length,m=p=>{if(c&&p<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const b=$o(t[x],t[x+1],p);return d[x](b)};return r?p=>m(fs(t[0],t[l-1],p)):m}function PR(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const o=$o(0,e,n);t.push(It(r,1,o))}}function AR(t){const e=[0];return PR(e,t.length-1),e}function RR(t,e){return t.map(r=>r*e)}function OR(t,e){return t.map(()=>e||BN).splice(0,t.length-1)}function Bu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const o=kR(n)?n.map(yb):yb(n),l={done:!1,value:e[0]},c=RR(r&&r.length===e.length?r:AR(e),t),d=TR(c,e,{ease:Array.isArray(o)?o:OR(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const IR=t=>{const e=({timestamp:r})=>t(r);return{start:()=>kt.update(e,!0),stop:()=>Ks(e),now:()=>mr.isProcessing?mr.timestamp:$n.now()}},LR={decay:xb,inertia:xb,tween:Bu,keyframes:Bu,spring:$N},DR=t=>t/100;class lg extends MN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:n,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||og,d=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(l,d,r,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=Qp(r)?r:LR[r]||Bu;let h,m;d!==Bu&&typeof e[0]!="number"&&(h=Fl(DR,VN(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=iN(p));const{calculatedDuration:x}=p,b=x+o,N=b*(n+1)-o;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:b,totalDuration:N}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:Z}=this.options;return{done:!0,value:Z[Z.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=n;if(this.startTime===null)return l.next(0);const{delay:b,repeat:N,repeatType:_,repeatDelay:j,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const C=this.currentTime-b*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,A=l;if(N){const Z=Math.min(this.currentTime,p)/x;let O=Math.floor(Z),Q=Z%1;!Q&&Z>=1&&(Q=1),Q===1&&O--,O=Math.min(O,N+1),!!(O%2)&&(_==="reverse"?(Q=1-Q,j&&(Q-=j/x)):_==="mirror"&&(A=c)),E=fs(0,1,Q)*x}const L=k?{done:!1,value:h[0]}:A.next(E);d&&(L.value=d(L.value));let{done:V}=L;!k&&m!==null&&(V=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return H&&o!==void 0&&(L.value=vd(h,this.options,o)),w&&w(L.value),H&&this.finish(),L}get duration(){const{resolved:e}=this;return e?ds(e.calculatedDuration):0}get time(){return ds(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=IR,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const MR=new Set(["opacity","clipPath","filter","transform"]);function FR(t,e,r,{delay:n=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const m={[e]:r};h&&(m.offset=h);const p=lN(d,o);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:n,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const VR=Ip(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qu=10,UR=2e4;function $R(t){return Qp(t.type)||t.type==="spring"||!aN(t.ease)}function BR(t,e){const r=new lg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const o=[];let l=0;for(;!n.done&&l<UR;)n=r.sample(l),o.push(n.value),l+=qu;return{times:void 0,keyframes:o,duration:l-qu,ease:"linear"}}const qN={anticipate:bN,backInOut:vN,circInOut:jN};function qR(t){return t in qN}class vb extends MN{constructor(e){super(e);const{name:r,motionValue:n,element:o,keyframes:l}=this.options;this.resolver=new DN(l,(c,d)=>this.onKeyframesResolved(c,d),r,n,o),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Uu()&&qR(l)&&(l=qN[l]),$R(this.options)){const{onComplete:x,onUpdate:b,motionValue:N,element:_,...j}=this.options,w=BR(e,j);e=w.keyframes,e.length===1&&(e[1]=e[0]),n=w.duration,o=w.times,l=w.ease,c="keyframes"}const p=FR(d.owner.current,h,e,{...this.options,duration:n,times:o,ease:l});return p.startTime=m??this.calcStartTime(),this.pendingTimeline?(nb(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;d.set(vd(e,this.options,r)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return ds(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return ds(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=us(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Jr;const{animation:n}=r;nb(n,e)}return Jr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:o,type:l,ease:c,times:d}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:b,...N}=this.options,_=new lg({...N,keyframes:n,duration:o,type:l,ease:c,times:d,isGenerator:!0}),j=us(this.time);m.setWithVelocity(_.sample(j-qu).value,_.sample(j).value,qu)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=r.owner.getProps();return VR()&&n&&MR.has(n)&&!h&&!m&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const zR={type:"spring",stiffness:500,damping:25,restSpeed:10},WR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KR={type:"keyframes",duration:.8},HR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GR=(t,{keyframes:e})=>e.length>2?KR:Di.has(t)?t.startsWith("scale")?WR(e[1]):zR:HR;function QR({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const cg=(t,e,r,n={},o,l)=>c=>{const d=Gp(n,t)||{},h=d.delay||n.delay||0;let{elapsed:m=0}=n;m=m-us(h);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};QR(d)||(p={...p,...GR(t,p)}),p.duration&&(p.duration=us(p.duration)),p.repeatDelay&&(p.repeatDelay=us(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!l&&e.get()!==void 0){const b=vd(p.keyframes,d);if(b!==void 0)return kt.update(()=>{p.onUpdate(b),p.onComplete()}),new mA([])}return!l&&vb.supports(p)?new vb(p):new lg(p)};function JR({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function zN(t,e,{delay:r=0,transitionOverride:n,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;n&&(c=n);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const x in h){const b=t.getValue(x,(l=t.latestValues[x])!==null&&l!==void 0?l:null),N=h[x];if(N===void 0||p&&JR(p,x))continue;const _={delay:r,...Gp(c||{},x)};let j=!1;if(window.MotionHandoffAnimation){const C=mN(t);if(C){const k=window.MotionHandoffAnimation(C,x,kt);k!==null&&(_.startTime=k,j=!0)}}km(t,x),b.start(cg(x,b,N,t.shouldReduceMotion&&fN.has(x)?{type:!1}:_,t,j));const w=b.animation;w&&m.push(w)}return d&&Promise.all(m).then(()=>{kt.update(()=>{d&&EA(t,d)})}),m}function Om(t,e,r={}){var n;const o=yd(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(l=r.transitionOverride);const c=o?()=>Promise.all(zN(t,o,r)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=l;return ZR(t,e,p+m,x,b,r)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(r.delay)])}function ZR(t,e,r=0,n=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*n,h=o===1?(m=0)=>m*n:(m=0)=>d-m*n;return Array.from(t.variantChildren).sort(YR).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(Om(m,e,{...l,delay:r+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function YR(t,e){return t.sortNodePosition(e)}function XR(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const o=e.map(l=>Om(t,l,r));n=Promise.all(o)}else if(typeof e=="string")n=Om(t,e,r);else{const o=typeof e=="function"?yd(t,e,r.custom):e;n=Promise.all(zN(t,o,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const eO=Dp.length;function WN(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?WN(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<eO;r++){const n=Dp[r],o=t.props[n];(ll(o)||o===!1)&&(e[n]=o)}return e}const tO=[...Lp].reverse(),rO=Lp.length;function nO(t){return e=>Promise.all(e.map(({animation:r,options:n})=>XR(t,r,n)))}function sO(t){let e=nO(t),r=bb(),n=!0;const o=h=>(m,p)=>{var x;const b=yd(t,p,h==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:N,transitionEnd:_,...j}=b;m={...m,...j,..._}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,p=WN(t.parent)||{},x=[],b=new Set;let N={},_=1/0;for(let w=0;w<rO;w++){const C=tO[w],k=r[C],E=m[C]!==void 0?m[C]:p[C],A=ll(E),L=C===h?k.isActive:null;L===!1&&(_=w);let V=E===p[C]&&E!==m[C]&&A;if(V&&n&&t.manuallyAnimateOnMount&&(V=!1),k.protectedKeys={...N},!k.isActive&&L===null||!E&&!k.prevProp||gd(E)||typeof E=="boolean")continue;const H=iO(k.prevProp,E);let Z=H||C===h&&k.isActive&&!V&&A||w>_&&A,O=!1;const Q=Array.isArray(E)?E:[E];let re=Q.reduce(o(C),{});L===!1&&(re={});const{prevResolvedValues:D={}}=k,G={...D,...re},te=ne=>{Z=!0,b.has(ne)&&(O=!0,b.delete(ne)),k.needsAnimating[ne]=!0;const X=t.getValue(ne);X&&(X.liveStyle=!1)};for(const ne in G){const X=re[ne],me=D[ne];if(N.hasOwnProperty(ne))continue;let ce=!1;Nm(X)&&Nm(me)?ce=!sN(X,me):ce=X!==me,ce?X!=null?te(ne):b.add(ne):X!==void 0&&b.has(ne)?te(ne):k.protectedKeys[ne]=!0}k.prevProp=E,k.prevResolvedValues=re,k.isActive&&(N={...N,...re}),n&&t.blockInitialAnimation&&(Z=!1),Z&&(!(V&&H)||O)&&x.push(...Q.map(ne=>({animation:ne,options:{type:C}})))}if(b.size){const w={};b.forEach(C=>{const k=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),w[C]=k??null}),x.push({animation:w})}let j=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(x):Promise.resolve()}function d(h,m){var p;if(r[h].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(b=>{var N;return(N=b.animationState)===null||N===void 0?void 0:N.setActive(h,m)}),r[h].isActive=m;const x=c(h);for(const b in r)r[b].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=bb(),n=!0}}}function iO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sN(e,t):!1}function gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bb(){return{animate:gi(!0),whileInView:gi(),whileHover:gi(),whileTap:gi(),whileDrag:gi(),whileFocus:gi(),exit:gi()}}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oO extends Ys{constructor(e){super(e),e.animationState||(e.animationState=sO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aO=0;class lO extends Ys{constructor(){super(...arguments),this.id=aO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cO={animation:{Feature:oO},exit:{Feature:lO}};function fl(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Vl(t){return{point:{x:t.pageX,y:t.pageY}}}const uO=t=>e=>Zp(e)&&t(e,Vl(e));function Ja(t,e,r,n){return fl(t,e,uO(r),n)}const wb=(t,e)=>Math.abs(t-e);function dO(t,e){const r=wb(t.x,e.x),n=wb(t.y,e.y);return Math.sqrt(r**2+n**2)}class KN{constructor(e,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Dh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,N=dO(x.offset,{x:0,y:0})>=3;if(!b&&!N)return;const{point:_}=x,{timestamp:j}=mr;this.history.push({..._,timestamp:j});const{onStart:w,onMove:C}=this.handlers;b||(w&&w(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Lh(b,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:N,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Dh(x.type==="pointercancel"?this.lastMoveEventInfo:Lh(b,this.transformPagePoint),this.history);this.startEvent&&N&&N(x,w),_&&_(x,w)},!Zp(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=Vl(e),d=Lh(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=mr;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=r;p&&p(e,Dh(d,this.history)),this.removeListeners=Fl(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Lh(t,e){return e?{point:e(t.point)}:t}function jb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dh({point:t},e){return{point:t,delta:jb(t,HN(e)),offset:jb(t,fO(e)),velocity:hO(e,.1)}}function fO(t){return t[0]}function HN(t){return t[t.length-1]}function hO(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const o=HN(t);for(;r>=0&&(n=t[r],!(o.timestamp-n.timestamp>us(e)));)r--;if(!n)return{x:0,y:0};const l=ds(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const GN=1e-4,mO=1-GN,pO=1+GN,QN=.01,gO=0-QN,xO=0+QN;function Xr(t){return t.max-t.min}function yO(t,e,r){return Math.abs(t-e)<=r}function Nb(t,e,r,n=.5){t.origin=n,t.originPoint=It(e.min,e.max,t.origin),t.scale=Xr(r)/Xr(e),t.translate=It(r.min,r.max,t.origin)-t.originPoint,(t.scale>=mO&&t.scale<=pO||isNaN(t.scale))&&(t.scale=1),(t.translate>=gO&&t.translate<=xO||isNaN(t.translate))&&(t.translate=0)}function Za(t,e,r,n){Nb(t.x,e.x,r.x,n?n.originX:void 0),Nb(t.y,e.y,r.y,n?n.originY:void 0)}function Sb(t,e,r){t.min=r.min+e.min,t.max=t.min+Xr(e)}function vO(t,e,r){Sb(t.x,e.x,r.x),Sb(t.y,e.y,r.y)}function _b(t,e,r){t.min=e.min-r.min,t.max=t.min+Xr(e)}function Ya(t,e,r){_b(t.x,e.x,r.x),_b(t.y,e.y,r.y)}function bO(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?It(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?It(r,t,n.max):Math.min(t,r)),t}function kb(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function wO(t,{top:e,left:r,bottom:n,right:o}){return{x:kb(t.x,r,o),y:kb(t.y,e,n)}}function Cb(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function jO(t,e){return{x:Cb(t.x,e.x),y:Cb(t.y,e.y)}}function NO(t,e){let r=.5;const n=Xr(t),o=Xr(e);return o>n?r=$o(e.min,e.max-n,t.min):n>o&&(r=$o(t.min,t.max-o,e.min)),fs(0,1,r)}function SO(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Im=.35;function _O(t=Im){return t===!1?t=0:t===!0&&(t=Im),{x:Eb(t,"left","right"),y:Eb(t,"top","bottom")}}function Eb(t,e,r){return{min:Tb(t,e),max:Tb(t,r)}}function Tb(t,e){return typeof t=="number"?t:t[e]||0}const Pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Pb(),y:Pb()}),Ab=()=>({min:0,max:0}),zt=()=>({x:Ab(),y:Ab()});function un(t){return[t("x"),t("y")]}function JN({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function kO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CO(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Mh(t){return t===void 0||t===1}function Lm({scale:t,scaleX:e,scaleY:r}){return!Mh(t)||!Mh(e)||!Mh(r)}function bi(t){return Lm(t)||ZN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZN(t){return Rb(t.x)||Rb(t.y)}function Rb(t){return t&&t!=="0%"}function zu(t,e,r){const n=t-r,o=e*n;return r+o}function Ob(t,e,r,n,o){return o!==void 0&&(t=zu(t,o,n)),zu(t,r,n)+e}function Dm(t,e=0,r=1,n,o){t.min=Ob(t.min,e,r,n,o),t.max=Ob(t.max,e,r,n,o)}function YN(t,{x:e,y:r}){Dm(t.x,e.translate,e.scale,e.originPoint),Dm(t.y,r.translate,r.scale,r.originPoint)}const Ib=.999999999999,Lb=1.0000000000001;function EO(t,e,r,n=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=r[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&To(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,YN(t,c)),n&&bi(l.latestValues)&&To(t,l.latestValues))}e.x<Lb&&e.x>Ib&&(e.x=1),e.y<Lb&&e.y>Ib&&(e.y=1)}function Eo(t,e){t.min=t.min+e,t.max=t.max+e}function Db(t,e,r,n,o=.5){const l=It(t.min,t.max,o);Dm(t,e,r,l,n)}function To(t,e){Db(t.x,e.x,e.scaleX,e.scale,e.originX),Db(t.y,e.y,e.scaleY,e.scale,e.originY)}function XN(t,e){return JN(CO(t.getBoundingClientRect(),e))}function TO(t,e,r){const n=XN(t,r),{scroll:o}=e;return o&&(Eo(n.x,o.offset.x),Eo(n.y,o.offset.y)),n}const eS=({current:t})=>t?t.ownerDocument.defaultView:null,PO=new WeakMap;class AO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Vl(p).point)},l=(p,x)=>{const{drag:b,dragPropagation:N,onDragStart:_}=this.getProps();if(b&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NA(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(w=>{let C=this.getAxisMotionValue(w).get()||0;if(Un.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[w];E&&(C=Xr(E)*(parseFloat(C)/100))}}this.originPoint[w]=C}),_&&kt.postRender(()=>_(p,x)),km(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,x)=>{const{dragPropagation:b,dragDirectionLock:N,onDirectionLock:_,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=x;if(N&&this.currentDirection===null){this.currentDirection=RO(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,w),this.updateAxis("y",x.point,w),this.visualElement.render(),j&&j(p,x)},d=(p,x)=>this.stop(p,x),h=()=>un(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new KN(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:eS(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&kt.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:o}=this.getProps();if(!n||!cu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=bO(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&_o(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=wO(o.layoutBox,r):this.constraints=!1,this.elastic=_O(n),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&un(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=SO(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!_o(e))return!1;const n=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=TO(n,o.root,this.visualElement.getTransformPagePoint());let c=jO(o.layout.layoutBox,l);if(r){const d=r(kO(c));this.hasMutatedConstraints=!!d,d&&(c=JN(d))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=un(p=>{if(!cu(p,r,this.currentDirection))return;let x=h&&h[p]||{};c&&(x={min:0,max:0});const b=o?200:1e6,N=o?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:b,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(p,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return km(this.visualElement,e),n.start(cg(e,n,0,r,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){un(r=>{const{drag:n}=this.getProps();if(!cu(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[r];l.set(e[r]-It(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_o(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};un(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=NO({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),un(c=>{if(!cu(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(It(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;PO.set(this.visualElement,this);const e=this.visualElement.current,r=Ja(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();_o(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),kt.read(n);const c=fl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(un(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Im,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function cu(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function RO(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class OO extends Ys{constructor(e){super(e),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new AO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mb=t=>(e,r)=>{t&&kt.postRender(()=>t(e,r))};class IO extends Ys{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(e){this.session=new KN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:Mb(e),onStart:Mb(r),onMove:n,onEnd:(l,c)=>{delete this.session,o&&kt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $a={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const r=Fb(t,e.target.x),n=Fb(t,e.target.y);return`${r}% ${n}%`}},LO={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,o=Hs.parse(t);if(o.length>5)return n;const l=Hs.createTransformer(t),c=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const m=It(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class DO extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=e;rA(MO),l&&(r.group&&r.group.add(l),n&&n.register&&o&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:o,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||kt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tS(t){const[e,r]=Mj(),n=v.useContext(Pp);return i.jsx(DO,{...t,layoutGroup:n,switchLayoutGroup:v.useContext(Wj),isPresent:e,safeToRemove:r})}const MO={borderRadius:{...$a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomLeftRadius:$a,borderBottomRightRadius:$a,boxShadow:LO};function FO(t,e,r){const n=Nr(t)?t:ul(t);return n.start(cg("",n,e,r)),n.animation}function VO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const UO=(t,e)=>t.depth-e.depth;class $O{constructor(){this.children=[],this.isDirty=!1}add(e){Yp(this.children,e),this.isDirty=!0}remove(e){Xp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UO),this.isDirty=!1,this.children.forEach(e)}}function BO(t,e){const r=$n.now(),n=({timestamp:o})=>{const l=o-r;l>=e&&(Ks(n),t(l-e))};return kt.read(n,!0),()=>Ks(n)}const rS=["TopLeft","TopRight","BottomLeft","BottomRight"],qO=rS.length,Vb=t=>typeof t=="string"?parseFloat(t):t,Ub=t=>typeof t=="number"||ze.test(t);function zO(t,e,r,n,o,l){o?(t.opacity=It(0,r.opacity!==void 0?r.opacity:1,WO(n)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,KO(n))):l&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<qO;c++){const d=`border${rS[c]}Radius`;let h=$b(e,d),m=$b(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Ub(h)===Ub(m)?(t[d]=Math.max(It(Vb(h),Vb(m),n),0),(Un.test(m)||Un.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=It(e.rotate||0,r.rotate||0,n))}function $b(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WO=nS(0,.5,wN),KO=nS(.5,.95,Jr);function nS(t,e,r){return n=>n<t?0:n>e?1:r($o(t,e,n))}function Bb(t,e){t.min=e.min,t.max=e.max}function cn(t,e){Bb(t.x,e.x),Bb(t.y,e.y)}function qb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zb(t,e,r,n,o){return t-=e,t=zu(t,1/r,n),o!==void 0&&(t=zu(t,1/o,n)),t}function HO(t,e=0,r=1,n=.5,o,l=t,c=t){if(Un.test(e)&&(e=parseFloat(e),e=It(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=It(l.min,l.max,n);t===l&&(d-=e),t.min=zb(t.min,e,r,d,o),t.max=zb(t.max,e,r,d,o)}function Wb(t,e,[r,n,o],l,c){HO(t,e[r],e[n],e[o],e.scale,l,c)}const GO=["x","scaleX","originX"],QO=["y","scaleY","originY"];function Kb(t,e,r,n){Wb(t.x,e,GO,r?r.x:void 0,n?n.x:void 0),Wb(t.y,e,QO,r?r.y:void 0,n?n.y:void 0)}function Hb(t){return t.translate===0&&t.scale===1}function sS(t){return Hb(t.x)&&Hb(t.y)}function Gb(t,e){return t.min===e.min&&t.max===e.max}function JO(t,e){return Gb(t.x,e.x)&&Gb(t.y,e.y)}function Qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iS(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Jb(t){return Xr(t.x)/Xr(t.y)}function Zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZO{constructor(){this.members=[]}add(e){Yp(this.members,e),e.scheduleRender()}remove(e){if(Xp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YO(t,e,r){let n="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=r?.z||0;if((o||l||c)&&(n=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:b,skewX:N,skewY:_}=r;m&&(n=`perspective(${m}px) ${n}`),p&&(n+=`rotate(${p}deg) `),x&&(n+=`rotateX(${x}deg) `),b&&(n+=`rotateY(${b}deg) `),N&&(n+=`skewX(${N}deg) `),_&&(n+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(n+=`scale(${d}, ${h})`),n||"none"}const wi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ka=typeof window<"u"&&window.MotionDebug!==void 0,Fh=["","X","Y","Z"],XO={visibility:"hidden"},Yb=1e3;let eI=0;function Vh(t,e,r,n){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),n&&(n[t]=0))}function oS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=mN(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kt,!(o||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&oS(n)}function aS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},d=e?.()){this.id=eI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ka&&(wi.totalNodes=wi.resolvedTargetDeltas=wi.recalculatedProjection=0),this.nodes.forEach(nI),this.nodes.forEach(lI),this.nodes.forEach(cI),this.nodes.forEach(sI),Ka&&window.MotionDebug.record(wi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new $O)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new eg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=BO(b,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(ew))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:N,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||mI,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=p.getProps(),k=!this.targetLayout||!iS(this.targetLayout,_)||N,E=!b&&N;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const A={...Gp(j,"layout"),onPlay:w,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else b||ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uI),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xb);return}this.isUpdating||this.nodes.forEach(oI),this.isUpdating=!1,this.nodes.forEach(aI),this.nodes.forEach(tI),this.nodes.forEach(rI),this.clearAllSnapshots();const d=$n.now();mr.delta=fs(0,1e3/60,d-mr.timestamp),mr.timestamp=d,mr.isProcessing=!0,Th.update.process(mr),Th.preRender.process(mr),Th.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iI),this.sharedNodes.forEach(dI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!sS(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||bi(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),pI(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return zt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(gI))){const{scroll:p}=this.root;p&&(Eo(h.x,p.offset.x),Eo(h.y,p.offset.y))}return h}removeElementScroll(c){var d;const h=zt();if(cn(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&cn(h,c),Eo(h.x,x.offset.x),Eo(h.y,x.offset.y))}return h}applyTransform(c,d=!1){const h=zt();cn(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&To(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),bi(p.latestValues)&&To(h,p.latestValues)}return bi(this.latestValues)&&To(h,this.latestValues),h}removeTransform(c){const d=zt();cn(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!bi(m.latestValues))continue;Lm(m.latestValues)&&m.updateSnapshot();const p=zt(),x=m.measurePageBox();cn(p,x),Kb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return bi(this.latestValues)&&Kb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),YN(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ya(this.relativeTargetOrigin,this.target,N.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ka&&wi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lm(this.parent.latestValues)||ZN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;cn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,N=this.treeScale.y;EO(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=zt());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qb(this.prevProjectionDelta.x,this.projectionDelta.x),qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Za(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==N||!Zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ka&&wi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},x=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=zt(),N=h?h.source:void 0,_=this.layout?this.layout.source:void 0,j=N!==_,w=this.getStack(),C=!w||w.members.length<=1,k=!!(j&&!C&&this.options.crossfade===!0&&!this.path.some(hI));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const L=A/1e3;tw(x.x,c.x,L),tw(x.y,c.y,L),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ya(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fI(this.relativeTarget,this.relativeTargetOrigin,b,L),E&&JO(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=zt()),cn(E,this.relativeTarget)),j&&(this.animationValues=p,zO(p,m,this.latestValues,L,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Pu.hasAnimatedSinceResize=!0,this.currentAnimation=FO(0,Yb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&lS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||zt();const x=Xr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const b=Xr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}cn(d,h),To(d,p),Za(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ZO),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Vh("z",c,m,this.animationValues);for(let p=0;p<Fh.length;p++)Vh(`rotate${Fh[p]}`,c,m,this.animationValues),Vh(`skew${Fh[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XO;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Eu(c?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Eu(c?.pointerEvents)||""),this.hasProjected&&!bi(this.latestValues)&&(j.transform=p?p({},""):"none",this.hasProjected=!1),j}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=YO(this.projectionDeltaWithTransform,this.treeScale,b),p&&(m.transform=p(b,m.transform));const{x:N,y:_}=this.projectionDelta;m.transformOrigin=`${N.origin*100}% ${_.origin*100}% 0`,x.animationValues?m.opacity=x===this?(h=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const j in Vu){if(b[j]===void 0)continue;const{correct:w,applyTo:C}=Vu[j],k=m.transform==="none"?b[j]:w(b[j],x);if(C){const E=C.length;for(let A=0;A<E;A++)m[C[A]]=k}else m[j]=k}return this.options.layoutId&&(m.pointerEvents=x===this?Eu(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Xb),this.root.sharedNodes.clear()}}}function tI(t){t.updateLayout()}function rI(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=t.layout,{animationType:l}=t.options,c=r.source!==t.layout.source;l==="size"?un(x=>{const b=c?r.measuredBox[x]:r.layoutBox[x],N=Xr(b);b.min=n[x].min,b.max=b.min+N}):lS(l,r.layoutBox,n)&&un(x=>{const b=c?r.measuredBox[x]:r.layoutBox[x],N=Xr(n[x]);b.max=b.min+N,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+N)});const d=Co();Za(d,n,r.layoutBox);const h=Co();c?Za(h,t.applyTransform(o,!0),r.measuredBox):Za(h,n,r.layoutBox);const m=!sS(d);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:N}=x;if(b&&N){const _=zt();Ya(_,r.layoutBox,b.layoutBox);const j=zt();Ya(j,n,N.layoutBox),iS(_,j)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=_,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function nI(t){Ka&&wi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iI(t){t.clearSnapshot()}function Xb(t){t.clearMeasurements()}function oI(t){t.isLayoutDirty=!1}function aI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ew(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lI(t){t.resolveTargetDelta()}function cI(t){t.calcProjection()}function uI(t){t.resetSkewAndRotation()}function dI(t){t.removeLeadSnapshot()}function tw(t,e,r){t.translate=It(e.translate,0,r),t.scale=It(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function rw(t,e,r,n){t.min=It(e.min,r.min,n),t.max=It(e.max,r.max,n)}function fI(t,e,r,n){rw(t.x,e.x,r.x,n),rw(t.y,e.y,r.y,n)}function hI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mI={duration:.45,ease:[.4,0,.1,1]},nw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sw=nw("applewebkit/")&&!nw("chrome/")?Math.round:Jr;function iw(t){t.min=sw(t.min),t.max=sw(t.max)}function pI(t){iw(t.x),iw(t.y)}function lS(t,e,r){return t==="position"||t==="preserve-aspect"&&!yO(Jb(e),Jb(r),.2)}function gI(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const xI=aS({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uh={current:void 0},cS=aS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uh.current){const t=new xI({});t.mount(window),t.setOptions({layoutScroll:!0}),Uh.current=t}return Uh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yI={pan:{Feature:IO},drag:{Feature:OO,ProjectionNode:cS,MeasureLayout:tS}};function ow(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=n[o];l&&kt.postRender(()=>l(e,Vl(e)))}class vI extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=yA(e,r=>(ow(this.node,r,"Start"),n=>ow(this.node,n,"End"))))}unmount(){}}class bI extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aw(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=n[o];l&&kt.postRender(()=>l(e,Vl(e)))}class wI extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=jA(e,r=>(aw(this.node,r,"Start"),(n,{success:o})=>aw(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mm=new WeakMap,$h=new WeakMap,jI=t=>{const e=Mm.get(t.target);e&&e(t)},NI=t=>{t.forEach(jI)};function SI({root:t,...e}){const r=t||document;$h.has(r)||$h.set(r,{});const n=$h.get(r),o=JSON.stringify(e);return n[o]||(n[o]=new IntersectionObserver(NI,{root:t,...e})),n[o]}function _I(t,e,r){const n=SI(e);return Mm.set(t,r),n.observe(t),()=>{Mm.delete(t),n.unobserve(t)}}const kI={some:0,all:1};class CI extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:kI[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=m?p:x;b&&b(h)};return _I(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(EI(e,r))&&this.startObserver()}unmount(){}}function EI({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const TI={inView:{Feature:CI},tap:{Feature:wI},focus:{Feature:bI},hover:{Feature:vI}},PI={layout:{ProjectionNode:cS,MeasureLayout:tS}},Fm={current:null},uS={current:!1};function AI(){if(uS.current=!0,!!Op)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fm.current=t.matches;t.addListener(e),e()}else Fm.current=!1}const RI=[...LN,jr,Hs],OI=t=>RI.find(IN(t)),lw=new WeakMap;function II(t,e,r){for(const n in e){const o=e[n],l=r[n];if(Nr(o))t.addValue(n,o);else if(Nr(l))t.addValue(n,ul(o,{owner:t}));else if(l!==o)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(n);t.addValue(n,ul(c!==void 0?c:o,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LI{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=og,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=$n.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,kt.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=xd(r),this.isVariantNode=qj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(r,{},this);for(const N in b){const _=b[N];h[N]!==void 0&&Nr(_)&&_.set(h[N],!1)}}mount(e){this.current=e,lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),uS.current||AI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lw.delete(this.current),this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Di.has(e),o=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&kt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const r=Bo[e];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[e]&&o&&n(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<cw.length;n++){const o=cw[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=II(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ul(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(RN(o)||NN(o))?o=parseFloat(o):!OI(o)&&Hs.test(r)&&(o=TN(e,r)),this.setBaseTarget(e,Nr(o)?o.get():o)),Nr(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const c=Up(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(o=c[e])}if(n&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Nr(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new eg),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class dS extends LI{constructor(){super(...arguments),this.KeyframeResolver=DN}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function DI(t){return window.getComputedStyle(t)}class MI extends dS{constructor(){super(...arguments),this.type="html",this.renderInstance=Yj}readValueFromInstance(e,r){if(Di.has(r)){const n=ig(r);return n&&n.default||0}else{const n=DI(e),o=(Qj(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return XN(e,r)}build(e,r,n){qp(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Hp(e,r,n)}}class FI extends dS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Di.has(r)){const n=ig(r);return n&&n.default||0}return r=Xj.has(r)?r:Mp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return rN(e,r,n)}build(e,r,n){zp(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,o){eN(e,r,n,o)}mount(e){this.isSVGTag=Kp(e.tagName),super.mount(e)}}const VI=(t,e)=>Vp(t)?new FI(e):new MI(e,{allowProjection:t!==v.Fragment}),UI=dA({...cO,...TI,...yI,...PI},VI),Ye=kP(UI);var Vm=function(t,e){return Vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Vm(t,e)};function fS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fn=function(){return fn=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},fn.apply(this,arguments)};function Xs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function hS(t,e,r,n){var o=arguments.length,l=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,n);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(o<3?c(l):o>3?c(e,r,l):c(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function mS(t,e){return function(r,n){e(r,n,t)}}function pS(t,e,r,n,o,l){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=n.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?n.static?t:t.prototype:null,p=e||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),x,b=!1,N=r.length-1;N>=0;N--){var _={};for(var j in n)_[j]=j==="access"?{}:n[j];for(var j in n.access)_.access[j]=n.access[j];_.addInitializer=function(C){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(C||null))};var w=(0,r[N])(d==="accessor"?{get:p.get,set:p.set}:p[h],_);if(d==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(x=c(w.get))&&(p.get=x),(x=c(w.set))&&(p.set=x),(x=c(w.init))&&o.unshift(x)}else(x=c(w))&&(d==="field"?o.unshift(x):p[h]=x)}m&&Object.defineProperty(m,n.name,p),b=!0}function gS(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function xS(t){return typeof t=="symbol"?t:"".concat(t)}function yS(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function vS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Le(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function h(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((n=n.apply(t,e||[])).next())})}function bS(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(p){return h([m,p])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(p){m=[6,p],o=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var bd=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function wS(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bd(e,t,r)}function Wu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ug(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)l.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return l}function jS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ug(arguments[e]));return t}function NS(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,o++)n[o]=l[c];return n}function dg(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}function zo(t){return this instanceof zo?(this.v=t,this):new zo(t)}function SS(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(N){return function(_){return Promise.resolve(_).then(N,x)}}function d(N,_){n[N]&&(o[N]=function(j){return new Promise(function(w,C){l.push([N,j,w,C])>1||h(N,j)})},_&&(o[N]=_(o[N])))}function h(N,_){try{m(n[N](_))}catch(j){b(l[0][3],j)}}function m(N){N.value instanceof zo?Promise.resolve(N.value.v).then(p,x):b(l[0][2],N)}function p(N){h("next",N)}function x(N){h("throw",N)}function b(N,_){N(_),l.shift(),l.length&&h(l[0][0],l[0][1])}}function _S(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,l){e[o]=t[o]?function(c){return(r=!r)?{value:zo(t[o](c)),done:!1}:l?l(c):c}:l}}function kS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wu=="function"?Wu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),o(d,h,c.done,c.value)})}}function o(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}function CS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var $I=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Um=function(t){return Um=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Um(t)};function ES(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Um(t),n=0;n<r.length;n++)r[n]!=="default"&&bd(e,t,r[n]);return $I(e,t),e}function TS(t){return t&&t.__esModule?t:{default:t}}function PS(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function AS(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function RS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function OS(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var BI=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function IS(t){function e(l){t.error=t.hasError?new BI(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(o,function(c){return e(c),o()})}else n|=1}catch(c){e(c)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function LS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,l,c){return n?e?".jsx":".js":o&&(!l||!c)?r:o+l+"."+c.toLowerCase()+"js"}):t}const qI={__extends:fS,__assign:fn,__rest:Xs,__decorate:hS,__param:mS,__esDecorate:pS,__runInitializers:gS,__propKey:xS,__setFunctionName:yS,__metadata:vS,__awaiter:Le,__generator:bS,__createBinding:bd,__exportStar:wS,__values:Wu,__read:ug,__spread:jS,__spreadArrays:NS,__spreadArray:dg,__await:zo,__asyncGenerator:SS,__asyncDelegator:_S,__asyncValues:kS,__makeTemplateObject:CS,__importStar:ES,__importDefault:TS,__classPrivateFieldGet:PS,__classPrivateFieldSet:AS,__classPrivateFieldIn:RS,__addDisposableResource:OS,__disposeResources:IS,__rewriteRelativeImportExtension:LS},zI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:OS,get __assign(){return fn},__asyncDelegator:_S,__asyncGenerator:SS,__asyncValues:kS,__await:zo,__awaiter:Le,__classPrivateFieldGet:PS,__classPrivateFieldIn:RS,__classPrivateFieldSet:AS,__createBinding:bd,__decorate:hS,__disposeResources:IS,__esDecorate:pS,__exportStar:wS,__extends:fS,__generator:bS,__importDefault:TS,__importStar:ES,__makeTemplateObject:CS,__metadata:vS,__param:mS,__propKey:xS,__read:ug,__rest:Xs,__rewriteRelativeImportExtension:LS,__runInitializers:gS,__setFunctionName:yS,__spread:jS,__spreadArray:dg,__spreadArrays:NS,__values:Wu,default:qI},Symbol.toStringTag,{value:"Module"})),WI="modulepreload",KI=function(t){return"/"+t},uw={},ea=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=m(r.map(p=>{if(p=KI(p),p in uw)return;uw[p]=!0;const x=p.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=x?"stylesheet":WI,x||(N.as="script"),N.crossOrigin="",N.href=p,h&&N.setAttribute("nonce",h),document.head.appendChild(N),x)return new Promise((_,j)=>{N.addEventListener("load",_),N.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},HI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class fg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class dw extends fg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fw extends fg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hw extends fg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $m;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($m||($m={}));class GI{constructor(e,{headers:r={},customFetch:n,region:o=$m.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=HI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Le(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:l,method:c,body:d,signal:h}=n;let m={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let b;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=d):typeof d=="string"?(m["Content-Type"]="text/plain",b=d):typeof FormData<"u"&&d instanceof FormData?b=d:(m["Content-Type"]="application/json",b=JSON.stringify(d)):b=d;const N=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:b,signal:h}).catch(C=>{throw C.name==="AbortError"?C:new dw(C)}),_=N.headers.get("x-relay-error");if(_&&_==="true")throw new fw(N);if(!N.ok)throw new hw(N);let j=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return j==="application/json"?w=yield N.json():j==="application/octet-stream"||j==="application/pdf"?w=yield N.blob():j==="text/event-stream"?w=N:j==="multipart/form-data"?w=yield N.formData():w=yield N.text(),{data:w,error:null,response:N}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new dw(l)}:{data:null,error:l,response:l instanceof hw||l instanceof fw?l.context:void 0}}})}}var wr={};const ta=k0(zI);var uu={},du={},fu={},hu={},mu={},QI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=QI();const JI=Wo.fetch,DS=Wo.fetch.bind(Wo),MS=Wo.Headers,ZI=Wo.Request,YI=Wo.Response,Mi=Object.freeze(Object.defineProperty({__proto__:null,Headers:MS,Request:ZI,Response:YI,default:DS,fetch:JI},Symbol.toStringTag,{value:"Module"})),XI=k0(Mi);var pu={},mw;function FS(){if(mw)return pu;mw=1,Object.defineProperty(pu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pu.default=t,pu}var pw;function VS(){if(pw)return mu;pw=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=ta,e=t.__importDefault(XI),r=t.__importDefault(FS());class n{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,x,b,N;let _=null,j=null,w=null,C=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const V=await m.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=V:j=JSON.parse(V))}const A=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),L=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&L&&L.length>1&&(w=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,C=406,k="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const A=await m.text();try{_=JSON.parse(A),Array.isArray(_)&&m.status===404&&(j=[],_=null,C=200,k="OK")}catch{m.status===404&&A===""?(C=204,k="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((N=_?.details)===null||N===void 0)&&N.includes("0 rows"))&&(_=null,C=200,k="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:j,count:w,status:C,statusText:k}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,x,b;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(x=m?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return mu.default=n,mu}var gw;function US(){if(gw)return hu;gw=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=ta.__importDefault(VS());class r extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const x=[o?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return hu.default=r,hu}var xw;function hg(){if(xw)return fu;xw=1,Object.defineProperty(fu,"__esModule",{value:!0});const e=ta.__importDefault(US()),r=new RegExp("[,()]");class n extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return fu.default=n,fu}var yw;function $S(){if(yw)return du;yw=1,Object.defineProperty(du,"__esModule",{value:!0});const e=ta.__importDefault(hg());class r{constructor(o,{headers:l={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(o,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let m=!1;const p=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(m.length>0){const p=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((b,N)=>b.concat(Object.keys(N)),[]);if(x.length>0){const b=[...new Set(x)].map(N=>`"${N}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return du.default=r,du}var vw;function eL(){if(vw)return uu;vw=1,Object.defineProperty(uu,"__esModule",{value:!0});const t=ta,e=t.__importDefault($S()),r=t.__importDefault(hg());class n{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new n(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var p;let x;const b=new URL(`${this.url}/rpc/${l}`);let N;d||h?(x=d?"HEAD":"GET",Object.entries(c).filter(([j,w])=>w!==void 0).map(([j,w])=>[j,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([j,w])=>{b.searchParams.append(j,w)})):(x="POST",N=c);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:x,url:b,headers:_,schema:this.schemaName,body:N,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return uu.default=n,uu}var bw;function tL(){if(bw)return wr;bw=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.PostgrestError=wr.PostgrestBuilder=wr.PostgrestTransformBuilder=wr.PostgrestFilterBuilder=wr.PostgrestQueryBuilder=wr.PostgrestClient=void 0;const t=ta,e=t.__importDefault(eL());wr.PostgrestClient=e.default;const r=t.__importDefault($S());wr.PostgrestQueryBuilder=r.default;const n=t.__importDefault(hg());wr.PostgrestFilterBuilder=n.default;const o=t.__importDefault(US());wr.PostgrestTransformBuilder=o.default;const l=t.__importDefault(VS());wr.PostgrestBuilder=l.default;const c=t.__importDefault(FS());return wr.PostgrestError=c.default,wr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},wr}var BS=tL();const qS=up(BS),rL=_0({__proto__:null,default:qS},[BS]),{PostgrestClient:nL,PostgrestQueryBuilder:kB,PostgrestFilterBuilder:CB,PostgrestTransformBuilder:EB,PostgrestBuilder:TB,PostgrestError:PB}=qS||rL;class sL{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iL="2.78.0",oL=`realtime-js/${iL}`,aL="1.0.0",Bm=1e4,lL=1e3,cL=100;var Xa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xa||(Xa={}));var rr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rr||(rr={}));var _n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_n||(_n={}));var qm;(function(t){t.websocket="websocket"})(qm||(qm={}));var Ni;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ni||(Ni={}));class uL{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const o=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(e.slice(c,c+o));c=c+o;const h=n.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class zS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const ww=(t,e,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=dL(c,t,e,o),l),{}):{}},dL=(t,e,r,n)=>{const o=e.find(d=>d.name===t),l=o?.type,c=r[t];return l&&!n.includes(l)?WS(l,c):zm(c)},WS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return pL(e,r)}switch(t){case wt.bool:return fL(e);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return hL(e);case wt.json:case wt.jsonb:return mL(e);case wt.timestamp:return gL(e);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return zm(e);default:return zm(e)}},zm=t=>t,fL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pL=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>WS(e,d))}return t},gL=t=>typeof t=="string"?t.replace(" ","T"):t,KS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bh{constructor(e,r,n={},o=Bm){this.channel=e,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jw||(jw={}));class el{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=el.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=el.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,o){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,p)=>{c[m]||(h[m]=p)}),this.map(c,(m,p)=>{const x=l[m];if(x){const b=p.map(w=>w.presence_ref),N=x.map(w=>w.presence_ref),_=p.filter(w=>N.indexOf(w.presence_ref)<0),j=x.filter(w=>b.indexOf(w.presence_ref)<0);_.length>0&&(d[m]=_),j.length>0&&(h[m]=j)}else d[m]=p}),this.syncDiff(l,{joins:d,leaves:h},n,o)}static syncDiff(e,r,n,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var m;const p=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),p.length>0){const x=e[d].map(N=>N.presence_ref),b=p.filter(N=>x.indexOf(N.presence_ref)<0);e[d].unshift(...b)}n(d,p,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const p=h.map(x=>x.presence_ref);m=m.filter(x=>p.indexOf(x.presence_ref)<0),e[d]=m,o(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const o=e[n];return"metas"in o?r[n]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nw||(Nw={}));var tl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tl||(tl={}));var as;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(as||(as={}));class mg{constructor(e,r={config:{}},n){var o,l;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,_n.join,this.params,this.timeout),this.rejoinTimer=new zS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new el(this),this.broadcastEndpointURL=KS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(N=>N.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[tl.PRESENCE]&&this.bindings[tl.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>e?.(as.CHANNEL_ERROR,N)),this._onClose(()=>e?.(as.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var _;if(this.socket.setAuth(),N===void 0){e?.(as.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,w=(_=j?.length)!==null&&_!==void 0?_:0,C=[];for(let k=0;k<w;k++){const E=j[k],{filter:{event:A,schema:L,table:V,filter:H}}=E,Z=N&&N[k];if(Z&&Z.event===A&&Z.schema===L&&Z.table===V&&Z.filter===H)C.push(Object.assign(Object.assign({},E),{id:Z.id}));else{this.unsubscribe(),this.state=rr.errored,e?.(as.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(as.SUBSCRIBED);return}}).receive("error",N=>{this.state=rr.errored,e?.(as.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{e?.(as.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===rr.joined&&e===tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Bh(this,_n.leave,{},e),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const o=new AbortController,l=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bh(this,e,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=_n;if(n&&[d,h,m,p].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(N=>{var _,j,w;return((_=N.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(j=N.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(N=>N.callback(b,n)):(l=this.bindings[c])===null||l===void 0||l.filter(N=>{var _,j,w,C,k,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in N){const A=N.id,L=(_=N.filter)===null||_===void 0?void 0:_.event;return A&&((j=r.ids)===null||j===void 0?void 0:j.includes(A))&&(L==="*"||L?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(k=(C=N?.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return A==="*"||A===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===c}).map(N=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:j,table:w,commit_timestamp:C,type:k,errors:E}=_;b=Object.assign(Object.assign({},{schema:j,table:w,commit_timestamp:C,eventType:k,new:{},old:{},errors:E}),this._getPayloadRecords(_))}N.callback(b,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&mg.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_n.close,{},e)}_onError(e){this._on(_n.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ww(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ww(e.columns,e.old_record)),r}}const qh=()=>{},gu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xL=[1e3,2e3,5e3,1e4],yL=1e4,vL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bm,this.transport=null,this.heartbeatIntervalMs=gu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qh,this.ref=0,this.reconnectTimer=null,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new uL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>ea(async()=>{const{default:d}=await Promise.resolve().then(()=>Mi);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qm.websocket}`,this.httpEndpoint=KS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aL}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xa.connecting:return Ni.Connecting;case Xa.open:return Ni.Open;case Xa.closing:return Ni.Closing;default:return Ni.Closed}}isConnected(){return this.connectionState()===Ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===n);if(o)return o;{const l=new mg(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_n.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${n}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([vL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:oL};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(_n.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,o,l,c,d,h,m,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Bm,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:gu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:qh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(x=>xL[x-1]||yL),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((x,b)=>b(JSON.stringify(x))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class pg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wL extends pg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wm extends pg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jL=()=>Le(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ea(()=>Promise.resolve().then(()=>Mi),void 0)).Response:Response}),Km=t=>{if(Array.isArray(t))return t.map(r=>Km(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Km(n)}),e},NL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SL=(t,e,r)=>Le(void 0,void 0,void 0,function*(){const n=yield jL();t instanceof n&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,c=o?.statusCode||l+"";e(new wL(zh(o),l,c))}).catch(o=>{e(new Wm(zh(o),o))}):e(new Wm(zh(t),t))}),_L=(t,e,r,n)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!n?o:(NL(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(n)):o.body=n,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Ul(t,e,r,n,o,l){return Le(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,_L(e,n,o,l)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>SL(h,d,n))})})}function hl(t,e,r,n){return Le(this,void 0,void 0,function*(){return Ul(t,"GET",e,r,n)})}function Nn(t,e,r,n,o){return Le(this,void 0,void 0,function*(){return Ul(t,"POST",e,n,o,r)})}function Hm(t,e,r,n,o){return Le(this,void 0,void 0,function*(){return Ul(t,"PUT",e,n,o,r)})}function kL(t,e,r,n){return Le(this,void 0,void 0,function*(){return Ul(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xg(t,e,r,n,o){return Le(this,void 0,void 0,function*(){return Ul(t,"DELETE",e,n,o,r)})}class CL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rt(e))return{data:null,error:e};throw e}})}}var HS;class EL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[HS]="BlobDownloadBuilder",this.promise=null}asStream(){return new CL(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rt(e))return{data:null,error:e};throw e}})}}HS=Symbol.toStringTag;const TL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PL{constructor(e,r={},n,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gg(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,o){return Le(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Sw),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),x=yield(e=="PUT"?Hm:Nn)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Rt(l))return{data:null,error:l};throw l}})}upload(e,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,o){return Le(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Sw.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const x=yield Hm(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Rt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Le(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new pg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}copy(e,r,n){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,n){return Le(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Nn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,n){return Le(this,void 0,void 0,function*(){try{const o=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>hl(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new EL(h,this.shouldThrowOnError)}info(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Km(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}exists(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield kL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n)&&n instanceof Wm){const o=n.originalError;if([400,404].includes(o?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(e){return Le(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Le(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},TL),r),{prefix:e||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}listV2(e,r){return Le(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const GS="2.78.0",QS={"X-Client-Info":`storage-js/${GS}`};class AL{constructor(e,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QS),r),this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}createBucket(e){return Le(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class RL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QS),r),this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),o=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hl(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}const yg={"X-Client-Info":`storage-js/${GS}`,"Content-Type":"application/json"};class JS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Wh extends JS{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OL extends JS{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var _w;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_w||(_w={}));const vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},IL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LL=(t,e,r)=>Le(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||o+"";e(new Wh(kw(c),o,d))}).catch(()=>{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Wh(d,o,c))});else{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Wh(d,o,c))}}else e(new OL(kw(t),t))}),DL=(t,e,r,n)=>{const o={method:t,headers:e?.headers||{}};return n?(IL(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(n)):o.body=n,Object.assign(Object.assign({},o),r)):o};function ML(t,e,r,n,o,l){return Le(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,DL(e,n,o,l)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>LL(h,d,n))})})}function Gr(t,e,r,n,o){return Le(this,void 0,void 0,function*(){return ML(t,"POST",e,n,o,r)})}class FL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listIndexes(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class VL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class UL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return Le(this,arguments,void 0,function*(e={}){try{return{data:yield Gr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class $L extends UL{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new BL(this.url,this.headers,e,this.fetch)}}class BL extends FL{constructor(e,r,n,o){super(e,r,o),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Le(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Le(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Le(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Le(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new qL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class qL extends VL{constructor(e,r,n,o,l){super(e,r,l),this.vectorBucketName=n,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Le(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Le(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Le(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Le(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Le(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zL extends AL{constructor(e,r={},n,o){super(e,r,n,o)}from(e){return new PL(this.url,this.headers,e,this.fetch)}get vectors(){return new $L(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RL(this.url+"/iceberg",this.headers,this.fetch)}}const WL="2.78.0";let Ha="";typeof Deno<"u"?Ha="deno":typeof document<"u"?Ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ha="react-native":Ha="node";const KL={"X-Client-Info":`supabase-js-${Ha}/${WL}`},HL={headers:KL},GL={schema:"public"},QL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JL={},ZL=t=>{let e;return t?e=t:typeof fetch>"u"?e=DS:e=fetch,(...r)=>e(...r)},YL=()=>typeof Headers>"u"?MS:Headers,XL=(t,e,r)=>{const n=ZL(r),o=YL();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,Object.assign(Object.assign({},c),{headers:m}))}};function e4(t){return t.endsWith("/")?t:t+"/"}function t4(t,e){var r,n;const{db:o,auth:l,realtime:c,global:d}=t,{db:h,auth:m,realtime:p,global:x}=e,b={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function r4(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ZS="2.78.0",wo=30*1e3,Gm=3,Kh=Gm*wo,n4="http://localhost:9999",s4="supabase.auth.token",i4={"X-Client-Info":`gotrue-js/${ZS}`},Qm="X-Supabase-Api-Version",YS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a4=600*1e3;class ml extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class l4 extends ml{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function c4(t){return Ue(t)&&t.name==="AuthApiError"}class Si extends ml{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ei extends ml{constructor(e,r,n,o){super(e,n,o),this.name=r,this.status=n}}class bn extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u4(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class co extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xu extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yu extends ei{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d4(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cw extends ei{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jm extends ei{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hh(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class Ew extends ei{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zm extends ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tw=` 	
\r=`.split(""),f4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tw.length;e+=1)t[Tw[e].charCodeAt(0)]=-2;for(let e=0;e<Ku.length;e+=1)t[Ku[e].charCodeAt(0)]=e;return t})();function Pw(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ku[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ku[n]),e.queuedBits-=6}}function XS(t,e,r){const n=f4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Aw(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{p4(c,n,r)};for(let c=0;c<t.length;c+=1)XS(t.charCodeAt(c),o,l);return e.join("")}function h4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function m4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}h4(n,e)}}function p4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ro(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)XS(t.charCodeAt(o),r,n);return new Uint8Array(e)}function g4(t){const e=[];return m4(t,r=>e.push(r)),new Uint8Array(e)}function ki(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};return t.forEach(o=>Pw(o,r,n)),Pw(null,r,n),e.join("")}function x4(t){return Math.round(Date.now()/1e3)+t}function y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tr=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},e_=()=>{if(!Tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function v4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((n,o)=>{e[o]=n}),e}const t_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Mi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},b4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},yi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Us=async(t,e)=>{await t.removeItem(e)};class wd{constructor(){this.promise=new wd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}wd.promiseConstructor=Promise;function Gh(t){const e=t.split(".");if(e.length!==3)throw new Zm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!o4.test(e[n]))throw new Zm("JWT not in base64url format");return{header:JSON.parse(Aw(e[0])),payload:JSON.parse(Aw(e[1])),signature:Ro(e[2]),raw:{header:e[0],payload:e[1]}}}async function w4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function j4(t,e){return new Promise((n,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){n(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function N4(t){return("0"+t.toString(16)).substr(-2)}function S4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,N4).join("")}async function _4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function k4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uo(t,e,r=!1){const n=S4();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await jo(t,`${e}-code-verifier`,o);const l=await k4(n);return[l,n===l?"plain":"s256"]}const C4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E4(t){const e=t.headers.get(Qm);if(!e||!e.match(C4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function T4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function P4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(t){if(!A4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R4(t,e){return new Proxy(t,{get:(r,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,o)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,o)}})}function Rw(t){return JSON.parse(JSON.stringify(t))}const ji=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),O4=[502,503,504];async function Ow(t){var e;if(!b4(t))throw new Jm(ji(t),0);if(O4.includes(t.status))throw new Jm(ji(t),t.status);let r;try{r=await t.json()}catch(l){throw new Si(ji(l),l)}let n;const o=E4(t);if(o&&o.getTime()>=YS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ew(ji(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ew(ji(r),t.status,r.weak_password.reasons);throw new l4(ji(r),t.status||500,n)}const I4=(t,e,r,n)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Qe(t,e,r,n){var o;const l=Object.assign({},n?.headers);l[Qm]||(l[Qm]=YS["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(o=n?.query)!==null&&o!==void 0?o:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await L4(t,e,r+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function L4(t,e,r,n,o,l){const c=I4(e,n,o,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new Jm(ji(h),0)}if(d.ok||await Ow(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await Ow(h)}}function wn(t){var e;let r=null;F4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=x4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Iw(t){const e=wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function D4(t){return{data:t,error:null}}function M4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l}=t,c=Xs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Lw(t){return t}function F4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jh=["global","local","others"];class V4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=t_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Jh[0]){if(Jh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Xs(e,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n?.newEmail,delete o.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:M4,redirectTo:r?.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,o,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Lw});if(p.error)throw p.error;const x=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,N=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return N.length>0&&(N.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fo(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fo(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fo(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:qs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fo(e.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,o,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Lw});if(p.error)throw p.error;const x=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,N=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return N.length>0&&(N.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function Dw(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ho={debug:!!(globalThis&&e_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class U4 extends r_{}async function $4(t,e,r){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new U4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ho.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function B4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function n_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function q4(t){return parseInt(t,16)}function z4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function W4(t){var e;const{chainId:r,domain:n,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:p,uri:x,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const N=n_(t.address),_=p?`${p}://${n}`:n,j=t.statement?`${t.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${N}

${j}`;let C=`URI: ${x}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let k=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);k+=`
- ${E}`}C+=k}return`${w}
${C}`}class Jt extends Error{constructor({message:e,code:r,cause:n,name:o}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=o??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Hu extends Jt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function K4({error:t,options:e}){var r,n,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(s_(c)){if(l.rp.id!==c)return new Jt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function H4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(s_(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class G4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Q4=new G4;function J4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,o=Xs(t,["challenge","user","excludeCredentials"]),l=Ro(e).buffer,c=Object.assign(Object.assign({},r),{id:Ro(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ro(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Z4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Xs(t,["challenge","allowCredentials"]),o=Ro(e).buffer,l=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ro(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Y4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ki(new Uint8Array(t.response.attestationObject)),clientDataJSON:ki(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function X4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ki(new Uint8Array(o.authenticatorData)),clientDataJSON:ki(new Uint8Array(o.clientDataJSON)),signature:ki(new Uint8Array(o.signature)),userHandle:o.userHandle?ki(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function s_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mw(){var t,e;return!!(Tr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function eD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",e)}:{data:null,error:new Hu("Empty credential response",e)}}catch(e){return{data:null,error:K4({error:e,options:t})}}}async function tD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",e)}:{data:null,error:new Hu("Empty credential response",e)}}catch(e){return{data:null,error:H4({error:e,options:t})}}}const rD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},nD={userVerification:"preferred",hints:["security-key"]};function Gu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(e(c)){const d=n[l];e(d)?n[l]=Gu(d,c):n[l]=Gu(c)}else n[l]=c}return n}function sD(t,e){return Gu(rD,t,e||{})}function iD(t,e){return Gu(nD,t,e||{})}class oD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const h=o??Q4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=sD(c.webauthn.credential_options.publicKey,l?.create),{data:p,error:x}=await eD({publicKey:m,signal:h});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}case"request":{const m=iD(c.webauthn.credential_options.publicKey,l?.request),{data:p,error:x}=await tD(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!Mw())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!Mw())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var x;return(x=p.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in register",c)}}}}B4();const aD={url:n4,storageKey:s4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fw(t,e,r){return await r()}const mo={};class pl{get jwks(){var e,r;return(r=(e=mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pl.nextInstanceID,pl.nextInstanceID+=1,this.instanceID>0&&Tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},aD),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new V4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=t_(o.fetch),this.lock=o.lock||Fw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Tr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=$4:this.lock=Fw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:e_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),Tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=v4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),d4(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?{error:r}:{error:new Si("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,o;try{const l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:wn}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,n,o;try{let l;if("email"in e){const{email:p,password:x,options:b}=e;let N=null,_=null;this.flowType==="pkce"&&([N,_]=await uo(this.storage,this.storageKey)),l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:p,password:x,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:N,code_challenge_method:_},xform:wn})}else if("phone"in e){const{phone:p,password:x,options:b}=e;l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:x,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:wn})}else throw new xu("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Iw})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Iw})}else throw new xu("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,o,l,c,d,h,m,p,x,b;let N,_;if("message"in e)N=e.message,_=e.signature;else{const{chain:j,wallet:w,statement:C,options:k}=e;let E;if(Tr())if(typeof w=="object")E=w;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")E=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const A=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),L=await E.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=n_(L[0]);let H=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const O=await E.request({method:"eth_chainId"});H=q4(O)}const Z={domain:A.host,address:V,statement:C,uri:A.href,version:"1",chainId:H,nonce:(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};N=W4(Z),_=await E.request({method:"personal_sign",params:[z4(N),V]})}try{const{data:j,error:w}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:_},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wn});if(w)throw w;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new co}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:w})}catch(j){if(Ue(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var r,n,o,l,c,d,h,m,p,x,b,N;let _,j;if("message"in e)_=e.message,j=e.signature;else{const{chain:w,wallet:C,statement:k,options:E}=e;let A;if(Tr())if(typeof C=="object")A=C;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))A=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const L=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const V=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),k?{statement:k}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)_=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),j=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((x=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||x===void 0)&&x.length?["Resources",...E.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await A.signMessage(new TextEncoder().encode(_),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=V}}try{const{data:w,error:C}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ki(j)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:wn});if(C)throw C;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new co}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:C})}catch(w){if(Ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await yi(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:l,error:c}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:wn});if(await Us(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new co}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Ue(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:o,access_token:l,nonce:c}=e,d=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new co}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,o,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await uo(this.storage,this.storageKey));const{error:x}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new xu("You must provide either an email or phone number.")}catch(d){if(Ue(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,n;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:wn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,n,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await uo(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:D4})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new bn;const{error:o}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:l}=e,{error:c}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:o,options:l}=e,{data:c,error:d}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new xu("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Kh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await yi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Qh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=R4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qs}):await this._useSession(async r=>{var n,o,l;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:qs})})}catch(r){if(Ue(r))return u4(r)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:o,error:l}=n;if(l)throw l;if(!o.session)throw new bn;const c=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await uo(this.storage,this.storageKey));const{data:m,error:p}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:qs});if(p)throw p;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const r=Date.now()/1e3;let n=r,o=!0,l=null;const{payload:c}=Gh(e.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new bn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Tr())throw new yu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cw("No code detected.");const{data:k,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new yu("No session defined in URL");const p=Math.round(Date.now()/1e3),x=parseInt(d);let b=p+x;h&&(b=parseInt(h));const N=b-p;N*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const _=b-x;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,p);const{data:j,error:w}=await this._getUser(l);if(w)throw w;const C={provider_token:n,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:b,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(n){if(Ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{error:l};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(c4(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=y4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await uo(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ue(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:o}=await this._useSession(async l=>{var c,d,h,m,p;const{data:x,error:b}=l;if(b)throw b;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",N,{headers:this.headers,jwt:(p=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Tr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Ue(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:c,provider:d,token:h,access_token:m,nonce:p}=e,x=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:wn}),{data:b,error:N}=x;return N?{data:{user:null,session:null},error:N}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:N})}catch(o){if(Ue(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)throw c;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await j4(async o=>(o>0&&await w4(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Hh(l)&&Date.now()+c-n<wo})}catch(n){if(this._debug(r,"error",n),Ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Tr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await yi(this.storage,this.storageKey);if(o&&this.userStorage){let c=await yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await jo(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Qh()}else if(o&&!o.user&&!o.user){const c=await yi(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Us(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,o)):o.user=Qh()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kh;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Kh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Hh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new wd;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new bn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Ue(l)){const c={data:null,error:l};return Hh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Rw(o);await jo(this.storage,this.storageKey,l)}else{const o=Rw(r);await jo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${wo}ms, refresh threshold is ${Gm} ticks`),o<=Gm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof r_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await uo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);o.push(l.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Y4(e.webauthn.credential_response):X4(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const c=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:J4(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Z4(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gh(n.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?{data:null,error:o}:n?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new bn}})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)return{data:null,error:l};if(!o)return{data:null,error:new bn};const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)return{data:null,error:l};if(!o)return{data:null,error:new bn};const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+a4>o)return n;const{data:l,error:c}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,n=l.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:N,error:_}=await this.getSession();if(_||!N.session)return{data:null,error:_};n=N.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:h}}=Gh(n);r?.allowExpired||T4(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:N}=await this.getUser(n);if(N)throw N;return{data:{claims:l,header:o,signature:c},error:null}}const p=P4(o.alg),x=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,x,c,g4(`${d}.${h}`)))throw new Zm("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}pl.nextInstanceID=0;const lD=pl;class cD extends lD{constructor(e){super(e)}}class uD{constructor(e,r,n){var o,l,c;this.supabaseUrl=e,this.supabaseKey=r;const d=r4(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:GL,realtime:JL,auth:Object.assign(Object.assign({},QL),{storageKey:h}),global:HL},p=t4(n??{},m);this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=XL(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new nL(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new zL(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new GI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:c,flowType:d,lock:h,debug:m},p,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cD({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:d,lock:h,debug:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dD=(t,e,r)=>new uD(t,e,r);function fD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hD="https://irugmulvyqbhajkfrpmg.supabase.co",mD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlydWdtdWx2eXFiaGFqa2ZycG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzODU1NDAsImV4cCI6MjA3Njk2MTU0MH0.PufMRgRQ__c5zxCzhO3n90laj1sY7HSTIIfLOzTh-hE",We=dD(hD,mD,{auth:{persistSession:!1,autoRefreshToken:!1}}),i_=v.createContext(void 0);function pD({children:t}){const[e,r]=v.useState(null),[n,o]=v.useState(!0);v.useEffect(()=>{let c=!0;async function d(){const{data:m}=await We.auth.getSession();c&&(r(m.session?.user??null),o(!1))}d();const{data:h}=We.auth.onAuthStateChange((m,p)=>{r(p?.user??null)});return()=>{try{h?.subscription?.unsubscribe?.(),h?.unsubscribe?.()}catch{}c=!1}},[]);const l=async()=>{await We.auth.signOut()};return i.jsx(i_.Provider,{value:{user:e,loading:n,signOut:l},children:t})}function gr(){const t=v.useContext(i_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function gD(){const[t,e]=v.useState(!1),r=[{href:"/",label:"Home"},{href:"/labs",label:"Labs"},{href:"/pricing",label:"Pricing"},{href:"/contact",label:"Contact"}],n=()=>e(d=>!d),o=()=>e(!1),{user:l,signOut:c}=gr();return i.jsxs(Ye.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"fixed top-11 left-0 right-0 z-40 bg-background/80 backdrop-blur-sm border-b",children:[i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsx(Ne,{href:"/",children:i.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-12 w-auto"})})}),i.jsx("div",{className:"md:hidden",children:i.jsxs("button",{type:"button",onClick:n,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","aria-expanded":t,"aria-controls":"mobile-nav",children:[i.jsx("span",{className:"sr-only",children:"Toggle navigation menu"}),i.jsxs("div",{className:"flex flex-col items-center justify-center gap-1.5",children:[i.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),i.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),i.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"})]})]})}),i.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[r.map(d=>i.jsx(Ne,{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.href)),l?i.jsxs(i.Fragment,{children:[i.jsx(Ne,{href:"/account",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"My profile"}),i.jsx("button",{onClick:()=>c(),className:"inline-flex items-center rounded-full border px-4 py-2 text-sm font-semibold text-muted-foreground transition hover:border-primary hover:text-primary",children:"Sign out"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ne,{href:"/login",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Sign in"}),i.jsx(Ne,{href:"/signup",className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90",children:"Create account"})]})]})]})}),i.jsx(yP,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",onClick:o},"overlay"),i.jsxs(Ye.aside,{id:"mobile-nav",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed top-0 right-0 z-50 flex h-screen w-64 flex-col bg-background shadow-lg md:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[i.jsx(Ne,{href:"/",onClick:o,children:i.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-10 w-auto"})}),i.jsxs("button",{type:"button",onClick:o,className:"inline-flex h-9 w-9 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[i.jsx("span",{className:"sr-only",children:"Close navigation menu"}),i.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:i.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})]}),i.jsxs("nav",{className:"flex flex-1 flex-col gap-2 px-4 py-6",children:[[...r,...l?[{href:"/account",label:"My profile"}]:[{href:"/login",label:"Sign in"},{href:"/signup",label:"Create account"}]].map(d=>i.jsx(Ne,{href:d.href,onClick:o,className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:d.label},d.href)),l&&i.jsx("button",{onClick:()=>{c(),o()},className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary text-left",children:"Sign out"})]})]},"panel")]})})]})}const xD=Sp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oo=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...o},l)=>{const c=n?G0:"button";return i.jsx(c,{className:pt(xD({variant:e,size:r,className:t})),ref:l,...o})});Oo.displayName="Button";function yD(){const t=()=>{const e=document.querySelector("#about-section");e&&e.scrollIntoView({behavior:"smooth"})};return i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center px-4 py-20",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-gradient-to-br from-blue-400 to-pink-400"}),i.jsx("div",{className:"container mx-auto relative z-10",children:i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl mx-auto text-center",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-pink-600",children:"Infrastructure for scientific collaboration."}),i.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-12",children:"GLASS-Connect gives labs a standard profile, trusted verification, and direct routing so innovation moves faster."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsx(Oo,{size:"lg",className:"text-lg px-8",asChild:!0,children:i.jsx(Ne,{href:"/admin/labs",children:"List your lab"})}),i.jsx(Oo,{size:"lg",variant:"outline",className:"text-lg px-8",asChild:!0,children:i.jsx(Ne,{href:"/labs",children:"Browse labs"})}),i.jsx(Oo,{size:"lg",variant:"outline",className:"text-lg px-8 bg-pink-500 text-white border-none hover:bg-pink-500/90",onClick:t,children:"How it works"})]})]})})]})}const o_=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));o_.displayName="Card";const vD=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("flex flex-col space-y-1.5 p-6",t),...e}));vD.displayName="CardHeader";const bD=v.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));bD.displayName="CardTitle";const wD=v.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:pt("text-sm text-muted-foreground",t),...e}));wD.displayName="CardDescription";const a_=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("p-6 pt-0",t),...e}));a_.displayName="CardContent";const jD=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("flex items-center p-6 pt-0",t),...e}));jD.displayName="CardFooter";function ND(){return i.jsx("section",{id:"about-section",className:"py-20 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"About GLASS-Connect"}),i.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"GLASS-Connect is the structured directory for research labs. We standardise how teams present capabilities, verify key details once, and route collaboration requests to real humans without endless back-and-forth."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:[{icon:i.jsx(a2,{className:"h-10 w-10 text-primary"}),title:"Trusted details",description:"Light remote/on-site verification so partners know the information and equipment are current."},{icon:i.jsx(A2,{className:"h-10 w-10 text-primary"}),title:"Structured profiles",description:"Clear capabilities, equipment, and collaboration preferences in a consistent, comparable format."},{icon:i.jsx(b2,{className:"h-10 w-10 text-primary"}),title:"Fast routing",description:"Qualified requests go straight to the right contact so labs spend more time collaborating."}].map((t,e)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.2},children:i.jsx(o_,{children:i.jsxs(a_,{className:"pt-6 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:t.icon}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),i.jsx("p",{className:"text-muted-foreground",children:t.description})]})})},e))})]})})}var $l=t=>t.type==="checkbox",Ci=t=>t instanceof Date,Pr=t=>t==null;const l_=t=>typeof t=="object";var Yt=t=>!Pr(t)&&!Array.isArray(t)&&l_(t)&&!Ci(t),c_=t=>Yt(t)&&t.target?$l(t.target)?t.target.checked:t.target.value:t,SD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,u_=(t,e)=>t.has(SD(e)),_D=t=>{const e=t.constructor&&t.constructor.prototype;return Yt(e)&&e.hasOwnProperty("isPrototypeOf")},bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(bg&&(t instanceof Blob||n))&&(r||Yt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!_D(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=nr(t[o]));else return t;return e}var jd=t=>/^\w*$/.test(t),Kt=t=>t===void 0,wg=t=>Array.isArray(t)?t.filter(Boolean):[],jg=t=>wg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(t,e,r)=>{if(!e||!Yt(t))return r;const n=(jd(e)?[e]:jg(e)).reduce((o,l)=>Pr(o)?o:o[l],t);return Kt(n)||n===t?Kt(t[e])?r:t[e]:n},Wr=t=>typeof t=="boolean",xt=(t,e,r)=>{let n=-1;const o=jd(e)?[e]:jg(e),l=o.length,c=l-1;for(;++n<l;){const d=o[n];let h=r;if(n!==c){const m=t[d];h=Yt(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Qu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ng=Fe.createContext(null);Ng.displayName="HookFormContext";const Nd=()=>Fe.useContext(Ng),kD=t=>{const{children:e,...r}=t;return Fe.createElement(Ng.Provider,{value:r},e)};var d_=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==kn.all&&(e._proxyFormState[c]=!n||kn.all),r&&(r[c]=!0),t[c]}});return o};const Sg=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;function CD(t){const e=Nd(),{control:r=e.control,disabled:n,name:o,exact:l}=t||{},[c,d]=Fe.useState(r._formState),h=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Sg(()=>r._subscribe({name:o,formState:h.current,exact:l,callback:m=>{!n&&d({...r._formState,...m})}}),[o,n,l]),Fe.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Fe.useMemo(()=>d_(c,r,h.current,!1),[c,r])}var Qr=t=>typeof t=="string",f_=(t,e,r,n,o)=>Qr(t)?(n&&e.watch.add(t),we(r,t,o)):Array.isArray(t)?t.map(l=>(n&&e.watch.add(l),we(r,l))):(n&&(e.watchAll=!0),r),Ym=t=>Pr(t)||!l_(t);function cs(t,e,r=new WeakSet){if(Ym(t)||Ym(e))return t===e;if(Ci(t)&&Ci(e))return t.getTime()===e.getTime();const n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const l of n){const c=t[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Ci(c)&&Ci(d)||Yt(c)&&Yt(d)||Array.isArray(c)&&Array.isArray(d)?!cs(c,d,r):c!==d)return!1}}return!0}function ED(t){const e=Nd(),{control:r=e.control,name:n,defaultValue:o,disabled:l,exact:c,compute:d}=t||{},h=Fe.useRef(o),m=Fe.useRef(d),p=Fe.useRef(void 0);m.current=d;const x=Fe.useMemo(()=>r._getWatch(n,h.current),[r,n]),[b,N]=Fe.useState(m.current?m.current(x):x);return Sg(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:_=>{if(!l){const j=f_(n,r._names,_.values||r._formValues,!1,h.current);if(m.current){const w=m.current(j);cs(w,p.current)||(N(w),p.current=w)}else N(j)}}}),[r,l,n,c]),Fe.useEffect(()=>r._removeUnmounted()),b}function TD(t){const e=Nd(),{name:r,disabled:n,control:o=e.control,shouldUnregister:l,defaultValue:c}=t,d=u_(o._names.array,r),h=Fe.useMemo(()=>we(o._formValues,r,we(o._defaultValues,r,c)),[o,r,c]),m=ED({control:o,name:r,defaultValue:h,exact:!0}),p=CD({control:o,name:r,exact:!0}),x=Fe.useRef(t),b=Fe.useRef(void 0),N=Fe.useRef(o.register(r,{...t.rules,value:m,...Wr(t.disabled)?{disabled:t.disabled}:{}}));x.current=t;const _=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!we(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!we(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!we(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!we(p.validatingFields,r)},error:{enumerable:!0,get:()=>we(p.errors,r)}}),[p,r]),j=Fe.useCallback(E=>N.current.onChange({target:{value:c_(E),name:r},type:Qu.CHANGE}),[r]),w=Fe.useCallback(()=>N.current.onBlur({target:{value:we(o._formValues,r),name:r},type:Qu.BLUR}),[r,o._formValues]),C=Fe.useCallback(E=>{const A=we(o._fields,r);A&&E&&(A._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:L=>E.setCustomValidity(L),reportValidity:()=>E.reportValidity()})},[o._fields,r]),k=Fe.useMemo(()=>({name:r,value:m,...Wr(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:j,onBlur:w,ref:C}),[r,n,p.disabled,j,w,C,m]);return Fe.useEffect(()=>{const E=o._options.shouldUnregister||l,A=b.current;A&&A!==r&&!d&&o.unregister(A),o.register(r,{...x.current.rules,...Wr(x.current.disabled)?{disabled:x.current.disabled}:{}});const L=(V,H)=>{const Z=we(o._fields,V);Z&&Z._f&&(Z._f.mount=H)};if(L(r,!0),E){const V=nr(we(o._options.defaultValues,r));xt(o._defaultValues,r,V),Kt(we(o._formValues,r))&&xt(o._formValues,r,V)}return!d&&o.register(r),b.current=r,()=>{(d?E&&!o._state.action:E)?o.unregister(r):L(r,!1)}},[r,o,d,l]),Fe.useEffect(()=>{o._setDisabledField({disabled:n,name:r})},[n,r,o]),Fe.useMemo(()=>({field:k,formState:p,fieldState:_}),[k,p,_])}const PD=t=>t.render(TD(t));var h_=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},rl=t=>Array.isArray(t)?t:[t],Vw=()=>{let t=[];return{get observers(){return t},next:o=>{for(const l of t)l.next&&l.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(l=>l!==o)}}),unsubscribe:()=>{t=[]}}};function m_(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const o=t[n],l=e[n];if(o&&Yt(o)&&l){const c=m_(o,l);Yt(c)&&(r[n]=c)}else t[n]&&(r[n]=l)}return r}var Vr=t=>Yt(t)&&!Object.keys(t).length,_g=t=>t.type==="file",Cn=t=>typeof t=="function",Ju=t=>{if(!bg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},p_=t=>t.type==="select-multiple",kg=t=>t.type==="radio",AD=t=>kg(t)||$l(t),Zh=t=>Ju(t)&&t.isConnected;function RD(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Kt(t)?n++:t[e[n++]];return t}function OD(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function Qt(t,e){const r=Array.isArray(e)?e:jd(e)?[e]:jg(e),n=r.length===1?t:RD(t,r),o=r.length-1,l=r[o];return n&&delete n[l],o!==0&&(Yt(n)&&Vr(n)||Array.isArray(n)&&OD(n))&&Qt(t,r.slice(0,-1)),t}var ID=t=>{for(const e in t)if(Cn(t[e]))return!0;return!1};function g_(t){return Array.isArray(t)||Yt(t)&&!ID(t)}function Xm(t,e={}){for(const r in t)g_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Xm(t[r],e[r])):Pr(t[r])||(e[r]=!0);return e}function No(t,e,r){r||(r=Xm(e));for(const n in t)g_(t[n])?Kt(e)||Ym(r[n])?r[n]=Xm(t[n],Array.isArray(t[n])?[]:{}):No(t[n],Pr(e)?{}:e[n],r[n]):r[n]=!cs(t[n],e[n]);return r}const Uw={value:!1,isValid:!1},$w={value:!0,isValid:!0};var x_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?$w:{value:t[0].value,isValid:!0}:$w:Uw}return Uw},y_=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Kt(t)?t:e?t===""?NaN:t&&+t:r&&Qr(t)?new Date(t):n?n(t):t;const Bw={isValid:!1,value:null};var v_=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Bw):Bw;function qw(t){const e=t.ref;return _g(e)?e.files:kg(e)?v_(t.refs).value:p_(e)?[...e.selectedOptions].map(({value:r})=>r):$l(e)?x_(t.refs).value:y_(Kt(e.value)?t.ref.value:e.value,t)}var LD=(t,e,r,n)=>{const o={};for(const l of t){const c=we(e,l);c&&xt(o,l,c._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},Zu=t=>t instanceof RegExp,Ba=t=>Kt(t)?t:Zu(t)?t.source:Yt(t)?Zu(t.value)?t.value.source:t.value:t,zw=t=>({isOnSubmit:!t||t===kn.onSubmit,isOnBlur:t===kn.onBlur,isOnChange:t===kn.onChange,isOnAll:t===kn.all,isOnTouch:t===kn.onTouched});const Ww="AsyncFunction";var DD=t=>!!t&&!!t.validate&&!!(Cn(t.validate)&&t.validate.constructor.name===Ww||Yt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ww)),MD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Kw=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const nl=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const l=we(t,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(nl(d,e))break}else if(Yt(d)&&nl(d,e))break}}};function Hw(t,e,r){const n=we(t,r);if(n||jd(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=we(e,l),d=we(t,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:r}}var FD=(t,e,r,n)=>{r(t);const{name:o,...l}=t;return Vr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||kn.all))},VD=(t,e,r)=>!t||!e||t===e||rl(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),UD=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,$D=(t,e)=>!wg(we(t,e)).length&&Qt(t,e),BD=(t,e,r)=>{const n=rl(we(t,r));return xt(n,"root",e[r]),xt(t,r,n),t};function Gw(t,e,r="validate"){if(Qr(t)||Array.isArray(t)&&t.every(Qr)||Wr(t)&&!t)return{type:r,message:Qr(t)?t:"",ref:e}}var po=t=>Yt(t)&&!Zu(t)?t:{value:t,message:""},Qw=async(t,e,r,n,o,l)=>{const{ref:c,refs:d,required:h,maxLength:m,minLength:p,min:x,max:b,pattern:N,validate:_,name:j,valueAsNumber:w,mount:C}=t._f,k=we(r,j);if(!C||e.has(j))return{};const E=d?d[0]:c,A=D=>{o&&E.reportValidity&&(E.setCustomValidity(Wr(D)?"":D||""),E.reportValidity())},L={},V=kg(c),H=$l(c),Z=V||H,O=(w||_g(c))&&Kt(c.value)&&Kt(k)||Ju(c)&&c.value===""||k===""||Array.isArray(k)&&!k.length,Q=h_.bind(null,j,n,L),re=(D,G,te,ke=is.maxLength,Ce=is.minLength)=>{const ne=D?G:te;L[j]={type:D?ke:Ce,message:ne,ref:c,...Q(D?ke:Ce,ne)}};if(l?!Array.isArray(k)||!k.length:h&&(!Z&&(O||Pr(k))||Wr(k)&&!k||H&&!x_(d).isValid||V&&!v_(d).isValid)){const{value:D,message:G}=Qr(h)?{value:!!h,message:h}:po(h);if(D&&(L[j]={type:is.required,message:G,ref:E,...Q(is.required,G)},!n))return A(G),L}if(!O&&(!Pr(x)||!Pr(b))){let D,G;const te=po(b),ke=po(x);if(!Pr(k)&&!isNaN(k)){const Ce=c.valueAsNumber||k&&+k;Pr(te.value)||(D=Ce>te.value),Pr(ke.value)||(G=Ce<ke.value)}else{const Ce=c.valueAsDate||new Date(k),ne=ce=>new Date(new Date().toDateString()+" "+ce),X=c.type=="time",me=c.type=="week";Qr(te.value)&&k&&(D=X?ne(k)>ne(te.value):me?k>te.value:Ce>new Date(te.value)),Qr(ke.value)&&k&&(G=X?ne(k)<ne(ke.value):me?k<ke.value:Ce<new Date(ke.value))}if((D||G)&&(re(!!D,te.message,ke.message,is.max,is.min),!n))return A(L[j].message),L}if((m||p)&&!O&&(Qr(k)||l&&Array.isArray(k))){const D=po(m),G=po(p),te=!Pr(D.value)&&k.length>+D.value,ke=!Pr(G.value)&&k.length<+G.value;if((te||ke)&&(re(te,D.message,G.message),!n))return A(L[j].message),L}if(N&&!O&&Qr(k)){const{value:D,message:G}=po(N);if(Zu(D)&&!k.match(D)&&(L[j]={type:is.pattern,message:G,ref:c,...Q(is.pattern,G)},!n))return A(G),L}if(_){if(Cn(_)){const D=await _(k,r),G=Gw(D,E);if(G&&(L[j]={...G,...Q(is.validate,G.message)},!n))return A(G.message),L}else if(Yt(_)){let D={};for(const G in _){if(!Vr(D)&&!n)break;const te=Gw(await _[G](k,r),E,G);te&&(D={...te,...Q(G,te.message)},A(te.message),n&&(L[j]=D))}if(!Vr(D)&&(L[j]={ref:E,...D},!n))return L}}return A(!0),L};const qD={mode:kn.onSubmit,reValidateMode:kn.onChange,shouldFocusError:!0};function zD(t={}){let e={...qD,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=Yt(e.defaultValues)||Yt(e.values)?nr(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:nr(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...p};const b={array:Vw(),state:Vw()},N=e.criteriaMode===kn.all,_=P=>F=>{clearTimeout(m),m=setTimeout(P,F)},j=async P=>{if(!e.disabled&&(p.isValid||x.isValid||P)){const F=e.resolver?Vr((await H()).errors):await O(n,!0);F!==r.isValid&&b.state.next({isValid:F})}},w=(P,F)=>{!e.disabled&&(p.isValidating||p.validatingFields||x.isValidating||x.validatingFields)&&((P||Array.from(d.mount)).forEach(K=>{K&&(F?xt(r.validatingFields,K,F):Qt(r.validatingFields,K))}),b.state.next({validatingFields:r.validatingFields,isValidating:!Vr(r.validatingFields)}))},C=(P,F=[],K,de,fe=!0,ue=!0)=>{if(de&&K&&!e.disabled){if(c.action=!0,ue&&Array.isArray(we(n,P))){const be=K(we(n,P),de.argA,de.argB);fe&&xt(n,P,be)}if(ue&&Array.isArray(we(r.errors,P))){const be=K(we(r.errors,P),de.argA,de.argB);fe&&xt(r.errors,P,be),$D(r.errors,P)}if((p.touchedFields||x.touchedFields)&&ue&&Array.isArray(we(r.touchedFields,P))){const be=K(we(r.touchedFields,P),de.argA,de.argB);fe&&xt(r.touchedFields,P,be)}(p.dirtyFields||x.dirtyFields)&&(r.dirtyFields=No(o,l)),b.state.next({name:P,isDirty:re(P,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(l,P,F)},k=(P,F)=>{xt(r.errors,P,F),b.state.next({errors:r.errors})},E=P=>{r.errors=P,b.state.next({errors:r.errors,isValid:!1})},A=(P,F,K,de)=>{const fe=we(n,P);if(fe){const ue=we(l,P,Kt(K)?we(o,P):K);Kt(ue)||de&&de.defaultChecked||F?xt(l,P,F?ue:qw(fe._f)):te(P,ue),c.mount&&j()}},L=(P,F,K,de,fe)=>{let ue=!1,be=!1;const Je={name:P};if(!e.disabled){if(!K||de){(p.isDirty||x.isDirty)&&(be=r.isDirty,r.isDirty=Je.isDirty=re(),ue=be!==Je.isDirty);const at=cs(we(o,P),F);be=!!we(r.dirtyFields,P),at?Qt(r.dirtyFields,P):xt(r.dirtyFields,P,!0),Je.dirtyFields=r.dirtyFields,ue=ue||(p.dirtyFields||x.dirtyFields)&&be!==!at}if(K){const at=we(r.touchedFields,P);at||(xt(r.touchedFields,P,K),Je.touchedFields=r.touchedFields,ue=ue||(p.touchedFields||x.touchedFields)&&at!==K)}ue&&fe&&b.state.next(Je)}return ue?Je:{}},V=(P,F,K,de)=>{const fe=we(r.errors,P),ue=(p.isValid||x.isValid)&&Wr(F)&&r.isValid!==F;if(e.delayError&&K?(h=_(()=>k(P,K)),h(e.delayError)):(clearTimeout(m),h=null,K?xt(r.errors,P,K):Qt(r.errors,P)),(K?!cs(fe,K):fe)||!Vr(de)||ue){const be={...de,...ue&&Wr(F)?{isValid:F}:{},errors:r.errors,name:P};r={...r,...be},b.state.next(be)}},H=async P=>{w(P,!0);const F=await e.resolver(l,e.context,LD(P||d.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(P),F},Z=async P=>{const{errors:F}=await H(P);if(P)for(const K of P){const de=we(F,K);de?xt(r.errors,K,de):Qt(r.errors,K)}else r.errors=F;return F},O=async(P,F,K={valid:!0})=>{for(const de in P){const fe=P[de];if(fe){const{_f:ue,...be}=fe;if(ue){const Je=d.array.has(ue.name),at=fe._f&&DD(fe._f);at&&p.validatingFields&&w([ue.name],!0);const Ut=await Qw(fe,d.disabled,l,N,e.shouldUseNativeValidation&&!F,Je);if(at&&p.validatingFields&&w([ue.name]),Ut[ue.name]&&(K.valid=!1,F))break;!F&&(we(Ut,ue.name)?Je?BD(r.errors,Ut,ue.name):xt(r.errors,ue.name,Ut[ue.name]):Qt(r.errors,ue.name))}!Vr(be)&&await O(be,F,K)}}return K.valid},Q=()=>{for(const P of d.unMount){const F=we(n,P);F&&(F._f.refs?F._f.refs.every(K=>!Zh(K)):!Zh(F._f.ref))&&ye(P)}d.unMount=new Set},re=(P,F)=>!e.disabled&&(P&&F&&xt(l,P,F),!cs(ce(),o)),D=(P,F,K)=>f_(P,d,{...c.mount?l:Kt(F)?o:Qr(P)?{[P]:F}:F},K,F),G=P=>wg(we(c.mount?l:o,P,e.shouldUnregister?we(o,P,[]):[])),te=(P,F,K={})=>{const de=we(n,P);let fe=F;if(de){const ue=de._f;ue&&(!ue.disabled&&xt(l,P,y_(F,ue)),fe=Ju(ue.ref)&&Pr(F)?"":F,p_(ue.ref)?[...ue.ref.options].forEach(be=>be.selected=fe.includes(be.value)):ue.refs?$l(ue.ref)?ue.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(fe)?be.checked=!!fe.find(Je=>Je===be.value):be.checked=fe===be.value||!!fe)}):ue.refs.forEach(be=>be.checked=be.value===fe):_g(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||b.state.next({name:P,values:nr(l)})))}(K.shouldDirty||K.shouldTouch)&&L(P,fe,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&me(P)},ke=(P,F,K)=>{for(const de in F){if(!F.hasOwnProperty(de))return;const fe=F[de],ue=P+"."+de,be=we(n,ue);(d.array.has(P)||Yt(fe)||be&&!be._f)&&!Ci(fe)?ke(ue,fe,K):te(ue,fe,K)}},Ce=(P,F,K={})=>{const de=we(n,P),fe=d.array.has(P),ue=nr(F);xt(l,P,ue),fe?(b.array.next({name:P,values:nr(l)}),(p.isDirty||p.dirtyFields||x.isDirty||x.dirtyFields)&&K.shouldDirty&&b.state.next({name:P,dirtyFields:No(o,l),isDirty:re(P,ue)})):de&&!de._f&&!Pr(ue)?ke(P,ue,K):te(P,ue,K),Kw(P,d)&&b.state.next({...r,name:P}),b.state.next({name:c.mount?P:void 0,values:nr(l)})},ne=async P=>{c.mount=!0;const F=P.target;let K=F.name,de=!0;const fe=we(n,K),ue=at=>{de=Number.isNaN(at)||Ci(at)&&isNaN(at.getTime())||cs(at,we(l,K,at))},be=zw(e.mode),Je=zw(e.reValidateMode);if(fe){let at,Ut;const _r=F.type?qw(fe._f):c_(P),Xt=P.type===Qu.BLUR||P.type===Qu.FOCUS_OUT,Y=!MD(fe._f)&&!e.resolver&&!we(r.errors,K)&&!fe._f.deps||UD(Xt,we(r.touchedFields,K),r.isSubmitted,Je,be),pe=Kw(K,d,Xt);xt(l,K,_r),Xt?(!F||!F.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(P),h&&h(0)):fe._f.onChange&&fe._f.onChange(P);const Ht=L(K,_r,Xt),ir=!Vr(Ht)||pe;if(!Xt&&b.state.next({name:K,type:P.type,values:nr(l)}),Y)return(p.isValid||x.isValid)&&(e.mode==="onBlur"?Xt&&j():Xt||j()),ir&&b.state.next({name:K,...pe?{}:Ht});if(!Xt&&pe&&b.state.next({...r}),e.resolver){const{errors:Lt}=await H([K]);if(ue(_r),de){const kr=Hw(r.errors,n,K),en=Hw(Lt,n,kr.name||K);at=en.error,K=en.name,Ut=Vr(Lt)}}else w([K],!0),at=(await Qw(fe,d.disabled,l,N,e.shouldUseNativeValidation))[K],w([K]),ue(_r),de&&(at?Ut=!1:(p.isValid||x.isValid)&&(Ut=await O(n,!0)));de&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&me(fe._f.deps),V(K,Ut,at,Ht))}},X=(P,F)=>{if(we(r.errors,F)&&P.focus)return P.focus(),1},me=async(P,F={})=>{let K,de;const fe=rl(P);if(e.resolver){const ue=await Z(Kt(P)?P:fe);K=Vr(ue),de=P?!fe.some(be=>we(ue,be)):K}else P?(de=(await Promise.all(fe.map(async ue=>{const be=we(n,ue);return await O(be&&be._f?{[ue]:be}:be)}))).every(Boolean),!(!de&&!r.isValid)&&j()):de=K=await O(n);return b.state.next({...!Qr(P)||(p.isValid||x.isValid)&&K!==r.isValid?{}:{name:P},...e.resolver||!P?{isValid:K}:{},errors:r.errors}),F.shouldFocus&&!de&&nl(n,X,P?fe:d.mount),de},ce=(P,F)=>{let K={...c.mount?l:o};return F&&(K=m_(F.dirtyFields?r.dirtyFields:r.touchedFields,K)),Kt(P)?K:Qr(P)?we(K,P):P.map(de=>we(K,de))},R=(P,F)=>({invalid:!!we((F||r).errors,P),isDirty:!!we((F||r).dirtyFields,P),error:we((F||r).errors,P),isValidating:!!we(r.validatingFields,P),isTouched:!!we((F||r).touchedFields,P)}),ee=P=>{P&&rl(P).forEach(F=>Qt(r.errors,F)),b.state.next({errors:P?r.errors:{}})},Ie=(P,F,K)=>{const de=(we(n,P,{_f:{}})._f||{}).ref,fe=we(r.errors,P)||{},{ref:ue,message:be,type:Je,...at}=fe;xt(r.errors,P,{...at,...F,ref:de}),b.state.next({name:P,errors:r.errors,isValid:!1}),K&&K.shouldFocus&&de&&de.focus&&de.focus()},Ve=(P,F)=>Cn(P)?b.state.subscribe({next:K=>"values"in K&&P(D(void 0,F),K)}):D(P,F,!0),He=P=>b.state.subscribe({next:F=>{VD(P.name,F.name,P.exact)&&FD(F,P.formState||p,ge,P.reRenderRoot)&&P.callback({values:{...l},...r,...F,defaultValues:o})}}).unsubscribe,$=P=>(c.mount=!0,x={...x,...P.formState},He({...P,formState:x})),ye=(P,F={})=>{for(const K of P?rl(P):d.mount)d.mount.delete(K),d.array.delete(K),F.keepValue||(Qt(n,K),Qt(l,K)),!F.keepError&&Qt(r.errors,K),!F.keepDirty&&Qt(r.dirtyFields,K),!F.keepTouched&&Qt(r.touchedFields,K),!F.keepIsValidating&&Qt(r.validatingFields,K),!e.shouldUnregister&&!F.keepDefaultValue&&Qt(o,K);b.state.next({values:nr(l)}),b.state.next({...r,...F.keepDirty?{isDirty:re()}:{}}),!F.keepIsValid&&j()},ve=({disabled:P,name:F})=>{(Wr(P)&&c.mount||P||d.disabled.has(F))&&(P?d.disabled.add(F):d.disabled.delete(F))},$e=(P,F={})=>{let K=we(n,P);const de=Wr(F.disabled)||Wr(e.disabled);return xt(n,P,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:P}},name:P,mount:!0,...F}}),d.mount.add(P),K?ve({disabled:Wr(F.disabled)?F.disabled:e.disabled,name:P}):A(P,!0,F.value),{...de?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Ba(F.min),max:Ba(F.max),minLength:Ba(F.minLength),maxLength:Ba(F.maxLength),pattern:Ba(F.pattern)}:{},name:P,onChange:ne,onBlur:ne,ref:fe=>{if(fe){$e(P,F),K=we(n,P);const ue=Kt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,be=AD(ue),Je=K._f.refs||[];if(be?Je.find(at=>at===ue):ue===K._f.ref)return;xt(n,P,{_f:{...K._f,...be?{refs:[...Je.filter(Zh),ue,...Array.isArray(we(o,P))?[{}]:[]],ref:{type:ue.type,name:P}}:{ref:ue}}}),A(P,!1,void 0,ue)}else K=we(n,P,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(u_(d.array,P)&&c.action)&&d.unMount.add(P)}}},et=()=>e.shouldFocusError&&nl(n,X,d.mount),sr=P=>{Wr(P)&&(b.state.next({disabled:P}),nl(n,(F,K)=>{const de=we(n,K);de&&(F.disabled=de._f.disabled||P,Array.isArray(de._f.refs)&&de._f.refs.forEach(fe=>{fe.disabled=de._f.disabled||P}))},0,!1))},B=(P,F)=>async K=>{let de;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let fe=nr(l);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:be}=await H();r.errors=ue,fe=nr(be)}else await O(n);if(d.disabled.size)for(const ue of d.disabled)Qt(fe,ue);if(Qt(r.errors,"root"),Vr(r.errors)){b.state.next({errors:{}});try{await P(fe,K)}catch(ue){de=ue}}else F&&await F({...r.errors},K),et(),setTimeout(et);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Se=(P,F={})=>{we(n,P)&&(Kt(F.defaultValue)?Ce(P,nr(we(o,P))):(Ce(P,F.defaultValue),xt(o,P,nr(F.defaultValue))),F.keepTouched||Qt(r.touchedFields,P),F.keepDirty||(Qt(r.dirtyFields,P),r.isDirty=F.defaultValue?re(P,nr(we(o,P))):re()),F.keepError||(Qt(r.errors,P),p.isValid&&j()),b.state.next({...r}))},z=(P,F={})=>{const K=P?nr(P):o,de=nr(K),fe=Vr(P),ue=fe?o:de;if(F.keepDefaultValues||(o=K),!F.keepValues){if(F.keepDirtyValues){const be=new Set([...d.mount,...Object.keys(No(o,l))]);for(const Je of Array.from(be))we(r.dirtyFields,Je)?xt(ue,Je,we(l,Je)):Ce(Je,we(ue,Je))}else{if(bg&&Kt(P))for(const be of d.mount){const Je=we(n,be);if(Je&&Je._f){const at=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(Ju(at)){const Ut=at.closest("form");if(Ut){Ut.reset();break}}}}if(F.keepFieldsRef)for(const be of d.mount)Ce(be,we(ue,be));else n={}}l=e.shouldUnregister?F.keepDefaultValues?nr(o):{}:nr(ue),b.array.next({values:{...ue}}),b.state.next({values:{...ue}})}d={mount:F.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!F.keepIsValid||!!F.keepDirtyValues,c.watch=!!e.shouldUnregister,b.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!cs(P,o)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:F.keepDirtyValues?F.keepDefaultValues&&l?No(o,l):r.dirtyFields:F.keepDefaultValues&&P?No(o,P):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},_e=(P,F)=>z(Cn(P)?P(l):P,F),xe=(P,F={})=>{const K=we(n,P),de=K&&K._f;if(de){const fe=de.refs?de.refs[0]:de.ref;fe.focus&&(fe.focus(),F.shouldSelect&&Cn(fe.select)&&fe.select())}},ge=P=>{r={...r,...P}},ot={control:{register:$e,unregister:ye,getFieldState:R,handleSubmit:B,setError:Ie,_subscribe:He,_runSchema:H,_focusError:et,_getWatch:D,_getDirty:re,_setValid:j,_setFieldArray:C,_setDisabledField:ve,_setErrors:E,_getFieldArray:G,_reset:z,_resetDefaultValues:()=>Cn(e.defaultValues)&&e.defaultValues().then(P=>{_e(P,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:sr,_subjects:b,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(P){c=P},get _defaultValues(){return o},get _names(){return d},set _names(P){d=P},get _formState(){return r},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:$,trigger:me,register:$e,handleSubmit:B,watch:Ve,setValue:Ce,getValues:ce,reset:_e,resetField:Se,clearErrors:ee,unregister:ye,setError:Ie,setFocus:xe,getFieldState:R};return{...ot,formControl:ot}}function b_(t={}){const e=Fe.useRef(void 0),r=Fe.useRef(void 0),[n,o]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Cn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Cn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Cn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=zD(t);e.current={...d,formState:n}}const l=e.current.control;return l._options=t,Sg(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Fe.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Fe.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Fe.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Fe.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Fe.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),Fe.useEffect(()=>{t.values&&!cs(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=t.values,o(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),Fe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=d_(n,l),e.current}const Jw=(t,e,r)=>{if(t&&"reportValidity"in t){const n=we(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},w_=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Jw(n.ref,r,t):n.refs&&n.refs.forEach(o=>Jw(o,r,t))}},WD=(t,e)=>{e.shouldUseNativeValidation&&w_(t,e);const r={};for(const n in t){const o=we(e.fields,n),l=Object.assign(t[n]||{},{ref:o&&o.ref});if(KD(e.names||Object.keys(t),n)){const c=Object.assign({},we(r,n));xt(c,"root",l),xt(r,n,c)}else xt(r,n,l)}return r},KD=(t,e)=>t.some(r=>r.startsWith(e+"."));var HD=function(t,e){for(var r={};t.length;){var n=t[0],o=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[c]={message:d.message,type:d.code}}else r[c]={message:l,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(x){return t.push(x)})}),e){var h=r[c].types,m=h&&h[n.code];r[c]=h_(c,e,r,o,m?[].concat(m,n.message):n.message)}t.shift()}return r},j_=function(t,e,r){return r===void 0&&(r={}),function(n,o,l){try{return Promise.resolve((function(c,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return l.shouldUseNativeValidation&&w_({},l),{errors:{},values:r.raw?n:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(c){if((function(d){return Array.isArray(d?.errors)})(c))return{values:{},errors:WD(HD(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}};const ie=Symbol.for("drizzle:entityKind");function hr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ie))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ie in r&&r[ie]===e[ie])return!0;r=Object.getPrototypeOf(r)}return!1}class gl{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[ie]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class GD{static[ie]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const Io=Symbol.for("drizzle:Name");class QD{static[ie]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:o,foreignColumns:l}=e();return{name:n,columns:o,foreignTable:l[0].table,foreignColumns:l}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new JD(e,this)}}class JD{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[ie]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),o=r.map(d=>d.name),l=n.map(d=>d.name),c=[this.table[Io],...o,n[0].table[Io],...l];return e??`${c.join("_")}_fk`}}function ZD(t,...e){return t(...e)}function YD(t,e){return`${t[Io]}_${e.join("_")}_unique`}function Zw(t,e,r){for(let n=e;n<t.length;n++){const o=t[n];if(o==="\\"){n++;continue}if(o==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(o===","||o==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function N_(t,e=0){const r=[];let n=e,o=!1;for(;n<t.length;){const l=t[n];if(l===","){(o||n===e)&&r.push(""),o=!0,n++;continue}if(o=!1,l==="\\"){n+=2;continue}if(l==='"'){const[h,m]=Zw(t,n+1,!0);r.push(h),n=m;continue}if(l==="}")return[r,n+1];if(l==="{"){const[h,m]=N_(t,n+1);r.push(h),n=m;continue}const[c,d]=Zw(t,n,!1);r.push(c),n=d}return[r,n]}function XD(t){const[e]=N_(t,1);return e}function S_(t){return`{${t.map(e=>Array.isArray(e)?S_(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class ft extends GD{foreignKeyConfigs=[];static[ie]="PgColumnBuilder";array(e){return new t3(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:o})=>ZD((l,c)=>{const d=new QD(()=>{const h=l();return{columns:[e],foreignColumns:[h]}});return c.onUpdate&&d.onUpdate(c.onUpdate),c.onDelete&&d.onDelete(c.onDelete),d.build(r)},n,o))}buildExtraConfigColumn(e){return new e3(e,this.config)}}class nt extends gl{constructor(e,r){r.uniqueName||(r.uniqueName=YD(e,[r.name])),super(e,r),this.table=e}static[ie]="PgColumn"}class e3 extends nt{static[ie]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class t3 extends ft{static[ie]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new Cg(e,this.config,r)}}class Cg extends nt{constructor(e,r,n,o){super(e,r),this.baseColumn=n,this.range=o,this.size=r.size}size;static[ie]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=XD(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(o=>o===null?null:hr(this.baseColumn,Cg)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?n:S_(n)}}const Yw=Symbol.for("drizzle:isPgEnum");function r3(t){return!!t&&typeof t=="function"&&Yw in t&&t[Yw]===!0}class __{static[ie]="Subquery";constructor(e,r,n,o=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:o}}}const n3={startActiveSpan(t,e){return e()}},Lo=Symbol.for("drizzle:ViewBaseConfig"),Yh=Symbol.for("drizzle:Schema"),Xw=Symbol.for("drizzle:Columns"),e0=Symbol.for("drizzle:ExtraConfigColumns"),Xh=Symbol.for("drizzle:OriginalName"),em=Symbol.for("drizzle:BaseName"),Yu=Symbol.for("drizzle:IsAlias"),t0=Symbol.for("drizzle:ExtraConfigBuilder"),k_=Symbol.for("drizzle:IsDrizzleTable");class Kr{static[ie]="Table";static Symbol={Name:Io,Schema:Yh,OriginalName:Xh,Columns:Xw,ExtraConfigColumns:e0,BaseName:em,IsAlias:Yu,ExtraConfigBuilder:t0};[Io];[Xh];[Yh];[Xw];[e0];[em];[Yu]=!1;[k_]=!0;[t0]=void 0;constructor(e,r,n){this[Io]=this[Xh]=e,this[Yh]=r,this[em]=n}}function C_(t){return typeof t=="object"&&t!==null&&k_ in t}function s3(t){return t!=null&&typeof t.getSQL=="function"}function i3(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class Sn{static[ie]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Vt([this])}}class Vt{constructor(e){this.queryChunks=e}static[ie]="SQL";decoder=E_;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return n3.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:l,escapeParam:c,prepareTyping:d,inlineParams:h,paramStartIndex:m}=n;return i3(e.map(p=>{if(hr(p,Sn))return{sql:p.value.join(""),params:[]};if(hr(p,ep))return{sql:l(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){const x=[new Sn("(")];for(const[b,N]of p.entries())x.push(N),b<p.length-1&&x.push(new Sn(", "));return x.push(new Sn(")")),this.buildQueryFromSourceParams(x,n)}if(hr(p,Vt))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:h||p.shouldInlineParams});if(hr(p,Kr)){const x=p[Kr.Symbol.Schema],b=p[Kr.Symbol.Name];return{sql:x===void 0||p[Yu]?l(b):l(x)+"."+l(b),params:[]}}if(hr(p,gl)){const x=o.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:l(x),params:[]};const b=p.table[Kr.Symbol.Schema];return{sql:p.table[Yu]||b===void 0?l(p.table[Kr.Symbol.Name])+"."+l(x):l(b)+"."+l(p.table[Kr.Symbol.Name])+"."+l(x),params:[]}}if(hr(p,o3)){const x=p[Lo].schema,b=p[Lo].name;return{sql:x===void 0||p[Lo].isAlias?l(b):l(x)+"."+l(b),params:[]}}if(hr(p,P_)){if(hr(p.value,tp))return{sql:c(m.value++,p),params:[p],typings:["none"]};const x=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(hr(x,Vt))return this.buildQueryFromSourceParams([x],n);if(h)return{sql:this.mapInlineParam(x,n),params:[]};let b=["none"];return d&&(b=[d(p.encoder)]),{sql:c(m.value++,x),params:[x],typings:b}}return hr(p,tp)?{sql:c(m.value++,p),params:[p],typings:["none"]}:hr(p,Vt.Aliased)&&p.fieldAlias!==void 0?{sql:l(p.fieldAlias),params:[]}:hr(p,__)?p._.isWith?{sql:l(p._.alias),params:[]}:this.buildQueryFromSourceParams([new Sn("("),p._.sql,new Sn(") "),new ep(p._.alias)],n):r3(p)?p.schema?{sql:l(p.schema)+"."+l(p.enumName),params:[]}:{sql:l(p.enumName),params:[]}:s3(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new Sn("("),p.getSQL(),new Sn(")")],n):h?{sql:this.mapInlineParam(p,n),params:[]}:{sql:c(m.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class ep{constructor(e){this.value=e}static[ie]="Name";brand;getSQL(){return new Vt([this])}}const E_={mapFromDriverValue:t=>t},T_={mapToDriverValue:t=>t};({...E_,...T_});class P_{constructor(e,r=T_){this.value=e,this.encoder=r}static[ie]="Param";brand;getSQL(){return new Vt([this])}}function Xu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Sn(t[0]));for(const[n,o]of e.entries())r.push(o,new Sn(t[n+1]));return new Vt(r)}(t=>{function e(){return new Vt([])}t.empty=e;function r(h){return new Vt(h)}t.fromList=r;function n(h){return new Vt([new Sn(h)])}t.raw=n;function o(h,m){const p=[];for(const[x,b]of h.entries())x>0&&m!==void 0&&p.push(m),p.push(b);return new Vt(p)}t.join=o;function l(h){return new ep(h)}t.identifier=l;function c(h){return new tp(h)}t.placeholder=c;function d(h,m){return new P_(h,m)}t.param=d})(Xu||(Xu={}));(t=>{class e{constructor(n,o){this.sql=n,this.fieldAlias=o}static[ie]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Vt||(Vt={}));class tp{constructor(e){this.name=e}static[ie]="Placeholder";getSQL(){return new Vt([this])}}const A_=Symbol.for("drizzle:IsDrizzleView");class o3{static[ie]="View";[Lo];[A_]=!0;constructor({name:e,schema:r,selectedFields:n,query:o}){this[Lo]={name:e,originalName:e,schema:r,selectedFields:n,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Vt([this])}}function a3(t){return typeof t=="object"&&t!==null&&A_ in t}gl.prototype.getSQL=function(){return new Vt([this])};Kr.prototype.getSQL=function(){return new Vt([this])};__.prototype.getSQL=function(){return new Vt([this])};function l3(t){return t[Kr.Symbol.Columns]}function c3(t){return t[Lo].selectedFields}function ur(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class Sd extends ft{static[ie]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class u3 extends Sd{static[ie]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new d3(e,this.config)}}class d3 extends nt{static[ie]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class f3 extends Sd{static[ie]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new h3(e,this.config)}}class h3 extends nt{static[ie]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function m3(t,e){const{name:r,config:n}=ur(t,e);return n.mode==="number"?new u3(r):new f3(r)}class p3 extends ft{static[ie]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new g3(e,this.config)}}class g3 extends nt{static[ie]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class x3 extends ft{static[ie]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new y3(e,this.config)}}class y3 extends nt{static[ie]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function v3(t,e){const{name:r,config:n}=ur(t,e);return n.mode==="number"?new p3(r):new x3(r)}class b3 extends ft{static[ie]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new w3(e,this.config)}}class w3 extends nt{static[ie]="PgBoolean";getSQLType(){return"boolean"}}function j3(t){return new b3(t??"")}class N3 extends ft{static[ie]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new S3(e,this.config)}}class S3 extends nt{static[ie]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function _3(t,e={}){const{name:r,config:n}=ur(t,e);return new N3(r,n)}class k3 extends ft{static[ie]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new C3(e,this.config)}}class C3 extends nt{static[ie]="PgCidr";getSQLType(){return"cidr"}}function E3(t){return new k3(t??"")}class T3 extends ft{static[ie]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new P3(e,this.config)}}class P3 extends nt{static[ie]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function A3(t){return(e,r)=>{const{name:n,config:o}=ur(e,r);return new T3(n,o,t)}}class Bl extends ft{static[ie]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Xu`now()`)}}class R3 extends Bl{static[ie]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new O3(e,this.config)}}class O3 extends nt{static[ie]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class I3 extends Bl{static[ie]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new L3(e,this.config)}}class L3 extends nt{static[ie]="PgDateString";getSQLType(){return"date"}}function D3(t,e){const{name:r,config:n}=ur(t,e);return n?.mode==="date"?new R3(r):new I3(r)}class M3 extends ft{static[ie]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new F3(e,this.config)}}class F3 extends nt{static[ie]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function V3(t){return new M3(t??"")}class U3 extends ft{static[ie]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new $3(e,this.config)}}class $3 extends nt{static[ie]="PgInet";getSQLType(){return"inet"}}function B3(t){return new U3(t??"")}class q3 extends Sd{static[ie]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new z3(e,this.config)}}class z3 extends nt{static[ie]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function W3(t){return new q3(t??"")}class K3 extends ft{static[ie]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new H3(e,this.config)}}class H3 extends nt{static[ie]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function G3(t,e={}){const{name:r,config:n}=ur(t,e);return new K3(r,n)}class Q3 extends ft{static[ie]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new J3(e,this.config)}}class J3 extends nt{static[ie]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Z3(t){return new Q3(t??"")}class Y3 extends ft{static[ie]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new X3(e,this.config)}}class X3 extends nt{static[ie]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function eM(t){return new Y3(t??"")}class tM extends ft{static[ie]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new rM(e,this.config)}}class rM extends nt{static[ie]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,o]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class nM extends ft{static[ie]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new sM(e,this.config)}}class sM extends nt{static[ie]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function iM(t,e){const{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new tM(r):new nM(r)}class oM extends ft{static[ie]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new aM(e,this.config)}}class aM extends nt{static[ie]="PgMacaddr";getSQLType(){return"macaddr"}}function lM(t){return new oM(t??"")}class cM extends ft{static[ie]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new uM(e,this.config)}}class uM extends nt{static[ie]="PgMacaddr8";getSQLType(){return"macaddr8"}}function dM(t){return new cM(t??"")}class fM extends ft{static[ie]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new hM(e,this.config)}}class hM extends nt{static[ie]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function mM(t,e){const{name:r,config:n}=ur(t,e);return new fM(r,n?.precision,n?.scale)}class pM extends ft{static[ie]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new gM(e,this.config)}}class gM extends nt{static[ie]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class xM extends ft{static[ie]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new yM(e,this.config)}}class yM extends nt{static[ie]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function vM(t,e){const{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new pM(r):new xM(r)}function bM(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function r0(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let o=0;o<8;o++)n.setUint8(o,t[e+o]);return n.getFloat64(0,!0)}function R_(t){const e=bM(t);let r=0;const n=e[r];r+=1;const o=new DataView(e.buffer),l=o.getUint32(r,n===1);if(r+=4,l&536870912&&(o.getUint32(r,n===1),r+=4),(l&65535)===1){const c=r0(e,r);r+=8;const d=r0(e,r);return r+=8,[c,d]}throw new Error("Unsupported geometry type")}class wM extends ft{static[ie]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new jM(e,this.config)}}class jM extends nt{static[ie]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return R_(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class NM extends ft{static[ie]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new SM(e,this.config)}}class SM extends nt{static[ie]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=R_(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function _M(t,e){const{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new wM(r):new NM(r)}class kM extends ft{static[ie]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new CM(e,this.config)}}class CM extends nt{static[ie]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function EM(t){return new kM(t??"")}class TM extends ft{static[ie]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new PM(e,this.config)}}class PM extends nt{static[ie]="PgSerial";getSQLType(){return"serial"}}function Eg(t){return new TM(t??"")}class AM extends Sd{static[ie]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new RM(e,this.config)}}class RM extends nt{static[ie]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function OM(t){return new AM(t??"")}class IM extends ft{static[ie]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new LM(e,this.config)}}class LM extends nt{static[ie]="PgSmallSerial";getSQLType(){return"smallserial"}}function DM(t){return new IM(t??"")}class MM extends ft{static[ie]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new FM(e,this.config)}}class FM extends nt{static[ie]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function O_(t,e={}){const{name:r,config:n}=ur(t,e);return new MM(r,n)}class VM extends Bl{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[ie]="PgTimeBuilder";build(e){return new UM(e,this.config)}}class UM extends nt{static[ie]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function $M(t,e={}){const{name:r,config:n}=ur(t,e);return new VM(r,n.withTimezone??!1,n.precision)}class BM extends Bl{static[ie]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new qM(e,this.config)}}class qM extends nt{static[ie]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class zM extends Bl{static[ie]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new WM(e,this.config)}}class WM extends nt{static[ie]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function KM(t,e={}){const{name:r,config:n}=ur(t,e);return n?.mode==="string"?new zM(r,n.withTimezone??!1,n.precision):new BM(r,n?.withTimezone??!1,n?.precision)}class HM extends ft{static[ie]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Xu`gen_random_uuid()`)}build(e){return new GM(e,this.config)}}class GM extends nt{static[ie]="PgUUID";getSQLType(){return"uuid"}}function QM(t){return new HM(t??"")}class JM extends ft{static[ie]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new ZM(e,this.config)}}class ZM extends nt{static[ie]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function xl(t,e={}){const{name:r,config:n}=ur(t,e);return new JM(r,n)}class YM extends ft{static[ie]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new XM(e,this.config)}}class XM extends nt{static[ie]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function eF(t,e){const{name:r,config:n}=ur(t,e);return new YM(r,n)}class tF extends ft{static[ie]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new rF(e,this.config)}}class rF extends nt{static[ie]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function nF(t,e){const{name:r,config:n}=ur(t,e);return new tF(r,n)}class sF extends ft{static[ie]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new iF(e,this.config)}}class iF extends nt{static[ie]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function oF(t,e){const{name:r,config:n}=ur(t,e);return new sF(r,n)}class aF extends ft{static[ie]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new lF(e,this.config)}}class lF extends nt{static[ie]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function cF(t,e){const{name:r,config:n}=ur(t,e);return new aF(r,n)}function uF(){return{bigint:m3,bigserial:v3,boolean:j3,char:_3,cidr:E3,customType:A3,date:D3,doublePrecision:V3,inet:B3,integer:W3,interval:G3,json:Z3,jsonb:eM,line:iM,macaddr:lM,macaddr8:dM,numeric:mM,point:vM,geometry:_M,real:EM,serial:Eg,smallint:OM,smallserial:DM,text:O_,time:$M,timestamp:KM,uuid:QM,varchar:xl,bit:eF,halfvec:nF,sparsevec:oF,vector:cF}}const rp=Symbol.for("drizzle:PgInlineForeignKeys"),n0=Symbol.for("drizzle:EnableRLS");class s0 extends Kr{static[ie]="PgTable";static Symbol=Object.assign({},Kr.Symbol,{InlineForeignKeys:rp,EnableRLS:n0});[rp]=[];[n0]=!1;[Kr.Symbol.ExtraConfigBuilder]=void 0}function dF(t,e,r,n,o=t){const l=new s0(t,n,o),c=typeof e=="function"?e(uF()):e,d=Object.fromEntries(Object.entries(c).map(([p,x])=>{const b=x;b.setName(p);const N=b.build(l);return l[rp].push(...b.buildForeignKeys(N,l)),[p,N]})),h=Object.fromEntries(Object.entries(c).map(([p,x])=>{const b=x;b.setName(p);const N=b.buildExtraConfigColumn(l);return[p,N]})),m=Object.assign(l,d);return m[Kr.Symbol.Columns]=d,m[Kr.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[s0.Symbol.EnableRLS]=!0,m)})}const I_=(t,e,r)=>dF(t,e,r,void 0);var ct;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const l={};for(const c of o)l[c]=c;return l},t.getValidEnumValues=o=>{const l=t.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of l)c[d]=o[d];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(l){return o[l]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(c);return l},t.find=(o,l)=>{for(const c of o)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,l=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(ct||(ct={}));var np;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(np||(np={}));const Te=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},le=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fF=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Zr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},o=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(c))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return o(this),n}static assert(e){if(!(e instanceof Zr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)if(o.path.length>0){const l=o.path[0];r[l]=r[l]||[],r[l].push(e(o))}else n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zr.create=t=>new Zr(t);const Ko=(t,e)=>{let r;switch(t.code){case le.invalid_type:t.received===Te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case le.invalid_union:r="Invalid input";break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:r="Invalid function arguments";break;case le.invalid_return_type:r="Invalid function return type";break;case le.invalid_date:r="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case le.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case le.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case le.custom:r="Invalid input";break;case le.invalid_intersection_types:r="Intersection results could not be merged";break;case le.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:r="Number must be finite";break;default:r=e.defaultError,ct.assertNever(t)}return{message:r}};let L_=Ko;function hF(t){L_=t}function ed(){return L_}const td=t=>{const{data:e,path:r,errorMaps:n,issueData:o}=t,l=[...r,...o.path||[]],c={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let d="";const h=n.filter(m=>!!m).slice().reverse();for(const m of h)d=m(c,{data:e,defaultError:d}).message;return{...o,path:l,message:d}},mF=[];function je(t,e){const r=ed(),n=td({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ko?void 0:Ko].filter(o=>!!o)});t.common.issues.push(n)}class Sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return Ke;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const l=await o.key,c=await o.value;n.push({key:l,value:c})}return Sr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:l,value:c}=o;if(l.status==="aborted"||c.status==="aborted")return Ke;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const Ke=Object.freeze({status:"aborted"}),Po=t=>({status:"dirty",value:t}),Ar=t=>({status:"valid",value:t}),sp=t=>t.status==="aborted",ip=t=>t.status==="dirty",Ri=t=>t.status==="valid",yl=t=>typeof Promise<"u"&&t instanceof Promise;var Me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Me||(Me={}));class Wn{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i0=(t,e)=>{if(Ri(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zr(t.common.issues);return this._error=r,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,d)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??r??d.defaultError}},description:o}}class st{get description(){return this._def.description}_getType(e){return ls(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sr,ctx:{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(yl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},o=this._parseSync({data:e,path:n.path,parent:n});return i0(n,o)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Ri(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Ri(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},o=this._parse({data:e,path:n.path,parent:n}),l=await(yl(o)?o:Promise.resolve(o));return i0(n,l)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,l)=>{const c=e(o),d=()=>l.addIssue({code:le.custom,...n(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new An({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Bn.create(this,this._def)}nullable(){return Zs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pn.create(this)}promise(){return Go.create(this,this._def)}or(e){return jl.create([this,e],this._def)}and(e){return Nl.create(this,e,this._def)}transform(e){return new An({...tt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new El({...tt(this._def),innerType:this,defaultValue:r,typeName:Ge.ZodDefault})}brand(){return new Tg({typeName:Ge.ZodBranded,type:this,...tt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Tl({...tt(this._def),innerType:this,catchValue:r,typeName:Ge.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ql.create(this,e)}readonly(){return Pl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pF=/^c[^\s-]{8,}$/i,gF=/^[0-9a-z]+$/,xF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vF=/^[a-z0-9_-]{21}$/i,bF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tm;const SF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_F=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PF=new RegExp(`^${D_}$`);function M_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function AF(t){return new RegExp(`^${M_(t)}$`)}function F_(t){let e=`${D_}T${M_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function RF(t,e){return!!((e==="v4"||!e)&&SF.test(t)||(e==="v6"||!e)&&kF.test(t))}function OF(t,e){if(!bF.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function IF(t,e){return!!((e==="v4"||!e)&&_F.test(t)||(e==="v6"||!e)&&CF.test(t))}class En extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_type,expected:Te.string,received:l.parsedType}),Ke}const n=new Sr;let o;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(o=this._getOrReturnCtx(e,o),je(o,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(o=this._getOrReturnCtx(e,o),je(o,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(o=this._getOrReturnCtx(e,o),c?je(o,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&je(o,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")jF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"email",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")tm||(tm=new RegExp(NF,"u")),tm.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"emoji",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")yF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"uuid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")vF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"nanoid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")pF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"cuid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")gF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"cuid2",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")xF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"ulid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),je(o,{validation:"url",code:le.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"regex",code:le.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(e,o),je(o,{code:le.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(o=this._getOrReturnCtx(e,o),je(o,{code:le.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(o=this._getOrReturnCtx(e,o),je(o,{code:le.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?F_(l).test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{code:le.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?PF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{code:le.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?AF(l).test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{code:le.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?wF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"duration",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?RF(e.data,l.version)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"ip",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?OF(e.data,l.alg)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"jwt",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?IF(e.data,l.version)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"cidr",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?EF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"base64",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?TF.test(e.data)||(o=this._getOrReturnCtx(e,o),je(o,{validation:"base64url",code:le.invalid_string,message:l.message}),n.dirty()):ct.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:le.invalid_string,...Me.errToObj(n)})}_addCheck(e){return new En({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Me.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Me.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Me.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Me.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Me.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Me.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Me.errToObj(r)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new En({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}En.create=t=>new En({checks:[],typeName:Ge.ZodString,coerce:t?.coerce??!1,...tt(t)});function LF(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,l=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return l%c/10**o}class Gs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_type,expected:Te.number,received:l.parsedType}),Ke}let n;const o=new Sr;for(const l of this._def.checks)l.kind==="int"?ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),je(n,{code:le.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?LF(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),je(n,{code:le.not_finite,message:l.message}),o.dirty()):ct.assertNever(l);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Me.toString(r))}setLimit(e,r,n,o){return new Gs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Me.toString(o)}]})}_addCheck(e){return new Gs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Gs.create=t=>new Gs({checks:[],typeName:Ge.ZodNumber,coerce:t?.coerce||!1,...tt(t)});class Qs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let n;const o=new Sr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),je(n,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ct.assertNever(l);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return je(r,{code:le.invalid_type,expected:Te.bigint,received:r.parsedType}),Ke}gte(e,r){return this.setLimit("min",e,!0,Me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Me.toString(r))}setLimit(e,r,n,o){return new Qs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Me.toString(o)}]})}_addCheck(e){return new Qs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Qs.create=t=>new Qs({checks:[],typeName:Ge.ZodBigInt,coerce:t?.coerce??!1,...tt(t)});class vl extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.boolean,received:n.parsedType}),Ke}return Ar(e.data)}}vl.create=t=>new vl({typeName:Ge.ZodBoolean,coerce:t?.coerce||!1,...tt(t)});class Oi extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_type,expected:Te.date,received:l.parsedType}),Ke}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return je(l,{code:le.invalid_date}),Ke}const n=new Sr;let o;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(o=this._getOrReturnCtx(e,o),je(o,{code:le.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(o=this._getOrReturnCtx(e,o),je(o,{code:le.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):ct.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Oi.create=t=>new Oi({checks:[],coerce:t?.coerce||!1,typeName:Ge.ZodDate,...tt(t)});class rd extends st{_parse(e){if(this._getType(e)!==Te.symbol){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.symbol,received:n.parsedType}),Ke}return Ar(e.data)}}rd.create=t=>new rd({typeName:Ge.ZodSymbol,...tt(t)});class bl extends st{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.undefined,received:n.parsedType}),Ke}return Ar(e.data)}}bl.create=t=>new bl({typeName:Ge.ZodUndefined,...tt(t)});class wl extends st{_parse(e){if(this._getType(e)!==Te.null){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.null,received:n.parsedType}),Ke}return Ar(e.data)}}wl.create=t=>new wl({typeName:Ge.ZodNull,...tt(t)});class Ho extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return Ar(e.data)}}Ho.create=t=>new Ho({typeName:Ge.ZodAny,...tt(t)});class Pi extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ar(e.data)}}Pi.create=t=>new Pi({typeName:Ge.ZodUnknown,...tt(t)});class hs extends st{_parse(e){const r=this._getOrReturnCtx(e);return je(r,{code:le.invalid_type,expected:Te.never,received:r.parsedType}),Ke}}hs.create=t=>new hs({typeName:Ge.ZodNever,...tt(t)});class nd extends st{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.void,received:n.parsedType}),Ke}return Ar(e.data)}}nd.create=t=>new nd({typeName:Ge.ZodVoid,...tt(t)});class Pn extends st{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==Te.array)return je(r,{code:le.invalid_type,expected:Te.array,received:r.parsedType}),Ke;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(c||d)&&(je(r,{code:c?le.too_big:le.too_small,minimum:d?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(je(r,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(je(r,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>o.type._parseAsync(new Wn(r,c,r.path,d)))).then(c=>Sr.mergeArray(n,c));const l=[...r.data].map((c,d)=>o.type._parseSync(new Wn(r,c,r.path,d)));return Sr.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new Pn({...this._def,minLength:{value:e,message:Me.toString(r)}})}max(e,r){return new Pn({...this._def,maxLength:{value:e,message:Me.toString(r)}})}length(e,r){return new Pn({...this._def,exactLength:{value:e,message:Me.toString(r)}})}nonempty(e){return this.min(1,e)}}Pn.create=(t,e)=>new Pn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...tt(e)});function So(t){if(t instanceof Ot){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Bn.create(So(n))}return new Ot({...t._def,shape:()=>e})}else return t instanceof Pn?new Pn({...t._def,type:So(t.element)}):t instanceof Bn?Bn.create(So(t.unwrap())):t instanceof Zs?Zs.create(So(t.unwrap())):t instanceof Kn?Kn.create(t.items.map(e=>So(e))):t}class Ot extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ct.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Te.object){const m=this._getOrReturnCtx(e);return je(m,{code:le.invalid_type,expected:Te.object,received:m.parsedType}),Ke}const{status:n,ctx:o}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof hs&&this._def.unknownKeys==="strip"))for(const m in o.data)c.includes(m)||d.push(m);const h=[];for(const m of c){const p=l[m],x=o.data[m];h.push({key:{status:"valid",value:m},value:p._parse(new Wn(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof hs){const m=this._def.unknownKeys;if(m==="passthrough")for(const p of d)h.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(m==="strict")d.length>0&&(je(o,{code:le.unrecognized_keys,keys:d}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const p of d){const x=o.data[p];h.push({key:{status:"valid",value:p},value:m._parse(new Wn(o,x,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const p of h){const x=await p.key,b=await p.value;m.push({key:x,value:b,alwaysSet:p.alwaysSet})}return m}).then(m=>Sr.mergeObjectSync(n,m)):Sr.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new Ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Me.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ge.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ot({...this._def,catchall:e})}pick(e){const r={};for(const n of ct.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ot({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ct.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ot({...this._def,shape:()=>r})}deepPartial(){return So(this)}partial(e){const r={};for(const n of ct.objectKeys(this.shape)){const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}return new Ot({...this._def,shape:()=>r})}required(e){const r={};for(const n of ct.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Bn;)l=l._def.innerType;r[n]=l}return new Ot({...this._def,shape:()=>r})}keyof(){return V_(ct.objectKeys(this.shape))}}Ot.create=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strip",catchall:hs.create(),typeName:Ge.ZodObject,...tt(e)});Ot.strictCreate=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strict",catchall:hs.create(),typeName:Ge.ZodObject,...tt(e)});Ot.lazycreate=(t,e)=>new Ot({shape:t,unknownKeys:"strip",catchall:hs.create(),typeName:Ge.ZodObject,...tt(e)});class jl extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new Zr(d.ctx.common.issues));return je(r,{code:le.invalid_union,unionErrors:c}),Ke}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(o);{let l;const c=[];for(const h of n){const m={...r,common:{...r.common,issues:[]},parent:null},p=h._parseSync({data:r.data,path:r.path,parent:m});if(p.status==="valid")return p;p.status==="dirty"&&!l&&(l={result:p,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new Zr(h));return je(r,{code:le.invalid_union,unionErrors:d}),Ke}}get options(){return this._def.options}}jl.create=(t,e)=>new jl({options:t,typeName:Ge.ZodUnion,...tt(e)});const os=t=>t instanceof _l?os(t.schema):t instanceof An?os(t.innerType()):t instanceof kl?[t.value]:t instanceof Js?t.options:t instanceof Cl?ct.objectValues(t.enum):t instanceof El?os(t._def.innerType):t instanceof bl?[void 0]:t instanceof wl?[null]:t instanceof Bn?[void 0,...os(t.unwrap())]:t instanceof Zs?[null,...os(t.unwrap())]:t instanceof Tg||t instanceof Pl?os(t.unwrap()):t instanceof Tl?os(t._def.innerType):[];class _d extends st{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return je(r,{code:le.invalid_type,expected:Te.object,received:r.parsedType}),Ke;const n=this.discriminator,o=r.data[n],l=this.optionsMap.get(o);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(je(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const l of r){const c=os(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,l)}}return new _d({typeName:Ge.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...tt(n)})}}function op(t,e){const r=ls(t),n=ls(e);if(t===e)return{valid:!0,data:t};if(r===Te.object&&n===Te.object){const o=ct.objectKeys(e),l=ct.objectKeys(t).filter(d=>o.indexOf(d)!==-1),c={...t,...e};for(const d of l){const h=op(t[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(r===Te.array&&n===Te.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],h=op(c,d);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===Te.date&&n===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Nl extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(l,c)=>{if(sp(l)||sp(c))return Ke;const d=op(l.value,c.value);return d.valid?((ip(l)||ip(c))&&r.dirty(),{status:r.value,value:d.data}):(je(n,{code:le.invalid_intersection_types}),Ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>o(l,c)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nl.create=(t,e,r)=>new Nl({left:t,right:e,typeName:Ge.ZodIntersection,...tt(r)});class Kn extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.array)return je(n,{code:le.invalid_type,expected:Te.array,received:n.parsedType}),Ke;if(n.data.length<this._def.items.length)return je(n,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&n.data.length>this._def.items.length&&(je(n,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Wn(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>Sr.mergeArray(r,c)):Sr.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Kn({...this._def,rest:e})}}Kn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kn({items:t,typeName:Ge.ZodTuple,rest:null,...tt(e)})};class Sl extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return je(n,{code:le.invalid_type,expected:Te.object,received:n.parsedType}),Ke;const o=[],l=this._def.keyType,c=this._def.valueType;for(const d in n.data)o.push({key:l._parse(new Wn(n,d,n.path,d)),value:c._parse(new Wn(n,n.data[d],n.path,d)),alwaysSet:d in n.data});return n.common.async?Sr.mergeObjectAsync(r,o):Sr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof st?new Sl({keyType:e,valueType:r,typeName:Ge.ZodRecord,...tt(n)}):new Sl({keyType:En.create(),valueType:e,typeName:Ge.ZodRecord,...tt(r)})}}class sd extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.map)return je(n,{code:le.invalid_type,expected:Te.map,received:n.parsedType}),Ke;const o=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([d,h],m)=>({key:o._parse(new Wn(n,d,n.path,[m,"key"])),value:l._parse(new Wn(n,h,n.path,[m,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,p=await h.value;if(m.status==="aborted"||p.status==="aborted")return Ke;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of c){const m=h.key,p=h.value;if(m.status==="aborted"||p.status==="aborted")return Ke;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}}}}sd.create=(t,e,r)=>new sd({valueType:e,keyType:t,typeName:Ge.ZodMap,...tt(r)});class Ii extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.set)return je(n,{code:le.invalid_type,expected:Te.set,received:n.parsedType}),Ke;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(je(n,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(je(n,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const l=this._def.valueType;function c(h){const m=new Set;for(const p of h){if(p.status==="aborted")return Ke;p.status==="dirty"&&r.dirty(),m.add(p.value)}return{status:r.value,value:m}}const d=[...n.data.values()].map((h,m)=>l._parse(new Wn(n,h,n.path,m)));return n.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,r){return new Ii({...this._def,minSize:{value:e,message:Me.toString(r)}})}max(e,r){return new Ii({...this._def,maxSize:{value:e,message:Me.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ii.create=(t,e)=>new Ii({valueType:t,minSize:null,maxSize:null,typeName:Ge.ZodSet,...tt(e)});class Do extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.function)return je(r,{code:le.invalid_type,expected:Te.function,received:r.parsedType}),Ke;function n(d,h){return td({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ed(),Ko].filter(m=>!!m),issueData:{code:le.invalid_arguments,argumentsError:h}})}function o(d,h){return td({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ed(),Ko].filter(m=>!!m),issueData:{code:le.invalid_return_type,returnTypeError:h}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Go){const d=this;return Ar(async function(...h){const m=new Zr([]),p=await d._def.args.parseAsync(h,l).catch(N=>{throw m.addIssue(n(h,N)),m}),x=await Reflect.apply(c,this,p);return await d._def.returns._def.type.parseAsync(x,l).catch(N=>{throw m.addIssue(o(x,N)),m})})}else{const d=this;return Ar(function(...h){const m=d._def.args.safeParse(h,l);if(!m.success)throw new Zr([n(h,m.error)]);const p=Reflect.apply(c,this,m.data),x=d._def.returns.safeParse(p,l);if(!x.success)throw new Zr([o(p,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Do({...this._def,args:Kn.create(e).rest(Pi.create())})}returns(e){return new Do({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Do({args:e||Kn.create([]).rest(Pi.create()),returns:r||Pi.create(),typeName:Ge.ZodFunction,...tt(n)})}}class _l extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_l.create=(t,e)=>new _l({getter:t,typeName:Ge.ZodLazy,...tt(e)});class kl extends st{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return je(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}kl.create=(t,e)=>new kl({value:t,typeName:Ge.ZodLiteral,...tt(e)});function V_(t,e){return new Js({values:t,typeName:Ge.ZodEnum,...tt(e)})}class Js extends st{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return je(r,{expected:ct.joinValues(n),received:r.parsedType,code:le.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return je(r,{received:r.data,code:le.invalid_enum_value,options:n}),Ke}return Ar(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Js.create(e,{...this._def,...r})}exclude(e,r=this._def){return Js.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Js.create=V_;class Cl extends st{_parse(e){const r=ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const o=ct.objectValues(r);return je(n,{expected:ct.joinValues(o),received:n.parsedType,code:le.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=ct.objectValues(r);return je(n,{received:n.data,code:le.invalid_enum_value,options:o}),Ke}return Ar(e.data)}get enum(){return this._def.values}}Cl.create=(t,e)=>new Cl({values:t,typeName:Ge.ZodNativeEnum,...tt(e)});class Go extends st{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.promise&&r.common.async===!1)return je(r,{code:le.invalid_type,expected:Te.promise,received:r.parsedType}),Ke;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Ar(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Go.create=(t,e)=>new Go({type:t,typeName:Ge.ZodPromise,...tt(e)});class An extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,l={addIssue:c=>{je(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const c=o.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return Ke;const h=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return h.status==="aborted"?Ke:h.status==="dirty"||r.value==="dirty"?Po(h.value):h});{if(r.value==="aborted")return Ke;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?Ke:d.status==="dirty"||r.value==="dirty"?Po(d.value):d}}if(o.type==="refinement"){const c=d=>{const h=o.refinement(d,l);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?Ke:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?Ke:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ri(c))return Ke;const d=o.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Ri(c)?Promise.resolve(o.transform(c.value,l)).then(d=>({status:r.value,value:d})):Ke);ct.assertNever(o)}}An.create=(t,e,r)=>new An({schema:t,typeName:Ge.ZodEffects,effect:e,...tt(r)});An.createWithPreprocess=(t,e,r)=>new An({schema:e,effect:{type:"preprocess",transform:t},typeName:Ge.ZodEffects,...tt(r)});class Bn extends st{_parse(e){return this._getType(e)===Te.undefined?Ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bn.create=(t,e)=>new Bn({innerType:t,typeName:Ge.ZodOptional,...tt(e)});class Zs extends st{_parse(e){return this._getType(e)===Te.null?Ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zs.create=(t,e)=>new Zs({innerType:t,typeName:Ge.ZodNullable,...tt(e)});class El extends st{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:Ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class Tl extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return yl(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Tl.create=(t,e)=>new Tl({innerType:t,typeName:Ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class id extends st{_parse(e){if(this._getType(e)!==Te.nan){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.nan,received:n.parsedType}),Ke}return{status:"valid",value:e.data}}}id.create=t=>new id({typeName:Ge.ZodNaN,...tt(t)});const DF=Symbol("zod_brand");class Tg extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ql extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ke:l.status==="dirty"?(r.dirty(),Po(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ke:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new ql({in:e,out:r,typeName:Ge.ZodPipeline})}}class Pl extends st{_parse(e){const r=this._def.innerType._parse(e),n=o=>(Ri(o)&&(o.value=Object.freeze(o.value)),o);return yl(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}Pl.create=(t,e)=>new Pl({innerType:t,typeName:Ge.ZodReadonly,...tt(e)});function o0(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Pg(t,e={},r){return t?Ho.create().superRefine((n,o)=>{const l=t(n);if(l instanceof Promise)return l.then(c=>{if(!c){const d=o0(e,n),h=d.fatal??r??!0;o.addIssue({code:"custom",...d,fatal:h})}});if(!l){const c=o0(e,n),d=c.fatal??r??!0;o.addIssue({code:"custom",...c,fatal:d})}}):Ho.create()}const MF={object:Ot.lazycreate};var Ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const FF=(t,e={message:`Input not instance of ${t.name}`})=>Pg(r=>r instanceof t,e),jt=En.create,zl=Gs.create,VF=id.create,UF=Qs.create,Ei=vl.create,$F=Oi.create,BF=rd.create,qF=bl.create,U_=wl.create,od=Ho.create,zF=Pi.create,WF=hs.create,KF=nd.create,Vn=Pn.create,kd=Ot.create,HF=Ot.strictCreate,Ag=jl.create,GF=_d.create,QF=Nl.create,JF=Kn.create,$_=Sl.create,ZF=sd.create,YF=Ii.create,XF=Do.create,eV=_l.create,tV=kl.create,ap=Js.create,rV=Cl.create,nV=Go.create,a0=An.create,sV=Bn.create,iV=Zs.create,oV=An.createWithPreprocess,aV=ql.create,lV=()=>jt().optional(),cV=()=>zl().optional(),uV=()=>Ei().optional(),dV={string:(t=>En.create({...t,coerce:!0})),number:(t=>Gs.create({...t,coerce:!0})),boolean:(t=>vl.create({...t,coerce:!0})),bigint:(t=>Qs.create({...t,coerce:!0})),date:(t=>Oi.create({...t,coerce:!0}))},fV=Ke,hV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:DF,DIRTY:Po,EMPTY_PATH:mF,INVALID:Ke,NEVER:fV,OK:Ar,ParseStatus:Sr,Schema:st,ZodAny:Ho,ZodArray:Pn,ZodBigInt:Qs,ZodBoolean:vl,ZodBranded:Tg,ZodCatch:Tl,ZodDate:Oi,ZodDefault:El,ZodDiscriminatedUnion:_d,ZodEffects:An,ZodEnum:Js,ZodError:Zr,get ZodFirstPartyTypeKind(){return Ge},ZodFunction:Do,ZodIntersection:Nl,ZodIssueCode:le,ZodLazy:_l,ZodLiteral:kl,ZodMap:sd,ZodNaN:id,ZodNativeEnum:Cl,ZodNever:hs,ZodNull:wl,ZodNullable:Zs,ZodNumber:Gs,ZodObject:Ot,ZodOptional:Bn,ZodParsedType:Te,ZodPipeline:ql,ZodPromise:Go,ZodReadonly:Pl,ZodRecord:Sl,ZodSchema:st,ZodSet:Ii,ZodString:En,ZodSymbol:rd,ZodTransformer:An,ZodTuple:Kn,ZodType:st,ZodUndefined:bl,ZodUnion:jl,ZodUnknown:Pi,ZodVoid:nd,addIssueToContext:je,any:od,array:Vn,bigint:UF,boolean:Ei,coerce:dV,custom:Pg,date:$F,datetimeRegex:F_,defaultErrorMap:Ko,discriminatedUnion:GF,effect:a0,enum:ap,function:XF,getErrorMap:ed,getParsedType:ls,instanceof:FF,intersection:QF,isAborted:sp,isAsync:yl,isDirty:ip,isValid:Ri,late:MF,lazy:eV,literal:tV,makeIssue:td,map:ZF,nan:VF,nativeEnum:rV,never:WF,null:U_,nullable:iV,number:zl,object:kd,get objectUtil(){return np},oboolean:uV,onumber:cV,optional:sV,ostring:lV,pipeline:aV,preprocess:oV,promise:nV,quotelessJson:fF,record:$_,set:YF,setErrorMap:hF,strictObject:HF,string:jt,symbol:BF,transformer:a0,tuple:JF,undefined:qF,union:Ag,unknown:zF,get util(){return ct},void:KF},Symbol.toStringTag,{value:"Module"})),At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Wt(t,e){return e.includes(t.columnType)}function mV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const pV=Ag([jt(),zl(),Ei(),U_()]),gV=Ag([pV,$_(od()),Vn(od())]),xV=Pg(t=>t instanceof Buffer);function B_(t,e){const r=e?.zodInstance??hV,n=e?.coerce??{};let o;return mV(t)&&(o=t.enumValues.length?r.enum(t.enumValues):r.string()),o||(Wt(t,["PgGeometry","PgPointTuple"])?o=r.tuple([r.number(),r.number()]):Wt(t,["PgGeometryObject","PgPointObject"])?o=r.object({x:r.number(),y:r.number()}):Wt(t,["PgHalfVector","PgVector"])?(o=r.array(r.number()),o=t.dimensions?o.length(t.dimensions):o):Wt(t,["PgLine"])?o=r.tuple([r.number(),r.number(),r.number()]):Wt(t,["PgLineABC"])?o=r.object({a:r.number(),b:r.number(),c:r.number()}):Wt(t,["PgArray"])?(o=r.array(B_(t.baseColumn,r)),o=t.size?o.length(t.size):o):t.dataType==="array"?o=r.array(r.any()):t.dataType==="number"?o=yV(t,r,n):t.dataType==="bigint"?o=vV(t,r,n):t.dataType==="boolean"?o=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?o=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?o=bV(t,r,n):t.dataType==="json"?o=gV:t.dataType==="custom"?o=r.any():t.dataType==="buffer"&&(o=xV)),o||(o=r.any()),o}function yV(t,e,r){let n=t.getSQLType().includes("unsigned"),o,l,c=!1;Wt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(o=n?0:At.INT8_MIN,l=n?At.INT8_UNSIGNED_MAX:At.INT8_MAX,c=!0):Wt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=n?0:At.INT16_MIN,l=n?At.INT16_UNSIGNED_MAX:At.INT16_MAX,c=!0):Wt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=n?0:At.INT24_MIN,l=n?At.INT24_UNSIGNED_MAX:At.INT24_MAX,c=Wt(t,["MySqlMediumInt","SingleStoreMediumInt"])):Wt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=n?0:At.INT32_MIN,l=n?At.INT32_UNSIGNED_MAX:At.INT32_MAX,c=!0):Wt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=n?0:At.INT48_MIN,l=n?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Wt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Wt(t,["MySqlSerial","SingleStoreSerial"]),o=n?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,c=!0):Wt(t,["MySqlYear","SingleStoreYear"])?(o=1901,l=2155,c=!0):(o=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(o).max(l),c?d.int():d}function vV(t,e,r){const n=t.getSQLType().includes("unsigned"),o=n?0n:At.INT64_MIN,l=n?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(o).max(l)}function bV(t,e,r){if(Wt(t,["PgUUID"]))return e.string().uuid();let n,o,l=!1;Wt(t,["PgVarchar","SQLiteText"])?n=t.length:Wt(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??At.INT16_UNSIGNED_MAX:Wt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=At.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=At.INT24_UNSIGNED_MAX:t.textType==="text"?n=At.INT16_UNSIGNED_MAX:n=At.INT8_UNSIGNED_MAX),Wt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,l=!0),Wt(t,["PgBinaryVector"])&&(o=/^[01]+$/,n=t.dimensions);let c=r===!0||r?.string?e.coerce.string():e.string();return c=o?c.regex(o):c,n&&l?c.length(n):n?c.max(n):c}function q_(t){return C_(t)?l3(t):c3(t)}function z_(t,e,r,n){const o={};for(const[l,c]of Object.entries(t)){if(!hr(c,gl)&&!hr(c,Vt)&&!hr(c,Vt.Aliased)&&typeof c=="object"){const x=C_(c)||a3(c)?q_(c):c;o[l]=z_(x,e[l]??{},r,n);continue}const d=e[l];if(d!==void 0&&typeof d!="function"){o[l]=d;continue}const h=hr(c,gl)?c:void 0,m=h?B_(h,n):od(),p=typeof d=="function"?d(m):m;r.never(h)||(o[l]=p,h&&(r.nullable(h)&&(o[l]=o[l].nullable()),r.optional(h)&&(o[l]=o[l].optional())))}return kd(o)}const wV={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},W_=(t,e)=>{const r=q_(t);return z_(r,{},wV)},jV=I_("waitlist",{id:Eg("id").primaryKey(),name:xl("name",{length:100}).notNull(),email:xl("email",{length:255}).notNull().unique()}),NV=I_("contact",{id:Eg("id").primaryKey(),name:xl("name",{length:100}).notNull(),email:xl("email",{length:255}).notNull(),message:O_("message").notNull()}),SV=W_(jV).pick({name:!0,email:!0}),_V=W_(NV).pick({name:!0,email:!0,message:!0});var kV="Label",K_=v.forwardRef((t,e)=>i.jsx(Ct.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K_.displayName=kV;var H_=K_;const CV=Sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G_=v.forwardRef(({className:t,...e},r)=>i.jsx(H_,{ref:r,className:pt(CV(),t),...e}));G_.displayName=H_.displayName;const Q_=kD,J_=v.createContext({}),sl=({...t})=>i.jsx(J_.Provider,{value:{name:t.name},children:i.jsx(PD,{...t})}),Cd=()=>{const t=v.useContext(J_),e=v.useContext(Z_),{getFieldState:r,formState:n}=Nd(),o=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:l}=e;return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...o}},Z_=v.createContext({}),Mo=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return i.jsx(Z_.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:pt("space-y-2",t),...e})})});Mo.displayName="FormItem";const EV=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:o}=Cd();return i.jsx(G_,{ref:r,className:pt(n&&"text-destructive",t),htmlFor:o,...e})});EV.displayName="FormLabel";const Fo=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:o,formMessageId:l}=Cd();return i.jsx(G0,{ref:e,id:n,"aria-describedby":r?`${o} ${l}`:`${o}`,"aria-invalid":!!r,...t})});Fo.displayName="FormControl";const TV=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Cd();return i.jsx("p",{ref:r,id:n,className:pt("text-sm text-muted-foreground",t),...e})});TV.displayName="FormDescription";const Vo=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:o,formMessageId:l}=Cd(),c=o?String(o?.message):e;return c?i.jsx("p",{ref:n,id:l,className:pt("text-sm font-medium text-destructive",t),...r,children:c}):null});Vo.displayName="FormMessage";const Al=v.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:pt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Al.displayName="Input";function Ed({embedded:t=!1}){const{toast:e}=gp(),[r,n]=v.useState(!1),o=b_({resolver:j_(SV),defaultValues:{name:"",email:""}}),l=K0({mutationFn:async h=>{try{console.log("Submitting:",h);const m=await fetch("/.netlify/functions/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,name:h.name})});if(!m.ok)throw new Error("Failed to add to waitlist");return await m.json()}catch(m){throw console.error("Error:",m),m}},onSuccess:()=>{n(!0),e({title:"Success!",description:"You've been added to the waitlist."})},onError:()=>{e({variant:"destructive",title:"Error",description:"Something went wrong. Please try again."})}}),c=h=>{l.mutate(h)},d=i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join the Waitlist"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Be the first to know when GLASS-Connect ships new features for listing, verification, and collaboration routing."}),r?i.jsxs("div",{className:"text-center p-6 bg-primary/10 rounded-lg",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank you for joining!"}),i.jsx("p",{className:"text-muted-foreground",children:"We'll keep you updated on our progress."})]}):i.jsx(Q_,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[i.jsx(sl,{control:o.control,name:"name",render:({field:h})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{placeholder:"Your name",...h})}),i.jsx(Vo,{})]})}),i.jsx(sl,{control:o.control,name:"email",render:({field:h})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{type:"email",placeholder:"Your email",...h})}),i.jsx(Vo,{})]})}),i.jsx(Oo,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?"Joining...":"Join Now"})]})})]});return t?i.jsx("div",{className:"w-full",children:i.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full",children:d})}):i.jsx("section",{id:"waitlist-section",className:"py-20 bg-background",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-lg mx-auto text-center",children:d})})})}const Y_=v.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Y_.displayName="Textarea";function PV(){const{toast:t}=gp(),e=b_({resolver:j_(_V),defaultValues:{name:"",email:"",message:""}}),r=K0({mutationFn:async o=>(await fetch("/.netlify/functions/sendContact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json(),onSuccess:()=>{e.reset(),t({title:"Message sent!",description:"We'll get back to you as soon as possible."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to send message. Please try again."})}}),n=o=>{r.mutate(o)};return i.jsx("section",{className:"py-20 bg-muted/30",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[i.jsxs(Ye.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions about GLASS-Connect? We're here to help labs list, verify, and handle inbound requests."}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(kp,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"contact@glass-funding.com"})]})," "]})]}),i.jsx(Ye.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:i.jsx(Q_,{...e,children:i.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[i.jsx(sl,{control:e.control,name:"name",render:({field:o})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{placeholder:"Your name",...o})}),i.jsx(Vo,{})]})}),i.jsx(sl,{control:e.control,name:"email",render:({field:o})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{type:"email",placeholder:"Your email",...o})}),i.jsx(Vo,{})]})}),i.jsx(sl,{control:e.control,name:"message",render:({field:o})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Y_,{placeholder:"Your message",className:"min-h-[120px]",...o})}),i.jsx(Vo,{})]})}),i.jsx(Oo,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Sending...":"Send Message"})]})})})]})})})}const rm=[{src:"/logos/logo-unistra.png",alt:"Unistra",href:"https://www.unistra.fr",className:"scale-125"},{src:"/logos/logo-EMStrasbourg.png",alt:"EM Strasbourg",href:"https://www.em-strasbourg.com/fr",className:"scale-[1.7]"},{src:"/logos/GrandEst.png",alt:"Grand Est",href:"https://www.grandest.fr/en/",className:"scale-[1.9]"},{src:"/logos/logo-etena.png",alt:"Ppite Etna",href:"https://etena.unistra.fr/",className:"scale-[1.2]"},{src:"/logos/logo-LaRucheAProjets.png",alt:"La Ruche a projets",href:"https://www.em-strasbourg.com/fr/etudiant/vie-etudiante-et-services/centre-entrepreneurial-la-ruche/incubateur-la-ruche-a-projets",className:"scale-[1.2]"}];function X_(){const t=v.useRef(null),e=v.useMemo(()=>[...rm,...rm,...rm],[]);v.useEffect(()=>{const n=t.current;if(!n)return;const o=()=>{const c=n.scrollWidth/3;c>0&&(n.scrollLeft=c)},l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft<=0?n.scrollLeft+=c:n.scrollLeft>=c*2&&(n.scrollLeft-=c))};return o(),n.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",o),()=>{n.removeEventListener("scroll",l),window.removeEventListener("resize",o)}},[]),v.useEffect(()=>{const n=t.current;if(!n)return;let o;const l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft+=.4,n.scrollLeft>=c*2&&(n.scrollLeft-=c),o=window.requestAnimationFrame(l))};return o=window.requestAnimationFrame(l),()=>{window.cancelAnimationFrame(o)}},[]);const r=n=>{const o=t.current;if(!o)return;const l=o.scrollWidth/3;if(l===0)return;const c=o.clientWidth*.8;let d=n==="left"?o.scrollLeft-c:o.scrollLeft+c;n==="left"&&d<=0?d+=l:n==="right"&&d>=l*2&&(d-=l),o.scrollTo({left:d,behavior:"smooth"})};return i.jsx("section",{id:"partners",className:"py-20 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Partners"})}),i.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"relative",children:[i.jsx("button",{type:"button",onClick:()=>r("left"),className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners left",children:i.jsx(f2,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",onClick:()=>r("right"),className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners right",children:i.jsx(h2,{className:"h-5 w-5"})}),i.jsx("div",{ref:t,className:"overflow-x-auto scroll-smooth no-scrollbar",children:i.jsx("div",{className:"flex gap-6 md:gap-8 min-w-max pb-2",children:e.map((n,o)=>i.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"relative block w-[160px] md:w-[180px] shrink-0",children:i.jsx(Ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:o*.04},children:i.jsx("div",{className:"bg-white border border-border rounded-xl px-6 py-5 h-28 flex items-center justify-center shadow-sm hover:shadow-md transition",children:i.jsx("img",{src:n.src,alt:n.alt,className:`max-h-12 object-contain opacity-80 hover:opacity-100 transition duration-300 ${n.className}`})})})},`${n.alt}-${o}`))})})]})]})})}function AV({title:t="Latest news",description:e,limit:r=20,className:n=""}){const[o,l]=v.useState([]),[c,d]=v.useState(!0),[h,m]=v.useState(null);return v.useEffect(()=>{let p=!0;async function x(){d(!0),m(null);try{const b=await fetch(`/api/news/public?limit=${r}`),N=b.headers.get("content-type")||"";if(!b.ok||!N.includes("application/json"))throw await b.text(),new Error("Unable to load news");const _=await b.json();p&&l(Array.isArray(_?.news)?_.news:[])}catch(b){p&&m(b?.message||"Unable to load news")}finally{p&&d(!1)}}return x(),()=>{p=!1}},[r]),i.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${n}`,children:[i.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?i.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),c&&i.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),h&&i.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:h}),!c&&!h&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-4 min-w-full",children:[o.length===0&&i.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No news yet. Check back soon."}),o.map(p=>{const x=p.labs?.name||`Lab ${p.lab_id}`,b=p.created_at?new Date(p.created_at).toLocaleDateString():"";return i.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[i.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:i.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:p.category||"update"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.title}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:p.summary})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"truncate",children:x}),i.jsx("span",{className:"text-[11px]",children:b})]}),i.jsx("div",{className:"flex items-center gap-2",children:p.images?.slice(0,2).map(N=>i.jsx("img",{src:N.url,alt:N.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},N.url))})]},p.id)})]})})]})}function RV({title:t="Featured labs",description:e,className:r=""}){const[n,o]=v.useState([]),[l,c]=v.useState(!0),[d,h]=v.useState(null);v.useEffect(()=>{let p=!0;async function x(){c(!0),h(null);try{const b=await fetch("/api/labs"),N=b.headers.get("content-type")||"";if(!b.ok||!N.includes("application/json"))throw await b.text(),new Error("Unable to load labs");const _=await b.json();p&&o(Array.isArray(_)?_:[])}catch(b){p&&h(b?.message||"Unable to load labs")}finally{p&&c(!1)}}return x(),()=>{p=!1}},[]);const m=v.useMemo(()=>n.filter(p=>{const x=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base";return(x==="premier"||x==="custom")&&p.isVisible!==!1}),[n]);return i.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${r}`,children:[i.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Featured"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?i.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),l&&i.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading featured labs"}),d&&i.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:d}),!l&&!d&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-4 min-w-full",children:[m.length===0&&i.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No featured labs yet. Check back soon."}),m.map(p=>{const x=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base",b=p.logoUrl||p.photos?.[0]?.url;return i.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-[11px] font-medium text-primary capitalize",children:x}),i.jsxs("span",{className:"text-[11px] text-muted-foreground flex items-center gap-1",children:[i.jsx(Cp,{className:"h-3 w-3"}),"Featured"]})]}),b&&i.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60 bg-muted/20",children:i.jsx("img",{src:b,alt:p.name,className:"h-32 w-full object-cover",loading:"lazy"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.name}),i.jsxs("p",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Ws,{className:"h-3 w-3"}),p.location]}),i.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted-foreground",children:[i.jsx(Tn,{className:"h-3 w-3 text-emerald-600"}),"Premier tier placement"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:"Premium listing with GLASS support and top placement."}),i.jsx(Ne,{href:`/labs/${p.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},p.id)})]})})]})}function OV(){return i.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[i.jsx(yD,{}),i.jsx(RV,{title:"Featured labs",description:"Premier partners highlighted this week"}),i.jsx(ND,{}),i.jsx(AV,{title:"Lab news",description:"Latest updates across all labs",limit:30}),i.jsx(Ed,{}),i.jsx(PV,{}),i.jsx(X_,{})]})}var IV=dp[" useId ".trim().toString()]||(()=>{}),LV=0;function il(t){const[e,r]=v.useState(IV());return zn(()=>{r(n=>n??String(LV++))},[t]),e?`radix-${e}`:""}var nm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",l0={bubbles:!1,cancelable:!0},DV="FocusScope",e1=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=t,[d,h]=v.useState(null),m=qn(o),p=qn(l),x=v.useRef(null),b=Yr(e,j=>h(j)),N=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let j=function(E){if(N.paused||!d)return;const A=E.target;d.contains(A)?x.current=A:Bs(x.current,{select:!0})},w=function(E){if(N.paused||!d)return;const A=E.relatedTarget;A!==null&&(d.contains(A)||Bs(x.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const L of E)L.removedNodes.length>0&&Bs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",w);const k=new MutationObserver(C);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",w),k.disconnect()}}},[n,d,N.paused]),v.useEffect(()=>{if(d){u0.add(N);const j=document.activeElement;if(!d.contains(j)){const C=new CustomEvent(nm,l0);d.addEventListener(nm,m),d.dispatchEvent(C),C.defaultPrevented||(MV(BV(t1(d)),{select:!0}),document.activeElement===j&&Bs(d))}return()=>{d.removeEventListener(nm,m),setTimeout(()=>{const C=new CustomEvent(sm,l0);d.addEventListener(sm,p),d.dispatchEvent(C),C.defaultPrevented||Bs(j??document.body,{select:!0}),d.removeEventListener(sm,p),u0.remove(N)},0)}}},[d,m,p,N]);const _=v.useCallback(j=>{if(!r&&!n||N.paused)return;const w=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(w&&C){const k=j.currentTarget,[E,A]=FV(k);E&&A?!j.shiftKey&&C===A?(j.preventDefault(),r&&Bs(E,{select:!0})):j.shiftKey&&C===E&&(j.preventDefault(),r&&Bs(A,{select:!0})):C===k&&j.preventDefault()}},[r,n,N.paused]);return i.jsx(Ct.div,{tabIndex:-1,...c,ref:b,onKeyDown:_})});e1.displayName=DV;function MV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Bs(n,{select:e}),document.activeElement!==r)return}function FV(t){const e=t1(t),r=c0(e,t),n=c0(e.reverse(),t);return[r,n]}function t1(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c0(t,e){for(const r of t)if(!VV(r,{upTo:e}))return r}function VV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UV(t){return t instanceof HTMLInputElement&&"select"in t}function Bs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&UV(t)&&e&&t.select()}}var u0=$V();function $V(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=d0(t,e),t.unshift(e)},remove(e){t=d0(t,e),t[0]?.resume()}}}function d0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function BV(t){return t.filter(e=>e.tagName!=="A")}var im=0;function qV(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??f0()),document.body.insertAdjacentElement("beforeend",t[1]??f0()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function f0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Au="right-scroll-bar-position",Ru="width-before-scroll-bar",zV="with-scroll-bars-hidden",WV="--removed-body-scroll-bar-size";function om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KV(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=e,r.facade}var HV=typeof window<"u"?v.useLayoutEffect:v.useEffect,h0=new WeakMap;function GV(t,e){var r=KV(null,function(n){return t.forEach(function(o){return om(o,n)})});return HV(function(){var n=h0.get(r);if(n){var o=new Set(n),l=new Set(t),c=r.current;o.forEach(function(d){l.has(d)||om(d,null)}),l.forEach(function(d){o.has(d)||om(d,c)})}h0.set(r,t)},[t]),r}function QV(t){return t}function JV(t,e){e===void 0&&(e=QV);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var h=function(){var p=c;c=[],p.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),r}}}};return o}function ZV(t){t===void 0&&(t={});var e=JV(null);return e.options=fn({async:!0,ssr:!1},t),e}var r1=function(t){var e=t.sideCar,r=Xs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,fn({},r))};r1.isSideCarExport=!0;function YV(t,e){return t.useMedium(e),r1}var n1=ZV(),am=function(){},Td=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),o=n[0],l=n[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,p=t.enabled,x=t.shards,b=t.sideCar,N=t.noRelative,_=t.noIsolation,j=t.inert,w=t.allowPinchZoom,C=t.as,k=C===void 0?"div":C,E=t.gapMode,A=Xs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=b,V=GV([r,e]),H=fn(fn({},A),o);return v.createElement(v.Fragment,null,p&&v.createElement(L,{sideCar:n1,removeScrollBar:m,shards:x,noRelative:N,noIsolation:_,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:E}),c?v.cloneElement(v.Children.only(d),fn(fn({},H),{ref:V})):v.createElement(k,fn({},H,{className:h,ref:V}),d))});Td.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Td.classNames={fullWidth:Ru,zeroRight:Au};var XV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=XV();return e&&t.setAttribute("nonce",e),t}function tU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nU=function(){var t=0,e=null;return{add:function(r){t==0&&(e=eU())&&(tU(e,r),rU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sU=function(){var t=nU();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},s1=function(){var t=sU(),e=function(r){var n=r.styles,o=r.dynamic;return t(n,o),null};return e},iU={left:0,top:0,right:0,gap:0},lm=function(t){return parseInt(t||"",10)||0},oU=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[lm(r),lm(n),lm(o)]},aU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iU;var e=oU(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},lU=s1(),Uo="data-scroll-locked",cU=function(t,e,r,n){var o=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(zV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Au,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ru,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ru," .").concat(Ru,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(WV,": ").concat(d,`px;
  }
`)},m0=function(){var t=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(t)?t:0},uU=function(){v.useEffect(function(){return document.body.setAttribute(Uo,(m0()+1).toString()),function(){var t=m0()-1;t<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,t.toString())}},[])},dU=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n;uU();var l=v.useMemo(function(){return aU(o)},[o]);return v.createElement(lU,{styles:cU(l,!e,o,r?"":"!important")})},lp=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{lp=!1}var go=lp?{passive:!1}:!1,fU=function(t){return t.tagName==="TEXTAREA"},i1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!fU(t)&&r[e]==="visible")},hU=function(t){return i1(t,"overflowY")},mU=function(t){return i1(t,"overflowX")},p0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=o1(t,n);if(o){var l=a1(t,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},gU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},o1=function(t,e){return t==="v"?hU(e):mU(e)},a1=function(t,e){return t==="v"?pU(e):gU(e)},xU=function(t,e){return t==="h"&&e==="rtl"?-1:1},yU=function(t,e,r,n,o){var l=xU(t,window.getComputedStyle(e).direction),c=l*n,d=r.target,h=e.contains(d),m=!1,p=c>0,x=0,b=0;do{if(!d)break;var N=a1(t,d),_=N[0],j=N[1],w=N[2],C=j-w-l*_;(_||C)&&o1(t,d)&&(x+=C,b+=_);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(p&&Math.abs(x)<1||!p&&Math.abs(b)<1)&&(m=!0),m},bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},g0=function(t){return[t.deltaX,t.deltaY]},x0=function(t){return t&&"current"in t?t.current:t},vU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wU=0,xo=[];function jU(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),o=v.useState(wU++)[0],l=v.useState(s1)[0],c=v.useRef(t);v.useEffect(function(){c.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var j=dg([t.lockRef.current],(t.shards||[]).map(x0),!0).filter(Boolean);return j.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=v.useCallback(function(j,w){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var C=bu(j),k=r.current,E="deltaX"in j?j.deltaX:k[0]-C[0],A="deltaY"in j?j.deltaY:k[1]-C[1],L,V=j.target,H=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in j&&H==="h"&&V.type==="range")return!1;var Z=p0(H,V);if(!Z)return!0;if(Z?L=H:(L=H==="v"?"h":"v",Z=p0(H,V)),!Z)return!1;if(!n.current&&"changedTouches"in j&&(E||A)&&(n.current=L),!L)return!0;var O=n.current||L;return yU(O,w,j,O==="h"?E:A)},[]),h=v.useCallback(function(j){var w=j;if(!(!xo.length||xo[xo.length-1]!==l)){var C="deltaY"in w?g0(w):bu(w),k=e.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&vU(L.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var E=(c.current.shards||[]).map(x0).filter(Boolean).filter(function(L){return L.contains(w.target)}),A=E.length>0?d(w,E[0]):!c.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),m=v.useCallback(function(j,w,C,k){var E={name:j,delta:w,target:C,should:k,shadowParent:NU(C)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),p=v.useCallback(function(j){r.current=bu(j),n.current=void 0},[]),x=v.useCallback(function(j){m(j.type,g0(j),j.target,d(j,t.lockRef.current))},[]),b=v.useCallback(function(j){m(j.type,bu(j),j.target,d(j,t.lockRef.current))},[]);v.useEffect(function(){return xo.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",h,go),document.addEventListener("touchmove",h,go),document.addEventListener("touchstart",p,go),function(){xo=xo.filter(function(j){return j!==l}),document.removeEventListener("wheel",h,go),document.removeEventListener("touchmove",h,go),document.removeEventListener("touchstart",p,go)}},[]);var N=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(l,{styles:bU(o)}):null,N?v.createElement(dU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function NU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SU=YV(n1,jU);var l1=v.forwardRef(function(t,e){return v.createElement(Td,fn({},t,{ref:e,sideCar:SU}))});l1.classNames=Td.classNames;var _U=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yo=new WeakMap,wu=new WeakMap,ju={},cm=0,c1=function(t){return t&&(t.host||c1(t.parentNode))},kU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=c1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},CU=function(t,e,r,n){var o=kU(e,Array.isArray(t)?t:[t]);ju[r]||(ju[r]=new WeakMap);var l=ju[r],c=[],d=new Set,h=new Set(o),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};o.forEach(m);var p=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))p(b);else try{var N=b.getAttribute(n),_=N!==null&&N!=="false",j=(yo.get(b)||0)+1,w=(l.get(b)||0)+1;yo.set(b,j),l.set(b,w),c.push(b),j===1&&_&&wu.set(b,!0),w===1&&b.setAttribute(r,"true"),_||b.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return p(e),d.clear(),cm++,function(){c.forEach(function(x){var b=yo.get(x)-1,N=l.get(x)-1;yo.set(x,b),l.set(x,N),b||(wu.has(x)||x.removeAttribute(n),wu.delete(x)),N||x.removeAttribute(r)}),cm--,cm||(yo=new WeakMap,yo=new WeakMap,wu=new WeakMap,ju={})}},EU=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=_U(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),CU(n,o,r,"aria-hidden")):function(){return null}},Pd="Dialog",[u1]=Qo(Pd),[TU,Rn]=u1(Pd),d1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,d=v.useRef(null),h=v.useRef(null),[m,p]=Il({prop:n,defaultProp:o??!1,onChange:l,caller:Pd});return i.jsx(TU,{scope:e,triggerRef:d,contentRef:h,contentId:il(),titleId:il(),descriptionId:il(),open:m,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(x=>!x),[p]),modal:c,children:r})};d1.displayName=Pd;var f1="DialogTrigger",PU=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rn(f1,r),l=Yr(e,o.triggerRef);return i.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ig(o.open),...n,ref:l,onClick:Zt(t.onClick,o.onOpenToggle)})});PU.displayName=f1;var Rg="DialogPortal",[AU,h1]=u1(Rg,{forceMount:void 0}),m1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:o}=t,l=Rn(Rg,e);return i.jsx(AU,{scope:e,forceMount:r,children:v.Children.map(n,c=>i.jsx(Jo,{present:r||l.open,children:i.jsx(vp,{asChild:!0,container:o,children:c})}))})};m1.displayName=Rg;var ad="DialogOverlay",p1=v.forwardRef((t,e)=>{const r=h1(ad,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,l=Rn(ad,t.__scopeDialog);return l.modal?i.jsx(Jo,{present:n||l.open,children:i.jsx(OU,{...o,ref:e})}):null});p1.displayName=ad;var RU=al("DialogOverlay.RemoveScroll"),OU=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rn(ad,r);return i.jsx(l1,{as:RU,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Ct.div,{"data-state":Ig(o.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Li="DialogContent",g1=v.forwardRef((t,e)=>{const r=h1(Li,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,l=Rn(Li,t.__scopeDialog);return i.jsx(Jo,{present:n||l.open,children:l.modal?i.jsx(IU,{...o,ref:e}):i.jsx(LU,{...o,ref:e})})});g1.displayName=Li;var IU=v.forwardRef((t,e)=>{const r=Rn(Li,t.__scopeDialog),n=v.useRef(null),o=Yr(e,r.contentRef,n);return v.useEffect(()=>{const l=n.current;if(l)return EU(l)},[]),i.jsx(x1,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Zt(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Zt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Zt(t.onFocusOutside,l=>l.preventDefault())})}),LU=v.forwardRef((t,e)=>{const r=Rn(Li,t.__scopeDialog),n=v.useRef(!1),o=v.useRef(!1);return i.jsx(x1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),x1=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=t,d=Rn(Li,r),h=v.useRef(null),m=Yr(e,h);return qV(),i.jsxs(i.Fragment,{children:[i.jsx(e1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(yp,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ig(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(DU,{titleId:d.titleId}),i.jsx(FU,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Og="DialogTitle",y1=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rn(Og,r);return i.jsx(Ct.h2,{id:o.titleId,...n,ref:e})});y1.displayName=Og;var v1="DialogDescription",b1=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rn(v1,r);return i.jsx(Ct.p,{id:o.descriptionId,...n,ref:e})});b1.displayName=v1;var w1="DialogClose",j1=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rn(w1,r);return i.jsx(Ct.button,{type:"button",...n,ref:e,onClick:Zt(t.onClick,()=>o.onOpenChange(!1))})});j1.displayName=w1;function Ig(t){return t?"open":"closed"}var N1="DialogTitleWarning",[AB,S1]=fT(N1,{contentName:Li,titleName:Og,docsSlug:"dialog"}),DU=({titleId:t})=>{const e=S1(N1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},MU="DialogDescriptionWarning",FU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S1(MU).contentName}}.`;return v.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},VU=d1,UU=m1,_1=p1,k1=g1,C1=y1,E1=b1,$U=j1;const BU=VU,qU=UU,T1=v.forwardRef(({className:t,...e},r)=>i.jsx(_1,{ref:r,className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));T1.displayName=_1.displayName;const P1=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(qU,{children:[i.jsx(T1,{}),i.jsxs(k1,{ref:n,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs($U,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(zs,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));P1.displayName=k1.displayName;const A1=v.forwardRef(({className:t,...e},r)=>i.jsx(C1,{ref:r,className:pt("text-lg font-semibold leading-none tracking-tight",t),...e}));A1.displayName=C1.displayName;const zU=v.forwardRef(({className:t,...e},r)=>i.jsx(E1,{ref:r,className:pt("text-sm text-muted-foreground",t),...e}));zU.displayName=E1.displayName;function WU({open:t,onOpenChange:e}){const[r,n]=v.useState(0);return i.jsx(BU,{open:t,onOpenChange:o=>{e(o),o||n(l=>l+1)},children:i.jsxs(P1,{className:"max-w-3xl p-0 overflow-hidden",children:[i.jsx(A1,{className:"sr-only",children:"Join the waitlist"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1.05fr_1.15fr]",children:[i.jsx("div",{className:"p-8",children:i.jsx(Ed,{embedded:!0})},r),i.jsxs("div",{className:"hidden md:flex flex-col justify-center gap-4 border-l border-border bg-card/60 px-10 py-12",children:[i.jsx("p",{className:"text-base font-medium text-foreground uppercase tracking-[0.25em]",children:"Why it matters"}),i.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"Every name on the waitlist is proof that science can belong to everyone. Well only reach out when theres meaningful progressno spam, just breakthroughs the community helps bring to life."})]})]})]})})}const KU=[{title:"1. Publish your lab",description:"Share your capabilities, equipment, and collaboration preferences in a structured profile built for scientists."},{title:"2. Verify once",description:"We run a light remote/on-site verification so partners know the details are accurate and trusted."},{title:"3. Connect quickly",description:"Inbound requests are routed straight to your team. Share availability, manage intros, and stay visible to the network."}],HU=[{title:"Labs & Core Facilities",description:"List your capabilities, surface underused equipment, and make it easy for peers and partners to collaborate."},{title:"Network Operators",description:"Manage multiple labs with consistent profiles, verification, and routing that respects each sites preferences."},{title:"Industry & Partners",description:"Find trusted collaborators faster, with clear capabilities, contact paths, and lightweight governance."}],GU=[{title:"Standardised discovery",description:"Profiles use the same structure across labs, so partners can compare expertise, equipment, and availability quickly."},{title:"Trusted details",description:"Verification checks make it clear whats real, whats available, and who to reach without endless back-and-forth."},{title:"Less time chasing",description:"GLASS-Connect routes qualified requests to the right people, helping teams spend more time collaborating."}];function QU(){const[t,e]=v.useState(!1);return i.jsxs("div",{className:"bg-background text-foreground",children:[i.jsx("section",{className:"border-b border-border bg-muted/30",children:i.jsx("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:i.jsxs("div",{className:"max-w-3xl",children:[i.jsx("p",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Why we started GLASS-Connect"}),i.jsx("h1",{className:"mt-4 text-4xl font-semibold leading-tight md:text-5xl",children:"Science deserves collaboration thats fast, clear, and trusted."}),i.jsx("p",{className:"mt-6 text-lg text-muted-foreground leading-relaxed",children:"Labs have incredible capabilities, but no simple way to share them or filter serious collaboration requests from noise. GLASS-Connect is a directory and routing layer for labs: structured profiles, light verification, and direct introductions so teams can work together fasterwithout adding bureaucracy."}),i.jsxs("div",{className:"mt-8 flex flex-col gap-3 sm:flex-row sm:items-center",children:[i.jsx(Ne,{href:"/roadmap",children:i.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["Explore the roadmap",i.jsx(Kv,{className:"h-4 w-4"})]})}),i.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-6 py-3 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})})}),i.jsx("section",{className:"border-b border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Why a lab network matters"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We built GLASS-Connect to make it effortless for partners to find, trust, and contact the right labwithout long chains of introductions or hidden spreadsheets."}),i.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:GU.map(r=>i.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),i.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),i.jsx("section",{className:"border-b border-border",children:i.jsx("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:i.jsxs("div",{className:"grid gap-10 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)] lg:items-start",children:[i.jsxs("article",{children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"What is GLASS-Connect?"}),i.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"GLASS-Connect is a directory and routing layer for research labs. We standardise how labs present their capabilities, verify key details, and connect inbound collaborations without burying teams in admin."})]}),i.jsxs("article",{children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Why GLASS-Connect matters"}),i.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"Today, capabilities are scattered across PDFs, cold emails, and outdated directories. GLASS-Connect gives every lab a clear presence and makes it simple for serious partners to reach the right people without chasing inboxes."})]})]})})}),i.jsx("section",{className:"border-b border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"How Glass works"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We combine structured profiles with light verification and direct routing so collaborators can move from first contact to scoped work quickly."}),i.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:KU.map(r=>i.jsxs("div",{className:"h-full rounded-3xl border border-border bg-card p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),i.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),i.jsx("section",{className:"border-b border-border bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Who we build for"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"GLASS-Connect gives labs and partners a shared surface to collaboratewithout forcing them into new workflows."}),i.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:HU.map(r=>i.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),i.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),i.jsx(X_,{}),i.jsx("section",{className:"border-b border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Lets connect labs faster"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"Whether you manage a single lab or a network of facilities, GLASS-Connect gives you a clear, trusted place to showcase your work and meet collaborators."}),i.jsxs("div",{className:"mt-8 flex flex-col justify-center gap-3 sm:flex-row",children:[i.jsx(Ne,{href:"/roadmap",children:i.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["See whats next",i.jsx(Kv,{className:"h-4 w-4"})]})}),i.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-5 py-2.5 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})}),i.jsx(WU,{open:t,onOpenChange:e})]})}var Ad="Collapsible",[JU,R1]=Qo(Ad),[ZU,Lg]=JU(Ad),O1=v.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:l,onOpenChange:c,...d}=t,[h,m]=Il({prop:n,defaultProp:o??!1,onChange:c,caller:Ad});return i.jsx(ZU,{scope:r,disabled:l,contentId:il(),open:h,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),children:i.jsx(Ct.div,{"data-state":Mg(h),"data-disabled":l?"":void 0,...d,ref:e})})});O1.displayName=Ad;var I1="CollapsibleTrigger",L1=v.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,o=Lg(I1,r);return i.jsx(Ct.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Mg(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:e,onClick:Zt(t.onClick,o.onOpenToggle)})});L1.displayName=I1;var Dg="CollapsibleContent",D1=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=Lg(Dg,t.__scopeCollapsible);return i.jsx(Jo,{present:r||o.open,children:({present:l})=>i.jsx(YU,{...n,ref:e,present:l})})});D1.displayName=Dg;var YU=v.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:o,...l}=t,c=Lg(Dg,r),[d,h]=v.useState(n),m=v.useRef(null),p=Yr(e,m),x=v.useRef(0),b=x.current,N=v.useRef(0),_=N.current,j=c.open||d,w=v.useRef(j),C=v.useRef(void 0);return v.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),zn(()=>{const k=m.current;if(k){C.current=C.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const E=k.getBoundingClientRect();x.current=E.height,N.current=E.width,w.current||(k.style.transitionDuration=C.current.transitionDuration,k.style.animationName=C.current.animationName),h(n)}},[c.open,n]),i.jsx(Ct.div,{"data-state":Mg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...l,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:j&&o})});function Mg(t){return t?"open":"closed"}var XU=O1,e$=L1,t$=D1,r$=v.createContext(void 0);function n$(t){const e=v.useContext(r$);return t||e||"ltr"}var On="Accordion",s$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Fg,i$,o$]=Q0(On),[Rd]=Qo(On,[o$,R1]),Vg=R1(),M1=Fe.forwardRef((t,e)=>{const{type:r,...n}=t,o=n,l=n;return i.jsx(Fg.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?i.jsx(u$,{...l,ref:e}):i.jsx(c$,{...o,ref:e})})});M1.displayName=On;var[F1,a$]=Rd(On),[V1,l$]=Rd(On,{collapsible:!1}),c$=Fe.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:o=()=>{},collapsible:l=!1,...c}=t,[d,h]=Il({prop:r,defaultProp:n??"",onChange:o,caller:On});return i.jsx(F1,{scope:t.__scopeAccordion,value:Fe.useMemo(()=>d?[d]:[],[d]),onItemOpen:h,onItemClose:Fe.useCallback(()=>l&&h(""),[l,h]),children:i.jsx(V1,{scope:t.__scopeAccordion,collapsible:l,children:i.jsx(U1,{...c,ref:e})})})}),u$=Fe.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:o=()=>{},...l}=t,[c,d]=Il({prop:r,defaultProp:n??[],onChange:o,caller:On}),h=Fe.useCallback(p=>d((x=[])=>[...x,p]),[d]),m=Fe.useCallback(p=>d((x=[])=>x.filter(b=>b!==p)),[d]);return i.jsx(F1,{scope:t.__scopeAccordion,value:c,onItemOpen:h,onItemClose:m,children:i.jsx(V1,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(U1,{...l,ref:e})})})}),[d$,Od]=Rd(On),U1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:o,orientation:l="vertical",...c}=t,d=Fe.useRef(null),h=Yr(d,e),m=i$(r),x=n$(o)==="ltr",b=Zt(t.onKeyDown,N=>{if(!s$.includes(N.key))return;const _=N.target,j=m().filter(Z=>!Z.ref.current?.disabled),w=j.findIndex(Z=>Z.ref.current===_),C=j.length;if(w===-1)return;N.preventDefault();let k=w;const E=0,A=C-1,L=()=>{k=w+1,k>A&&(k=E)},V=()=>{k=w-1,k<E&&(k=A)};switch(N.key){case"Home":k=E;break;case"End":k=A;break;case"ArrowRight":l==="horizontal"&&(x?L():V());break;case"ArrowDown":l==="vertical"&&L();break;case"ArrowLeft":l==="horizontal"&&(x?V():L());break;case"ArrowUp":l==="vertical"&&V();break}const H=k%C;j[H].ref.current?.focus()});return i.jsx(d$,{scope:r,disabled:n,direction:o,orientation:l,children:i.jsx(Fg.Slot,{scope:r,children:i.jsx(Ct.div,{...c,"data-orientation":l,ref:h,onKeyDown:n?void 0:b})})})}),ld="AccordionItem",[f$,Ug]=Rd(ld),$1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...o}=t,l=Od(ld,r),c=a$(ld,r),d=Vg(r),h=il(),m=n&&c.value.includes(n)||!1,p=l.disabled||t.disabled;return i.jsx(f$,{scope:r,open:m,disabled:p,triggerId:h,children:i.jsx(XU,{"data-orientation":l.orientation,"data-state":H1(m),...d,...o,ref:e,disabled:p,open:m,onOpenChange:x=>{x?c.onItemOpen(n):c.onItemClose(n)}})})});$1.displayName=ld;var B1="AccordionHeader",q1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,o=Od(On,r),l=Ug(B1,r);return i.jsx(Ct.h3,{"data-orientation":o.orientation,"data-state":H1(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:e})});q1.displayName=B1;var cp="AccordionTrigger",z1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,o=Od(On,r),l=Ug(cp,r),c=l$(cp,r),d=Vg(r);return i.jsx(Fg.ItemSlot,{scope:r,children:i.jsx(e$,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":o.orientation,id:l.triggerId,...d,...n,ref:e})})});z1.displayName=cp;var W1="AccordionContent",K1=Fe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,o=Od(On,r),l=Ug(W1,r),c=Vg(r);return i.jsx(t$,{role:"region","aria-labelledby":l.triggerId,"data-orientation":o.orientation,...c,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});K1.displayName=W1;function H1(t){return t?"open":"closed"}var h$=M1,m$=$1,p$=q1,G1=z1,Q1=K1;const g$=h$,Ou=v.forwardRef(({className:t,...e},r)=>i.jsx(m$,{ref:r,className:pt("border-b",t),...e}));Ou.displayName="AccordionItem";const Iu=v.forwardRef(({className:t,children:e,...r},n)=>i.jsx(p$,{className:"flex",children:i.jsxs(G1,{ref:n,className:pt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,i.jsx(d2,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Iu.displayName=G1.displayName;const Lu=v.forwardRef(({className:t,children:e,...r},n)=>i.jsx(Q1,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:pt("pb-4 pt-0",t),children:e})}));Lu.displayName=Q1.displayName;function x$(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-14",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Contact Glass"}),i.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["Every question, partnership idea, or introduction helps labs collaborate faster. Whether you are a researcher, operator, journalist, or partneryou can reach the GLASS-Connect team at"," ",i.jsx("a",{href:"mailto:support@glass.demo",className:"font-medium text-primary hover:underline",children:"contact@glass-funding.com"}),"."]})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid gap-10 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)] items-start",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 shadow-sm p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:i.jsx(kp,{className:"h-5 w-5"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground",children:"Write to us"}),i.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-lg font-medium text-foreground hover:text-primary",children:"contact@glass-funding.com"})]})]}),i.jsxs("div",{className:"grid gap-4 text-sm text-muted-foreground leading-relaxed",children:[i.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Researchers & Labs"}),i.jsx("p",{className:"mt-2",children:"Share your lab profile, ask about verification, or get help with listing updates and inbound requests."})]}),i.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Network Operators"}),i.jsx("p",{className:"mt-2",children:"Manage multiple labs, set routing rules, and keep data fresh across your networkwe can help."})]}),i.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Media & Partners"}),i.jsx("p",{className:"mt-2",children:"Request interviews, press kits, or collaboration details. Were happy to share what GLASS-Connect is building."})]})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/60 shadow-sm p-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground text-left",children:"FAQs"}),i.jsxs(g$,{type:"single",collapsible:!0,className:"mt-4 space-y-1",children:[i.jsxs(Ou,{value:"faq-1",children:[i.jsx(Iu,{className:"text-left text-sm",children:"How soon will someone reply?"}),i.jsx(Lu,{children:i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We aim to respond within 2 business days. Research submissions may take a little longer while we loop in advisors for review."})})]}),i.jsxs(Ou,{value:"faq-2",children:[i.jsx(Iu,{className:"text-left text-sm",children:"Do I need verification to list a lab?"}),i.jsx(Lu,{children:i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We recommend verification to improve trust and placement. You can publish a profile without it and schedule verification when you are ready."})})]}),i.jsxs(Ou,{value:"faq-3",children:[i.jsx(Iu,{className:"text-left text-sm",children:"Can I demo the platform before launch?"}),i.jsx(Lu,{children:i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Yesdrop us a note at contact@glass-funding.com and well share the latest demo environment and roadmap update."})})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground text-left",children:"Social"}),i.jsxs("div",{className:"mt-4 flex gap-3 text-muted-foreground",children:[i.jsx("a",{href:"https://x.com/GlassFunding",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on X",children:i.jsx(zs,{className:"h-4 w-4"})}),i.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on LinkedIn",children:i.jsx(_p,{className:"h-4 w-4"})}),i.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on Instagram",children:i.jsx(Sj,{className:"h-4 w-4"})})]})]})]})]})]})}),i.jsx(Ed,{})]})}function y$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"404 error"}),i.jsx("h1",{className:"mt-6 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Looks like this page drifted off the map."}),i.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"The link you followed might be broken or the content may have been moved. Try returning to the homepage or browse our available lab partners."}),i.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[i.jsx(Ne,{href:"/",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Back to homepage"})}),i.jsx(Ne,{href:"/labs",children:i.jsxs("a",{className:"inline-flex items-center justify-center gap-2 rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:[i.jsx(k2,{className:"h-4 w-4"}),"Browse labs"]})})]}),i.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Believe this is a mistake?"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"Let us know"}),"."]})]})})}function v$(){const{user:t,loading:e}=gr(),[r,n]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(null),[,h]=Hn(),[m,p]=v.useState(!1),x=v.useMemo(()=>{try{return new URLSearchParams(window.location.search).get("next")||"/account"}catch{return"/account"}},[]);v.useEffect(()=>{!e&&t&&h(x,{replace:!0})},[e,t,h,x]);const b=async N=>{if(N.preventDefault(),!r||!o){d("Enter your email and password to continue.");return}d(null),p(!0);try{const{data:_,error:j}=await We.auth.signInWithPassword({email:r,password:o});j?d(j.message):_.session&&h(x,{replace:!0})}catch(_){console.error(_),d("Unexpected error occurred. Please try again.")}finally{p(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Welcome back"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Sign in to keep backing the science that matters to you."}),i.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Access your portfolio, track donations, and stay close to the research teams you support."}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("p",{className:"font-medium text-foreground",children:"New to Glass?"}),i.jsx("p",{className:"mt-1",children:"Create an account in minutes and start directing capital to world-class labs."}),i.jsx(Ne,{href:"/signup",children:i.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Create your profile"})})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[i.jsxs("form",{className:"space-y-5",onSubmit:b,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:N=>n(N.target.value),placeholder:"you@example.org",required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),i.jsx(Ne,{href:"/forgot-password",children:i.jsx("a",{className:"text-xs font-medium text-muted-foreground hover:text-foreground transition",children:"Forgot?"})})]}),i.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:o,onChange:N=>l(N.target.value),placeholder:"Enter your password",required:!0})]}),c&&i.jsx("p",{className:"text-sm text-destructive",children:c}),i.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:m,children:m?"Signing in...":"Log in"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Need to get set up?"," ",i.jsx(Ne,{href:"/signup",children:i.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Create an account"})})]})]})]})})})}function b$(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(null),[h,m]=v.useState(!1),[,p]=Hn(),x=async b=>{if(b.preventDefault(),!r.includes("@")||o.length<6){d("Use a valid email address and a password with at least 6 characters.");return}d(null),m(!0);try{const{data:N,error:_}=await We.auth.signUp({email:r,password:o});if(_){d(_.message),m(!1);return}p("/login")}catch(N){console.error(N),d("Unexpected error occurred. Please try again.")}finally{m(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Join the community"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Build your Glass profile and direct capital where breakthroughs happen."}),i.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Tell us a little about you and well surface handpicked projects, personalized reports, and donation workflows."}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Already supporting teams?"}),i.jsx("p",{className:"mt-1",children:"Sign in to continue tracking milestones and managing your follow-ups."}),i.jsx(Ne,{href:"/login",children:i.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Log in instead"})})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[i.jsxs("form",{className:"space-y-5",onSubmit:x,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),i.jsx("input",{type:"text",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:t,onChange:b=>e(b.target.value),placeholder:"Your full name",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:b=>n(b.target.value),placeholder:"you@example.org",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),i.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:o,onChange:b=>l(b.target.value),placeholder:"Minimum 6 characters",required:!0,minLength:6})]}),c&&i.jsx("p",{className:"text-sm text-destructive",children:c}),i.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:h,children:h?"Creating account...":"Create account"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(Ne,{href:"/login",children:i.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Log in"})})]})]})]})})})}function w$(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function j$(){const[t,e]=v.useState(""),[r,n]=v.useState(null),[,o]=Hn(),l=c=>{if(c.preventDefault(),!w$(t)){n("Enter the email address linked to your account.");return}n(null),o("/forgot-password/confirmation")};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Reset access"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Forgotten your password? Let's get you back to your projects."}),i.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Enter the email you use for Glass and we'll send a reset link. You'll see confirmation details on the next screen."}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Remembered it?"}),i.jsx("p",{className:"mt-1",children:"Jump back to sign in and continue exploring the portfolio."}),i.jsx(Ne,{href:"/login",children:i.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[i.jsxs("form",{className:"space-y-5",onSubmit:l,noValidate:!0,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:`mt-2 w-full rounded-full border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary ${r?"border-destructive":"border-border"}`,value:t,onChange:c=>e(c.target.value),placeholder:"you@example.org","aria-invalid":!!r,"aria-describedby":r?"reset-email-error":void 0}),r?i.jsx("p",{id:"reset-email-error",className:"mt-2 text-sm text-destructive",children:r}):null]}),i.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Send reset link"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Prefer to try again later?"," ",i.jsx(Ne,{href:"/login",children:i.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Back to login"})})]})]})]})})})}function N$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-border bg-card/90 p-10 text-center shadow-lg",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Check your inbox"}),i.jsx("h1",{className:"mt-6 text-3xl md:text-4xl font-semibold text-foreground",children:"Reset instructions are on their way."}),i.jsx("p",{className:"mt-4 text-sm md:text-base text-muted-foreground leading-relaxed",children:"If an account exists for the email you provided, you'll receive a message in the next few minutes. Follow the secure link to choose a new password and jump back into your Glass workspace."}),i.jsx("div",{className:"mt-8 grid gap-4",children:i.jsxs("div",{className:"rounded-2xl border border-border bg-muted/20 px-6 py-4 text-sm text-muted-foreground text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Didn't see the email?"}),i.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[i.jsx("li",{children:"Check your spam or promotions folder."}),i.jsx("li",{children:"Make sure you entered the correct address."}),i.jsx("li",{children:"Still stuck? Request another link or reach out to our team."})]})]})}),i.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[i.jsx(Ne,{href:"/login",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})}),i.jsx(Ne,{href:"/forgot-password",children:i.jsx("a",{className:"text-sm font-medium text-muted-foreground hover:text-foreground transition",children:"Send another reset link"})})]})]})})})}const J1=v.createContext(void 0);async function Nu(t,e){const{headers:r,...n}=e??{},o=await fetch(t,{...n,headers:{"Content-Type":"application/json",...r??{}}});if(!o.ok){let l="Request failed";try{const c=await o.json();c?.message&&(l=c.message)}catch{}throw new Error(l)}if(o.status!==204)return await o.json()}function S$({children:t}){const[e,r]=v.useState([]),[n,o]=v.useState(!0),[l,c]=v.useState(null),[d,h]=v.useState(!1),m=v.useCallback(async(j=!1)=>{o(!0);try{h(j);const w=await Nu(j?"/api/labs?includeHidden=true":"/api/labs"),C=j?w:w.filter(k=>k.isVisible!==!1);r(C),c(null)}catch(w){const C=w instanceof Error?w.message:"Unable to load labs";c(C)}finally{o(!1)}},[]);v.useEffect(()=>{m(d)},[m,d]);const p=v.useCallback(async j=>{const w=await Nu("/api/labs",{method:"POST",body:JSON.stringify(j)});return r(C=>{const k=[...C,w];return d?k:k.filter(E=>E.isVisible!==!1)}),w},[d]),x=v.useCallback(async(j,w)=>{const C=await Nu(`/api/labs/${j}`,{method:"PUT",body:JSON.stringify(w)});return r(k=>{const E=k.map(A=>A.id===j?C:A);return d?E:E.filter(A=>A.isVisible!==!1)}),C},[d]),b=v.useCallback(async j=>{await Nu(`/api/labs/${j}`,{method:"DELETE"}),r(w=>w.filter(C=>C.id!==j))},[]),N=v.useCallback(async(j=d)=>{await m(j)},[m,d]),_=v.useMemo(()=>({labs:e,isLoading:n,error:l,refresh:N,addLab:p,updateLab:x,removeLab:b}),[e,n,l,N,p,x,b]);return i.jsx(J1.Provider,{value:_,children:t})}function ti(){const t=v.useContext(J1);if(!t)throw new Error("useLabs must be used within a LabsProvider");return t}function _$(){const{labs:t,isLoading:e,error:r,refresh:n}=ti(),{user:o}=gr(),[l,c]=v.useState(""),[d,h]=v.useState(new Set),[m,p]=v.useState(!1),[x,b]=v.useState(!0),[N,_]=v.useState(null),[j,w]=v.useState(!1),C=v.useMemo(()=>t.filter(O=>O.isVisible!==!1),[t]),k=C.length,E=C.filter(O=>O.isVerified).length,A=v.useMemo(()=>{const O=new Set;return C.forEach(Q=>{Q.equipment.forEach(re=>O.add(re.toLowerCase()))}),O.size},[C]),L=(O,Q=1200)=>O.startsWith("data:")?O:`${O}${O.includes("?")?"&":"?"}auto=format&fit=crop&w=${Q}&q=${Q>=1600?80:75}`;v.useEffect(()=>{let O=!0;async function Q(){if(!o){h(new Set);return}try{w(!0);const{data:re}=await We.auth.getSession(),D=re.session?.access_token;if(!D){h(new Set);return}const G=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${D}`}});if(!G.ok)throw new Error("Unable to load favorites");const te=await G.json();O&&h(new Set(te.labIds??[]))}catch(re){O&&_(re.message||"Unable to load favorites")}finally{O&&w(!1)}}return Q(),()=>{O=!1}},[o?.id]);const V=async O=>{if(!o){_("Sign in to favorite labs.");return}_(null);try{const{data:Q}=await We.auth.getSession(),re=Q.session?.access_token;if(!re)throw new Error("Please sign in again.");const D=d.has(O),G=D?"DELETE":"POST",te=await fetch(`/api/labs/${O}/favorite`,{method:G,headers:{Authorization:`Bearer ${re}`}});if(!te.ok){const ke=await te.json().catch(()=>({}));throw new Error(ke?.message||"Unable to update favorite")}h(ke=>{const Ce=new Set(ke);return D?Ce.delete(O):Ce.add(O),Ce})}catch(Q){_(Q.message||"Unable to update favorite")}},H=O=>(O?.subscriptionTier??O?.subscription_tier??"base").toLowerCase(),Z=v.useMemo(()=>{const O=l.trim().toLowerCase();let Q=O?C.filter(re=>[re.name,re.location,re.equipment.join(" "),re.focusAreas.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(O)):C;return x&&(Q=Q.filter(re=>{const D=re.isVerified===!0||re.isVerified==="true"||re.isVerified===1,G=H(re);return D||!D&&G!=="base"})),m&&(Q=Q.filter(re=>d.has(re.id))),[...Q].sort((re,D)=>{const G=H(re)==="premier",te=H(D)==="premier";return G===te?0:G?-1:1})},[C,l,m,d,x]);return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Partner Labs"}),i.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold leading-tight",children:"Rent bench space inside vetted labs aligned with Glass."}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:"Each partner lab lists core equipment, focus areas, and compliance posture so your team can spin up work quickly with the right infrastructure in place."})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-10 flex flex-wrap items-start gap-4 md:gap-6",children:[i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:i.jsx("div",{className:"flex items-center gap-3 justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Network size"}),i.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[k," labs"]}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Vetted partners with GLASS-Connect alignment."})]})})}),i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:i.jsx("div",{className:"flex items-center gap-3 justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Verified labs"}),i.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[E," verified"]}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Completed verification to boost trust and routing."})]})})})]}),i.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["Across the network you'll find ",A,"+ distinct pieces of specialized equipment, supporting a broad range of wet lab, fabrication, and analytics workflows."]}),i.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",k," labs"]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[i.jsxs("div",{className:"relative w-full sm:w-80",children:[i.jsx("input",{type:"search",value:l,onChange:O=>c(O.target.value),placeholder:"Search labs by name or location",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx(Ws,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),o&&i.jsx("button",{type:"button",onClick:()=>p(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${m?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,disabled:j,children:m?"Showing favorites":"Show favorites"}),i.jsxs("button",{type:"button",onClick:()=>b(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${x?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,children:[i.jsx(Tn,{className:"h-4 w-4"}),x?"GLASS verified only":"Include unverified"]})]})]}),N&&i.jsx("p",{className:"mt-2 text-xs text-destructive",children:N}),r&&i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[i.jsx("span",{children:r}),i.jsx("button",{type:"button",onClick:n,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.3em]",children:"Retry"})]}),i.jsx("div",{className:"mt-12",children:e&&t.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"Loading labs"}):t.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:r?"We couldn't load the lab directory. Please retry.":"No partner labs are available yet. Check back soon."}):Z.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"No labs match that search. Try a different name, city, or equipment keyword."}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:Z.map((O,Q)=>{const D=(O.subscriptionTier??O.subscription_tier??"base").toLowerCase(),G=["premier","custom"].includes(D),te=O.isVerified?"verified":D==="base"?"unverified":"pending",ke=["true","1",!0,1].includes(O.offersLabSpace),Ce=te==="verified"?"bg-emerald-50 text-emerald-700":te==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",ne=te==="verified"?"Verified":te==="pending"?"Verification pending":"Unverified";return i.jsxs(Ye.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*(Q%3)},className:`flex h-full flex-col rounded-3xl border ${G?"border-2 border-primary/80 shadow-lg":"border-border"} bg-card/80 p-8`,children:[O.photos.length>0&&i.jsx("div",{className:"mb-6 overflow-hidden rounded-2xl border border-border/60 bg-background/40",children:i.jsx("img",{src:L(O.photos[0].url),alt:`${O.name} preview - ${O.photos[0].name}`,className:"h-48 w-full object-cover",loading:"lazy"})}),i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(O.logoUrl||["premier","custom"].includes(D))&&i.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:O.logoUrl?i.jsx("img",{src:O.logoUrl,alt:`${O.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-foreground",children:O.name}),i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ws,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:O.location})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${Ce}`,children:te==="verified"?i.jsxs(i.Fragment,{children:[i.jsx(hd,{className:"h-3.5 w-3.5"}),ne]}):te==="pending"?i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),ne]}):i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),ne]})}),i.jsx("button",{type:"button",onClick:()=>V(O.id),className:`inline-flex h-8 w-8 items-center justify-center rounded-full border transition ${d.has(O.id)?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":d.has(O.id)?"Unfavorite lab":"Favorite lab",disabled:j,children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:d.has(O.id)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),ke&&i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-[11px] font-medium bg-primary/10 text-primary",children:"Offers lab space"})]})]}),i.jsxs("div",{className:"mt-5 grid gap-4",children:[O.focusAreas.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Focus"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.focusAreas.slice(0,3).map(X=>i.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:X},X))})]}),O.equipment.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Equipment"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-muted-foreground",children:O.equipment.slice(0,3).map(X=>i.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1",children:X},X))})]}),O.photos.length>1&&i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",children:[i.jsx(Nj,{className:"h-3.5 w-3.5 text-primary"}),O.photos.length," photos provided"]})})]}),i.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[i.jsx(Ne,{href:`/labs/${O.id}`,children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"View details"})}),i.jsx("a",{href:`mailto:${O.contactEmail}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact lab"})]})]},O.id)})})})]})})}function k$(){return i.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms of Use"}),i.jsx("p",{children:"Welcome to GLASS-Connect. By accessing or using our website, you agree to the following terms and conditions. Please read them carefully."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),i.jsx("p",{children:"By using Glass, you agree to comply with and be legally bound by these Terms of Use."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of the Platform"}),i.jsx("p",{children:"Our platform is currently a read-only landing site without payment processing or user accounts. You may browse the site and access publicly available information."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Intellectual Property"}),i.jsx("p",{children:"All content, logos, and trademarks on this site are the property of Glass unless otherwise stated."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),i.jsxs("p",{children:["If you have any questions, contact us at ",i.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),i.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function C$(){return i.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),i.jsx("p",{children:"This Privacy Policy describes how GLASS-Connect collects and uses information through our website."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Data We Collect"}),i.jsx("p",{children:"We collect information you submit through our contact form (name, email, and message). We do not use cookies or tracking technologies."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of Information"}),i.jsx("p",{children:"Your information is used only to respond to inquiries. We do not share it with third parties unless legally required."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Your Rights"}),i.jsx("p",{children:"In accordance with the GDPR, you have the right to access, correct, or delete your personal data by contacting us."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),i.jsxs("p",{children:["For privacy concerns, contact ",i.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),i.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function E$(){return i.jsxs("div",{className:"pt-32 px-4",children:[i.jsx("p",{className:"text-center text-lg mb-6",children:"Join our waitlist today and be among the first to access Glass. By signing up, youll receive early updates and exclusive platform news."}),i.jsx(Ed,{})]})}const T$=[{title:"GLASS-Connect Overview",description:"A concise overview of GLASS-Connect, our mission, and how the platform helps labs share capabilities and connect with collaborators.",file:"/OnePageIntroduction.pdf"}];function P$(){return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-16",children:[i.jsx(Ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-bold text-center mb-10",children:"Glass One-Pagers"}),i.jsx(Ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"max-w-3xl mx-auto text-center text-muted-foreground mb-16",children:"Explore shareable one-pagers that highlight GLASS-Connect and our approach to connecting labs with collaborators."}),i.jsx("div",{className:"space-y-12",children:T$.map((t,e)=>i.jsxs(Ye.article,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:e*.1},className:"bg-card border rounded-2xl shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-8 space-y-4",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-semibold",children:t.title}),i.jsx("p",{className:"text-muted-foreground text-lg",children:t.description}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-full bg-primary px-6 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:"View PDF"}),i.jsx("a",{href:t.file,download:!0,className:"inline-flex items-center justify-center rounded-full border border-input px-6 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",children:"Download"})]})]}),i.jsx("div",{className:"border-t border-border bg-muted/40",children:i.jsx("object",{data:t.file,type:"application/pdf",className:"hidden w-full md:block lg:h-[720px] md:h-[640px]",children:i.jsxs("p",{className:"p-6 text-muted-foreground",children:["Your browser is unable to display the PDF. You can still"," ",i.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"underline",children:"open the document in a new tab"})," ","or download it for offline viewing."]})})})]},t.title))})]})})}const A$=[{title:"Phase 0  Foundation",copy:"Build the core GLASS-Connect directory with structured lab profiles, capability tags, and ownership so every listing stays accurate."},{title:"Phase 1  Verified Profiles",copy:"Launch remote/on-site verification, richer filtering (methods, equipment, availability), and clearer contact preferences for each lab."},{title:"Phase 2  Requests & Routing",copy:"Add scoped request forms, calendar-aware introductions, and response SLAs so collaborators hear back quickly from the right contact."},{title:"Phase 3  Integrations & API",copy:"Ship export/API access for operators, light CRM hooks, and data freshness signals so networks can keep many labs current with less effort."}],R$=[{title:"Network search",copy:"Tagging, filtering, and sorting improvements for labs across institutions and partners."},{title:"Profile polish",copy:"Cleaner capability blocks, equipment highlights, and collaboration preferences visible at a glance."},{title:"Verified badge",copy:"Remote verification pilot to improve trust and reduce back-and-forth for partners."}];function O$(){return i.jsx("div",{className:"min-h-screen bg-background pt-32 pb-32",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"max-w-3xl",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Product Roadmap"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Were building GLASS-Connect to make lab discovery and collaboration straightforward. Below is the current plan and whats already shipped to turn GLASS-Connect into the trusted hub for listing, verifying, and connecting labs."})]}),i.jsxs("div",{className:"mt-16 grid grid-cols-1 gap-12 lg:grid-cols-[minmax(0,_1.1fr)_minmax(0,_0.9fr)] lg:items-start",children:[i.jsxs("div",{className:"bg-card border border-border rounded-3xl shadow-sm p-8 lg:p-10 h-full",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Roadmap Overview"}),i.jsx("div",{className:"space-y-10 text-muted-foreground leading-relaxed",children:A$.map(t=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t.title}),i.jsx("p",{children:t.copy})]},t.title))}),i.jsxs("div",{className:"mt-10 border-t border-border pt-8",children:[i.jsx("h3",{className:"text-2xl font-semibold mb-4 text-foreground",children:"Our Long-Term Vision"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"GLASS-Connect aims to become the trusted bridge between labs and collaboratorsone place to find verified capabilities, contact real humans, and keep network data current without heavy tooling."})]})]}),i.jsxs("div",{className:"bg-card/80 border border-border rounded-3xl shadow-sm p-8",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Recent progress"}),i.jsx("div",{className:"space-y-4 text-muted-foreground",children:R$.map(t=>i.jsxs("div",{className:"rounded-2xl border border-border/70 bg-background p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.title}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed",children:t.copy})]},t.title))})]})]}),i.jsx("div",{className:"h-24"})]})})}const y0=[{id:"glass-web",name:"GLASS-Connect Directory",status:"Operational",uptime:"99.98%",lastIncident:"45 days ago",description:"Main lab-listing and discovery experience for labs and partners."},{id:"profiles",name:"Profile Edits",status:"Operational",uptime:"100%",lastIncident:"92 days ago",description:"Saving and publishing lab profile updates across the network."},{id:"routing",name:"Request Routing",status:"Degraded Performance",uptime:"99.2%",lastIncident:"Today",description:"Email and in-app handoffs for inbound collaboration requests.",note:"Delays of up to 2 hours while we upgrade the messaging queue."},{id:"workspace",name:"Operator Workspace",status:"Operational",uptime:"99.9%",lastIncident:"18 days ago",description:"Multi-lab management dashboards for network operators and admins."}],I$=[{date:"Today",severity:"minor",title:"Request routing queue delays",description:"Messages are sending successfully but slower than usual while we deploy enhanced analytics. We expect normal operation by 18:00 UTC."},{date:"May 5",severity:"maintenance",title:"Planned maintenance: Workspace exports",description:"Completed scheduled maintenance from 01:0003:00 UTC. Data exports were unavailable during this window."},{date:"Apr 17",severity:"resolved",title:"Resolved: Profile webhook retries",description:"Some partners experienced delayed webhook confirmations. The backlog was cleared within 30 minutes and no updates were lost."}];function v0(t){return t.toLowerCase().includes("degraded")?"text-amber-500":t.toLowerCase().includes("maintenance")?"text-blue-500":t.toLowerCase().includes("operational")?"text-emerald-500":"text-muted-foreground"}function L$(t){return t==="minor"?i.jsx(Ep,{className:"h-4 w-4 text-amber-500"}):t==="maintenance"?i.jsx(g2,{className:"h-4 w-4 text-blue-500"}):i.jsx(jj,{className:"h-4 w-4 text-emerald-500"})}function D$(){const t=y0.every(e=>!e.status.toLowerCase().includes("degraded"));return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-20",children:[i.jsxs("div",{className:"max-w-4xl",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"System status"}),i.jsx("h1",{className:"mt-5 text-4xl font-semibold text-foreground",children:t?"All systems are operational.":"Some services are experiencing delays."}),i.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["This page reports live availability across GLASS-Connect infrastructure. We refresh these metrics every 60 seconds. For urgent issues, reach the team at"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.demo",children:"support@glass.demo"}),"."]})]}),i.jsx("div",{className:"mt-10 grid gap-6",children:y0.map(e=>i.jsx("div",{className:"rounded-3xl border border-border bg-card/90 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(i2,{className:`h-4 w-4 ${v0(e.status)}`}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name})]}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e.description}),e.note?i.jsx("p",{className:"mt-2 rounded-2xl border border-amber-300/50 bg-amber-100/20 px-3 py-2 text-xs text-amber-700",children:e.note}):null]}),i.jsxs("div",{className:"grid gap-1 text-right text-sm text-muted-foreground",children:[i.jsx("span",{className:`font-semibold ${v0(e.status)}`,children:e.status}),i.jsxs("span",{children:["30-day uptime: ",e.uptime]}),i.jsxs("span",{children:["Last incident: ",e.lastIncident]})]})]})},e.id))}),i.jsxs("div",{className:"mt-12",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Recent updates"}),i.jsx("div",{className:"mt-4 space-y-4",children:I$.map(e=>i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.25em] text-muted-foreground",children:[L$(e.severity),i.jsx("span",{children:e.date})]}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground md:text-right",children:e.severity==="maintenance"?"Scheduled maintenance":e.severity==="minor"?"Minor":"Resolved"})]}),i.jsx("h3",{className:"mt-3 text-lg font-semibold text-foreground",children:e.title}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed",children:e.description})]},e.date+e.title))})]}),i.jsxs("div",{className:"mt-12 rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Need more detail?"}),i.jsxs("p",{className:"mt-2",children:["Follow"," ",i.jsx(Ne,{href:"/roadmap",children:i.jsx("a",{className:"text-primary hover:text-primary/80 transition",children:"our public roadmap"})})," ","for transparency on upcoming releases, or reach out to"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:ops@glass.demo",children:"ops@glass.demo"})," ","for enterprise status reports."]})]})]})})}function M$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"500 error"}),i.jsx(Ep,{className:"mt-6 h-12 w-12 text-amber-500"}),i.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Something went wrong on our side."}),i.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"We're already looking into it. Refresh the page to try again, or head back to a safe spot while we resolve the issue."}),i.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[i.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Retry"}),i.jsx(Ne,{href:"/status",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"View system status"})})]}),i.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["If the problem continues, email"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"support@glass.org"})," ","with a screenshot and we'll help out."]})]})})}function F$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Scheduled maintenance"}),i.jsx(P2,{className:"mt-6 h-12 w-12 text-primary"}),i.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"We're upgrading our systems to serve you better."}),i.jsxs("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:["The Glass platform is temporarily unavailable while we roll out new improvements. We expect to be back online by"," ",i.jsx("span",{className:"font-semibold text-foreground",children:"18:00 UTC"}),". Your data and ongoing donations are safe."]}),i.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[i.jsx(Ne,{href:"/status",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Track system status"})}),i.jsx("a",{href:"mailto:support@glass.org",className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"Contact support"})]}),i.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Need an update for your team? We'll share real-time notices on"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"https://status.glass.org",children:"status.glass.org"}),"."]})]})})}let V$=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function U$({params:t}){const{labs:e,isLoading:r}=ti(),{user:n}=gr(),[o,l]=v.useState(!1);v.useEffect(()=>{let Y=!0;async function pe(){if(!n){l(!1);return}const{data:Ht,error:ir}=await We.from("profiles").select("role").eq("user_id",n.id).maybeSingle();if(!Y)return;if(ir){l(!1);return}const Lt=Ht?.role?.toLowerCase?.()||"";l(Lt==="lab"||Lt==="admin"||Lt==="multi-lab")}return pe(),()=>{Y=!1}},[n?.id]);const c=e.find(Y=>Y.id===Number(t.id));if(r&&!c)return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-8 text-muted-foreground",children:"Loading lab"})})});if(!c)return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-8 text-muted-foreground",children:"Lab not found."})})});const d=(Y,pe=1600)=>Y.startsWith("data:")?Y:`${Y}${Y.includes("?")?"&":"?"}auto=format&fit=crop&w=${pe}&q=80`,h=c?.subscriptionTier??c?.subscription_tier??"base",m=c?.logoUrl??c?.logo_url??null,p=h.toLowerCase?.()??(typeof h=="string"?h.toLowerCase():"base"),x=c.isVerified?"verified":p==="base"?"unverified":"pending",b=c.offersLabSpace===!0||c.offersLabSpace==="true"||c.offersLabSpace===1||c.offersLabSpace==="1",N=x==="verified"?"bg-emerald-50 text-emerald-700":x==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",_=x==="verified"?"Verified by Glass":x==="pending"?"Verification pending":"Unverified",j=c.partnerLogos??[],w=c.website||null,C=c.linkedin||null,[k,E]=v.useState(!1),[A,L]=v.useState(!1),[V,H]=v.useState(null),[Z,O]=v.useState(!1),[Q,re]=v.useState(!1),[D,G]=v.useState(""),[te,ke]=v.useState(n?.email||""),[Ce,ne]=v.useState(""),[X,me]=v.useState(""),[ce,R]=v.useState(""),[ee,Ie]=v.useState(!1),[Ve,He]=v.useState(null),[$,ye]=v.useState(null),[ve,$e]=v.useState(!1),[et,sr]=v.useState(!1),[B,Se]=v.useState(null),[z,_e]=v.useState(null),[xe,ge]=v.useState({requesterName:"",requesterEmail:n?.email||"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1}),[lt,ot]=v.useState(!1),[P,F]=v.useState(!1),[K,de]=v.useState(null),[fe,ue]=v.useState(null),[be,Je]=v.useState({contactName:"",contactEmail:n?.email||"",targetLabs:c.name,collaborationFocus:"",resourcesOffered:"",desiredTimeline:"",additionalNotes:"",preferredContact:"email"}),at=async()=>{if(!n){H("Sign in to favorite labs.");return}L(!0),H(null);try{const{data:Y}=await We.auth.getSession(),pe=Y.session?.access_token;if(!pe){H("Please sign in again.");return}const Ht=k?"DELETE":"POST",ir=await fetch(`/api/labs/${c.id}/favorite`,{method:Ht,headers:{Authorization:`Bearer ${pe}`}});if(!ir.ok){const kr=await ir.json().catch(()=>({}));throw new Error(kr?.message||"Unable to update favorite")}const Lt=await ir.json();E(!!Lt?.favorited)}catch(Y){H(Y instanceof Error?Y.message:"Unable to update favorite")}finally{L(!1)}};v.useEffect(()=>{let Y=!0;async function pe(){if(!n){E(!1);return}try{const{data:Ht}=await We.auth.getSession(),ir=Ht.session?.access_token;if(!ir)return;const Lt=await fetch(`/api/labs/${c.id}/favorite`,{headers:{Authorization:`Bearer ${ir}`}});if(!Lt.ok)return;const kr=await Lt.json();Y&&E(!!kr?.favorited)}catch{}}return pe(),()=>{Y=!1}},[c.id,n?.id]),v.useEffect(()=>{if(Z)return;const Y="glass-view-session";let pe=localStorage.getItem(Y);pe||(pe=V$(),localStorage.setItem(Y,pe));const Ht=`glass-view-${c.id}`,ir=localStorage.getItem(Ht),Lt=Date.now();if(ir&&Lt-Number(ir)<3600*1e3){O(!0);return}(async()=>{try{const{data:kr}=await We.auth.getSession(),en=kr.session?.access_token;await fetch(`/api/labs/${c.id}/view`,{method:"POST",headers:{"Content-Type":"application/json",...en?{Authorization:`Bearer ${en}`}:{}},body:JSON.stringify({labId:c.id,sessionId:pe,referrer:document.referrer||null})}),localStorage.setItem(Ht,String(Lt)),O(!0)}catch{}})()},[c.id,Z]);const Ut=async()=>{if(!xe.requesterName.trim()||!xe.requesterEmail.trim()||!xe.projectSummary.trim()){Se("Name, email, and project summary are required.");return}sr(!0),Se(null),_e(null);try{const Y=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...xe,labId:c.id,labName:c.name})});if(!Y.ok){const pe=await Y.text();throw new Error(pe||"Unable to submit request")}_e("Sent! The lab and our team have been notified."),ge(pe=>({...pe,requesterName:"",requesterEmail:n?.email||"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1})),$e(!1)}catch(Y){Se(Y?.message||"Unable to submit request")}finally{sr(!1)}},_r=async()=>{if(!be.contactName.trim()||!be.contactEmail.trim()||!be.collaborationFocus.trim()){de("Name, email, and collaboration focus are required.");return}F(!0),de(null),ue(null);try{const Y=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...be,labId:c.id,targetLabs:be.targetLabs||c.name})});if(!Y.ok){const pe=await Y.text();throw new Error(pe||"Unable to submit collaboration")}ue("Sent! We'll notify the lab team."),Je({contactName:"",contactEmail:n?.email||"",targetLabs:c.name,collaborationFocus:"",resourcesOffered:"",desiredTimeline:"",additionalNotes:"",preferredContact:"email"}),ot(!1)}catch(Y){de(Y?.message||"Unable to submit collaboration")}finally{F(!1)}},Xt=async()=>{if(!D.trim()||!te.trim()||!ce.trim()){He("Please add your name, email, and a brief message.");return}Ie(!0),He(null),ye(null);try{const Y=await fetch(`/api/labs/${c.id}/investor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:D.trim(),email:te.trim(),company:Ce.trim()||null,website:X.trim()||null,message:ce.trim()})});if(!Y.ok){const pe=await Y.text();throw new Error(pe||"Unable to send inquiry")}ye("Sent! The lab has been notified."),G(""),ke(n?.email||""),ne(""),me(""),R(""),re(!1)}catch(Y){He(Y?.message||"Unable to send inquiry")}finally{Ie(!1)}};return r&&e.length===0?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Loading lab details"}),i.jsx("p",{className:"text-muted-foreground",children:"Pulling the latest information from the lab directory."})]})}):c?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsxs(Ne,{href:"/labs",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[i.jsx(o2,{className:"h-4 w-4"}),"Back to labs"]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"mt-8 rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-10",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[i.jsx(Ws,{className:"h-3.5 w-3.5"}),c.location]}),i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${N}`,children:x==="verified"?i.jsxs(i.Fragment,{children:[i.jsx(hd,{className:"h-3.5 w-3.5"}),_]}):i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),_]})}),b&&i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground",children:[i.jsx(N2,{className:"h-3.5 w-3.5 text-primary"}),"Offers lab space"]}),i.jsx("button",{type:"button",onClick:at,disabled:A,className:`ml-auto inline-flex h-8 w-8 items-center justify-center rounded-full border transition disabled:opacity-60 disabled:cursor-not-allowed ${k?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":k?"Unfavorite lab":"Favorite lab",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:k?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[(m||p==="premier")&&i.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:m?i.jsx("img",{src:m,alt:`${c.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:c.name})]}),c.description?i.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:c.description}):i.jsxs("p",{className:"text-muted-foreground text-base leading-relaxed",children:["Review compliance, offers, and baseline expectations before requesting space. Minimum commitment:",i.jsxs("span",{className:"font-medium text-foreground",children:[" ",c.minimumStay]}),"."]}),V&&i.jsx("span",{className:"text-xs text-destructive",children:V})]}),c.photos.length>0&&i.jsx("div",{className:"mt-2 overflow-x-auto pb-2",children:i.jsx("div",{className:"flex gap-4 min-w-full",children:c.photos.map((Y,pe)=>i.jsx("div",{className:"min-w-[320px] max-w-[420px] h-64 overflow-hidden rounded-3xl border border-border/80 bg-background/40 flex-shrink-0",children:i.jsx("img",{src:d(Y.url,1200),alt:`${c.name} photo ${pe+1} - ${Y.name}`,className:"h-full w-full object-cover",loading:pe===0?"eager":"lazy"})},Y.url))})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3",children:[i.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Lab leadership"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(kj,{className:"h-4 w-4 text-primary"}),c.labManager]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(C2,{className:"h-4 w-4 text-primary"}),w||C?"Connect with the team":"Social links not provided yet"]}),(w||C)&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&i.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(v2,{className:"h-3.5 w-3.5 text-primary"}),"Website"]}),C&&i.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(_p,{className:"h-3.5 w-3.5 text-primary"}),"LinkedIn"]})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3 md:col-span-2",children:[i.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Compliance posture"}),i.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:c.compliance.map(Y=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1",children:[i.jsx(Tn,{className:"h-3.5 w-3.5 text-primary"}),Y]},Y))}),c.complianceDocs.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Supporting documents"}),i.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:c.complianceDocs.map(Y=>i.jsx("li",{children:i.jsxs("a",{href:Y.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 hover:border-primary hover:text-primary transition",children:[i.jsx(Tn,{className:"h-3.5 w-3.5 text-primary"}),Y.name]})},Y.url))})]})]})]}),b&&i.jsxs("section",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pricing & availability offers"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Labs may extend multiple engagement models; choose the approach that best matches your run plan."}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.offers.map(Y=>i.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1 text-xs font-medium text-muted-foreground",children:Y},Y))}),i.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[i.jsx(u2,{className:"h-4 w-4 text-primary"}),"Minimum stay expectation: ",i.jsx("span",{className:"font-medium text-foreground",children:c.minimumStay})]}),i.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[i.jsx(Nj,{className:"h-4 w-4 text-primary"}),c.photos.length," photo",c.photos.length===1?"":"s"," included"]})]}),i.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Focus areas"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Primary scientific domains supported by the lab team."}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.focusAreas.map(Y=>i.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:Y},Y))})]}),i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Equipment inventory"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Critical instrumentation and tooling available in this lab."}),i.jsx("div",{className:"mt-4 grid gap-2 text-sm text-muted-foreground",children:c.equipment.map(Y=>i.jsxs("div",{className:"inline-flex items-center gap-2",children:[i.jsx(l2,{className:"h-4 w-4 text-primary"}),Y]},Y))})]})]}),p==="premier"&&j.length>0&&i.jsxs("div",{className:"mt-8 rounded-2xl border border-primary/40 bg-primary/5 p-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Featured partners"}),i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:j.map((Y,pe)=>i.jsx("div",{className:"h-16 w-24 overflow-hidden rounded-xl border border-primary/40 bg-background flex-shrink-0",title:Y.name,children:i.jsx("img",{src:Y.url,alt:Y.name,className:"h-full w-full object-cover"})},`${Y.url}-${pe}`))})]}),i.jsxs("footer",{className:"flex flex-wrap gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{$e(!0),Se(null),_e(null)},className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Request lab time"}),p==="premier"&&i.jsx("button",{type:"button",onClick:()=>{re(!0),He(null),ye(null)},className:"inline-flex items-center justify-center rounded-full border border-primary/70 px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact for investment"}),o&&i.jsx("button",{type:"button",onClick:()=>{ot(!0),de(null),ue(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Collaborate"}),i.jsx(Ne,{href:"/labs",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Explore other labs"})]}),Q&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:i.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>re(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Investor inquiry"}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Reach out to ",c.name,". Well forward this to their team."]}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:D,onChange:Y=>G(Y.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:te,onChange:Y=>ke(Y.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company (optional)"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Ce,onChange:Y=>ne(Y.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Website (optional)"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:X,onChange:Y=>me(Y.target.value),placeholder:"https://example.com"})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Message"}),i.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ce,onChange:Y=>R(Y.target.value),placeholder:"Brief intro and what youre interested in."})]}),Ve&&i.jsx("p",{className:"text-sm text-destructive",children:Ve}),$&&i.jsx("p",{className:"text-sm text-emerald-600",children:$}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>re(!1),disabled:ee,children:"Cancel"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:Xt,disabled:ee,children:ee?"Sending":"Send inquiry"})]})]})]})}),ve&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl border border-border bg-card p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>$e(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Request lab time"}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Tell ",c.name," what you need. Well route this to their team."]}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.requesterName,onChange:Y=>ge(pe=>({...pe,requesterName:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.requesterEmail,onChange:Y=>ge(pe=>({...pe,requesterEmail:Y.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Organization"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.organization,onChange:Y=>ge(pe=>({...pe,organization:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Role / Title"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.roleTitle,onChange:Y=>ge(pe=>({...pe,roleTitle:Y.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Project summary"}),i.jsx("textarea",{className:"min-h-[100px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.projectSummary,onChange:Y=>ge(pe=>({...pe,projectSummary:Y.target.value})),placeholder:"What work do you want to run here?"})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timeline"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.workTimeline,onChange:Y=>ge(pe=>({...pe,workTimeline:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Weekly hours needed"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.weeklyHoursNeeded,onChange:Y=>ge(pe=>({...pe,weeklyHoursNeeded:Y.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Team size"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.teamSize,onChange:Y=>ge(pe=>({...pe,teamSize:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Equipment needs"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.equipmentNeeds,onChange:Y=>ge(pe=>({...pe,equipmentNeeds:Y.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Special requirements"}),i.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.specialRequirements,onChange:Y=>ge(pe=>({...pe,specialRequirements:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Links"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.referencesOrLinks,onChange:Y=>ge(pe=>({...pe,referencesOrLinks:Y.target.value})),placeholder:"Optional links to docs or examples"})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Verification"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.verification,onChange:Y=>ge(pe=>({...pe,verification:Y.target.value})),children:[i.jsx("option",{value:"glass_verified",children:"Glass verified"}),i.jsx("option",{value:"partner_verified",children:"Partner verified"}),i.jsx("option",{value:"unverified",children:"Unverified"})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.preferredContactMethod,onChange:Y=>ge(pe=>({...pe,preferredContactMethod:Y.target.value})),children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"video_call",children:"Video call"}),i.jsx("option",{value:"phone",children:"Phone"})]})]})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Verification proof (optional)"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.verificationProof,onChange:Y=>ge(pe=>({...pe,verificationProof:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Delivery preference"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:xe.preferredDeliveryWindow,onChange:Y=>ge(pe=>({...pe,preferredDeliveryWindow:Y.target.value})),children:[i.jsx("option",{value:"weekly_digest",children:"Weekly digest"}),i.jsx("option",{value:"biweekly_digest",children:"Bi-weekly digest"}),i.jsx("option",{value:"immediate",children:"Immediate"})]})]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:xe.agreeToReview,onChange:Y=>ge(pe=>({...pe,agreeToReview:Y.target.checked}))}),"I agree to review this request with the lab."]}),B&&i.jsx("p",{className:"text-sm text-destructive",children:B}),z&&i.jsx("p",{className:"text-sm text-emerald-600",children:z}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>$e(!1),disabled:et,children:"Cancel"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:Ut,disabled:et,children:et?"Sending":"Send request"})]})]})]})}),lt&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl border border-border bg-card p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>ot(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Collaboration inquiry"}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Share how youd like to collaborate with ",c.name,"."]}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.contactName,onChange:Y=>Je(pe=>({...pe,contactName:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.contactEmail,onChange:Y=>Je(pe=>({...pe,contactEmail:Y.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.targetLabs,onChange:Y=>Je(pe=>({...pe,targetLabs:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),i.jsx("textarea",{className:"min-h-[100px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.collaborationFocus,onChange:Y=>Je(pe=>({...pe,collaborationFocus:Y.target.value})),placeholder:"What would you like to collaborate on?"})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered"}),i.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.resourcesOffered,onChange:Y=>Je(pe=>({...pe,resourcesOffered:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timeline"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.desiredTimeline,onChange:Y=>Je(pe=>({...pe,desiredTimeline:Y.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes"}),i.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.additionalNotes,onChange:Y=>Je(pe=>({...pe,additionalNotes:Y.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:be.preferredContact,onChange:Y=>Je(pe=>({...pe,preferredContact:Y.target.value})),children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"video_call",children:"Video call"}),i.jsx("option",{value:"in_person",children:"In person"})]})]}),K&&i.jsx("p",{className:"text-sm text-destructive",children:K}),fe&&i.jsx("p",{className:"text-sm text-emerald-600",children:fe}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>ot(!1),disabled:P,children:"Cancel"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:_r,disabled:P,children:P?"Sending":"Send collaboration"})]})]})]})})]})]})}):i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),i.jsx("p",{className:"text-muted-foreground",children:"We could not find the lab you were looking for. It may have been removed or you might have followed an outdated link."}),i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Browse labs"})})]})})}const b0={requesterName:"",requesterEmail:"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1};function $$({params:t}){const{labs:e,isLoading:r}=ti(),n=Number(t.id),o=v.useMemo(()=>e.find(w=>w.id===n),[e,n]),l="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",[c,d]=v.useState(b0),[h,m]=v.useState(!1),[p,x]=v.useState(null),[b,N]=v.useState(null),_=(w,C)=>{d(k=>({...k,[w]:C}))},j=async w=>{if(w.preventDefault(),!!o){m(!0),x(null);try{const C=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,labId:o.id,labName:o.name})});if(!C.ok){const E=await C.json().catch(()=>({message:"Unable to submit"}));throw new Error(E?.message??"Unable to submit request")}const k=await C.json();N(k.id),d(b0)}catch(C){x(C instanceof Error?C.message:"Unable to submit request")}finally{m(!1)}}};return r&&!o?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[i.jsx(wm,{className:"mx-auto h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading lab details"})]})}):o?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20 max-w-4xl",children:[i.jsx(Ne,{href:`/labs/${o.id}`,children:i.jsxs("a",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[" Back to ",o.name]})}),i.jsxs(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-6 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Lab intake"}),i.jsxs("h1",{className:"mt-3 text-3xl font-semibold text-foreground",children:["Request time at ",o.name]}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Glass reviews every submission for spam or quality issues before sharing them with the lab. Approved requests are batched and delivered on the cadence you choose."})]}),i.jsxs("div",{className:"rounded-2xl border border-primary/30 bg-primary/5 px-4 py-3 text-sm text-foreground",children:[i.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Tn,{className:"h-4 w-4 text-primary"})," Help labs trust the outreach"]}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:"Share proof of prior collaboration or a partner reference so Glass can pre-screen requests before sending them."})]})]}),b?i.jsx("div",{className:"mt-8 rounded-2xl border border-emerald-200 bg-emerald-50/70 px-6 py-5 text-sm text-emerald-900",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(hd,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Request queued for review"}),i.jsxs("p",{className:"mt-1 text-emerald-900/80",children:["Your submission #",b," is pending internal moderation. We send approved requests to ",o.labManager,"on the delivery window you selected."]})]})]})}):null,p&&i.jsxs("div",{className:"mt-6 flex items-center gap-3 rounded-2xl border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[i.jsx(Ep,{className:"h-4 w-4"}),i.jsx("span",{children:p})]}),i.jsxs("form",{className:"mt-10 space-y-6",onSubmit:j,children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(Fr,{label:"Your name",required:!0,children:i.jsx("input",{type:"text",value:c.requesterName,onChange:w=>_("requesterName",w.target.value),className:l,placeholder:"Jordan Reyes",required:!0})}),i.jsx(Fr,{label:"Work email",required:!0,children:i.jsx("input",{type:"email",value:c.requesterEmail,onChange:w=>_("requesterEmail",w.target.value),className:l,placeholder:"jordan@teamglass.bio",required:!0})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(Fr,{label:"Organization / team",required:!0,children:i.jsx("input",{type:"text",value:c.organization,onChange:w=>_("organization",w.target.value),className:l,placeholder:"Atlas Applied Biology",required:!0})}),i.jsx(Fr,{label:"Role / title",required:!0,children:i.jsx("input",{type:"text",value:c.roleTitle,onChange:w=>_("roleTitle",w.target.value),className:l,placeholder:"Program Lead",required:!0})})]}),i.jsx(Fr,{label:"Project summary",description:"Help the lab understand why you need space and what success looks like.",required:!0,children:i.jsx("textarea",{value:c.projectSummary,onChange:w=>_("projectSummary",w.target.value),className:`${l} min-h-[140px]`,placeholder:"Outline your experiment goals, team, and safety posture.",required:!0})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(Fr,{label:"Desired start",required:!0,children:i.jsxs("select",{className:l,value:c.workTimeline,onChange:w=>_("workTimeline",w.target.value),required:!0,children:[i.jsx("option",{value:"",disabled:!0,children:"Select timeline"}),i.jsx("option",{value:"next_2_weeks",children:"Within 2 weeks"}),i.jsx("option",{value:"next_month",children:"Within a month"}),i.jsx("option",{value:"next_quarter",children:"Next quarter"}),i.jsx("option",{value:"flexible",children:"Flexible / exploratory"})]})}),i.jsx(Fr,{label:"Weekly hours",required:!0,children:i.jsx("input",{type:"text",className:l,value:c.weeklyHoursNeeded,onChange:w=>_("weeklyHoursNeeded",w.target.value),placeholder:"20 bench hours",required:!0})}),i.jsx(Fr,{label:"Team size",required:!0,children:i.jsx("input",{type:"text",className:l,value:c.teamSize,onChange:w=>_("teamSize",w.target.value),placeholder:"3 researchers",required:!0})})]}),i.jsx(Fr,{label:"Equipment & process needs",description:"List any instruments, cleanroom access, or SOP support you expect.",children:i.jsx("textarea",{className:`${l} min-h-[100px]`,value:c.equipmentNeeds,onChange:w=>_("equipmentNeeds",w.target.value),placeholder:"BSL-2 hood, sequencing core time, GMP-aligned QA support..."})}),i.jsx(Fr,{label:"Compliance or special requirements",description:"Share certifications, biosafety requirements, or onboarding needs.",children:i.jsx("textarea",{className:l,value:c.complianceNotes,onChange:w=>_("complianceNotes",w.target.value),placeholder:"BSL-2+ handling, cleanroom training, DEA registration..."})}),i.jsx(Fr,{label:"Special requests",description:"Optional context for lab operations, security, or scheduling.",children:i.jsx("textarea",{className:l,value:c.specialRequirements,onChange:w=>_("specialRequirements",w.target.value),placeholder:"Preferred shift, shipping logistics, storage requirements..."})}),i.jsx(Fr,{label:"References, decks, or links",children:i.jsx("textarea",{className:l,value:c.referencesOrLinks,onChange:w=>_("referencesOrLinks",w.target.value),placeholder:"Paste Notion docs, pitch decks, public updates, etc."})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Fr,{label:"Contact preferences",description:"We coordinate intros after your request is approved.",required:!0,children:[i.jsx("div",{className:"space-y-2 rounded-2xl border border-border p-3",children:[{value:"email",label:"Email digest"},{value:"video_call",label:"Schedule a call"},{value:"phone",label:"Phone call"}].map(w=>i.jsxs("label",{className:"flex items-center gap-2 text-sm text-foreground",children:[i.jsx("input",{type:"radio",name:"contact",value:w.value,checked:c.preferredContactMethod===w.value,onChange:()=>_("preferredContactMethod",w.value)}),w.label]},w.value))}),i.jsxs("select",{className:`${l} mt-3`,value:c.preferredDeliveryWindow,onChange:w=>_("preferredDeliveryWindow",w.target.value),children:[i.jsx("option",{value:"weekly_digest",children:"Send with the weekly digest"}),i.jsx("option",{value:"biweekly_digest",children:"Hold for bi-weekly summary"}),i.jsx("option",{value:"immediate",children:"Send immediately after review"})]})]}),i.jsx(Fr,{label:"References or proof of work",description:"Share anything that helps the lab trust your request (optional).",children:i.jsx("input",{type:"text",className:l,value:c.verificationProof,onChange:w=>_("verificationProof",w.target.value),placeholder:"Link to a deck, partner reference, or update thread"})})]}),i.jsxs("label",{className:"flex items-start gap-3 rounded-2xl border border-border p-4 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",checked:c.agreeToReview,onChange:w=>_("agreeToReview",w.target.checked)}),i.jsxs("span",{children:["I agree that Glass can review this submission for spam and will only send it to ",o.name," once it passes moderation."]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:[h&&i.jsx(wm,{className:"h-4 w-4 animate-spin"}),"Submit request"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We queue requests once a week (or on demand if you selected immediate delivery)."})]})]})]})]})}):i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),i.jsx("p",{className:"text-muted-foreground",children:"The lab you selected doesnt exist or has been removed. Head back to the directory to choose another partner."}),i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Browse labs"})})]})})}function Fr({label:t,description:e,required:r,children:n}){return i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:i.jsxs("span",{children:[t,r?" *":""]})}),e?i.jsx("p",{className:"text-xs text-muted-foreground",children:e}):null,n]})}function B$({params:t}){const e=Number(t.id),{labs:r}=ti(),n=r.find(Q=>Q.id===e),{user:o}=gr(),[l,c]=v.useState(""),[d,h]=v.useState(""),[m,p]=v.useState(""),[x,b]=v.useState(""),[N,_]=v.useState(""),[j,w]=v.useState(""),[C,k]=v.useState(""),[E,A]=v.useState("email"),[L,V]=v.useState(null),[H,Z]=v.useState(!1);v.useEffect(()=>{n&&!m&&p(n.name)},[n]),v.useEffect(()=>{o?.email&&!d&&h(o.email);const Q=o?.user_metadata?.display_name||o?.user_metadata?.full_name||o?.user_metadata?.name||"";Q&&!l&&c(Q)},[o?.email,o?.user_metadata,d,l]);const O=async Q=>{Q.preventDefault(),Z(!0),V(null);try{const re={labId:e,contactName:l.trim(),contactEmail:d.trim(),targetLabs:m.trim(),collaborationFocus:x.trim(),resourcesOffered:N.trim(),desiredTimeline:j.trim(),additionalNotes:C.trim(),preferredContact:E},D=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!D.ok){const G=(await D.json().catch(()=>({})))?.message||"Submission failed";throw new Error(G)}V("Submitted. We'll notify the lab team."),c(""),h(""),p(""),b(""),_(""),w(""),k(""),A("email")}catch(re){V(re instanceof Error?re.message:"Submission failed")}finally{Z(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 max-w-2xl",children:[i.jsx(Ne,{href:`/labs/${e}`,className:"text-sm text-muted-foreground hover:text-primary",children:"Back to lab"}),i.jsx("h1",{className:"mt-4 text-2xl font-semibold text-foreground",children:"Propose a collaboration"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:n?i.jsxs(i.Fragment,{children:["Youre collaborating with ",i.jsx("span",{className:"font-medium text-foreground",children:n.name}),"."]}):i.jsx(i.Fragment,{children:"Share a brief overview so the lab can assess fit quickly."})}),i.jsxs("form",{className:"mt-6 grid gap-4",onSubmit:O,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:l,onChange:Q=>c(Q.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:d,onChange:Q=>h(Q.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs (optional)"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:m,onChange:Q=>p(Q.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),i.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:x,onChange:Q=>b(Q.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered (optional)"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:N,onChange:Q=>_(Q.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Desired timeline (optional)"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:j,onChange:Q=>w(Q.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact method"}),i.jsxs("select",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:E,onChange:Q=>A(Q.target.value),children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"video_call",children:"Video call"}),i.jsx("option",{value:"in_person",children:"In person"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes (optional)"}),i.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:C,onChange:Q=>k(Q.target.value)})]}),L&&i.jsx("p",{className:"text-sm text-muted-foreground",children:L}),i.jsx("button",{disabled:H,className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground",children:H?"Submitting":"Submit proposal"})]})]})})}const Id=["Monthly rent","Hourly rate","Equipment use rate","Day rate"],um=kd({name:jt().min(1,"Asset name is required"),url:jt().min(1,"Asset URL is required")}),Z1=kd({name:jt().min(1,"Lab name is required"),location:jt().min(1,"Location is required"),labManager:jt().min(1,"Lab manager name is required"),contactEmail:jt().email("Valid contact email is required"),ownerUserId:jt().uuid().optional().nullable(),description:jt().max(5e3).optional().nullable(),offersLabSpace:Ei().default(!1),addressLine1:jt().min(1).optional().nullable(),addressLine2:jt().min(1).optional().nullable(),city:jt().min(1).optional().nullable(),state:jt().min(1).optional().nullable(),postalCode:jt().min(1).optional().nullable(),country:jt().min(1).optional().nullable(),siretNumber:jt().min(4).optional().nullable(),logoUrl:jt().url("Logo must be a valid URL").optional().nullable(),website:jt().url("Website must be a valid URL").optional().nullable(),linkedin:jt().url("LinkedIn must be a valid URL").optional().nullable(),partnerLogos:Vn(um).default([]),compliance:Vn(jt().min(1)).default([]),complianceDocs:Vn(um).default([]),isVerified:Ei().default(!1),isVisible:Ei().default(!0),equipment:Vn(jt().min(1)).default([]),focusAreas:Vn(jt().min(1)).default([]),offers:Vn(ap(Id)).default([]),pricePrivacy:Ei().default(!1),minimumStay:jt().optional().default(""),rating:zl().min(0).max(5).default(0),subscriptionTier:ap(["base","verified","premier"]).default("base"),photos:Vn(um).min(0),field:jt().min(1).optional().nullable()}),q$=Z1.extend({id:zl().int().positive()});Z1.partial().refine(t=>Object.keys(t).length>0,{message:"At least one field must be provided for an update"});Vn(q$);const dm={name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",description:"",offersLabSpace:"no",siretNumber:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],compliance:"",verification:"no",pricePrivacy:"no",equipment:"",focusAreas:"",offers:[],minimumStay:"",rating:"",photoUrlInput:"",complianceDocUrlInput:"",isVisible:"yes"};function z$(t){return{name:t.name,location:t.location,labManager:t.labManager,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",description:t.description||"",offersLabSpace:t.offersLabSpace?"yes":"no",siretNumber:t.siretNumber||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",country:t.country||"",website:t.website||"",linkedin:t.linkedin||"",partnerLogos:t.partnerLogos||[],compliance:t.compliance.join(", "),verification:t.isVerified?"yes":"no",pricePrivacy:t.pricePrivacy?"yes":"no",equipment:t.equipment.join(", "),focusAreas:t.focusAreas.join(", "),offers:[...t.offers],minimumStay:t.minimumStay,rating:t.rating.toString(),photoUrlInput:"",complianceDocUrlInput:"",isVisible:t.isVisible===!1?"no":"yes"}}function fm(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}function W$(t){const e=Array.from(t);return Promise.all(e.map(r=>new Promise((n,o)=>{const l=new FileReader;l.onload=()=>{if(typeof l.result!="string"){o(new Error("Unsupported file format"));return}n({name:r.name,url:l.result})},l.onerror=()=>{o(l.error??new Error("Failed to read file"))},l.readAsDataURL(r)})))}function K$(t,e,r,n){const o=t.rating.trim()===""?0:Number(t.rating);if(t.rating.trim()!==""&&(Number.isNaN(o)||o<0||o>5))throw new Error("Rating must be a number between 0 and 5");return{name:t.name.trim(),location:t.location.trim(),labManager:t.labManager.trim(),contactEmail:t.contactEmail.trim(),logoUrl:t.logoUrl.trim()||null,description:t.description.trim()||null,offersLabSpace:t.offersLabSpace==="yes",siretNumber:t.siretNumber.trim()||null,addressLine1:t.addressLine1.trim()||null,addressLine2:t.addressLine2.trim()||null,city:t.city.trim()||null,state:t.state.trim()||null,postalCode:t.postalCode.trim()||null,country:t.country.trim()||null,website:t.website.trim()||null,linkedin:t.linkedin.trim()||null,partnerLogos:n,compliance:fm(t.compliance),isVerified:t.verification==="yes",equipment:fm(t.equipment),focusAreas:fm(t.focusAreas),offers:t.offers,pricePrivacy:t.pricePrivacy==="yes",minimumStay:t.minimumStay.trim(),rating:t.rating.trim()===""?0:o,photos:e,complianceDocs:r,isVisible:t.isVisible==="yes"}}function H$(){const{labs:t,addLab:e,updateLab:r,removeLab:n,isLoading:o,error:l,refresh:c}=ti(),[d,h]=v.useState(null),[m,p]=v.useState(dm),[x,b]=v.useState(null),[N,_]=v.useState([]),[j,w]=v.useState([]),[C,k]=v.useState([]),[E,A]=v.useState(!1),[L,V]=v.useState(null),[H,Z]=v.useState(!1),[O,Q]=v.useState(null),[re,D]=v.useState("");v.useEffect(()=>{c(!0).catch(()=>{})},[c]);const G=v.useMemo(()=>{const B=re.trim().toLowerCase();return B?t.filter(Se=>[Se.name,Se.location,Se.labManager,Se.contactEmail].filter(Boolean).join(" ").toLowerCase().includes(B)):t},[t,re]),te=()=>{h("new"),p(dm),b(null),_([]),w([]),k([]),Q(null)},ke=B=>{h(B.id),p(z$(B)),b(null),_(B.photos),w(B.complianceDocs),k(B.partnerLogos||[]),Q(null)},Ce=()=>{h(null),p(dm),_([]),w([]),k([])},ne=(B,Se)=>{p(z=>({...z,[B]:Se}))},X=async B=>{try{b(null),await r(B.id,{isVisible:!(B.isVisible??!0)}),await c(!0),b({type:"success",text:`Marked ${B.name} as ${B.isVisible===!1?"visible":"hidden"}`})}catch(Se){b({type:"error",text:Se instanceof Error?Se.message:"Unable to update visibility"})}},me=B=>{p(Se=>{const z=Se.offers.includes(B)?Se.offers.filter(_e=>_e!==B):[...Se.offers,B];return{...Se,offers:z}})},ce=async B=>{const Se=B.target.files?.[0];if(Se){Q(null),Z(!0);try{const z=Se.name.split(".").pop()||"png",xe=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${z}`}`,{error:ge}=await We.storage.from("lab-logos").upload(xe,Se,{upsert:!0,contentType:Se.type});if(ge)throw ge;const{data:lt}=We.storage.from("lab-logos").getPublicUrl(xe),ot=lt.publicUrl;p(P=>({...P,logoUrl:ot})),b({type:"success",text:"Logo uploaded"})}catch(z){Q(z?.message||"Unable to upload logo")}finally{Z(!1)}}},R=async B=>{const Se=B.target.files?.[0];if(Se){b(null);try{const z=Se.name.split(".").pop()||"png",_e=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${z}`,ge=`${typeof d=="number"?`labs/${d}/partners`:"partners"}/${_e}`,{error:lt}=await We.storage.from("lab-logos").upload(ge,Se,{upsert:!0,contentType:Se.type});if(lt)throw lt;const{data:ot}=We.storage.from("lab-logos").getPublicUrl(ge),P=ot.publicUrl;k(F=>[...F,{name:Se.name,url:P}]),b({type:"success",text:"Partner logo uploaded"})}catch(z){b({type:"error",text:z?.message||"Unable to upload partner logo"})}}},ee=()=>{const B=m.photoUrlInput.trim();B&&(_(Se=>[...Se,{name:B.split("/").pop()??`Photo ${Se.length+1}`,url:B}]),p(Se=>({...Se,photoUrlInput:""})))},Ie=()=>{const B=m.complianceDocUrlInput.trim();B&&(w(Se=>[...Se,{name:B.split("/").pop()??`Document ${Se.length+1}`,url:B}]),p(Se=>({...Se,complianceDocUrlInput:""})))},Ve=async B=>{const Se=B.target.files;if(!(!Se||Se.length===0))try{const z=await W$(Se);_(_e=>[..._e,...z]),b(null)}catch(z){b({type:"error",text:z instanceof Error?z.message:"Unable to process photo uploads"})}finally{B.target.value=""}},He=async B=>{const Se=B.target.files;if(!Se||Se.length===0)return;const z=typeof d=="number"?`labs/${d}/docs`:"docs",_e=[];try{for(const xe of Array.from(Se)){const ge=xe.name.split(".").pop()||"pdf",lt=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ge}`,ot=`${z}/${lt}`,{error:P}=await We.storage.from("lab-pdfs").upload(ot,xe,{upsert:!0,contentType:xe.type});if(P)throw P;const{data:F}=We.storage.from("lab-pdfs").getPublicUrl(ot);_e.push({name:xe.name,url:F.publicUrl})}_e.length&&(w(xe=>[...xe,..._e]),b({type:"success",text:"Documents uploaded"}))}catch(xe){b({type:"error",text:xe instanceof Error?xe.message:"Unable to upload documents"})}finally{B.target.value=""}},$=B=>{_(Se=>Se.filter(z=>z.url!==B.url))},ye=B=>{w(Se=>Se.filter(z=>z.url!==B.url))},ve=B=>{k(Se=>Se.filter(z=>z.url!==B.url))},$e=()=>{if(!m.name.trim())throw new Error("Lab name is required");if(!m.location.trim())throw new Error("Location is required");if(!m.contactEmail.trim())throw new Error("Contact email is required");if(N.length===0)throw new Error("Please upload or link at least one lab photo.")},et=async B=>{B.preventDefault();try{A(!0),$e();const Se=K$(m,N,j,C);if(d==="new"){const z=await e(Se);b({type:"success",text:`Created ${z.name}`})}else typeof d=="number"&&(await r(d,Se),b({type:"success",text:"Lab details updated"}));Ce(),await c(!0)}catch(Se){b({type:"error",text:Se instanceof Error?Se.message:"Unable to save lab details"})}finally{A(!1)}},sr=async B=>{try{V(B),await n(B),d===B&&Ce(),b({type:"success",text:"Lab removed from the directory"})}catch(Se){b({type:"error",text:Se instanceof Error?Se.message:"Unable to remove lab"})}finally{V(null)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab directory"}),i.jsx("h1",{className:"mt-3 text-4xl font-semibold text-foreground",children:"Admin: manage partner labs"}),i.jsx("p",{className:"mt-2 max-w-2xl text-muted-foreground",children:"Keep the lab rental directory current by updating contacts, compliance, and equipment details. Edits go live instantly for the lab browsing experience."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"relative w-full sm:w-64",children:[i.jsx("input",{type:"search",value:re,onChange:B=>D(B.target.value),placeholder:"Search labs",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx(Ws,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),i.jsx(Ne,{href:"/lab-profile",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Lab profile guide"})}),i.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(_j,{className:"h-4 w-4"}),"Add lab"]})]})]}),x&&i.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:`mt-6 rounded-2xl border p-4 text-sm ${x.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":"border-red-300 bg-red-50 text-red-900"}`,children:x.text}),l&&i.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[i.jsx("span",{children:l}),i.jsx("button",{type:"button",onClick:c,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.2em]",children:"Retry"})]}),i.jsxs("div",{className:"mt-10 grid gap-8 lg:grid-cols-[1.05fr_1fr]",children:[i.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4",children:t.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:o?"Loading lab directory":l?"Unable to load the lab directory right now.":"No labs in the directory yet. Use Add lab to create your first listing."}):G.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:"No labs match that search."}):G.map(B=>i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:B.name}),i.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ws,{className:"h-4 w-4 text-primary"}),B.location]})]}),i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${B.isVerified?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:B.isVerified?i.jsxs(i.Fragment,{children:[i.jsx(hd,{className:"h-3.5 w-3.5"}),"Verified"]}):i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),"Pending"]})}),i.jsx("button",{type:"button",onClick:()=>X(B),className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition ${B.isVisible===!1?"bg-slate-200 text-slate-800 hover:bg-slate-300":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,title:B.isVisible===!1?"Currently hidden. Click to show.":"Currently visible. Click to hide.",children:B.isVisible===!1?"Hidden  click to show":"Visible  click to hide"})]})]}),i.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kj,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:B.labManager})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kp,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"break-all",children:B.contactEmail})]})]}),i.jsxs("dl",{className:"mt-4 grid gap-3 text-xs text-muted-foreground md:grid-cols-2",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Compliance"}),i.jsx("span",{children:B.compliance.join(", ")||""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Focus areas"}),i.jsx("span",{children:B.focusAreas.join(", ")||""})]}),i.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Equipment"}),i.jsx("span",{children:B.equipment.join(", ")||""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Minimum stay"}),i.jsx("span",{children:B.minimumStay||""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Pricing"}),i.jsx("span",{children:B.pricePrivacy?"Quotes required":"Rates published"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Photos"}),i.jsx("span",{children:B.photos.length?`${B.photos.length} supplied`:""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Compliance docs"}),i.jsx("span",{children:B.complianceDocs.length?`${B.complianceDocs.length} uploaded`:""})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsxs("button",{type:"button",onClick:()=>ke(B),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground transition hover:border-primary hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(S2,{className:"h-3.5 w-3.5"}),"Edit"]}),i.jsxs("button",{type:"button",onClick:()=>sr(B.id),disabled:L===B.id,className:"inline-flex items-center gap-2 rounded-full border border-destructive/40 px-3 py-1.5 text-xs font-medium text-destructive transition hover:bg-destructive/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-destructive disabled:cursor-not-allowed disabled:opacity-60",children:[i.jsx(E2,{className:"h-3.5 w-3.5"}),L===B.id?"Removing":"Remove"]})]})]},B.id))}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:d==="new"?"Add a lab partner":d?"Edit lab details":"Select a lab"}),d&&i.jsxs("button",{type:"button",onClick:()=>{Ce(),b(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:text-primary hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(zs,{className:"h-3.5 w-3.5"}),"Cancel"]})]}),d?i.jsxs("form",{className:"mt-6 space-y-5",onSubmit:et,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-name",children:"Lab name"}),i.jsx("input",{id:"lab-name",type:"text",value:m.name,onChange:B=>ne("name",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Atlas Applied Biology",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-location",children:"Location"}),i.jsx("input",{id:"lab-location",type:"text",value:m.location,onChange:B=>ne("location",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston, MA",required:!0})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-manager",children:"Lab manager"}),i.jsx("input",{id:"lab-manager",type:"text",value:m.labManager,onChange:B=>ne("labManager",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Naomi Chen"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-email",children:"Contact email"}),i.jsx("input",{id:"lab-email",type:"email",value:m.contactEmail,onChange:B=>ne("contactEmail",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"labs+atlas@glass.demo",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-logo",children:"Logo (stored in Supabase)"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{id:"lab-logo",type:"file",accept:"image/*",onChange:ce,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),m.logoUrl&&i.jsxs("button",{type:"button",onClick:()=>p(B=>({...B,logoUrl:""})),className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:border-destructive hover:text-destructive",children:[i.jsx(zs,{className:"h-3 w-3"}),"Remove"]})]}),H&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),O&&i.jsx("p",{className:"text-xs text-destructive",children:O}),m.logoUrl&&i.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("img",{src:m.logoUrl,alt:`${m.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),i.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:m.logoUrl})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload saves to the `lab-logos` bucket. Keep files small (e.g., 300x300)."})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom feature)"}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders."}),C.length>0&&i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:C.map(B=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[i.jsx("img",{src:B.url,alt:B.name,className:"h-10 w-10 rounded object-cover"}),i.jsx("button",{type:"button",onClick:()=>ve(B),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},B.url))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-description",children:"Lab description"}),i.jsx("textarea",{id:"lab-description",value:m.description,onChange:B=>ne("description",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Short intro to the lab (shown on Lab Details)",rows:4}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional intro that appears on the lab detail page."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-offers-space",children:"Offers lab space?"}),i.jsxs("select",{id:"lab-offers-space",value:m.offersLabSpace,onChange:B=>ne("offersLabSpace",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"yes",children:"Yes, accepting bench/space requests"}),i.jsx("option",{value:"no",children:"No, visibility only"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls whether pricing/offers show on the lab page."})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address1",children:"Address line 1 (internal)"}),i.jsx("input",{id:"lab-address1",type:"text",value:m.addressLine1,onChange:B=>ne("addressLine1",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"123 Bio Ave"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address2",children:"Address line 2 (internal)"}),i.jsx("input",{id:"lab-address2",type:"text",value:m.addressLine2,onChange:B=>ne("addressLine2",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Suite, floor, etc."})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-city",children:"City (internal)"}),i.jsx("input",{id:"lab-city",type:"text",value:m.city,onChange:B=>ne("city",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-state",children:"State/Region (internal)"}),i.jsx("input",{id:"lab-state",type:"text",value:m.state,onChange:B=>ne("state",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"MA"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-postal",children:"Postal code (internal)"}),i.jsx("input",{id:"lab-postal",type:"text",value:m.postalCode,onChange:B=>ne("postalCode",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"02118"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-country",children:"Country (internal)"}),i.jsx("input",{id:"lab-country",type:"text",value:m.country,onChange:B=>ne("country",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"United States"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-website",children:"Website (optional)"}),i.jsx("input",{id:"lab-website",type:"url",value:m.website,onChange:B=>ne("website",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://labs.example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-linkedin",children:"LinkedIn (optional)"}),i.jsx("input",{id:"lab-linkedin",type:"url",value:m.linkedin,onChange:B=>ne("linkedin",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://www.linkedin.com/company/example"})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-siret",children:"SIRET (internal)"}),i.jsx("input",{id:"lab-siret",type:"text",value:m.siretNumber,onChange:B=>ne("siretNumber",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"14-digit SIRET"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal use only; not shown publicly."})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-verification",children:"Verification status"}),i.jsxs("select",{id:"lab-verification",value:m.verification,onChange:B=>ne("verification",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"yes",children:"Verified"}),i.jsx("option",{value:"no",children:"Pending verification"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-visibility",children:"Visibility"}),i.jsxs("select",{id:"lab-visibility",value:m.isVisible,onChange:B=>ne("isVisible",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"yes",children:"Visible in directory"}),i.jsx("option",{value:"no",children:"Hidden (admin only)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-pricePrivacy",children:"Price privacy"}),i.jsxs("select",{id:"lab-pricePrivacy",value:m.pricePrivacy,onChange:B=>ne("pricePrivacy",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"no",children:"Rates published"}),i.jsx("option",{value:"yes",children:"Quotes required"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-compliance",children:"Compliance (comma separated)"}),i.jsx("input",{id:"lab-compliance",type:"text",value:m.compliance,onChange:B=>ne("compliance",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"BSL-2, ISO 7 Cleanroom"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: BSL-2, ISO 7 Cleanroom, GMP-aligned SOPs."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-complianceDocs",children:"Compliance certificates (PDF)"}),i.jsx("input",{id:"lab-complianceDocs",type:"file",accept:"application/pdf",multiple:!0,onChange:He,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploads are stored in the Supabase bucket `lab-pdfs`."}),i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:j.map(B=>i.jsxs("button",{type:"button",onClick:()=>ye(B),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 transition hover:border-destructive hover:text-destructive",children:[i.jsx(w2,{className:"h-3 w-3 text-primary"}),B.name,i.jsx(zs,{className:"h-3 w-3"})]},B.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",value:m.complianceDocUrlInput,onChange:B=>ne("complianceDocUrlInput",B.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/certificate.pdf"}),i.jsxs("button",{type:"button",onClick:Ie,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(T2,{className:"h-4 w-4"}),"Add URL"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload or link to safety certifications. These appear alongside compliance notes for researchers."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-focusAreas",children:"Focus areas (comma separated)"}),i.jsx("input",{id:"lab-focusAreas",type:"text",value:m.focusAreas,onChange:B=>ne("focusAreas",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Cell therapy, Process development"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Offers"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:Id.map(B=>i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",checked:m.offers.includes(B),onChange:()=>me(B),className:"h-4 w-4 rounded border-border text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary"}),B]},B))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-equipment",children:"Equipment (comma separated)"}),i.jsx("textarea",{id:"lab-equipment",value:m.equipment,onChange:B=>ne("equipment",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Single-use bioreactors, Cryostorage, Sequencing core",rows:3}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"List flagship instrumentation available to teams."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-minimumStay",children:"Minimum stay / commitment"}),i.jsx("input",{id:"lab-minimumStay",type:"text",value:m.minimumStay,onChange:B=>ne("minimumStay",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"20 lab hours per month"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-photos",children:"Lab photos"}),i.jsx("input",{id:"lab-photos",type:"file",accept:"image/*",multiple:!0,onChange:Ve,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:N.map(B=>i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-border",children:[i.jsx("img",{src:B.url,alt:B.name,className:"h-24 w-full object-cover"}),i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-muted-foreground bg-background/80",children:[i.jsx("span",{className:"truncate",children:B.name}),i.jsx("button",{type:"button",onClick:()=>$(B),className:"rounded-full border border-border px-2 py-0.5 text-[10px] uppercase tracking-[0.2em] transition hover:border-destructive hover:text-destructive",children:"Remove"})]})]},B.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",value:m.photoUrlInput,onChange:B=>ne("photoUrlInput",B.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/photo.jpg"}),i.jsxs("button",{type:"button",onClick:ee,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(j2,{className:"h-4 w-4"}),"Add URL"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload photos directly or link to hosted images. The first photo is used for the public thumbnail."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[i.jsxs("button",{type:"submit",disabled:E,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary disabled:opacity-60 disabled:cursor-not-allowed",children:[i.jsx(_2,{className:"h-4 w-4"}),E?"Saving":"Save changes"]}),i.jsxs("button",{type:"button",onClick:()=>{Ce(),b(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(zs,{className:"h-4 w-4"}),"Cancel"]})]})]}):i.jsx("div",{className:"mt-16 text-center text-sm text-muted-foreground",children:"Select a lab from the list or choose Add lab to create a new listing."})]})]})]})})}const G$=[{name:"Base",monthly_price:0,description:"Launch on GLASS-Connect with the essentials.",highlights:["Profile page","Equipment showcase","Inbound contact form"],featured:!1},{name:"Verified",monthly_price:99,description:"Add the badge researchers trust.",highlights:["Remote/on-site verification","Badge on listing","Priority placement"],featured:!1},{name:"Premier",monthly_price:199,description:"Flagship placement plus media support.",highlights:["Free verification","Direct collaboration management","Seminar access"],featured:!0},{name:"Custom",monthly_price:null,description:"For networks or operators managing multiple labs.",highlights:["Central billing","Dedicated partner manager","API & tooling access"],featured:!1}];function Y1(){const[t,e]=v.useState(G$),[r,n]=v.useState(!1);return v.useEffect(()=>{let o=!0;async function l(){n(!0);try{const c=await fetch("/api/pricing"),d=c.headers.get("content-type")||"";if(!c.ok||!d.includes("application/json")){await c.text();return}const h=await c.json();o&&Array.isArray(h?.tiers)&&h.tiers.length&&e(h.tiers.map(m=>({name:m.name,monthly_price:m.monthly_price===void 0?null:m.monthly_price,description:m.description,highlights:Array.isArray(m.highlights)?m.highlights:[],featured:!!m.featured})))}catch{}finally{o&&n(!1)}}return l(),()=>{o=!1}},[]),{tiers:t,loading:r}}function Q$(){const{tiers:t}=Y1();return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl space-y-6",children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.3em] text-muted-foreground",children:"GLASS-Connect pricing"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground leading-tight",children:"Simple plans to showcase your lab. No hidden fees."}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose how visible you want to be on GLASS-Connect. Switch tiers anytime; your listing stays live."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Ne,{href:"/admin/labs",children:i.jsx("a",{className:"inline-flex items-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"List your lab"})}),i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs on GLASS-Connect"})})]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-14 grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.name.toLowerCase(),n=e.name==="Custom"?`/payments?plan=${r}#custom`:`/payments?plan=${r}`,o=e.monthly_price??e.monthlyPrice,l=o===0||o==="0",c=o!=null&&!l,d=l?"Free":c?`${o}`:"Custom";return i.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${e.featured?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),i.jsxs("p",{className:"mt-3 text-4xl font-semibold text-foreground",children:[d,c&&i.jsx("span",{className:"text-base text-muted-foreground",children:" / month"})]})]}),e.featured&&i.jsx(Cp,{className:"h-6 w-6 text-primary"})]}),i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:e.description}),i.jsx("ul",{className:"mt-6 space-y-3 text-sm text-muted-foreground",children:e.highlights.map(h=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx(m2,{className:"h-4 w-4 text-primary"}),h]},h))}),e.name==="Custom"?i.jsx(Ne,{href:n,children:i.jsxs("a",{className:"mt-6 inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Talk to partnerships",i.jsx(Ch,{className:"ml-2 h-4 w-4"})]})}):i.jsx(Ne,{href:n,children:i.jsx("a",{className:"mt-6 inline-flex items-center rounded-full bg-foreground px-4 py-2 text-sm font-medium text-background transition hover:bg-foreground/90",children:"Get started"})})]},e.name)})}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-12 grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Add-ons"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification visits: 250500 depending on geography. Remote verifications are available if you already have documented SOPs."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Need ACH, wire, or invoices? Use the Custom intake on the plan details page and well send tailored options."})]}),i.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"After you subscribe"}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsx("li",{children:"Stripe emails a receipt instantly and your listing stays live as you edit."}),i.jsx("li",{children:"GLASS-Connect activates your listing within one business day and schedules verification if needed."}),i.jsx("li",{children:"Weekly Fridays: we highlight new labs and route qualified requests right to your inbox."})]}),i.jsx(Ne,{href:"/payments?plan=base",children:i.jsxs("a",{className:"inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["View plan details",i.jsx(Ch,{className:"ml-2 h-4 w-4"})]})})]})]}),i.jsxs("div",{className:"mt-12 flex flex-wrap gap-3",children:[i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs"})}),i.jsx(Ne,{href:"/admin/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage my lab profile"})}),i.jsxs("a",{href:"mailto:contact@glass-funding.com",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Contact support",i.jsx(Ch,{className:"ml-2 h-4 w-4"})]})]})]})})}function J$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28 max-w-4xl",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab profile setup"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-semibold leading-tight text-foreground",children:"Share the essentials about your lab before it appears in listings."}),i.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Lab managers can use this guide to collect everything needed for the public listing and verification badge. Once you have the details and documents ready, jump into the editor to publish or update your profile."})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-12 grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(p2,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"What to prepare"})]}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[i.jsx("li",{children:"Core lab details: location, lab manager, contact email, and equipment list."}),i.jsx("li",{children:"Focus areas and booking offers (monthly, hourly, day rates, or equipment-only access)."}),i.jsx("li",{children:"Minimum stay expectations and any special onboarding notes for new teams."})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(x2,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Upload requirements"})]}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[i.jsx("li",{children:"High-quality photos of the facility and key equipment (at least one required)."}),i.jsx("li",{children:"Optional hosted photo URLs if your lab already has imagery online."}),i.jsx("li",{children:"Safety/compliance certificates (PDF) to display alongside credential summaries."})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tn,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Verification badge checklist"})]}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"After you submit your profile, Glass coordinates a location-based site visit. A representative will confirm the equipment, access controls, and safety documentation on file. Keep digital copies handy for the visit and make sure the listed contact can host the walkthrough."}),i.jsx("div",{className:"mt-4 rounded-2xl border border-border bg-background/60 p-5 text-sm text-muted-foreground",children:i.jsx("p",{children:"Remember: rental agreements, insurance coverage, and day-to-day operations stay between your team and the researchers. Glass provides the marketplace and verification layer, but does not intermediate leases or liability."})})]})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-12 flex flex-wrap gap-3",children:[i.jsx(Ne,{href:"/lab/manage",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Open lab editor"})}),i.jsx(Ne,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Review listing pricing"})}),i.jsx("a",{href:"mailto:support@glass.demo",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact the Glass team"})]})]})})}function Z$(){return E0.useSyncExternalStore(Y$,()=>!0,()=>!1)}function Y$(){return()=>{}}var $g="Avatar",[X$]=Qo($g),[eB,X1]=X$($g),ek=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[o,l]=v.useState("idle");return i.jsx(eB,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:i.jsx(Ct.span,{...n,ref:e})})});ek.displayName=$g;var tk="AvatarImage",rk=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...l}=t,c=X1(tk,r),d=tB(n,l),h=qn(m=>{o(m),c.onImageLoadingStatusChange(m)});return zn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?i.jsx(Ct.img,{...l,ref:e,src:n}):null});rk.displayName=tk;var nk="AvatarFallback",sk=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...o}=t,l=X1(nk,r),[c,d]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?i.jsx(Ct.span,{...o,ref:e}):null});sk.displayName=nk;function w0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tB(t,{referrerPolicy:e,crossOrigin:r}){const n=Z$(),o=v.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[c,d]=v.useState(()=>w0(l,t));return zn(()=>{d(w0(l,t))},[l,t]),zn(()=>{const h=x=>()=>{d(x)};if(!l)return;const m=h("loaded"),p=h("error");return l.addEventListener("load",m),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",p)}},[l,r,e]),c}var ik=ek,ok=rk,ak=sk;const Bg=v.forwardRef(({className:t,...e},r)=>i.jsx(ik,{ref:r,className:pt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bg.displayName=ik.displayName;const qg=v.forwardRef(({className:t,...e},r)=>i.jsx(ok,{ref:r,className:pt("aspect-square h-full w-full",t),...e}));qg.displayName=ok.displayName;const zg=v.forwardRef(({className:t,...e},r)=>i.jsx(ak,{ref:r,className:pt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));zg.displayName=ak.displayName;function rB(){const t="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",{user:e,loading:r,signOut:n}=gr(),[o,l]=v.useState(null),[c,d]=v.useState(!0),[h,m]=v.useState(!1),[p,x]=v.useState(null),[b,N]=v.useState(""),[_,j]=v.useState(""),[w,C]=v.useState(""),[k,E]=v.useState(""),[A,L]=v.useState(null),[V,H]=v.useState(!1);v.useEffect(()=>{async function re(){if(!e){l(null),d(!1);return}const{data:G,error:te}=await We.from("profiles").select("user_id,email,display_name,role,subscription_status,name,avatar_url,created_at,updated_at").eq("user_id",e.id).maybeSingle();te?(console.error("Error fetching profile:",te.message),l(null)):(l(G||null),G?(N(G.name??""),j(G.display_name??""),C(G.role??""),E(G.subscription_status??""),L(G.avatar_url??null)):(C("user"),E("none"))),d(!1)}r||re();const{data:D}=We.auth.onAuthStateChange((G,te)=>{te?.user?re():l(null)});return()=>{try{D?.subscription?.unsubscribe?.(),D?.unsubscribe?.()}catch{}}},[r,e?.id]);const Z=async()=>{await n()},O=async()=>{if(x(null),m(!0),!e){x("You must be logged in to save your profile."),m(!1);return}try{const re={user_id:e.id,email:e.email,name:b||null,display_name:_||null,avatar_url:A||null},{error:D}=await We.from("profiles").upsert(re,{onConflict:"user_id"});if(D)throw D;l(G=>({...G??{},...re}))}catch(re){console.error(re),x(re.message||"Failed to save profile.")}finally{m(!1)}};async function Q(re){const D=re.target.files?.[0];if(!(!D||!e)){H(!0),x(null);try{const G=D.name.split(".").pop()?.toLowerCase()||"png",te=`${e.id}/avatar.${G}`,{error:ke}=await We.storage.from("avatars").upload(te,D,{cacheControl:"3600",upsert:!0,contentType:D.type});if(ke)throw ke;const{data:Ce}=We.storage.from("avatars").getPublicUrl(te),ne=Ce.publicUrl;L(ne);const{error:X}=await We.from("profiles").upsert({user_id:e.id,email:e.email,avatar_url:ne},{onConflict:"user_id"});if(X)throw X}catch(G){console.error(G),x(G.message||"Failed to upload avatar.")}finally{H(!1)}}}return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"max-w-2xl space-y-4",children:[i.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Account preview"}),i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Your Glass profile"}),i.jsx("p",{className:"text-muted-foreground",children:"This page will eventually show your verified status, saved labs, requests, and billing."})]}),i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Browse labs"})})]}),i.jsxs("div",{className:"mt-12 grid gap-8 lg:grid-cols-2",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Profile Info"}),c||r?i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading profile..."}):o?i.jsxs("div",{className:"mt-4 space-y-2 text-sm text-foreground",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",o.name||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Display name:"})," ",o.display_name||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",e?.email||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Role:"})," ",o.role||w||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Subscription:"})," ",o.subscription_status||k||""]}),i.jsx("button",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",onClick:Z,children:"Sign out"})]}):i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"You are not signed in or profile not created yet."})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:o?"Edit your profile":"Create your profile"}),p&&i.jsx("p",{className:"text-sm text-destructive mt-2",children:p}),i.jsxs("form",{className:"mt-6 space-y-4",onSubmit:re=>re.preventDefault(),children:[i.jsx(vo,{label:"Avatar",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Bg,{className:"h-14 w-14",children:[i.jsx(qg,{src:A??void 0,alt:_||b||"Avatar"}),i.jsx(zg,{className:"text-base font-semibold bg-muted",children:(_||b||e?.email||"?").slice(0,2).toUpperCase()})]}),i.jsxs("label",{className:"inline-flex items-center rounded-full border px-3 py-2 text-xs font-medium cursor-pointer hover:border-primary hover:text-primary",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Q}),V?"Uploading":"Upload photo"]})]})}),i.jsx(vo,{label:"Full name",children:i.jsx("input",{className:t,value:b,onChange:re=>N(re.target.value)})}),i.jsx(vo,{label:"Display name",children:i.jsx("input",{className:t,value:_,onChange:re=>j(re.target.value)})}),i.jsx(vo,{label:"Email",children:i.jsx("input",{className:t,value:e?.email??"",disabled:!0})}),i.jsx(vo,{label:"Role",children:i.jsx("input",{className:t,value:w,disabled:!0})}),i.jsx(vo,{label:"Subscription status",children:i.jsx("input",{className:t,value:k,disabled:!0})}),i.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",onClick:O,disabled:h,children:h?"Saving...":"Save profile"})]})]})]})]})})}function vo({label:t,children:e}){return i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:t}),e]})}function nB(){const{user:t,loading:e}=gr(),{labs:r}=ti(),[n,o]=v.useState(null),[l,c]=v.useState(!0),[d,h]=v.useState(null),[m,p]=v.useState(!1),[x,b]=v.useState([]),[N,_]=v.useState(null),[j,w]=v.useState(0),[C,k]=v.useState(0),[E,A]=v.useState([]),[L,V]=v.useState(!1),[H,Z]=v.useState(!1),[O,Q]=v.useState(null),[re,D]=v.useState(null),[G,te]=v.useState(""),[ke,Ce]=v.useState(""),[ne,X]=v.useState("update"),[me,ce]=v.useState(null),[R,ee]=v.useState([]),[Ie,Ve]=v.useState(!1),[He,$]=v.useState(!0),[ye,ve]=v.useState([]),[$e,et]=v.useState(!1),[sr,B]=v.useState(null),[Se,z]=v.useState(!1),[_e,xe]=v.useState(null),[ge,lt]=v.useState(!1),[ot,P]=v.useState(null),[F,K]=v.useState(null),[de,fe]=v.useState({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""}),[ue,be]=v.useState(!1),[Je,at]=v.useState(""),[Ut,_r]=v.useState(""),[Xt,Y]=v.useState(null),[pe,Ht]=v.useState(null),[ir,Lt]=v.useState(null),[kr,en]=v.useState(!1),ri=v.useMemo(()=>n?.display_name||n?.name||t?.email||"Your Account",[n?.display_name,n?.name,t?.email]),ra=v.useMemo(()=>{const Pe=(n?.display_name||n?.name||t?.email||"?").replace(/@.*/,"").trim().split(/\s+/);return(Pe.length>=2?Pe[0][0]+Pe[1][0]:Pe[0][0]).toUpperCase()},[n?.display_name,n?.name,t?.email]);v.useEffect(()=>{async function J(){if(!t){o(null),c(!1);return}const{data:Pe,error:ut}=await We.from("profiles").select("user_id,email,display_name,name,role,subscription_status,subscription_tier,avatar_url,created_at,updated_at").eq("user_id",t.id).maybeSingle();ut?(h(ut.message),o(null)):o(Pe??null),c(!1)}e||J()},[e,t?.id]),v.useEffect(()=>{async function J(){if(!t){b([]);return}p(!0);try{const{data:Pe}=await We.auth.getSession(),ut=Pe.session?.access_token,mt=ut?{Authorization:`Bearer ${ut}`}:{},vt=await fetch("/api/my-labs/analytics",{headers:mt});if(vt.ok){const or=await vt.json();b(or?.labs??[]),_(null)}else{const or=await vt.text();_(or||"Unable to load analytics")}try{const or=await fetch("/api/my-labs/requests",{headers:mt}),tn=or.headers.get("content-type")||"";if(or.ok&&tn.includes("application/json")){const Ur=await or.json();w(Array.isArray(Ur?.collaborations)?Ur.collaborations.length:0),k(Array.isArray(Ur?.contacts)?Ur.contacts.length:0)}}catch{}try{const or=await fetch("/api/favorites",{headers:mt}),tn=or.headers.get("content-type")||"";if(or.ok&&tn.includes("application/json")){const Ur=await or.json(),Jl=Array.isArray(Ur?.labIds)?Ur.labIds:[];A(Jl.map(Ui=>Number(Ui)).filter(Ui=>!Number.isNaN(Ui)))}}catch{}}catch(Pe){_(Pe.message||"Unable to load dashboard data")}finally{p(!1)}}e||J()},[e,t?.id]);const Gn=(()=>{const J=n?.subscription_tier?.toLowerCase?.()??"base";return J==="premier"?"Premier":J==="verified"?"Verified":J==="custom"?"Custom":"Base"})();x.filter(J=>J.isVisible!==!1).length;const Qn=x.filter(J=>J.isVisible===!1).length,Wl=x.filter(J=>(J.subscriptionTier||"").toLowerCase()==="premier"),Kl=x.reduce((J,Pe)=>J+(Pe.views7d||0),0),Hl=x.reduce((J,Pe)=>J+(Pe.views30d||0),0),Gl=x.reduce((J,Pe)=>J+(Pe.favorites||0),0),ni=x.reduce((J,Pe)=>Pe.views30d>(J?.views30d??-1)?Pe:J,x.length?x[0]:null),ms=x.reduce((J,Pe)=>Pe.favorites>(J?.favorites??-1)?Pe:J,x.length?x[0]:null),Ql=E.length?r.filter(J=>E.includes(J.id)):[],ps=n&&(n.role==="admin"||n.role==="multi-lab"||Wl.length>0),na=ps,gs=J=>{const Pe=x.find(vt=>vt.id===J);if(Pe&&Pe.isVerified!==void 0){const vt=Pe.isVerified;return vt===!0||vt==="true"||vt===1||vt==="1"}const ut=r.find(vt=>vt.id===J),mt=ut?.isVerified??ut?.is_verified;return mt===!0||mt==="true"||mt===1||mt==="1"},Fi=v.useMemo(()=>x.filter(J=>(J.subscriptionTier||"").toLowerCase()==="premier"),[x]),xs=v.useMemo(()=>r.filter(J=>J.ownerUserId===t?.id||J.owner_user_id===t?.id||x.some(Pe=>Pe.id===J.id)),[r,x,t?.id]),ys=v.useMemo(()=>xs.filter(J=>!gs(J.id)),[xs]);v.useEffect(()=>{Fi.length&&!me&&ce(Fi[0].id)},[Fi,me]);async function Vi(J){if(!(!J||!J.length)){Q(null),Ve(!0);try{const Pe=Array.from(J).slice(0,4-R.length),ut=[];for(const mt of Pe){const vt=mt.name.replace(/\s+/g,"-").toLowerCase(),or=`news/${t?.id??"anon"}/${Date.now()}-${vt}`,{error:tn}=await We.storage.from("lab-news").upload(or,mt,{upsert:!0,contentType:mt.type});if(tn)throw tn;const{data:Ur}=We.storage.from("lab-news").getPublicUrl(or);Ur?.publicUrl&&ut.push({url:Ur.publicUrl,name:mt.name})}ee(mt=>[...mt,...ut].slice(0,4))}catch(Pe){Q(Pe?.message||"Unable to upload photos")}finally{Ve(!1)}}}async function sa(){if(!me){Q("Select a lab to post this update.");return}if(!G.trim()||!ke.trim()){Q("Title and summary are required.");return}Z(!0),Q(null),D(null);try{const{data:J}=await We.auth.getSession(),Pe=J.session?.access_token,ut={"Content-Type":"application/json",...Pe?{Authorization:`Bearer ${Pe}`}:{}},mt=await fetch("/api/news",{method:"POST",headers:ut,body:JSON.stringify({labId:me,title:G.trim(),summary:ke.trim(),category:ne,images:R,authorId:t?.id??null})});if(!mt.ok){const vt=await mt.text();throw new Error(vt||"Unable to post news")}D("Sent! We'll review and publish it soon."),te(""),Ce(""),ee([]),V(!1)}catch(J){Q(J?.message||"Unable to post news")}finally{Z(!1)}}async function Ld(){if(!_e){P("Select a lab to verify.");return}if(gs(_e)){lt(!1),P("This lab is already verified by GLASS."),typeof window<"u"&&alert("This lab is already verified by GLASS.");return}lt(!0),P(null),K(null);try{const{data:J}=await We.auth.getSession(),Pe=J.session?.access_token,ut={"Content-Type":"application/json",...Pe?{Authorization:`Bearer ${Pe}`}:{}},mt=await fetch("/api/verification-requests",{method:"POST",headers:ut,body:JSON.stringify({labId:_e,...de})});if(!mt.ok){const vt=await mt.text();throw new Error(vt||"Unable to submit verification request")}K("Request received! We will reach out to schedule verification (additional cost applies)."),z(!1),fe({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""})}catch(J){P(J?.message||"Unable to submit verification request")}finally{lt(!1)}}return v.useEffect(()=>{async function J(){if(t){et(!0),B(null);try{const{data:Pe}=await We.auth.getSession(),ut=Pe.session?.access_token,mt=ut?{Authorization:`Bearer ${ut}`}:{},vt=await fetch("/api/news/mine",{headers:mt}),or=vt.headers.get("content-type")||"";if(!vt.ok||!or.includes("application/json"))throw await vt.text(),new Error("Unable to load news");const tn=await vt.json();ve(Array.isArray(tn?.news)?tn.news:[])}catch(Pe){B(Pe?.message||"Unable to load news"),ve([])}finally{et(!1)}}}e||J()},[e,t?.id]),i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Bg,{className:"h-14 w-14",children:[i.jsx(qg,{src:n?.avatar_url??void 0,alt:ri}),i.jsx(zg,{className:"text-base font-semibold bg-gradient-to-br from-indigo-500/20 to-pink-500/20 text-foreground",children:ra})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:ri}),i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:Gn})]}),i.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Your Glass profile overview."})]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx(Ne,{href:"/account/edit",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Edit account"}),n&&n.role!=="user"&&i.jsx(Ne,{href:"/requests",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Requests"}),n&&(n.role==="lab"||n.role==="admin"||n.role==="multi-lab")&&i.jsx(Ne,{href:"/lab/manage",className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage lab"}),n&&n.role==="admin"&&i.jsx(Ne,{href:"/admin/labs",className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10",children:"Admin labs"}),ys.length>0&&i.jsx("button",{type:"button",onClick:()=>{xe(ys[0]?.id??null),z(!0),P(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Get Verified by GLASS"}),i.jsxs(Ne,{href:"/favorites",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:[i.jsx("span",{className:"mr-2 flex h-7 w-7 items-center justify-center rounded-full border border-border text-muted-foreground",children:""}),"Favorites (",Ql.length,")"]}),i.jsx(Ne,{href:"/subscriptions",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Change plan"}),n&&(n.role==="lab"||n.role==="multi-lab"||n.role==="admin")&&i.jsx("button",{type:"button",onClick:()=>{be(!0),Ht(null),Lt(null),Y(x[0]?.id??null)},className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Legal assistance"})]})]}),L&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>V(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Post a lab update"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"For premier/custom labs. Well review and feature these on the main page."}),i.jsxs("div",{className:"mt-4 grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),i.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:me??"",onChange:J=>ce(Number(J.target.value)),children:Fi.map(J=>i.jsx("option",{value:J.id,children:J.name},J.id))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Title"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"New equipment, collaboration call, milestone",value:G,onChange:J=>te(J.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Summary"}),i.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Quick blurb for the homepage ticker.",value:ke,onChange:J=>Ce(J.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Category"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ne,onChange:J=>X(J.target.value),children:[i.jsx("option",{value:"update",children:"Update"}),i.jsx("option",{value:"equipment",children:"New equipment"}),i.jsx("option",{value:"project",children:"New project"}),i.jsx("option",{value:"collaboration",children:"Collaboration request"}),i.jsx("option",{value:"announcement",children:"Announcement"})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Photos (up to 4)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(J=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[160px] truncate",children:J.name}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>ee(Pe=>Pe.filter(ut=>ut.url!==J.url)),children:"Remove"})]},J.url))}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3",children:[i.jsx("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Upload photos"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:async J=>{await Vi(J.target.files),J.target&&(J.target.value="")},disabled:R.length>=4||Ie})]}),Ie&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Uploading"})]})]}),O&&i.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:O}),re&&i.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:re}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>V(!1),disabled:H,children:"Cancel"}),i.jsx("button",{type:"button",onClick:sa,disabled:H,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:H?"Sending":"Send update"})]})]})]})}),Se&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>z(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Get verified by GLASS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification includes an on-site visit and carries an additional cost. Choose a lab and provide an address if missing."}),i.jsxs("div",{className:"mt-4 grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),i.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:_e??"",onChange:J=>xe(Number(J.target.value)),children:ys.map(J=>i.jsx("option",{value:J.id,children:J.name},J.id))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 1"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Street address",value:de.addressLine1,onChange:J=>fe(Pe=>({...Pe,addressLine1:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 2"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Suite / Unit (optional)",value:de.addressLine2,onChange:J=>fe(Pe=>({...Pe,addressLine2:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.city,onChange:J=>fe(Pe=>({...Pe,city:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"State/Region"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.state,onChange:J=>fe(Pe=>({...Pe,state:J.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Postal code"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.postalCode,onChange:J=>fe(Pe=>({...Pe,postalCode:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Country"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de.country,onChange:J=>fe(Pe=>({...Pe,country:J.target.value}))})]})]}),ot&&i.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:ot}),F&&i.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:F}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>z(!1),disabled:ge,children:"Cancel"}),i.jsx("button",{type:"button",onClick:Ld,disabled:ge,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:ge?"Sending":"Submit request"})]})]})]})}),ue&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>be(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Connect with legal support"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Well connect you with our legal expert for contract help."}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Topic"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Je,onChange:J=>at(J.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Details"}),i.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Ut,onChange:J=>_r(J.target.value),placeholder:"Share context and any timelines."})]}),x.length>0&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Related lab"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Xt??"",onChange:J=>Y(Number(J.target.value)),children:[i.jsx("option",{value:"",children:"Select lab (optional)"}),x.map(J=>i.jsx("option",{value:J.id,children:J.name},J.id))]})]}),pe&&i.jsx("p",{className:"text-sm text-destructive",children:pe}),ir&&i.jsx("p",{className:"text-sm text-emerald-600",children:ir}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>be(!1),disabled:kr,children:"Cancel"}),i.jsx("button",{type:"button",onClick:async()=>{if(!Je.trim()||!Ut.trim()){Ht("Topic and details are required.");return}en(!0),Ht(null),Lt(null);try{const J=await fetch("/api/legal-assist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:Je.trim(),details:Ut.trim(),labId:Xt||void 0,name:ri,email:n?.email||t?.email||""})});if(!J.ok){const Pe=await J.text();throw new Error(Pe||"Unable to send request")}Lt("Sent! Well connect you with our legal contact shortly."),at(""),_r(""),Y(x[0]?.id??null),be(!1)}catch(J){Ht(J?.message||"Unable to send request")}finally{en(!1)}},className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",disabled:kr,children:kr?"Sending":"Send"})]})]})]})}),na&&i.jsxs("div",{className:"mt-10 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[i.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent updates from your labs"})]})}),$e&&i.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),sr&&i.jsxs("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:[sr,". You can still post a new update below."]}),!$e&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-4 min-w-full",children:[i.jsxs("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground mb-1",children:"Share an update"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Post equipment arrivals, collaborations, or milestones."})]}),i.jsx("button",{type:"button",onClick:()=>{V(!0),Q(null)},className:"mt-3 inline-flex items-center justify-center rounded-full bg-primary px-3 py-2 text-xs font-medium text-primary-foreground transition hover:bg-primary/90",children:"Create post"})]}),ye.length>0&&ye.map(J=>{const Pe=J.labs?.name||`Lab ${J.lab_id}`,ut=J.created_at?new Date(J.created_at).toLocaleDateString():"";return i.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[i.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:i.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:J.category||"update"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:J.title}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:J.summary})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"truncate",children:Pe}),i.jsx("span",{className:"text-[11px]",children:ut})]}),i.jsx("div",{className:"flex items-center gap-2",children:J.images?.slice(0,2).map(mt=>i.jsx("img",{src:mt.url,alt:mt.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},mt.url))})]},J.id)})]})})]}),ps&&i.jsx("div",{className:"mt-8 flex flex-col gap-6 lg:flex-row",children:i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 cursor-pointer select-none",onClick:()=>$(J=>!J),children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Dashboard"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Your activity at a glance"})]}),i.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:He?"Collapse":"Expand"})]}),He&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsx(vi,{label:"Tier",value:Gn,hint:n?.subscription_status||""}),i.jsx(vi,{label:"Labs linked",value:x.length.toString(),hint:Qn?`${Qn} hidden`:""}),i.jsx(vi,{label:"Views (7d total)",value:Kl.toString()}),i.jsx(vi,{label:"Views (30d total)",value:Hl.toString()}),i.jsx(vi,{label:"Favorites total",value:Gl.toString()}),i.jsx(vi,{label:"Collab requests",value:j.toString()}),i.jsx(vi,{label:"Rent/contact requests",value:C.toString()}),N&&i.jsx("div",{className:"col-span-full rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:N})]}),x.length>0&&i.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[ni&&i.jsx(j0,{title:"Best performing",subtitle:"Most views (30d)",primary:`${ni.views30d} views`,secondary:ni.name,badge:(ni.subscriptionTier||"").toLowerCase()==="premier"?"Premium":void 0}),ms&&i.jsx(j0,{title:"Most favorited",subtitle:"Total favorites",primary:`${ms.favorites} favorites`,secondary:ms.name,badge:(ms.subscriptionTier||"").toLowerCase()==="premier"?"Premium":void 0})]}),x.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Linked labs"}),i.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:x.map(J=>{const Pe=(J.subscriptionTier||"").toLowerCase(),ut=Pe==="premier"||Pe==="custom";return i.jsxs("div",{className:"rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:J.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[ut?"Premier/Custom":Pe||"Base","  ",J.isVisible===!1?"Hidden":"Visible"]})]}),i.jsx(Ne,{href:`/lab/manage/${J.id}`,className:"text-xs font-medium text-primary hover:underline",children:"Manage"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["7d views: ",J.views7d]}),i.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["30d views: ",J.views30d]}),i.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["Favorites: ",J.favorites]})]})]},J.id)})})]})]})]})})]})})}function vi({label:t,value:e,hint:r}){return i.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),i.jsx("p",{className:"mt-1 text-2xl font-semibold text-foreground",children:e}),r?i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:r}):null]})}function j0({title:t,subtitle:e,primary:r,secondary:n,badge:o}){return i.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),o?i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:o}):null]}),i.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:r}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n})]})}function sB(){const{user:t}=gr(),[e,r]=v.useState({labs:[],collaborations:[],contacts:[]}),[n,o]=v.useState(!0),[l,c]=v.useState(null),[d,h]=v.useState("collaboration"),[m,p]=v.useState(new Set),[x,b]=v.useState(new Set);v.useEffect(()=>{(async()=>{c(null),o(!0);try{const{data:w}=await We.auth.getSession(),C=w.session?.access_token,k=await fetch("/api/my-labs/requests",{headers:C?{Authorization:`Bearer ${C}`}:{}}),E=k.headers.get("content-type")||"";if(!k.ok||!E.includes("application/json")){const L=await k.text();throw new Error(L||"Unable to load requests")}const A=await k.json();r(A)}catch(w){c(w.message||"Unable to load requests")}finally{o(!1)}})()},[t?.id]);const N=async(w,C)=>{let k=!0;if(p(E=>{const A=new Set(E);return A.has(w)?(A.delete(w),k=!1):(A.add(w),k=!0),A}),k&&C.contact_email&&!x.has(w))try{const{data:E}=await We.auth.getSession(),A=E.session?.access_token;await fetch("/api/my-labs/requests/viewed",{method:"POST",headers:{"Content-Type":"application/json",...A?{Authorization:`Bearer ${A}`}:{}},body:JSON.stringify({contactEmail:C.contact_email,labName:C.lab_name,type:d==="collaboration"?"collaboration":"rental"})}),b(L=>{const V=new Set(L);return V.add(w),V})}catch{}},_=w=>{const C=w.id??`${w.lab_id??""}-${w.lab_name??""}-${w.contact_email??""}-${w.created_at??""}`,k=w.created_at?new Date(w.created_at).toLocaleString():null,E=m.has(C);return i.jsxs("div",{className:"rounded-2xl border border-border bg-card/70",children:[i.jsxs("button",{type:"button",onClick:()=>N(C,w),className:"flex w-full items-center justify-between gap-4 px-4 py-3 text-left hover:bg-muted/50 transition",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:w.lab_name||"Unknown lab"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_name||"Unknown contact"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[k&&i.jsx("p",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:k}),i.jsx("span",{className:"text-xs text-primary",children:E?"Hide":"View"})]})]}),E&&i.jsxs("div",{className:"border-t border-border px-4 py-4 space-y-4 text-sm text-foreground",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Contact"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_email||"No email provided"}),w.preferred_contact&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Preferred: ",w.preferred_contact==="video_call"?"Video call":w.preferred_contact==="in_person"?"In person":"Email"]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Request"}),w.collaboration_focus&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Focus:"})," ",w.collaboration_focus]}),w.desired_timeline&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Timeline:"})," ",w.desired_timeline]}),w.target_labs&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Target labs:"})," ",w.target_labs]}),w.resources_offered&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Resources offered:"})," ",w.resources_offered]})]}),w.additional_notes&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Notes"}),i.jsx("p",{children:w.additional_notes})]}),w.message&&!w.collaboration_focus&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Message"}),i.jsx("p",{children:w.message})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[w.contact_email&&i.jsx("a",{href:`mailto:${encodeURIComponent(w.contact_email)}?subject=Re:%20${encodeURIComponent(w.lab_name||"your request")}`,className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-primary hover:border-primary",children:"Reply via email"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const A=`Video call with ${w.contact_name??"contact"} (${w.contact_email})`;navigator.clipboard?.writeText(A)}},children:"Schedule call"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const A=`${w.contact_name??"Contact"} <${w.contact_email}>`;navigator.clipboard?.writeText(A)}},children:"Copy contact"})]})]})]},C)},j=d==="collaboration"?e.collaborations:e.contacts;return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsx(Ne,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Requests"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Inbox"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Collaboration or rental requests linked to your labs."})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[i.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="collaboration"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("collaboration"),children:["Collaboration (",e.collaborations.length,")"]}),i.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="contact"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("contact"),children:["Renting / contact (",e.contacts.length,")"]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-6 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:n?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests"}):l?i.jsx("p",{className:"text-sm text-destructive",children:l}):e.labs.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No labs linked to your account yet."}):j.length===0?i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",d," requests yet."]}):i.jsx("div",{className:"grid gap-3",children:j.map(_)})})]})})}function iB({params:t}){const e=Number(t?.id),{user:r}=gr(),[n,o]=v.useState(!0),[l,c]=v.useState(!1),[d,h]=v.useState(null),[m,p]=v.useState(null),[x,b]=v.useState("base"),[N,_]=v.useState(null),[j,w]=v.useState(null),[C,k]=v.useState(Number.isNaN(e)?null:e),[E,A]=v.useState(!0),[L,V]=v.useState([]),[H,Z]=v.useState(""),[O,Q]=v.useState({name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",siretNumber:"",offersLabSpace:!1,description:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],complianceTags:[],equipmentTags:[],focusTags:[],offers:[],minimumStay:"",pricePrivacy:!1}),[re,D]=v.useState(!1),[G,te]=v.useState(null),[ke,Ce]=v.useState([]),[ne,X]=v.useState({field:"complianceTags",value:""}),[me,ce]=v.useState(!1),[R,ee]=v.useState(null);v.useEffect(()=>{(async()=>{h(null),p(null);try{if(!C)throw new Error("No lab selected. Go back and choose a lab.");const{data:z}=await We.auth.getSession(),_e=z.session?.access_token;await B(C,_e)}catch(z){h(z.message||"Unable to load your lab")}finally{o(!1)}})()},[r?.id,C]);async function Ie(z){const _e=z.target.files?.[0];if(_e){te(null),D(!0);try{const xe=_e.name.split(".").pop()||"png",lt=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${xe}`}`,{error:ot}=await We.storage.from("lab-logos").upload(lt,_e,{upsert:!0,contentType:_e.type});if(ot)throw ot;const{data:P}=We.storage.from("lab-logos").getPublicUrl(lt),F=P.publicUrl;Q(K=>({...K,logoUrl:F})),p("Logo uploaded")}catch(xe){te(xe?.message||"Unable to upload logo")}finally{D(!1)}}}async function Ve(z){const _e=z.target.files?.[0];if(_e){p(null);try{const xe=_e.name.split(".").pop()||"png",ge=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${xe}`,ot=`${C?`labs/${C}/partners`:"partners"}/${ge}`,{error:P}=await We.storage.from("lab-logos").upload(ot,_e,{upsert:!0,contentType:_e.type});if(P)throw P;const{data:F}=We.storage.from("lab-logos").getPublicUrl(ot),K=F.publicUrl;Ce(de=>[...de,{name:_e.name,url:K}]),Q(de=>({...de,partnerLogos:[...de.partnerLogos,{name:_e.name,url:K}]})),p("Partner logo uploaded")}catch(xe){p(xe?.message||"Unable to upload partner logo")}}}const He=z=>{Ce(_e=>_e.filter(xe=>xe.url!==z)),Q(_e=>({..._e,partnerLogos:_e.partnerLogos.filter(xe=>xe.url!==z)}))},$=()=>{const z=H.trim();z&&(V(_e=>[..._e,{name:z.split("/").pop()??`Photo ${_e.length+1}`,url:z}]),Z(""))},ye=z=>{V(_e=>_e.filter(xe=>xe.url!==z.url))};async function ve(z){const _e=z.target.files?.[0];if(!(!_e||!C)){ee(null),ce(!0);try{const xe=_e.name.split(".").pop()||"jpg",ge=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${xe}`,lt=`labs/${C}/photos/${ge}`,{error:ot}=await We.storage.from("lab-photos").upload(lt,_e,{upsert:!0,contentType:_e.type});if(ot)throw ot;const{data:P}=We.storage.from("lab-photos").getPublicUrl(lt),F=P.publicUrl,K={name:_e.name,url:F};V(de=>[...de,K]),p("Photo uploaded")}catch(xe){ee(xe?.message||"Unable to upload photo")}finally{ce(!1),z.target&&(z.target.value="")}}}const $e=(z,_e)=>{const xe=_e.trim();xe&&Q(ge=>ge[z].includes(xe)?ge:{...ge,[z]:[...ge[z],xe]})},et=(z,_e)=>{Q(xe=>({...xe,[z]:xe[z].filter(ge=>ge!==_e)}))},sr=z=>_e=>{_e.key==="Enter"&&(_e.preventDefault(),$e(z,ne.value||_e.target.value),X({field:z,value:""}))};async function B(z,_e){try{o(!0),h(null);const xe=await fetch(`/api/my-lab/${z}`,{headers:_e?{Authorization:`Bearer ${_e}`}:{}});if(!xe.ok){const lt=await xe.text();throw new Error(lt||"Unable to load lab")}const ge=await xe.json();k(ge.id),b((ge.subscriptionTier||"base").toLowerCase()),A(ge.isVisible!==!1),Q({name:ge.name||"",location:ge.location||"",labManager:ge.labManager||"",contactEmail:ge.contactEmail||r?.email||"",logoUrl:ge.logoUrl||"",siretNumber:ge.siretNumber||"",offersLabSpace:ge.offersLabSpace??!0,description:ge.description||"",addressLine1:ge.addressLine1||"",addressLine2:ge.addressLine2||"",city:ge.city||"",state:ge.state||"",postalCode:ge.postalCode||"",country:ge.country||"",website:ge.website||"",linkedin:ge.linkedin||"",partnerLogos:ge.partnerLogos||[],complianceTags:ge.compliance||[],equipmentTags:ge.equipment||[],focusTags:ge.focusAreas||[],offers:ge.offers||[],minimumStay:ge.minimumStay||"",pricePrivacy:!!ge.pricePrivacy}),Ce(ge.partnerLogos||[]),V(ge.photos||[]),_(null),w(null);try{const lt=await fetch("/api/my-lab/analytics",{headers:_e?{Authorization:`Bearer ${_e}`}:{}});if(lt.ok){const ot=await lt.json();_({views7d:ot.views7d??0,views30d:ot.views30d??0,favorites:ot.favorites??0,recentFavorites:(ot.recentFavorites??[]).map(P=>({userId:P.userId,createdAt:P.createdAt}))})}else if(lt.status!==403){const ot=await lt.text();w(ot||"Unable to load analytics")}}catch(lt){w(lt.message||"Unable to load analytics")}}catch(xe){h(xe.message||"Unable to load your lab")}finally{o(!1)}}async function Se(){c(!0),h(null),p(null);try{const{data:z}=await We.auth.getSession(),_e=z.session?.access_token;if(!C)throw new Error("Select a lab first");const xe=await fetch(`/api/my-lab/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",..._e?{Authorization:`Bearer ${_e}`}:{}},body:JSON.stringify({name:O.name,location:O.location,labManager:O.labManager,contactEmail:O.contactEmail,logoUrl:O.logoUrl||null,siretNumber:O.siretNumber||null,offersLabSpace:O.offersLabSpace,description:O.description||null,ownerUserId:r?.id||null,addressLine1:O.addressLine1||null,addressLine2:O.addressLine2||null,city:O.city||null,state:O.state||null,postalCode:O.postalCode||null,country:O.country||null,website:O.website||null,linkedin:O.linkedin||null,photos:L,partnerLogos:O.partnerLogos,compliance:O.complianceTags,equipment:O.equipmentTags,focusAreas:O.focusTags,offers:O.offers,minimumStay:O.minimumStay,pricePrivacy:O.pricePrivacy})});if(!xe.ok){let ge="Failed to save";if((xe.headers.get("content-type")||"").includes("application/json"))try{ge=(await xe.json()).message||ge}catch{}else try{ge=await xe.text()}catch{}throw new Error(ge)}p("Saved")}catch(z){h(z.message||"Failed to save")}finally{c(!1)}}return i.jsxs("section",{className:"bg-background min-h-screen",children:[i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[i.jsx(Ne,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage my lab"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Update basic details for your lab."}),C&&E===!1&&i.jsx("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-medium text-amber-800",children:"This lab is hidden from the public directory"}),!C&&i.jsxs("p",{className:"mt-4 text-sm text-destructive",children:["No lab selected. Go back and choose a lab to manage.",i.jsx(Ne,{href:"/lab/manage",children:i.jsx("a",{className:"ml-2 underline text-primary",children:"Back to lab selection"})})]}),N&&i.jsxs("div",{className:"mt-4 rounded-2xl border border-border bg-card/70 p-4 text-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Premier / Custom analytics"}),i.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (7d)"}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.views7d})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (30d)"}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.views30d})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.favorites})]})]}),N.recentFavorites.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Recent favorites"}),i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:N.recentFavorites.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",title:new Date(z.createdAt).toLocaleString(),children:["User ",z.userId.slice(0,6)," favorited"]},`${z.userId}-${z.createdAt}`))})]}),j&&i.jsx("p",{className:"mt-2 text-xs text-destructive",children:j})]}),n?i.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading"}):d?i.jsx("p",{className:"mt-6 text-sm text-destructive",children:d}):i.jsxs(Ye.form,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-8 space-y-8",onSubmit:z=>{z.preventDefault(),Se()},children:[i.jsxs(bo,{title:"Basics",children:[i.jsx(Mt,{label:"Lab name",children:i.jsx("input",{className:"input",value:O.name,onChange:z=>Q({...O,name:z.target.value})})}),i.jsx(Mt,{label:"Location",children:i.jsx("input",{className:"input",value:O.location,onChange:z=>Q({...O,location:z.target.value})})}),i.jsx(Mt,{label:"Lab manager",children:i.jsx("input",{className:"input",value:O.labManager,onChange:z=>Q({...O,labManager:z.target.value})})}),i.jsx(Mt,{label:"Contact email",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{className:"input",value:O.contactEmail,disabled:!0}),i.jsx("span",{className:"text-muted-foreground","aria-hidden":"true",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[i.jsx("rect",{x:"5",y:"11",width:"14",height:"9",rx:"2"}),i.jsx("path",{d:"M8 11v-2a4 4 0 0 1 8 0v2"})]})})]})}),i.jsx(Mt,{label:"Lab description",children:i.jsx("textarea",{className:"input",rows:4,value:O.description,onChange:z=>Q({...O,description:z.target.value}),placeholder:"Short intro to your lab (shown on Lab Details)"})}),i.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",checked:O.offersLabSpace,onChange:z=>Q({...O,offersLabSpace:z.target.checked})}),"Offers lab space (enables pricing/offers on your page)"]})]}),i.jsxs(bo,{title:"Branding & Links",children:[(x==="premier"||x==="custom")&&i.jsx(Mt,{label:"Logo",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("label",{className:"inline-flex items-center gap-3",children:[i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",onChange:Ie,className:"hidden"})]}),O.logoUrl&&i.jsx("button",{type:"button",onClick:()=>Q({...O,logoUrl:""}),className:"rounded-full border border-border px-3 py-1 text-xs text-muted-foreground hover:border-destructive hover:text-destructive",children:"Remove"})]}),re&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),G&&i.jsx("p",{className:"text-xs text-destructive",children:G}),O.logoUrl&&i.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("img",{src:O.logoUrl,alt:`${O.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),i.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:O.logoUrl})]})]})}),x==="premier"?i.jsx(Mt,{label:"Partner logos (premier feature)",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",onChange:Ve,className:"hidden"})]})}),ke.length>0&&i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:ke.map(z=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[i.jsx("img",{src:z.url,alt:z.name,className:"h-10 w-10 rounded object-cover"}),i.jsx("button",{type:"button",onClick:()=>He(z.url),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},z.url))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders. Shown for premier labs."})]})}):i.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are available on the premier plan."}),i.jsx(Mt,{label:"Website (optional)",children:i.jsx("input",{className:"input",value:O.website,onChange:z=>Q({...O,website:z.target.value}),placeholder:"https://labs.example.com"})}),i.jsx(Mt,{label:"LinkedIn (optional)",children:i.jsx("input",{className:"input",value:O.linkedin,onChange:z=>Q({...O,linkedin:z.target.value}),placeholder:"https://www.linkedin.com/company/example"})})]}),i.jsxs(bo,{title:"Company details",children:[i.jsx(Mt,{label:"Address line 1",children:i.jsx("input",{className:"input",value:O.addressLine1,onChange:z=>Q({...O,addressLine1:z.target.value})})}),i.jsx(Mt,{label:"Address line 2",children:i.jsx("input",{className:"input",value:O.addressLine2,onChange:z=>Q({...O,addressLine2:z.target.value})})}),i.jsx(Mt,{label:"SIRET",children:i.jsx("input",{className:"input",value:O.siretNumber,onChange:z=>Q({...O,siretNumber:z.target.value})})}),i.jsx(Mt,{label:"City",children:i.jsx("input",{className:"input",value:O.city,onChange:z=>Q({...O,city:z.target.value})})}),i.jsx(Mt,{label:"State/Region",children:i.jsx("input",{className:"input",value:O.state,onChange:z=>Q({...O,state:z.target.value})})}),i.jsx(Mt,{label:"Postal code",children:i.jsx("input",{className:"input",value:O.postalCode,onChange:z=>Q({...O,postalCode:z.target.value})})}),i.jsx(Mt,{label:"Country",children:i.jsx("input",{className:"input",value:O.country,onChange:z=>Q({...O,country:z.target.value})})})]}),i.jsxs(bo,{title:"Compliance & capabilities",children:[i.jsx(Mt,{label:"Compliance",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"input",placeholder:"Add compliance and press Enter",value:ne.field==="complianceTags"?ne.value:"",onChange:z=>X({field:"complianceTags",value:z.target.value}),onKeyDown:sr("complianceTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.complianceTags.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,i.jsx("button",{type:"button",onClick:()=>et("complianceTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})}),i.jsx(Mt,{label:"Equipment",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"input",placeholder:"Add equipment and press Enter",value:ne.field==="equipmentTags"?ne.value:"",onChange:z=>X({field:"equipmentTags",value:z.target.value}),onKeyDown:sr("equipmentTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.equipmentTags.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,i.jsx("button",{type:"button",onClick:()=>et("equipmentTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})}),i.jsx(Mt,{label:"Focus areas",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"input",placeholder:"Add focus area and press Enter",value:ne.field==="focusTags"?ne.value:"",onChange:z=>X({field:"focusTags",value:z.target.value}),onKeyDown:sr("focusTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.focusTags.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,i.jsx("button",{type:"button",onClick:()=>et("focusTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})})]}),i.jsxs(bo,{title:"Photos",children:[i.jsx(Mt,{label:"Add photo",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Upload file",i.jsx("input",{type:"file",accept:"image/*",onChange:ve,className:"hidden"})]})}),i.jsxs("div",{className:"flex flex-1 gap-2",children:[i.jsx("input",{className:"input flex-1",value:H,onChange:z=>Z(z.target.value),placeholder:"https://images.example.com/photo.jpg"}),i.jsx("button",{type:"button",onClick:$,className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add"})]})]}),me&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading photo"}),R&&i.jsx("p",{className:"text-xs text-destructive",children:R})]})}),L.length>0&&i.jsx("div",{className:"flex flex-wrap gap-3",children:L.map(z=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("img",{src:z.url,alt:z.name,className:"h-14 w-20 rounded object-cover"}),i.jsx("button",{type:"button",onClick:()=>ye(z),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},z.url))})]}),i.jsxs(bo,{title:"Offers & pricing",children:[i.jsx(Mt,{label:"Offers",children:i.jsx("div",{className:"flex flex-wrap gap-3",children:Id.map(z=>i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:O.offers.includes(z),onChange:_e=>{Q(xe=>{const ge=_e.target.checked?[...xe.offers,z]:xe.offers.filter(lt=>lt!==z);return{...xe,offers:ge}})}}),z]},z))})}),i.jsx(Mt,{label:"Minimum stay",children:i.jsx("input",{className:"input",value:O.minimumStay,onChange:z=>Q({...O,minimumStay:z.target.value})})}),i.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",checked:O.pricePrivacy,onChange:z=>Q({...O,pricePrivacy:z.target.checked})}),"Pricing shared privately"]})]}),m&&i.jsx("p",{className:"text-sm text-emerald-600",children:m}),i.jsx("div",{className:"flex gap-3",children:l?i.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",disabled:!0,children:"Saving"}):i.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",type:"submit",children:"Save"})})]})]}),i.jsx("style",{children:".input{width:100%;border:1px solid var(--border);background:var(--background);padding:.5rem .75rem;border-radius:12px;}"})]})}function bo({title:t,children:e}){return i.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-5 space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:t}),i.jsx("div",{className:"grid gap-4",children:e})]})}function Mt({label:t,children:e}){return i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:t}),e]})}function oB(){return v.useEffect(()=>{(async()=>{try{await We.auth.signOut()}finally{window.location.replace("/")}})()},[]),null}const N0={ownerName:"",organization:"",labsManaged:"",email:"",phone:"",message:""};function aB(){const{user:t,loading:e}=gr(),[r,n]=Hn(),[o,l]=v.useState(N0),[c,d]=v.useState("idle"),[h,m]=v.useState(null),[p,x]=v.useState("idle"),[b,N]=v.useState(null),[_,j]=v.useState(null),w=typeof window<"u"?window.location.search:"",C=v.useMemo(()=>{try{return new URLSearchParams(w).get("plan")}catch{return null}},[w]),k=(C??"").toLowerCase(),E=k==="base"||k==="free",A=k==="verified"||k==="premier"||k==="custom",L=k==="custom"||k==="enterprise",V=t?.user_metadata?.full_name||t?.user_metadata?.name||t?.user_metadata?.fullName||t?.user_metadata?.display_name||t?.user_metadata?.displayName||"",H=`/api/stripe/checkout?plan=${k||"base"}`;v.useEffect(()=>{if(e)return;if(!C||!["base","free","verified","premier","custom","enterprise"].includes(k)){n("/pricing");return}if(!t){const G=encodeURIComponent(`/payments?plan=${k}`);n(`/login?next=${G}`);return}},[t,C,k,e,n]),v.useEffect(()=>{if(!t)return;async function D(){const{data:G,error:te}=await We.from("profiles").select("name").eq("user_id",t.id).maybeSingle();!te&&G?.name?(j(G.name),l(ke=>({...ke,ownerName:ke.ownerName||G.name}))):j(null)}D(),l(G=>({...G,ownerName:G.ownerName||V||t?.email?.split("@")[0]||"",email:G.email||t.email||"",phone:G.phone||t.user_metadata?.phone||t.phone||""}))},[t,V]);const Z=D=>G=>{l(te=>({...te,[D]:G.target.value}))},O=async D=>{D.preventDefault(),d("loading"),m(null);try{const G=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.ownerName||o.organization,email:o.email,message:[`Organization: ${o.organization}`,`Labs managed: ${o.labsManaged}`,"",o.message||"No additional context provided."].join(`
`)})});if(!G.ok){const te=await G.json().catch(()=>({message:"Unable to send request"}));throw new Error(te?.message??"Unable to send request")}d("success"),l(N0)}catch(G){d("error"),m(G instanceof Error?G.message:"Unable to send request")}},Q=async()=>{x("loading"),N(null);try{if(!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.ownerName||V||t?.email||"GLASS-Connect user",email:t?.email,message:`Confirming free plan signup for ${t?.email||"unknown"} on GLASS-Connect.`})})).ok)throw new Error("Unable to send confirmation");x("success")}catch(D){x("error"),N(D instanceof Error?D.message:"Unable to send confirmation")}},re="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary";return e||!t||!C?null:i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl space-y-12",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Payment flow"}),i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:E?"Your GLASS-Connect free listing":"Stripe-first billing built for labs"}),i.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:E?"Confirm your free plan so your listing stays live while you edit. You can upgrade anytime.":"We keep billing transparent: standard plans go through Stripe Checkout (with optional SEPA transfer), and multi-lab operators can request a custom agreement."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Ne,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Review plans"})}),i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Explore live listings"})})]})]}),E&&i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Free plan confirmation"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirm your free GLASS-Connect listing. Well email a confirmation and keep your profile live while you edit."}),i.jsx("button",{onClick:Q,disabled:p==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:p==="loading"?"Sending confirmation":"Confirm free plan"}),p==="success"&&i.jsxs("p",{className:"text-sm text-emerald-600",children:["Confirmation sent to ",t?.email??"your email on file",". If you dont see it, check spam or contact support."]}),p==="error"&&i.jsx("p",{className:"text-sm text-destructive",children:b??"We couldnt send the confirmation. Please try again or contact support."})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"What you get"}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Tn,{className:"h-4 w-4 text-primary mt-0.5"}),"Standardised lab profile with capabilities, equipment, and contact prefs."]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Tn,{className:"h-4 w-4 text-primary mt-0.5"}),"Inbound requests routed to your team while you edit and refine details."]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Tn,{className:"h-4 w-4 text-primary mt-0.5"}),"Upgrade anytime to add verification, placement, and media support."]})]})]})]}),A&&i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Stripe Checkout"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Youll be redirected to a Stripe-hosted checkout page for the ",k," plan. Glass never touches raw card numbers."]}),i.jsx("button",{onClick:()=>{window.location.href=H},className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Proceed to Stripe Checkout"}),i.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-sm text-muted-foreground",children:"After payment, well activate your listing within one business day and schedule verification if needed."})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Prefer bank transfer (SEPA)?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank transfer option coming soon. We'll share SEPA details once the Glass account is live."})]})]}),L&&i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Enterprise intake"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tell us about your network and billing needs. Well follow up with the right agreement, procurement details, and onboarding."}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsx("li",{children:"Dedicated partner manager and verification scheduling across sites."}),i.jsx("li",{children:"Custom invoicing (ACH/SEPA/wire), procurement docs, and data exports."}),i.jsx("li",{children:"API access and multi-lab routing preferences."})]})]}),i.jsxs("div",{id:"custom",className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(c2,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Enterprise form"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Well get back to you within one business day."})]})]}),c==="success"&&i.jsx("div",{className:"rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:"Thanks! Weve logged your details and will respond within one business day."}),c==="error"&&i.jsx("div",{className:"rounded-2xl border border-destructive/50 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:h??"We couldnt send your message. Please try again."}),i.jsxs("form",{className:"space-y-4",onSubmit:O,children:[i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:re,value:o.ownerName,onChange:Z("ownerName"),placeholder:"Jordan Reyes",required:!0})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Contact email"}),i.jsx("input",{type:"email",className:re,value:o.email,onChange:Z("email"),placeholder:"you@labs.com",required:!0})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Phone number"}),i.jsx("input",{className:re,value:o.phone,onChange:Z("phone"),placeholder:"+49 171 2345678",required:!0})]})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Organization"}),i.jsx("input",{className:re,value:o.organization,onChange:Z("organization"),placeholder:"Atlas Applied Biology",required:!0})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Labs managed (optional)"}),i.jsx("input",{className:re,value:o.labsManaged,onChange:Z("labsManaged"),placeholder:"e.g. 4 locations"})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"What do you need?"}),i.jsx("textarea",{className:`${re} min-h-[120px]`,value:o.message,onChange:Z("message"),placeholder:"Tell us about your footprint, routing preferences, billing needs, or integrations."})]}),i.jsx("button",{type:"submit",disabled:c==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:c==="loading"?"Sending":"Send to Glass partnerships"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We route this form to our Brevo/email inbox so a real person can follow up with invoices, contracts, or procurement info."})]})]})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Need a direct line?"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email ",i.jsx("a",{className:"text-primary underline",href:"mailto:contact@glass-funding.com",children:"contact@glass-funding.com"})," or drop a note in the custom form. We can accommodate purchase orders, wire transfers, and co-branded partnership agreements."]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Ne,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),i.jsx(Ne,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"See partner labs"})})]})]})]})})}function lB(){const{user:t}=gr(),[e,r]=v.useState([]),[n,o]=v.useState(!0),[l,c]=v.useState(null),[d,h]=v.useState(""),[m,p]=v.useState("base");v.useEffect(()=>{(async()=>{c(null);try{const{data:j}=await We.auth.getSession(),w=j.session?.access_token,C=await fetch("/api/my-labs",{headers:w?{Authorization:`Bearer ${w}`}:{}});if(!C.ok){const L=await C.text();throw new Error(L||"Unable to load labs")}const k=await C.json();r(k??[]);const{data:E}=await We.from("profiles").select("subscription_tier").eq("user_id",t?.id).maybeSingle(),A=(E?.subscription_tier||"base").toLowerCase();p(A)}catch(j){c(j.message||"Unable to load labs")}finally{o(!1)}})()},[t?.id]);const x=v.useMemo(()=>{const j=d.trim().toLowerCase();return j?e.filter(w=>{const C=(w.lab_equipment??[]).map(E=>E.item).join(" ");return[w.name,w.location,C].filter(Boolean).join(" ").toLowerCase().includes(j)}):e},[e,d]),b=m==="custom"||e.length===0,N=j=>{const w=(j.subscription_tier||"").toLowerCase(),C=w==="premier"||w==="custom",k=j.is_visible===!1;return i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[C?i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:w==="custom"?"Custom":"Premier"}):null,k?i.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-[11px] font-medium text-amber-800",children:"Not visible"}):null]})},_=j=>j.logo_url?j.logo_url:j.lab_photos?.[0]?.url||null;return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl",children:[i.jsx(Ne,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage your labs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pick a lab to edit. Premier labs keep their analytics and partner features."})]}),i.jsxs("div",{className:"relative w-full sm:w-80",children:[i.jsx("input",{type:"search",value:d,onChange:j=>h(j.target.value),placeholder:"Search labs by name or city",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx(Ws,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]})]}),n?i.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading labs"}):l?i.jsx("p",{className:"mt-6 text-sm text-destructive",children:l}):x.length===0?i.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["No labs match that search. ",e.length===0?"No lab is linked to your account yet.":""]}):i.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-dashed border-border bg-card/60 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 p-6 text-center",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:i.jsx(_j,{className:"h-6 w-6"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add a new lab"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b?"Create another lab profile and manage its details.":"Multi-lab management is available on Custom tier."})]}),i.jsx("div",{className:"p-4",children:b?i.jsx(Ne,{href:"/lab/manage/new",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add lab"}):i.jsx(Ne,{href:"/payments?plan=custom#custom",className:"inline-flex w-full items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Upgrade to Custom"})})]},"add-lab"),x.map(j=>i.jsxs(Ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-border bg-card/80 shadow-sm overflow-hidden",children:[_(j)&&i.jsx("div",{className:"h-36 w-full overflow-hidden border-b border-border/60 bg-background/40",children:i.jsx("img",{src:_(j),alt:j.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"p-4 space-y-2 flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:j.name}),i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Ws,{className:"h-3.5 w-3.5 text-primary"}),i.jsx("span",{children:j.location?.trim()||"Location not set"})]})]}),N(j)]}),j.lab_equipment&&j.lab_equipment.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-muted-foreground",children:j.lab_equipment.slice(0,3).map(w=>i.jsx("span",{className:"rounded-full border border-border px-2 py-1",children:w.item},w.item))}),i.jsx("div",{className:"pt-2",children:i.jsx(Ne,{href:`/lab/manage/${j.id}`,children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage"})})})]})]},j.id))]})]})})}function cB(){const{addLab:t}=ti(),{user:e}=gr(),[,r]=Hn(),[n,o]=v.useState({name:"",location:"",labManager:"",contactEmail:e?.email??"",description:"",field:"",offersLabSpace:!0,addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",siretNumber:"",minimumStay:"",pricePrivacy:!1,equipmentTags:[],focusTags:[],complianceTags:[],offers:[],logoUrl:""}),[l,c]=v.useState([]),[d,h]=v.useState([]),[m,p]=v.useState(""),[x,b]=v.useState(""),[N,_]=v.useState(!1),[j,w]=v.useState(!1),[C,k]=v.useState(!1),[E,A]=v.useState(null),[L,V]=v.useState(null),[H,Z]=v.useState(null),[O,Q]=v.useState([]),[re,D]=v.useState(!1),[G,te]=v.useState(null),[ke,Ce]=v.useState({field:"equipmentTags",value:""}),[ne,X]=v.useState(!1),[me,ce]=v.useState(null),R=($,ye)=>{o(ve=>({...ve,[$]:ye}))},ee=($,ye)=>{const ve=ye.trim();ve&&(o($e=>{const et=new Set($e[$]);return et.add(ve),{...$e,[$]:Array.from(et)}}),Ce({field:$,value:""}))},Ie=($,ye)=>{o(ve=>({...ve,[$]:ve[$].filter($e=>$e!==ye)}))},Ve=$=>ye=>{ye.key==="Enter"&&(ye.preventDefault(),ee($,ke.value))},He=async $=>{$.preventDefault(),X(!0),ce(null);try{const ye=await t({name:n.name.trim(),location:n.location.trim(),labManager:n.labManager.trim(),contactEmail:n.contactEmail.trim(),ownerUserId:e?.id??null,description:n.description.trim()||null,offersLabSpace:n.offersLabSpace,addressLine1:n.addressLine1.trim()||null,addressLine2:n.addressLine2.trim()||null,city:n.city.trim()||null,state:n.state.trim()||null,postalCode:n.postalCode.trim()||null,country:n.country.trim()||null,website:n.website.trim()||null,linkedin:n.linkedin.trim()||null,compliance:n.complianceTags,complianceDocs:O,isVerified:!1,isVisible:!0,equipment:n.equipmentTags,focusAreas:n.focusTags,offers:n.offers,pricePrivacy:n.pricePrivacy,minimumStay:n.minimumStay.trim(),rating:0,photos:l,logoUrl:n.logoUrl.trim()||null,siretNumber:n.siretNumber.trim()||null,partnerLogos:d,field:n.field.trim()||null});r(`/lab/manage/${ye.id}`)}catch(ye){ce(ye?.message||"Unable to create lab")}finally{X(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[i.jsx(Ne,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),i.jsxs(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Create"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mt-1",children:"Add a new lab"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start with the basics. You can add photos, equipment, and pricing later."}),i.jsxs("form",{className:"mt-8 space-y-8",onSubmit:He,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(qt,{label:"Lab name",required:!0,children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.name,onChange:$=>R("name",$.target.value),required:!0})}),i.jsx(qt,{label:"SIRET (optional)",children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:$=>R("siretNumber",$.target.value)})}),i.jsx(qt,{label:"Location",required:!0,children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.location,onChange:$=>R("location",$.target.value),required:!0})}),i.jsx(qt,{label:"Lab manager",required:!0,children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.labManager,onChange:$=>R("labManager",$.target.value),required:!0})}),i.jsx(qt,{label:"Contact email",required:!0,children:i.jsx("input",{type:"email",className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.contactEmail,onChange:$=>R("contactEmail",$.target.value),required:!0})}),i.jsx(qt,{label:"Description",children:i.jsx("textarea",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary min-h-[96px]",value:n.description,onChange:$=>R("description",$.target.value),placeholder:"Brief overview of your lab"})}),i.jsx(qt,{label:"Science field (optional)",children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.field,onChange:$=>R("field",$.target.value),placeholder:"e.g., immunology, materials science, bioengineering"})}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offersLabSpace,onChange:$=>R("offersLabSpace",$.target.checked)}),"Offers lab space"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qt,{label:"Logo (premier/custom only)",children:i.jsx("input",{className:"input",value:n.logoUrl,onChange:$=>R("logoUrl",$.target.value),placeholder:"Available for premier/custom tiers"})}),i.jsxs("label",{className:"inline-flex items-center gap-3",children:[i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async $=>{const ye=$.target.files?.[0];ye&&(A(null),_(!0),await Su("lab-logos",ye,"new/logos",(ve,$e)=>o(et=>({...et,logoUrl:ve||et.logoUrl||""})),ve=>A(ve)),_(!1),$.target&&($.target.value=""))}})]}),N&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),E&&i.jsx("p",{className:"text-xs text-destructive",children:E})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Logo avatars display for premier/custom labs."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Photos (base: up to 2)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map($=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:$.name||$.url}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>c(ye=>ye.filter(ve=>ve.url!==$.url)),children:"Remove"})]},$.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{className:"input flex-1",value:m,onChange:$=>p($.target.value),placeholder:"https://example.com/photo.jpg"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const $=m.trim();if(!$||l.length>=2)return;const ye=$.split("/").pop()||`Photo ${l.length+1}`;c(ve=>[...ve,{name:ye,url:$}]),p("")},disabled:l.length>=2,children:"Add photo"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",disabled:l.length>=2,onChange:async $=>{const ye=$.target.files?.[0];!ye||l.length>=2||(V(null),w(!0),await Su("lab-photos",ye,"new/photos",(ve,$e)=>c(et=>[...et,{name:$e,url:ve}]),ve=>V(ve)),w(!1),$.target&&($.target.value=""))}})]})}),j&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),L&&i.jsx("p",{className:"text-xs text-destructive",children:L})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Base labs can add 2 photos here; you can add more later in manage."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.map($=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:$.name||$.url}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>h(ye=>ye.filter(ve=>ve.url!==$.url)),children:"Remove"})]},$.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{className:"input flex-1",value:x,onChange:$=>b($.target.value),placeholder:"https://example.com/logo.png"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const $=x.trim();if(!$)return;const ye=$.split("/").pop()||`Logo ${d.length+1}`;h(ve=>[...ve,{name:ye,url:$}]),b("")},children:"Add logo"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async $=>{const ye=$.target.files?.[0];ye&&(Z(null),k(!0),await Su("lab-logos",ye,"new/partners",(ve,$e)=>h(et=>[...et,{name:$e,url:ve}]),ve=>Z(ve)),k(!1),$.target&&($.target.value=""))}})]})}),C&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),H&&i.jsx("p",{className:"text-xs text-destructive",children:H})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are shown for premier/custom labs."})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(qt,{label:"Address line 1",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine1,onChange:$=>R("addressLine1",$.target.value)})}),i.jsx(qt,{label:"Address line 2",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine2,onChange:$=>R("addressLine2",$.target.value)})}),i.jsx(qt,{label:"City",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.city,onChange:$=>R("city",$.target.value)})}),i.jsx(qt,{label:"State/Region",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.state,onChange:$=>R("state",$.target.value)})}),i.jsx(qt,{label:"Postal code",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.postalCode,onChange:$=>R("postalCode",$.target.value)})}),i.jsx(qt,{label:"Country",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.country,onChange:$=>R("country",$.target.value)})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(qt,{label:"Website",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.website,onChange:$=>R("website",$.target.value)})}),i.jsx(qt,{label:"LinkedIn",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.linkedin,onChange:$=>R("linkedin",$.target.value)})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(qt,{label:"Minimum stay",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.minimumStay,onChange:$=>R("minimumStay",$.target.value)})}),i.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:["Price privacy",i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.pricePrivacy?"yes":"no",onChange:$=>R("pricePrivacy",$.target.value==="yes"),children:[i.jsx("option",{value:"no",children:"Rates published"}),i.jsx("option",{value:"yes",children:"Quotes required"})]})]})]}),i.jsx(qt,{label:"Equipment",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add equipment and press Enter",value:ke.field==="equipmentTags"?ke.value:"",onChange:$=>Ce({field:"equipmentTags",value:$.target.value}),onKeyDown:Ve("equipmentTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.equipmentTags.map($=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[$,i.jsx("button",{type:"button",onClick:()=>Ie("equipmentTags",$),className:"text-muted-foreground hover:text-destructive",children:""})]},$))})]})}),i.jsx(qt,{label:"Focus areas",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add focus area and press Enter",value:ke.field==="focusTags"?ke.value:"",onChange:$=>Ce({field:"focusTags",value:$.target.value}),onKeyDown:Ve("focusTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.focusTags.map($=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[$,i.jsx("button",{type:"button",onClick:()=>Ie("focusTags",$),className:"text-muted-foreground hover:text-destructive",children:""})]},$))})]})}),i.jsx(qt,{label:"Compliance",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add compliance and press Enter",value:ke.field==="complianceTags"?ke.value:"",onChange:$=>Ce({field:"complianceTags",value:$.target.value}),onKeyDown:Ve("complianceTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.complianceTags.map($=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[$,i.jsx("button",{type:"button",onClick:()=>Ie("complianceTags",$),className:"text-muted-foreground hover:text-destructive",children:""})]},$))})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Compliance documents (PDF)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.map($=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:$.name||$.url}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>Q(ye=>ye.filter(ve=>ve.url!==$.url)),children:"Remove"})]},$.url))}),i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:async $=>{const ye=$.target.files?.[0];ye&&(te(null),D(!0),await Su("lab-pdfs",ye,"new/compliance",(ve,$e)=>Q(et=>[...et,{name:$e,url:ve}]),ve=>te(ve)),D(!1),$.target&&($.target.value=""))}})]})}),re&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),G&&i.jsx("p",{className:"text-xs text-destructive",children:G}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload PDF compliance certificates; you can add more later."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Offers"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Id.map($=>i.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offers.includes($),onChange:ye=>{const ve=ye.target.checked?[...n.offers,$]:n.offers.filter($e=>$e!==$);R("offers",ve)}}),$]},$))})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.jsx(qt,{label:"SIRET (optional)",children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:$=>R("siretNumber",$.target.value)})})}),me&&i.jsx("p",{className:"text-sm text-destructive",children:me}),i.jsx("button",{type:"submit",disabled:ne,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:ne?"Creating":"Create lab"})]})]})]})})}function qt({label:t,children:e,required:r}){return i.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:[t," ",r?i.jsx("span",{className:"text-destructive",children:"*"}):null,i.jsx("div",{className:"text-foreground font-normal",children:e})]})}const uB=t=>{const e=t.split(".").pop()||"jpg";return typeof crypto<"u"&&crypto.randomUUID?`${crypto.randomUUID()}.${e}`:`${Date.now()}.${e}`},Su=async(t,e,r,n,o)=>{try{const l=`${r}/${uB(e.name)}`,{error:c}=await We.storage.from(t).upload(l,e,{upsert:!0,contentType:e.type});if(c)throw c;const{data:d}=We.storage.from(t).getPublicUrl(l);n(d.publicUrl,e.name)}catch(l){o(l?.message||"Upload failed")}};function dB(){const{user:t}=gr(),{labs:e}=ti(),[r,n]=v.useState([]),[o,l]=v.useState(!0),[c,d]=v.useState(null);v.useEffect(()=>{let m=!0;async function p(){l(!0),d(null);try{const{data:x}=await We.auth.getSession(),b=x.session?.access_token,N=b?{Authorization:`Bearer ${b}`}:{},_=await fetch("/api/favorites",{headers:N}),j=_.headers.get("content-type")||"";if(!_.ok||!j.includes("application/json"))throw new Error("Unable to load favorites");const w=await _.json(),C=Array.isArray(w?.labIds)?w.labIds:[];m&&n(C.map(k=>Number(k)).filter(k=>!Number.isNaN(k)))}catch(x){m&&d(x.message||"Unable to load favorites")}finally{m&&l(!1)}}return t?p():l(!1),()=>{m=!1}},[t]);const h=v.useMemo(()=>r.length?e.filter(m=>r.includes(m.id)):[],[r,e]);return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-16 lg:py-20",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Favorites"}),i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Saved labs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Labs you have favorited for quick access."})]}),i.jsx(Ne,{href:"/account",className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:" Back to account"})]}),i.jsxs("div",{className:"mt-8",children:[o&&i.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"Loading favorites"}),c&&i.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:c}),!o&&!c&&h.length===0&&i.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"You have no favorites yet. Browse labs and tap the heart to save them."}),h.length>0&&i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(m=>{const p=(m.subscriptionTier||m.subscription_tier||"").toLowerCase(),x=p==="premier"||p==="custom";return i.jsxs("div",{className:"rounded-2xl border border-border bg-card/80 p-4 shadow-sm flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:m.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.location})]}),x&&i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:"Premium"})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:m.isVisible===!1?"Hidden":"Visible"}),i.jsx("span",{className:"font-medium text-primary",children:p||"base"})]}),i.jsx(Ne,{href:`/labs/${m.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},m.id)})})]})]})})}function fB(){const{tiers:t}=Y1();return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-20 lg:py-24 space-y-10",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Subscriptions"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground",children:"Choose your GLASS plan"}),i.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"New accounts start on Base. Upgrade anytime; after payment well switch your subscription tier automatically."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Ne,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"View pricing page"})}),i.jsx(Ne,{href:"/account",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Back to profile"})})]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.featured,n=e.name.toLowerCase(),o=n==="custom"?"/payments?plan=custom#custom":`/payments?plan=${n}`,l=e.monthly_price??e.monthlyPrice,c=l===0||l==="0",d=l!=null&&!c,h=c?"Free":d?`${l}/mo`:"Talk to us";return i.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${r?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),i.jsx("p",{className:"mt-3 text-3xl font-semibold text-foreground",children:h}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.description??"Choose your plan and switch anytime."})]}),e.name==="Base"&&i.jsx(Tn,{className:"h-6 w-6 text-muted-foreground"}),r&&i.jsx(Cp,{className:"h-6 w-6 text-primary"})]}),i.jsx("ul",{className:"mt-5 space-y-3 text-sm text-muted-foreground",children:e.highlights?.map(m=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx(jj,{className:"h-4 w-4 text-primary"}),m]},m))}),i.jsx(Ne,{href:o,children:i.jsx("a",{className:`mt-6 inline-flex items-center rounded-full px-4 py-2 text-sm font-medium transition ${n==="custom"?"border border-border text-muted-foreground hover:border-primary hover:text-primary":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:n==="custom"?"Talk to us":"Subscribe"})})]},n)})})]})})}const hB=[25,50,100,250];function S0(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function mB(){const[t,e]=Hn(),[r,n]=v.useState(1),[o,l]=v.useState("individual"),[c,d]=v.useState(""),[h,m]=v.useState(""),[p,x]=v.useState(null),[b,N]=v.useState(null),[_,j]=v.useState(!0),w=.015,[C,k]=v.useState({fullName:"",companyName:"",siret:"",contactName:"",addressLine1:"",addressLine2:"",city:"",postalCode:"",country:"France"});v.useEffect(()=>{if(typeof window>"u")return;const D=window.localStorage.getItem("glass-demo-email")||window.sessionStorage.getItem("glass-demo-email");D&&x(D)},[]),v.useMemo(()=>{const D=t.split("?")[1]??"";return new URLSearchParams(D)},[t]);const E="Glass Connect (beta)",A=typeof c=="number"?+(c*w+.25).toFixed(2):0,L=typeof c=="number"?+(c+A).toFixed(2):0,V=p??h,H=p?!0:h!==""&&S0(h),Z=typeof c=="number"&&c>0,O=D=>{if(D===""){d("");return}const G=Number(D);Number.isNaN(G)||d(G)},Q=D=>{m(D),D===""||S0(D)?N(null):N("Enter a valid email address.")},re=()=>{if(r===1){if(!Z)return;n(2);return}if(r===2){if(!H){N("Enter a valid email address before continuing.");return}if(o==="individual"&&!C.fullName.trim()){N("Full name is required for receipts.");return}if(o==="company"&&(!C.companyName.trim()||!C.siret.trim())){N("Company name and SIRET are required for company receipts.");return}if(!C.addressLine1.trim()||!C.city.trim()||!C.postalCode.trim()){N("Address, city, and postal code are required for the receipt.");return}N(null),n(3);return}const D=new URLSearchParams;D.set("amount",L.toFixed(2)),D.set("donation",typeof c=="number"?c.toFixed(2):"0"),D.set("fee",A.toFixed(2)),D.set("email",V),D.set("recurring",_?"true":"false"),D.set("donorType",o),D.set("fullName",C.fullName),D.set("companyName",C.companyName),D.set("siret",C.siret),D.set("contactName",C.contactName),D.set("addressLine1",C.addressLine1),D.set("addressLine2",C.addressLine2),D.set("city",C.city),D.set("postalCode",C.postalCode),D.set("country",C.country),e(`/donate-confirmation?${D.toString()}`)};return i.jsxs("div",{className:"max-w-3xl mx-auto pt-40 px-4 pb-20 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("h1",{className:"text-3xl font-semibold",children:["Support ",E]}),i.jsx("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:"Your contribution helps us keep the beta free, improve onboarding, and ship the features your team needs."})]}),i.jsxs("div",{id:"donate-form",className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-muted-foreground",children:[i.jsx("span",{className:`rounded-full px-3 py-1 ${r===1?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"1. Amount"}),i.jsx("span",{className:`rounded-full px-3 py-1 ${r===2?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"2. Receipt details"}),i.jsx("span",{className:`rounded-full px-3 py-1 ${r===3?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"3. Checkout"})]}),r===1&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Payer type"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 text-xs font-semibold border ${o==="individual"?"border-primary text-primary":"border-border text-muted-foreground"}`,onClick:()=>l("individual"),children:"Individual"}),i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 text-xs font-semibold border ${o==="company"?"border-primary text-primary":"border-border text-muted-foreground"}`,onClick:()=>l("company"),children:"Company"})]})]}),i.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Donation amount ()"}),i.jsx("input",{type:"number",inputMode:"decimal",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:c===""?"":c,onChange:D=>O(D.target.value),min:1,step:.01,placeholder:"Enter a custom amount"}),i.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-4",children:hB.map(D=>{const G=c===D;return i.jsxs("button",{type:"button",onClick:()=>{d(D)},className:`rounded-full border px-4 py-2 text-sm font-medium transition ${G?"border-transparent bg-primary text-primary-foreground shadow-md":"border-border bg-background text-muted-foreground hover:text-foreground"}`,children:["",D]},D)})}),i.jsxs("label",{className:"mt-6 flex items-start gap-3 rounded-2xl border border-border bg-muted/30 px-4 py-3 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:_,onChange:D=>j(D.target.checked)}),i.jsx("span",{children:"Keep this donation recurring each month. You can pause or adjust at any time inside your profile."})]})]}),r===2&&i.jsxs(i.Fragment,{children:[p?i.jsxs("div",{className:"rounded-2xl border border-primary/40 bg-primary/10 px-4 py-3 text-sm text-primary",children:[i.jsxs("p",{className:"font-medium",children:["Signed in as ",p]}),i.jsx("p",{className:"text-xs text-primary/80",children:"We'll send the receipt and updates to this email."})]}):i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:`mt-2 w-full rounded-full border px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary ${b?"border-destructive":"border-border"}`,value:h,onChange:D=>Q(D.target.value),placeholder:"you@example.org","aria-invalid":!!b,"aria-describedby":b?"donation-email-error":void 0}),b&&i.jsx("p",{id:"donation-email-error",className:"mt-2 text-xs text-destructive",children:b})]}),o==="individual"?i.jsx("div",{className:"grid gap-3 mt-4",children:i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Full name"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.fullName,onChange:D=>k(G=>({...G,fullName:D.target.value}))})]})}):i.jsxs("div",{className:"grid gap-3 mt-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company name"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.companyName,onChange:D=>k(G=>({...G,companyName:D.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"SIRET"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.siret,onChange:D=>k(G=>({...G,siret:D.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Contact name"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.contactName,onChange:D=>k(G=>({...G,contactName:D.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-3 mt-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 1"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.addressLine1,onChange:D=>k(G=>({...G,addressLine1:D.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 2 (optional)"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.addressLine2,onChange:D=>k(G=>({...G,addressLine2:D.target.value}))})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.city,onChange:D=>k(G=>({...G,city:D.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Postal code"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.postalCode,onChange:D=>k(G=>({...G,postalCode:D.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Country"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:C.country,onChange:D=>k(G=>({...G,country:D.target.value}))})]})]})]}),r===3&&i.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Donation"}),i.jsxs("span",{className:"font-medium text-foreground",children:["",typeof c=="number"?c.toFixed(2):"0.00"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Platform fee (1.5% + 0.25)"}),i.jsxs("span",{className:"font-medium text-foreground",children:["",A.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-foreground font-semibold",children:[i.jsx("span",{children:"Total today"}),i.jsxs("span",{children:["",L.toFixed(2)]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_?"Recurring donations help us plan ahead. You can cancel any time.":"One-time donation. Well issue a receipt once processed."})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>n(D=>D===1?1:D-1),disabled:r===1,children:"Back"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:cursor-not-allowed disabled:opacity-60",onClick:re,disabled:r===1&&!Z,children:r<3?"Next":"Proceed to checkout"})]})]})]})}function qa({path:t,component:e}){const{user:r,loading:n}=gr(),[,o]=Hn(),[l,c]=v.useState(!0),[d,h]=v.useState(null);return v.useEffect(()=>{let m=!0;async function p(){c(!0);try{const{data:x}=await We.auth.getSession();if(!m)return;h(!!x.session?.user)}finally{m&&c(!1)}}return r?(h(!0),c(!1)):p(),()=>{m=!1}},[r]),i.jsx(yt,{path:t,component:m=>{if(n||l||d===null)return null;if(r||d)return i.jsx(e,{...m});const p=encodeURIComponent(window.location.pathname+window.location.search);return o(`/login?next=${p}`,{replace:!0}),null}})}function _u({path:t,component:e}){const{user:r,loading:n}=gr(),[o,l]=v.useState(null);return v.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await We.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=h?.role||"user";l(p==="lab"||p==="admin"||p==="multi-lab")}return n||d(),()=>{c=!1}},[n,r?.id]),i.jsx(yt,{path:t,component:c=>{if(n||o===null)return null;if(!r){const d=encodeURIComponent(window.location.pathname);return window.location.replace(`/login?next=${d}`),null}if(!o){const d=c?.params?.id;return window.location.replace(d?`/labs/${d}`:"/"),null}return i.jsx(e,{...c})}})}function pB({path:t,component:e}){const{user:r,loading:n}=gr(),[o,l]=v.useState(null);return v.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await We.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=typeof h?.role=="string"?h.role.toLowerCase().trim():"";l(p==="admin")}return n||d(),()=>{c=!1}},[n,r?.id]),i.jsx(yt,{path:t,component:c=>n||o===null?null:r?o?i.jsx(e,{...c}):(window.location.replace("/"),null):(window.location.replace(`/login?next=${encodeURIComponent(t)}`),null)})}function gB(){const{user:t,loading:e}=gr(),[r,n]=Hn(),[o,l]=v.useState(!1),c=typeof window<"u"?window.location.search:"",d=v.useMemo(()=>{try{return new URLSearchParams(c).get("plan")?.toLowerCase()??null}catch{return null}},[c]),m=d&&["verified","premier","custom"].includes(d);return v.useEffect(()=>{if(!e){if(!m){n("/pricing");return}if(!t){const p=encodeURIComponent(`/stripe?plan=${d}`);n(`/login?next=${p}`);return}l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`}},[t,e,m,d,n]),e||!m?null:i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 py-20 max-w-3xl",children:i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Stripe checkout"})}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Redirecting to Stripe"}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Were opening Stripe for the ",d," plan. If nothing happens, use the button below."]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Ye.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.4,ease:"linear"},children:i.jsx(wm,{className:"h-10 w-10 text-primary"})})}),i.jsxs("button",{onClick:()=>{l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`},className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",disabled:o,children:[i.jsx(y2,{className:"mr-2 h-4 w-4"}),o?"Opening Stripe...":"Open Stripe Checkout"]}),i.jsxs("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-xs text-muted-foreground text-left space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-foreground font-semibold text-sm",children:[i.jsx(Tn,{className:"h-4 w-4 text-primary"}),"What to expect"]}),i.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"We never see or store card numbersStripe handles everything."}),i.jsx("li",{children:"Youll receive a receipt immediately after payment."}),i.jsx("li",{children:"Your listing is activated within one business day."})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[i.jsx(Ne,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),i.jsx(Ne,{href:"/payments",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-foreground px-4 py-2 text-background transition hover:bg-foreground/90",children:"View payment options"})})]})]})})})}function xB(){return i.jsx("footer",{className:"bg-muted py-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid md:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-4",children:"Glass"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Connecting labs with collaborators through trusted, verified profiles."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(Ne,{href:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),i.jsx("li",{children:i.jsx(Ne,{href:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About Us"})}),i.jsx("li",{children:i.jsx(Ne,{href:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(Ne,{href:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(Ne,{href:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Follow Us"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"https://x.com/GlassFunding",className:"text-muted-foreground hover:text-primary transition-colors",children:i.jsx(zs,{className:"h-5 w-5"})}),i.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:i.jsx(_p,{className:"h-5 w-5"})}),i.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:i.jsx(Sj,{className:"h-5 w-5"})})]})]})]}),i.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," Glass. All rights reserved."]})})]})})}function yB(){const[t]=Hn();return v.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function vB({children:t}){const[e]=Hn(),[r,n]=v.useState(!1);return v.useEffect(()=>{n(!1);const o=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(o)},[e]),v.useEffect(()=>{const o=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(o)},[]),i.jsx("div",{className:`page-transition ${r?"page-transition--active":""}`,children:t})}function bB(){return i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 h-11 bg-primary/10 border-b border-primary/20 text-primary px-4 text-sm text-center flex items-center justify-center",children:["Glass Connect beta is free for early adopters. If its helpful, you can support us with an optional donation.",i.jsx("a",{className:"ml-2 font-semibold underline",href:"/donate",children:"Donate here"})]})}function wB(){return i.jsxs(kE,{children:[i.jsx(yt,{path:"/labs",component:_$}),i.jsx(yt,{path:"/labs/:id",component:U$}),i.jsx(yt,{path:"/labs/:id/request",component:$$}),i.jsx(_u,{path:"/labs/:id/collaborate",component:B$}),i.jsx(pB,{path:"/admin/labs",component:H$}),i.jsx(yt,{path:"/lab-profile",component:J$}),i.jsx(qa,{path:"/account",component:nB}),i.jsx(qa,{path:"/account/edit",component:rB}),i.jsx(qa,{path:"/requests",component:sB}),i.jsx(qa,{path:"/subscriptions",component:fB}),i.jsx(qa,{path:"/favorites",component:dB}),i.jsx(_u,{path:"/lab/manage",component:lB}),i.jsx(_u,{path:"/lab/manage/new",component:cB}),i.jsx(_u,{path:"/lab/manage/:id",component:iB}),i.jsx(yt,{path:"/payments",component:aB}),i.jsx(yt,{path:"/stripe",component:gB}),i.jsx(yt,{path:"/donate",component:mB}),i.jsx(yt,{path:"/logout",component:oB}),i.jsx(yt,{path:"/login",component:v$}),i.jsx(yt,{path:"/signup",component:b$}),i.jsx(yt,{path:"/forgot-password",component:j$}),i.jsx(yt,{path:"/forgot-password/confirmation",component:N$}),i.jsx(yt,{path:"/",component:OV}),i.jsx(yt,{path:"/about",component:QU}),i.jsx(yt,{path:"/pricing",component:Q$}),i.jsx(yt,{path:"/contact",component:x$}),i.jsx(yt,{path:"/one-pagers",component:P$}),i.jsx(yt,{path:"/roadmap",component:O$}),i.jsx(yt,{path:"/status",component:D$}),i.jsx(yt,{path:"/500",component:M$}),i.jsx(yt,{path:"/maintenance",component:F$}),i.jsx(yt,{path:"/terms",component:k$}),i.jsx(yt,{path:"/privacy",component:C$}),i.jsx(yt,{path:"/Waitlist",component:E$}),i.jsx(yt,{component:y$})]})}function jB(){return i.jsx(rT,{client:iT,children:i.jsx(pD,{children:i.jsxs(S$,{children:[i.jsx(bB,{}),i.jsx(gD,{}),i.jsx(yB,{}),i.jsx(vB,{children:i.jsx(wB,{})}),i.jsx(xB,{}),i.jsx(hP,{})]})})})}const NB=document.getElementById("root");sE.createRoot(NB).render(i.jsx(jB,{}));window.requestAnimationFrame(()=>{document.body.classList.add("is-page-loaded")});
