function _0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k0(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var xh={exports:{}},Fa={},yh={exports:{}},it={};var gv;function ZC(){if(gv)return it;gv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function w(T,Y,fe){this.props=T,this.context=Y,this.refs=j,this.updater=fe||N}w.prototype.isReactComponent={},w.prototype.setState=function(T,Y){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,Y,"setState")},w.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function k(){}k.prototype=w.prototype;function C(T,Y,fe){this.props=T,this.context=Y,this.refs=j,this.updater=fe||N}var E=C.prototype=new k;E.constructor=C,_(E,w.prototype),E.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,U={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function Z(T,Y,fe){var Re,Te={},V=null,ve=null;if(Y!=null)for(Re in Y.ref!==void 0&&(ve=Y.ref),Y.key!==void 0&&(V=""+Y.key),Y)I.call(Y,Re)&&!K.hasOwnProperty(Re)&&(Te[Re]=Y[Re]);var be=arguments.length-2;if(be===1)Te.children=fe;else if(1<be){for(var $e=Array(be),Xe=0;Xe<be;Xe++)$e[Xe]=arguments[Xe+2];Te.children=$e}if(T&&T.defaultProps)for(Re in be=T.defaultProps,be)Te[Re]===void 0&&(Te[Re]=be[Re]);return{$$typeof:t,type:T,key:V,ref:ve,props:Te,_owner:U.current}}function O(T,Y){return{$$typeof:t,type:T.type,key:Y,ref:T.ref,props:T.props,_owner:T._owner}}function G(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ce(T){var Y={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(fe){return Y[fe]})}var Q=/\/+/g;function ne(T,Y){return typeof T=="object"&&T!==null&&T.key!=null?ce(""+T.key):Y.toString(36)}function te(T,Y,fe,Re,Te){var V=typeof T;(V==="undefined"||V==="boolean")&&(T=null);var ve=!1;if(T===null)ve=!0;else switch(V){case"string":case"number":ve=!0;break;case"object":switch(T.$$typeof){case t:case e:ve=!0}}if(ve)return ve=T,Te=Te(ve),T=Re===""?"."+ne(ve,0):Re,R(Te)?(fe="",T!=null&&(fe=T.replace(Q,"$&/")+"/"),te(Te,Y,fe,"",function(Xe){return Xe})):Te!=null&&(G(Te)&&(Te=O(Te,fe+(!Te.key||ve&&ve.key===Te.key?"":(""+Te.key).replace(Q,"$&/")+"/")+T)),Y.push(Te)),1;if(ve=0,Re=Re===""?".":Re+":",R(T))for(var be=0;be<T.length;be++){V=T[be];var $e=Re+ne(V,be);ve+=te(V,Y,fe,$e,Te)}else if($e=b(T),typeof $e=="function")for(T=$e.call(T),be=0;!(V=T.next()).done;)V=V.value,$e=Re+ne(V,be++),ve+=te(V,Y,fe,$e,Te);else if(V==="object")throw Y=String(T),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ve}function ke(T,Y,fe){if(T==null)return T;var Re=[],Te=0;return te(T,Re,"","",function(V){return Y.call(fe,V,Te++)}),Re}function we(T){if(T._status===-1){var Y=T._result;Y=Y(),Y.then(function(fe){(T._status===0||T._status===-1)&&(T._status=1,T._result=fe)},function(fe){(T._status===0||T._status===-1)&&(T._status=2,T._result=fe)}),T._status===-1&&(T._status=0,T._result=Y)}if(T._status===1)return T._result.default;throw T._result}var re={current:null},ee={transition:null},de={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ee,ReactCurrentOwner:U};function M(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:ke,forEach:function(T,Y,fe){ke(T,function(){Y.apply(this,arguments)},fe)},count:function(T){var Y=0;return ke(T,function(){Y++}),Y},toArray:function(T){return ke(T,function(Y){return Y})||[]},only:function(T){if(!G(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},it.Component=w,it.Fragment=r,it.Profiler=o,it.PureComponent=C,it.StrictMode=n,it.Suspense=h,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,it.act=M,it.cloneElement=function(T,Y,fe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Re=_({},T.props),Te=T.key,V=T.ref,ve=T._owner;if(Y!=null){if(Y.ref!==void 0&&(V=Y.ref,ve=U.current),Y.key!==void 0&&(Te=""+Y.key),T.type&&T.type.defaultProps)var be=T.type.defaultProps;for($e in Y)I.call(Y,$e)&&!K.hasOwnProperty($e)&&(Re[$e]=Y[$e]===void 0&&be!==void 0?be[$e]:Y[$e])}var $e=arguments.length-2;if($e===1)Re.children=fe;else if(1<$e){be=Array($e);for(var Xe=0;Xe<$e;Xe++)be[Xe]=arguments[Xe+2];Re.children=be}return{$$typeof:t,type:T.type,key:Te,ref:V,props:Re,_owner:ve}},it.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},it.createElement=Z,it.createFactory=function(T){var Y=Z.bind(null,T);return Y.type=T,Y},it.createRef=function(){return{current:null}},it.forwardRef=function(T){return{$$typeof:d,render:T}},it.isValidElement=G,it.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:we}},it.memo=function(T,Y){return{$$typeof:m,type:T,compare:Y===void 0?null:Y}},it.startTransition=function(T){var Y=ee.transition;ee.transition={};try{T()}finally{ee.transition=Y}},it.unstable_act=M,it.useCallback=function(T,Y){return re.current.useCallback(T,Y)},it.useContext=function(T){return re.current.useContext(T)},it.useDebugValue=function(){},it.useDeferredValue=function(T){return re.current.useDeferredValue(T)},it.useEffect=function(T,Y){return re.current.useEffect(T,Y)},it.useId=function(){return re.current.useId()},it.useImperativeHandle=function(T,Y,fe){return re.current.useImperativeHandle(T,Y,fe)},it.useInsertionEffect=function(T,Y){return re.current.useInsertionEffect(T,Y)},it.useLayoutEffect=function(T,Y){return re.current.useLayoutEffect(T,Y)},it.useMemo=function(T,Y){return re.current.useMemo(T,Y)},it.useReducer=function(T,Y,fe){return re.current.useReducer(T,Y,fe)},it.useRef=function(T){return re.current.useRef(T)},it.useState=function(T){return re.current.useState(T)},it.useSyncExternalStore=function(T,Y,fe){return re.current.useSyncExternalStore(T,Y,fe)},it.useTransition=function(){return re.current.useTransition()},it.version="18.3.1",it}var xv;function cd(){return xv||(xv=1,yh.exports=ZC()),yh.exports}var yv;function YC(){if(yv)return Fa;yv=1;var t=cd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var p,x={},b=null,N=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(N=h.ref);for(p in h)n.call(h,p)&&!l.hasOwnProperty(p)&&(x[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)x[p]===void 0&&(x[p]=h[p]);return{$$typeof:e,type:d,key:b,ref:N,props:x,_owner:o.current}}return Fa.Fragment=r,Fa.jsx=c,Fa.jsxs=c,Fa}var vv;function XC(){return vv||(vv=1,xh.exports=YC()),xh.exports}var i=XC(),ru={},vh={exports:{}},Mr={},bh={exports:{}},wh={};var bv;function eE(){return bv||(bv=1,(function(t){function e(ee,de){var M=ee.length;ee.push(de);e:for(;0<M;){var T=M-1>>>1,Y=ee[T];if(0<o(Y,de))ee[T]=de,ee[M]=Y,M=T;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var de=ee[0],M=ee.pop();if(M!==de){ee[0]=M;e:for(var T=0,Y=ee.length,fe=Y>>>1;T<fe;){var Re=2*(T+1)-1,Te=ee[Re],V=Re+1,ve=ee[V];if(0>o(Te,M))V<Y&&0>o(ve,Te)?(ee[T]=ve,ee[V]=M,T=V):(ee[T]=Te,ee[Re]=M,T=Re);else if(V<Y&&0>o(ve,M))ee[T]=ve,ee[V]=M,T=V;else break e}}return de}function o(ee,de){var M=ee.sortIndex-de.sortIndex;return M!==0?M:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,x=null,b=3,N=!1,_=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ee){for(var de=r(m);de!==null;){if(de.callback===null)n(m);else if(de.startTime<=ee)n(m),de.sortIndex=de.expirationTime,e(h,de);else break;de=r(m)}}function R(ee){if(j=!1,E(ee),!_)if(r(h)!==null)_=!0,we(I);else{var de=r(m);de!==null&&re(R,de.startTime-ee)}}function I(ee,de){_=!1,j&&(j=!1,k(Z),Z=-1),N=!0;var M=b;try{for(E(de),x=r(h);x!==null&&(!(x.expirationTime>de)||ee&&!ce());){var T=x.callback;if(typeof T=="function"){x.callback=null,b=x.priorityLevel;var Y=T(x.expirationTime<=de);de=t.unstable_now(),typeof Y=="function"?x.callback=Y:x===r(h)&&n(h),E(de)}else n(h);x=r(h)}if(x!==null)var fe=!0;else{var Re=r(m);Re!==null&&re(R,Re.startTime-de),fe=!1}return fe}finally{x=null,b=M,N=!1}}var U=!1,K=null,Z=-1,O=5,G=-1;function ce(){return!(t.unstable_now()-G<O)}function Q(){if(K!==null){var ee=t.unstable_now();G=ee;var de=!0;try{de=K(!0,ee)}finally{de?ne():(U=!1,K=null)}}else U=!1}var ne;if(typeof C=="function")ne=function(){C(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ke=te.port2;te.port1.onmessage=Q,ne=function(){ke.postMessage(null)}}else ne=function(){w(Q,0)};function we(ee){K=ee,U||(U=!0,ne())}function re(ee,de){Z=w(function(){ee(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){_||N||(_=!0,we(I))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var de=3;break;default:de=b}var M=b;b=de;try{return ee()}finally{b=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var M=b;b=ee;try{return de()}finally{b=M}},t.unstable_scheduleCallback=function(ee,de,M){var T=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?T+M:T):M=T,ee){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=M+Y,ee={id:p++,callback:de,priorityLevel:ee,startTime:M,expirationTime:Y,sortIndex:-1},M>T?(ee.sortIndex=M,e(m,ee),r(h)===null&&ee===r(m)&&(j?(k(Z),Z=-1):j=!0,re(R,M-T))):(ee.sortIndex=Y,e(h,ee),_||N||(_=!0,we(I))),ee},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(ee){var de=b;return function(){var M=b;b=de;try{return ee.apply(this,arguments)}finally{b=M}}}})(wh)),wh}var wv;function tE(){return wv||(wv=1,bh.exports=eE()),bh.exports}var jv;function rE(){if(jv)return Mr;jv=1;var t=cd(),e=tE();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function b(s){return h.call(x,s)?!0:h.call(p,s)?!1:m.test(s)?x[s]=!0:(p[s]=!0,!1)}function N(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,a,u,f){if(a===null||typeof a>"u"||N(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(s,a,u,f,g,v,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=S}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new j(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,C);w[a]=new j(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,C);w[a]=new j(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,C);w[a]=new j(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,a,u,f){var g=w.hasOwnProperty(a)?w[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,u,g,f)&&(u=null),f||g===null?b(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),U=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ce=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,T;function Y(s){if(T===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);T=a&&a[1]||""}return`
`+T+s}var fe=!1;function Re(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var f=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){f=W}s.call(a.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),v=f.stack.split(`
`),S=g.length-1,P=v.length-1;1<=S&&0<=P&&g[S]!==v[P];)P--;for(;1<=S&&0<=P;S--,P--)if(g[S]!==v[P]){if(S!==1||P!==1)do if(S--,P--,0>P||g[S]!==v[P]){var L=`
`+g[S].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=S&&0<=P);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Te(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function V(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case K:return"Fragment";case U:return"Portal";case O:return"Profiler";case Z:return"StrictMode";case ne:return"Suspense";case te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ce:return(s.displayName||"Context")+".Consumer";case G:return(s._context.displayName||"Context")+".Provider";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return a=s.displayName||null,a!==null?a:V(s.type)||"Memo";case we:a=s._payload,s=s._init;try{return V(s(a))}catch{}}return null}function ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $e(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xe(s){var a=$e(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,v.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function sr(s){s._valueTracker||(s._valueTracker=Xe(s))}function B(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=$e(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Ce(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function z(s,a){var u=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ee(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=be(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ye(s,a){a=a.checked,a!=null&&E(s,"checked",a,!1)}function xe(s,a){ye(s,a);var u=be(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ot(s,a.type,u):a.hasOwnProperty("defaultValue")&&ot(s,a.type,be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function lt(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ot(s,a,u){(a!=="number"||Ce(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var A=Array.isArray;function F(s,a,u,f){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+be(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function H(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function he(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(A(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:be(u)}}function me(s,a){var u=be(a.value),f=be(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function ue(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function je(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?je(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var at,Ut=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=at.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function _r(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(s){X.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Xt[a]=Xt[s]})});function ge(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Xt.hasOwnProperty(s)&&Xt[s]?(""+a).trim():a+"px"}function Ht(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=ge(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var ir=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(s,a){if(a){if(ir[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function kr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ra=null,Qn=null,Jn=null;function Wl(s){if(s=Na(s)){if(typeof ra!="function")throw Error(r(280));var a=s.stateNode;a&&(a=xc(a),ra(s.stateNode,s.type,a))}}function Kl(s){Qn?Jn?Jn.push(s):Jn=[s]:Qn=s}function Hl(){if(Qn){var s=Qn,a=Jn;if(Jn=Qn=null,Wl(s),a)for(s=0;s<a.length;s++)Wl(a[s])}}function Gl(s,a){return s(a)}function si(){}var ps=!1;function Ql(s,a,u){if(ps)return s(a,u);ps=!0;try{return Gl(s,a,u)}finally{ps=!1,(Qn!==null||Jn!==null)&&(si(),Hl())}}function gs(s,a){var u=s.stateNode;if(u===null)return null;var f=xc(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var na=!1;if(d)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){na=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{na=!1}function Vi(s,a,u,f,g,v,S,P,L){var W=Array.prototype.slice.call(arguments,3);try{a.apply(u,W)}catch(oe){this.onError(oe)}}var ys=!1,vs=null,Ui=!1,sa=null,Id={onError:function(s){ys=!0,vs=s}};function J(s,a,u,f,g,v,S,P,L){ys=!1,vs=null,Vi.apply(Id,arguments)}function Oe(s,a,u,f,g,v,S,P,L){if(J.apply(this,arguments),ys){if(ys){var W=vs;ys=!1,vs=null}else throw Error(r(198));Ui||(Ui=!0,sa=W)}}function ut(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function mt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function vt(s){if(ut(s)!==s)throw Error(r(188))}function or(s){var a=s.alternate;if(!a){if(a=ut(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return vt(g),s;if(v===f)return vt(g),a;v=v.sibling}throw Error(r(188))}if(u.return!==f.return)u=g,f=v;else{for(var S=!1,P=g.child;P;){if(P===u){S=!0,u=g,f=v;break}if(P===f){S=!0,f=g,u=v;break}P=P.sibling}if(!S){for(P=v.child;P;){if(P===u){S=!0,u=v,f=g;break}if(P===f){S=!0,f=v,u=g;break}P=P.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function tn(s){return s=or(s),s!==null?Ur(s):null}function Ur(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ur(s);if(a!==null)return a;s=s.sibling}return null}var Jl=e.unstable_scheduleCallback,$i=e.unstable_cancelCallback,lk=e.unstable_shouldYield,ck=e.unstable_requestPaint,$t=e.unstable_now,uk=e.unstable_getCurrentPriorityLevel,Dd=e.unstable_ImmediatePriority,Wg=e.unstable_UserBlockingPriority,Zl=e.unstable_NormalPriority,dk=e.unstable_LowPriority,Kg=e.unstable_IdlePriority,Yl=null,In=null;function fk(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Yl,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:pk,hk=Math.log,mk=Math.LN2;function pk(s){return s>>>=0,s===0?32:31-(hk(s)/mk|0)|0}var Xl=64,ec=4194304;function ia(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function tc(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,v=s.pingedLanes,S=u&268435455;if(S!==0){var P=S&~g;P!==0?f=ia(P):(v&=S,v!==0&&(f=ia(v)))}else S=u&~g,S!==0?f=ia(S):v!==0&&(f=ia(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-mn(a),g=1<<u,f|=s[u],a&=~g;return f}function gk(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xk(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-mn(v),P=1<<S,L=g[S];L===-1?((P&u)===0||(P&f)!==0)&&(g[S]=gk(P,a)):L<=a&&(s.expiredLanes|=P),v&=~P}}function Md(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hg(){var s=Xl;return Xl<<=1,(Xl&4194240)===0&&(Xl=64),s}function Fd(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function oa(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-mn(a),s[a]=u}function yk(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-mn(u),v=1<<g;a[g]=0,f[g]=-1,s[g]=-1,u&=~v}}function Vd(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-mn(u),g=1<<f;g&a|s[f]&a&&(s[f]|=a),u&=~g}}var gt=0;function Gg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qg,Ud,Jg,Zg,Yg,$d=!1,rc=[],bs=null,ws=null,js=null,aa=new Map,la=new Map,Ns=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(s,a){switch(s){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":aa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(a.pointerId)}}function ca(s,a,u,f,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Na(a),a!==null&&Ud(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function bk(s,a,u,f,g){switch(a){case"focusin":return bs=ca(bs,s,a,u,f,g),!0;case"dragenter":return ws=ca(ws,s,a,u,f,g),!0;case"mouseover":return js=ca(js,s,a,u,f,g),!0;case"pointerover":var v=g.pointerId;return aa.set(v,ca(aa.get(v)||null,s,a,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,la.set(v,ca(la.get(v)||null,s,a,u,f,g)),!0}return!1}function ex(s){var a=ii(s.target);if(a!==null){var u=ut(a);if(u!==null){if(a=u.tag,a===13){if(a=mt(u),a!==null){s.blockedOn=a,Yg(s.priority,function(){Jg(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function nc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=qd(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);en=f,u.target.dispatchEvent(f),en=null}else return a=Na(u),a!==null&&Ud(a),s.blockedOn=u,!1;a.shift()}return!0}function tx(s,a,u){nc(s)&&u.delete(a)}function wk(){$d=!1,bs!==null&&nc(bs)&&(bs=null),ws!==null&&nc(ws)&&(ws=null),js!==null&&nc(js)&&(js=null),aa.forEach(tx),la.forEach(tx)}function ua(s,a){s.blockedOn===a&&(s.blockedOn=null,$d||($d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wk)))}function da(s){function a(g){return ua(g,s)}if(0<rc.length){ua(rc[0],s);for(var u=1;u<rc.length;u++){var f=rc[u];f.blockedOn===s&&(f.blockedOn=null)}}for(bs!==null&&ua(bs,s),ws!==null&&ua(ws,s),js!==null&&ua(js,s),aa.forEach(a),la.forEach(a),u=0;u<Ns.length;u++)f=Ns[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Ns.length&&(u=Ns[0],u.blockedOn===null);)ex(u),u.blockedOn===null&&Ns.shift()}var Bi=R.ReactCurrentBatchConfig,sc=!0;function jk(s,a,u,f){var g=gt,v=Bi.transition;Bi.transition=null;try{gt=1,Bd(s,a,u,f)}finally{gt=g,Bi.transition=v}}function Nk(s,a,u,f){var g=gt,v=Bi.transition;Bi.transition=null;try{gt=4,Bd(s,a,u,f)}finally{gt=g,Bi.transition=v}}function Bd(s,a,u,f){if(sc){var g=qd(s,a,u,f);if(g===null)af(s,a,f,ic,u),Xg(s,f);else if(bk(g,s,a,u,f))f.stopPropagation();else if(Xg(s,f),a&4&&-1<vk.indexOf(s)){for(;g!==null;){var v=Na(g);if(v!==null&&Qg(v),v=qd(s,a,u,f),v===null&&af(s,a,f,ic,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else af(s,a,f,null,u)}}var ic=null;function qd(s,a,u,f){if(ic=null,s=ni(f),s=ii(s),s!==null)if(a=ut(s),a===null)s=null;else if(u=a.tag,u===13){if(s=mt(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ic=s,null}function rx(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case Dd:return 1;case Wg:return 4;case Zl:case dk:return 16;case Kg:return 536870912;default:return 16}default:return 16}}var Ss=null,zd=null,oc=null;function nx(){if(oc)return oc;var s,a=zd,u=a.length,f,g="value"in Ss?Ss.value:Ss.textContent,v=g.length;for(s=0;s<u&&a[s]===g[s];s++);var S=u-s;for(f=1;f<=S&&a[u-f]===g[v-f];f++);return oc=g.slice(s,1<f?1-f:void 0)}function ac(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function lc(){return!0}function sx(){return!1}function $r(s){function a(u,f,g,v,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?lc:sx,this.isPropagationStopped=sx,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),a}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=$r(qi),fa=M({},qi,{view:0,detail:0}),Sk=$r(fa),Kd,Hd,ha,cc=M({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ha&&(ha&&s.type==="mousemove"?(Kd=s.screenX-ha.screenX,Hd=s.screenY-ha.screenY):Hd=Kd=0,ha=s),Kd)},movementY:function(s){return"movementY"in s?s.movementY:Hd}}),ix=$r(cc),_k=M({},cc,{dataTransfer:0}),kk=$r(_k),Ck=M({},fa,{relatedTarget:0}),Gd=$r(Ck),Ek=M({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tk=$r(Ek),Pk=M({},qi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ak=$r(Pk),Rk=M({},qi,{data:0}),ox=$r(Rk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ik[s])?!!a[s]:!1}function Qd(){return Dk}var Mk=M({},fa,{key:function(s){if(s.key){var a=Ok[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ac(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Lk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(s){return s.type==="keypress"?ac(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ac(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fk=$r(Mk),Vk=M({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=$r(Vk),Uk=M({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),$k=$r(Uk),Bk=M({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=$r(Bk),zk=M({},cc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Wk=$r(zk),Kk=[9,13,27,32],Jd=d&&"CompositionEvent"in window,ma=null;d&&"documentMode"in document&&(ma=document.documentMode);var Hk=d&&"TextEvent"in window&&!ma,lx=d&&(!Jd||ma&&8<ma&&11>=ma),cx=" ",ux=!1;function dx(s,a){switch(s){case"keyup":return Kk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zi=!1;function Gk(s,a){switch(s){case"compositionend":return fx(a);case"keypress":return a.which!==32?null:(ux=!0,cx);case"textInput":return s=a.data,s===cx&&ux?null:s;default:return null}}function Qk(s,a){if(zi)return s==="compositionend"||!Jd&&dx(s,a)?(s=nx(),oc=zd=Ss=null,zi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return lx&&a.locale!=="ko"?null:a.data;default:return null}}var Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Jk[s.type]:a==="textarea"}function mx(s,a,u,f){Kl(f),a=mc(a,"onChange"),0<a.length&&(u=new Wd("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var pa=null,ga=null;function Zk(s){Rx(s,0)}function uc(s){var a=Qi(s);if(B(a))return s}function Yk(s,a){if(s==="change")return a}var px=!1;if(d){var Zd;if(d){var Yd="oninput"in document;if(!Yd){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Yd=typeof gx.oninput=="function"}Zd=Yd}else Zd=!1;px=Zd&&(!document.documentMode||9<document.documentMode)}function xx(){pa&&(pa.detachEvent("onpropertychange",yx),ga=pa=null)}function yx(s){if(s.propertyName==="value"&&uc(ga)){var a=[];mx(a,ga,s,ni(s)),Ql(Zk,a)}}function Xk(s,a,u){s==="focusin"?(xx(),pa=a,ga=u,pa.attachEvent("onpropertychange",yx)):s==="focusout"&&xx()}function eC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uc(ga)}function tC(s,a){if(s==="click")return uc(a)}function rC(s,a){if(s==="input"||s==="change")return uc(a)}function nC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var pn=typeof Object.is=="function"?Object.is:nC;function xa(s,a){if(pn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(a,g)||!pn(s[g],a[g]))return!1}return!0}function vx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bx(s,a){var u=vx(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=vx(u)}}function wx(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?wx(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function jx(){for(var s=window,a=Ce();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Ce(s.document)}return a}function Xd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function sC(s){var a=jx(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&wx(u.ownerDocument.documentElement,u)){if(f!==null&&Xd(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!s.extend&&v>f&&(g=f,f=v,v=g),g=bx(u,v);var S=bx(u,f);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),v>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var iC=d&&"documentMode"in document&&11>=document.documentMode,Wi=null,ef=null,ya=null,tf=!1;function Nx(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tf||Wi==null||Wi!==Ce(f)||(f=Wi,"selectionStart"in f&&Xd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ya&&xa(ya,f)||(ya=f,f=mc(ef,"onSelect"),0<f.length&&(a=new Wd("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Wi)))}function dc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ki={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},rf={},Sx={};d&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function fc(s){if(rf[s])return rf[s];if(!Ki[s])return s;var a=Ki[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Sx)return rf[s]=a[u];return s}var _x=fc("animationend"),kx=fc("animationiteration"),Cx=fc("animationstart"),Ex=fc("transitionend"),Tx=new Map,Px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(s,a){Tx.set(s,a),l(a,[s])}for(var nf=0;nf<Px.length;nf++){var sf=Px[nf],oC=sf.toLowerCase(),aC=sf[0].toUpperCase()+sf.slice(1);_s(oC,"on"+aC)}_s(_x,"onAnimationEnd"),_s(kx,"onAnimationIteration"),_s(Cx,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Ex,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Ax(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Oe(f,a,void 0,s),s.currentTarget=null}function Rx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var S=f.length-1;0<=S;S--){var P=f[S],L=P.instance,W=P.currentTarget;if(P=P.listener,L!==v&&g.isPropagationStopped())break e;Ax(g,P,W),v=L}else for(S=0;S<f.length;S++){if(P=f[S],L=P.instance,W=P.currentTarget,P=P.listener,L!==v&&g.isPropagationStopped())break e;Ax(g,P,W),v=L}}}if(Ui)throw s=sa,Ui=!1,sa=null,s}function Nt(s,a){var u=a[hf];u===void 0&&(u=a[hf]=new Set);var f=s+"__bubble";u.has(f)||(Ox(a,s,2,!1),u.add(f))}function of(s,a,u){var f=0;a&&(f|=4),Ox(u,s,f,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ba(s){if(!s[hc]){s[hc]=!0,n.forEach(function(u){u!=="selectionchange"&&(lC.has(u)||of(u,!1,s),of(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[hc]||(a[hc]=!0,of("selectionchange",!1,a))}}function Ox(s,a,u,f){switch(rx(a)){case 1:var g=jk;break;case 4:g=Nk;break;default:g=Bd}u=g.bind(null,a,u,s),g=void 0,!na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function af(s,a,u,f,g){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var P=f.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;S=S.return}for(;P!==null;){if(S=ii(P),S===null)return;if(L=S.tag,L===5||L===6){f=v=S;continue e}P=P.parentNode}}f=f.return}Ql(function(){var W=v,oe=ni(u),ae=[];e:{var se=Tx.get(s);if(se!==void 0){var Pe=Wd,Ie=s;switch(s){case"keypress":if(ac(u)===0)break e;case"keydown":case"keyup":Pe=Fk;break;case"focusin":Ie="focus",Pe=Gd;break;case"focusout":Ie="blur",Pe=Gd;break;case"beforeblur":case"afterblur":Pe=Gd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=$k;break;case _x:case kx:case Cx:Pe=Tk;break;case Ex:Pe=qk;break;case"scroll":Pe=Sk;break;case"wheel":Pe=Wk;break;case"copy":case"cut":case"paste":Pe=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=ax}var De=(a&4)!==0,Bt=!De&&s==="scroll",$=De?se!==null?se+"Capture":null:se;De=[];for(var D=W,q;D!==null;){q=D;var pe=q.stateNode;if(q.tag===5&&pe!==null&&(q=pe,$!==null&&(pe=gs(D,$),pe!=null&&De.push(wa(D,pe,q)))),Bt)break;D=D.return}0<De.length&&(se=new Pe(se,Ie,null,u,oe),ae.push({event:se,listeners:De}))}}if((a&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",se&&u!==en&&(Ie=u.relatedTarget||u.fromElement)&&(ii(Ie)||Ie[Zn]))break e;if((Pe||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,Pe?(Ie=u.relatedTarget||u.toElement,Pe=W,Ie=Ie?ii(Ie):null,Ie!==null&&(Bt=ut(Ie),Ie!==Bt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Pe=null,Ie=W),Pe!==Ie)){if(De=ix,pe="onMouseLeave",$="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(De=ax,pe="onPointerLeave",$="onPointerEnter",D="pointer"),Bt=Pe==null?se:Qi(Pe),q=Ie==null?se:Qi(Ie),se=new De(pe,D+"leave",Pe,u,oe),se.target=Bt,se.relatedTarget=q,pe=null,ii(oe)===W&&(De=new De($,D+"enter",Ie,u,oe),De.target=q,De.relatedTarget=Bt,pe=De),Bt=pe,Pe&&Ie)t:{for(De=Pe,$=Ie,D=0,q=De;q;q=Hi(q))D++;for(q=0,pe=$;pe;pe=Hi(pe))q++;for(;0<D-q;)De=Hi(De),D--;for(;0<q-D;)$=Hi($),q--;for(;D--;){if(De===$||$!==null&&De===$.alternate)break t;De=Hi(De),$=Hi($)}De=null}else De=null;Pe!==null&&Lx(ae,se,Pe,De,!1),Ie!==null&&Bt!==null&&Lx(ae,Bt,Ie,De,!0)}}e:{if(se=W?Qi(W):window,Pe=se.nodeName&&se.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&se.type==="file")var Fe=Yk;else if(hx(se))if(px)Fe=rC;else{Fe=eC;var qe=Xk}else(Pe=se.nodeName)&&Pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Fe=tC);if(Fe&&(Fe=Fe(s,W))){mx(ae,Fe,u,oe);break e}qe&&qe(s,se,W),s==="focusout"&&(qe=se._wrapperState)&&qe.controlled&&se.type==="number"&&ot(se,"number",se.value)}switch(qe=W?Qi(W):window,s){case"focusin":(hx(qe)||qe.contentEditable==="true")&&(Wi=qe,ef=W,ya=null);break;case"focusout":ya=ef=Wi=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Nx(ae,u,oe);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":Nx(ae,u,oe)}var ze;if(Jd)e:{switch(s){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else zi?dx(s,u)&&(Ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(lx&&u.locale!=="ko"&&(zi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&zi&&(ze=nx()):(Ss=oe,zd="value"in Ss?Ss.value:Ss.textContent,zi=!0)),qe=mc(W,Ze),0<qe.length&&(Ze=new ox(Ze,s,null,u,oe),ae.push({event:Ze,listeners:qe}),ze?Ze.data=ze:(ze=fx(u),ze!==null&&(Ze.data=ze)))),(ze=Hk?Gk(s,u):Qk(s,u))&&(W=mc(W,"onBeforeInput"),0<W.length&&(oe=new ox("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:W}),oe.data=ze))}Rx(ae,a)})}function wa(s,a,u){return{instance:s,listener:a,currentTarget:u}}function mc(s,a){for(var u=a+"Capture",f=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=gs(s,u),v!=null&&f.unshift(wa(s,v,g)),v=gs(s,a),v!=null&&f.push(wa(s,v,g))),s=s.return}return f}function Hi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Lx(s,a,u,f,g){for(var v=a._reactName,S=[];u!==null&&u!==f;){var P=u,L=P.alternate,W=P.stateNode;if(L!==null&&L===f)break;P.tag===5&&W!==null&&(P=W,g?(L=gs(u,v),L!=null&&S.unshift(wa(u,L,P))):g||(L=gs(u,v),L!=null&&S.push(wa(u,L,P)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var cC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function Ix(s){return(typeof s=="string"?s:""+s).replace(cC,`
`).replace(uC,"")}function pc(s,a,u){if(a=Ix(a),Ix(s)!==a&&u)throw Error(r(425))}function gc(){}var lf=null,cf=null;function uf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(s){return Dx.resolve(null).then(s).catch(hC)}:df;function hC(s){setTimeout(function(){throw s})}function ff(s,a){var u=a,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),da(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);da(a)}function ks(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Mx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Gi,ja="__reactProps$"+Gi,Zn="__reactContainer$"+Gi,hf="__reactEvents$"+Gi,mC="__reactListeners$"+Gi,pC="__reactHandles$"+Gi;function ii(s){var a=s[Dn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Zn]||u[Dn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Mx(s);s!==null;){if(u=s[Dn])return u;s=Mx(s)}return a}s=u,u=s.parentNode}return null}function Na(s){return s=s[Dn]||s[Zn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Qi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function xc(s){return s[ja]||null}var mf=[],Ji=-1;function Cs(s){return{current:s}}function St(s){0>Ji||(s.current=mf[Ji],mf[Ji]=null,Ji--)}function bt(s,a){Ji++,mf[Ji]=s.current,s.current=a}var Es={},xr=Cs(Es),Rr=Cs(!1),oi=Es;function Zi(s,a){var u=s.type.contextTypes;if(!u)return Es;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=a[v];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Or(s){return s=s.childContextTypes,s!=null}function yc(){St(Rr),St(xr)}function Fx(s,a,u){if(xr.current!==Es)throw Error(r(168));bt(xr,a),bt(Rr,u)}function Vx(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(r(108,ve(s)||"Unknown",g));return M({},u,f)}function vc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Es,oi=xr.current,bt(xr,s),bt(Rr,Rr.current),!0}function Ux(s,a,u){var f=s.stateNode;if(!f)throw Error(r(169));u?(s=Vx(s,a,oi),f.__reactInternalMemoizedMergedChildContext=s,St(Rr),St(xr),bt(xr,s)):St(Rr),bt(Rr,u)}var Yn=null,bc=!1,pf=!1;function $x(s){Yn===null?Yn=[s]:Yn.push(s)}function gC(s){bc=!0,$x(s)}function Ts(){if(!pf&&Yn!==null){pf=!0;var s=0,a=gt;try{var u=Yn;for(gt=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Yn=null,bc=!1}catch(g){throw Yn!==null&&(Yn=Yn.slice(s+1)),Jl(Dd,Ts),g}finally{gt=a,pf=!1}}return null}var Yi=[],Xi=0,wc=null,jc=0,rn=[],nn=0,ai=null,Xn=1,es="";function li(s,a){Yi[Xi++]=jc,Yi[Xi++]=wc,wc=s,jc=a}function Bx(s,a,u){rn[nn++]=Xn,rn[nn++]=es,rn[nn++]=ai,ai=s;var f=Xn;s=es;var g=32-mn(f)-1;f&=~(1<<g),u+=1;var v=32-mn(a)+g;if(30<v){var S=g-g%5;v=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Xn=1<<32-mn(a)+g|u<<g|f,es=v+s}else Xn=1<<v|u<<g|f,es=s}function gf(s){s.return!==null&&(li(s,1),Bx(s,1,0))}function xf(s){for(;s===wc;)wc=Yi[--Xi],Yi[Xi]=null,jc=Yi[--Xi],Yi[Xi]=null;for(;s===ai;)ai=rn[--nn],rn[nn]=null,es=rn[--nn],rn[nn]=null,Xn=rn[--nn],rn[nn]=null}var Br=null,qr=null,Et=!1,gn=null;function qx(s,a){var u=ln(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function zx(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Br=s,qr=ks(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Br=s,qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ai!==null?{id:Xn,overflow:es}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ln(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Br=s,qr=null,!0):!1;default:return!1}}function yf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vf(s){if(Et){var a=qr;if(a){var u=a;if(!zx(s,a)){if(yf(s))throw Error(r(418));a=ks(u.nextSibling);var f=Br;a&&zx(s,a)?qx(f,u):(s.flags=s.flags&-4097|2,Et=!1,Br=s)}}else{if(yf(s))throw Error(r(418));s.flags=s.flags&-4097|2,Et=!1,Br=s}}}function Wx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Br=s}function Nc(s){if(s!==Br)return!1;if(!Et)return Wx(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!uf(s.type,s.memoizedProps)),a&&(a=qr)){if(yf(s))throw Kx(),Error(r(418));for(;a;)qx(s,a),a=ks(a.nextSibling)}if(Wx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){qr=ks(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}qr=null}}else qr=Br?ks(s.stateNode.nextSibling):null;return!0}function Kx(){for(var s=qr;s;)s=ks(s.nextSibling)}function eo(){qr=Br=null,Et=!1}function bf(s){gn===null?gn=[s]:gn.push(s)}var xC=R.ReactCurrentBatchConfig;function Sa(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var f=u.stateNode}if(!f)throw Error(r(147,s));var g=f,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(S){var P=g.refs;S===null?delete P[v]:P[v]=S},a._stringRef=v,a)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function Sc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Hx(s){var a=s._init;return a(s._payload)}function Gx(s){function a($,D){if(s){var q=$.deletions;q===null?($.deletions=[D],$.flags|=16):q.push(D)}}function u($,D){if(!s)return null;for(;D!==null;)a($,D),D=D.sibling;return null}function f($,D){for($=new Map;D!==null;)D.key!==null?$.set(D.key,D):$.set(D.index,D),D=D.sibling;return $}function g($,D){return $=Ms($,D),$.index=0,$.sibling=null,$}function v($,D,q){return $.index=q,s?(q=$.alternate,q!==null?(q=q.index,q<D?($.flags|=2,D):q):($.flags|=2,D)):($.flags|=1048576,D)}function S($){return s&&$.alternate===null&&($.flags|=2),$}function P($,D,q,pe){return D===null||D.tag!==6?(D=dh(q,$.mode,pe),D.return=$,D):(D=g(D,q),D.return=$,D)}function L($,D,q,pe){var Fe=q.type;return Fe===K?oe($,D,q.props.children,pe,q.key):D!==null&&(D.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===we&&Hx(Fe)===D.type)?(pe=g(D,q.props),pe.ref=Sa($,D,q),pe.return=$,pe):(pe=Gc(q.type,q.key,q.props,null,$.mode,pe),pe.ref=Sa($,D,q),pe.return=$,pe)}function W($,D,q,pe){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=fh(q,$.mode,pe),D.return=$,D):(D=g(D,q.children||[]),D.return=$,D)}function oe($,D,q,pe,Fe){return D===null||D.tag!==7?(D=gi(q,$.mode,pe,Fe),D.return=$,D):(D=g(D,q),D.return=$,D)}function ae($,D,q){if(typeof D=="string"&&D!==""||typeof D=="number")return D=dh(""+D,$.mode,q),D.return=$,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return q=Gc(D.type,D.key,D.props,null,$.mode,q),q.ref=Sa($,null,D),q.return=$,q;case U:return D=fh(D,$.mode,q),D.return=$,D;case we:var pe=D._init;return ae($,pe(D._payload),q)}if(A(D)||de(D))return D=gi(D,$.mode,q,null),D.return=$,D;Sc($,D)}return null}function se($,D,q,pe){var Fe=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Fe!==null?null:P($,D,""+q,pe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===Fe?L($,D,q,pe):null;case U:return q.key===Fe?W($,D,q,pe):null;case we:return Fe=q._init,se($,D,Fe(q._payload),pe)}if(A(q)||de(q))return Fe!==null?null:oe($,D,q,pe,null);Sc($,q)}return null}function Pe($,D,q,pe,Fe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return $=$.get(q)||null,P(D,$,""+pe,Fe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case I:return $=$.get(pe.key===null?q:pe.key)||null,L(D,$,pe,Fe);case U:return $=$.get(pe.key===null?q:pe.key)||null,W(D,$,pe,Fe);case we:var qe=pe._init;return Pe($,D,q,qe(pe._payload),Fe)}if(A(pe)||de(pe))return $=$.get(q)||null,oe(D,$,pe,Fe,null);Sc(D,pe)}return null}function Ie($,D,q,pe){for(var Fe=null,qe=null,ze=D,Ze=D=0,cr=null;ze!==null&&Ze<q.length;Ze++){ze.index>Ze?(cr=ze,ze=null):cr=ze.sibling;var ht=se($,ze,q[Ze],pe);if(ht===null){ze===null&&(ze=cr);break}s&&ze&&ht.alternate===null&&a($,ze),D=v(ht,D,Ze),qe===null?Fe=ht:qe.sibling=ht,qe=ht,ze=cr}if(Ze===q.length)return u($,ze),Et&&li($,Ze),Fe;if(ze===null){for(;Ze<q.length;Ze++)ze=ae($,q[Ze],pe),ze!==null&&(D=v(ze,D,Ze),qe===null?Fe=ze:qe.sibling=ze,qe=ze);return Et&&li($,Ze),Fe}for(ze=f($,ze);Ze<q.length;Ze++)cr=Pe(ze,$,Ze,q[Ze],pe),cr!==null&&(s&&cr.alternate!==null&&ze.delete(cr.key===null?Ze:cr.key),D=v(cr,D,Ze),qe===null?Fe=cr:qe.sibling=cr,qe=cr);return s&&ze.forEach(function(Fs){return a($,Fs)}),Et&&li($,Ze),Fe}function De($,D,q,pe){var Fe=de(q);if(typeof Fe!="function")throw Error(r(150));if(q=Fe.call(q),q==null)throw Error(r(151));for(var qe=Fe=null,ze=D,Ze=D=0,cr=null,ht=q.next();ze!==null&&!ht.done;Ze++,ht=q.next()){ze.index>Ze?(cr=ze,ze=null):cr=ze.sibling;var Fs=se($,ze,ht.value,pe);if(Fs===null){ze===null&&(ze=cr);break}s&&ze&&Fs.alternate===null&&a($,ze),D=v(Fs,D,Ze),qe===null?Fe=Fs:qe.sibling=Fs,qe=Fs,ze=cr}if(ht.done)return u($,ze),Et&&li($,Ze),Fe;if(ze===null){for(;!ht.done;Ze++,ht=q.next())ht=ae($,ht.value,pe),ht!==null&&(D=v(ht,D,Ze),qe===null?Fe=ht:qe.sibling=ht,qe=ht);return Et&&li($,Ze),Fe}for(ze=f($,ze);!ht.done;Ze++,ht=q.next())ht=Pe(ze,$,Ze,ht.value,pe),ht!==null&&(s&&ht.alternate!==null&&ze.delete(ht.key===null?Ze:ht.key),D=v(ht,D,Ze),qe===null?Fe=ht:qe.sibling=ht,qe=ht);return s&&ze.forEach(function(JC){return a($,JC)}),Et&&li($,Ze),Fe}function Bt($,D,q,pe){if(typeof q=="object"&&q!==null&&q.type===K&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:e:{for(var Fe=q.key,qe=D;qe!==null;){if(qe.key===Fe){if(Fe=q.type,Fe===K){if(qe.tag===7){u($,qe.sibling),D=g(qe,q.props.children),D.return=$,$=D;break e}}else if(qe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===we&&Hx(Fe)===qe.type){u($,qe.sibling),D=g(qe,q.props),D.ref=Sa($,qe,q),D.return=$,$=D;break e}u($,qe);break}else a($,qe);qe=qe.sibling}q.type===K?(D=gi(q.props.children,$.mode,pe,q.key),D.return=$,$=D):(pe=Gc(q.type,q.key,q.props,null,$.mode,pe),pe.ref=Sa($,D,q),pe.return=$,$=pe)}return S($);case U:e:{for(qe=q.key;D!==null;){if(D.key===qe)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){u($,D.sibling),D=g(D,q.children||[]),D.return=$,$=D;break e}else{u($,D);break}else a($,D);D=D.sibling}D=fh(q,$.mode,pe),D.return=$,$=D}return S($);case we:return qe=q._init,Bt($,D,qe(q._payload),pe)}if(A(q))return Ie($,D,q,pe);if(de(q))return De($,D,q,pe);Sc($,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,D!==null&&D.tag===6?(u($,D.sibling),D=g(D,q),D.return=$,$=D):(u($,D),D=dh(q,$.mode,pe),D.return=$,$=D),S($)):u($,D)}return Bt}var to=Gx(!0),Qx=Gx(!1),_c=Cs(null),kc=null,ro=null,wf=null;function jf(){wf=ro=kc=null}function Nf(s){var a=_c.current;St(_c),s._currentValue=a}function Sf(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function no(s,a){kc=s,wf=ro=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Lr=!0),s.firstContext=null)}function sn(s){var a=s._currentValue;if(wf!==s)if(s={context:s,memoizedValue:a,next:null},ro===null){if(kc===null)throw Error(r(308));ro=s,kc.dependencies={lanes:0,firstContext:s}}else ro=ro.next=s;return a}var ci=null;function _f(s){ci===null?ci=[s]:ci.push(s)}function Jx(s,a,u,f){var g=a.interleaved;return g===null?(u.next=u,_f(a)):(u.next=g.next,g.next=u),a.interleaved=u,ts(s,f)}function ts(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ps=!1;function kf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function rs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function As(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,ts(s,u)}return g=f.interleaved,g===null?(a.next=a,_f(f)):(a.next=g.next,g.next=a),f.interleaved=a,ts(s,u)}function Cc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Vd(s,u)}}function Yx(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ec(s,a,u,f){var g=s.updateQueue;Ps=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var L=P,W=L.next;L.next=null,S===null?v=W:S.next=W,S=L;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,P=oe.lastBaseUpdate,P!==S&&(P===null?oe.firstBaseUpdate=W:P.next=W,oe.lastBaseUpdate=L))}if(v!==null){var ae=g.baseState;S=0,oe=W=L=null,P=v;do{var se=P.lane,Pe=P.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:Pe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Ie=s,De=P;switch(se=a,Pe=u,De.tag){case 1:if(Ie=De.payload,typeof Ie=="function"){ae=Ie.call(Pe,ae,se);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=De.payload,se=typeof Ie=="function"?Ie.call(Pe,ae,se):Ie,se==null)break e;ae=M({},ae,se);break e;case 2:Ps=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[P]:se.push(P))}else Pe={eventTime:Pe,lane:se,tag:P.tag,payload:P.payload,callback:P.callback,next:null},oe===null?(W=oe=Pe,L=ae):oe=oe.next=Pe,S|=se;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;se=P,P=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(L=ae),g.baseState=L,g.firstBaseUpdate=W,g.lastBaseUpdate=oe,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);fi|=S,s.lanes=S,s.memoizedState=ae}}function Xx(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var _a={},Mn=Cs(_a),ka=Cs(_a),Ca=Cs(_a);function ui(s){if(s===_a)throw Error(r(174));return s}function Cf(s,a){switch(bt(Ca,a),bt(ka,s),bt(Mn,_a),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Je(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Je(a,s)}St(Mn),bt(Mn,a)}function so(){St(Mn),St(ka),St(Ca)}function ey(s){ui(Ca.current);var a=ui(Mn.current),u=Je(a,s.type);a!==u&&(bt(ka,s),bt(Mn,u))}function Ef(s){ka.current===s&&(St(Mn),St(ka))}var Tt=Cs(0);function Tc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tf=[];function Pf(){for(var s=0;s<Tf.length;s++)Tf[s]._workInProgressVersionPrimary=null;Tf.length=0}var Pc=R.ReactCurrentDispatcher,Af=R.ReactCurrentBatchConfig,di=0,Pt=null,er=null,ar=null,Ac=!1,Ea=!1,Ta=0,yC=0;function yr(){throw Error(r(321))}function Rf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!pn(s[u],a[u]))return!1;return!0}function Of(s,a,u,f,g,v){if(di=v,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Pc.current=s===null||s.memoizedState===null?jC:NC,s=u(f,g),Ea){v=0;do{if(Ea=!1,Ta=0,25<=v)throw Error(r(301));v+=1,ar=er=null,a.updateQueue=null,Pc.current=SC,s=u(f,g)}while(Ea)}if(Pc.current=Lc,a=er!==null&&er.next!==null,di=0,ar=er=Pt=null,Ac=!1,a)throw Error(r(300));return s}function Lf(){var s=Ta!==0;return Ta=0,s}function Fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Pt.memoizedState=ar=s:ar=ar.next=s,ar}function on(){if(er===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=er.next;var a=ar===null?Pt.memoizedState:ar.next;if(a!==null)ar=a,er=s;else{if(s===null)throw Error(r(310));er=s,s={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ar===null?Pt.memoizedState=ar=s:ar=ar.next=s}return ar}function Pa(s,a){return typeof a=="function"?a(s):a}function If(s){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=er,g=f.baseQueue,v=u.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}f.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,f=f.baseState;var P=S=null,L=null,W=v;do{var oe=W.lane;if((di&oe)===oe)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var ae={lane:oe,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(P=L=ae,S=f):L=L.next=ae,Pt.lanes|=oe,fi|=oe}W=W.next}while(W!==null&&W!==v);L===null?S=f:L.next=P,pn(f,a.memoizedState)||(Lr=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=L,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do v=g.lane,Pt.lanes|=v,fi|=v,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Df(s){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do v=s(v,S.action),S=S.next;while(S!==g);pn(v,a.memoizedState)||(Lr=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,f]}function ty(){}function ry(s,a){var u=Pt,f=on(),g=a(),v=!pn(f.memoizedState,g);if(v&&(f.memoizedState=g,Lr=!0),f=f.queue,Mf(iy.bind(null,u,f,s),[s]),f.getSnapshot!==a||v||ar!==null&&ar.memoizedState.tag&1){if(u.flags|=2048,Aa(9,sy.bind(null,u,f,g,a),void 0,null),lr===null)throw Error(r(349));(di&30)!==0||ny(u,a,g)}return g}function ny(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function sy(s,a,u,f){a.value=u,a.getSnapshot=f,oy(a)&&ay(s)}function iy(s,a,u){return u(function(){oy(a)&&ay(s)})}function oy(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!pn(s,u)}catch{return!0}}function ay(s){var a=ts(s,1);a!==null&&bn(a,s,1,-1)}function ly(s){var a=Fn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:s},a.queue=s,s=s.dispatch=wC.bind(null,Pt,s),[a.memoizedState,s]}function Aa(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function cy(){return on().memoizedState}function Rc(s,a,u,f){var g=Fn();Pt.flags|=s,g.memoizedState=Aa(1|a,u,void 0,f===void 0?null:f)}function Oc(s,a,u,f){var g=on();f=f===void 0?null:f;var v=void 0;if(er!==null){var S=er.memoizedState;if(v=S.destroy,f!==null&&Rf(f,S.deps)){g.memoizedState=Aa(a,u,v,f);return}}Pt.flags|=s,g.memoizedState=Aa(1|a,u,v,f)}function uy(s,a){return Rc(8390656,8,s,a)}function Mf(s,a){return Oc(2048,8,s,a)}function dy(s,a){return Oc(4,2,s,a)}function fy(s,a){return Oc(4,4,s,a)}function hy(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function my(s,a,u){return u=u!=null?u.concat([s]):null,Oc(4,4,hy.bind(null,a,s),u)}function Ff(){}function py(s,a){var u=on();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Rf(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function gy(s,a){var u=on();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Rf(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function xy(s,a,u){return(di&21)===0?(s.baseState&&(s.baseState=!1,Lr=!0),s.memoizedState=u):(pn(u,a)||(u=Hg(),Pt.lanes|=u,fi|=u,s.baseState=!0),a)}function vC(s,a){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var f=Af.transition;Af.transition={};try{s(!1),a()}finally{gt=u,Af.transition=f}}function yy(){return on().memoizedState}function bC(s,a,u){var f=Is(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},vy(s))by(a,u);else if(u=Jx(s,a,u,f),u!==null){var g=Er();bn(u,s,f,g),wy(u,a,f)}}function wC(s,a,u){var f=Is(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(vy(s))by(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,P=v(S,u);if(g.hasEagerState=!0,g.eagerState=P,pn(P,S)){var L=a.interleaved;L===null?(g.next=g,_f(a)):(g.next=L.next,L.next=g),a.interleaved=g;return}}catch{}finally{}u=Jx(s,a,g,f),u!==null&&(g=Er(),bn(u,s,f,g),wy(u,a,f))}}function vy(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function by(s,a){Ea=Ac=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function wy(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Vd(s,u)}}var Lc={readContext:sn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},jC={readContext:sn,useCallback:function(s,a){return Fn().memoizedState=[s,a===void 0?null:a],s},useContext:sn,useEffect:uy,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Rc(4194308,4,hy.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Rc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Rc(4,2,s,a)},useMemo:function(s,a){var u=Fn();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Fn();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=bC.bind(null,Pt,s),[f.memoizedState,s]},useRef:function(s){var a=Fn();return s={current:s},a.memoizedState=s},useState:ly,useDebugValue:Ff,useDeferredValue:function(s){return Fn().memoizedState=s},useTransition:function(){var s=ly(!1),a=s[0];return s=vC.bind(null,s[1]),Fn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=Pt,g=Fn();if(Et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),lr===null)throw Error(r(349));(di&30)!==0||ny(f,a,u)}g.memoizedState=u;var v={value:u,getSnapshot:a};return g.queue=v,uy(iy.bind(null,f,v,s),[s]),f.flags|=2048,Aa(9,sy.bind(null,f,v,u,a),void 0,null),u},useId:function(){var s=Fn(),a=lr.identifierPrefix;if(Et){var u=es,f=Xn;u=(f&~(1<<32-mn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ta++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=yC++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},NC={readContext:sn,useCallback:py,useContext:sn,useEffect:Mf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:If,useRef:cy,useState:function(){return If(Pa)},useDebugValue:Ff,useDeferredValue:function(s){var a=on();return xy(a,er.memoizedState,s)},useTransition:function(){var s=If(Pa)[0],a=on().memoizedState;return[s,a]},useMutableSource:ty,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1},SC={readContext:sn,useCallback:py,useContext:sn,useEffect:Mf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Df,useRef:cy,useState:function(){return Df(Pa)},useDebugValue:Ff,useDeferredValue:function(s){var a=on();return er===null?a.memoizedState=s:xy(a,er.memoizedState,s)},useTransition:function(){var s=Df(Pa)[0],a=on().memoizedState;return[s,a]},useMutableSource:ty,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1};function xn(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Vf(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:M({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Ic={isMounted:function(s){return(s=s._reactInternals)?ut(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Er(),g=Is(s),v=rs(f,g);v.payload=a,u!=null&&(v.callback=u),a=As(s,v,g),a!==null&&(bn(a,s,g,f),Cc(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Er(),g=Is(s),v=rs(f,g);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=As(s,v,g),a!==null&&(bn(a,s,g,f),Cc(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Er(),f=Is(s),g=rs(u,f);g.tag=2,a!=null&&(g.callback=a),a=As(s,g,f),a!==null&&(bn(a,s,f,u),Cc(a,s,f))}};function jy(s,a,u,f,g,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,S):a.prototype&&a.prototype.isPureReactComponent?!xa(u,f)||!xa(g,v):!0}function Ny(s,a,u){var f=!1,g=Es,v=a.contextType;return typeof v=="object"&&v!==null?v=sn(v):(g=Or(a)?oi:xr.current,f=a.contextTypes,v=(f=f!=null)?Zi(s,g):Es),a=new a(u,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ic,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),a}function Sy(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Ic.enqueueReplaceState(a,a.state,null)}function Uf(s,a,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},kf(s);var v=a.contextType;typeof v=="object"&&v!==null?g.context=sn(v):(v=Or(a)?oi:xr.current,g.context=Zi(s,v)),g.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(s,a,v,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Ic.enqueueReplaceState(g,g.state,null),Ec(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function io(s,a){try{var u="",f=a;do u+=Te(f),f=f.return;while(f);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:g,digest:null}}function $f(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Bf(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var _C=typeof WeakMap=="function"?WeakMap:Map;function _y(s,a,u){u=rs(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Bc||(Bc=!0,nh=f),Bf(s,a)},u}function ky(s,a,u){u=rs(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){Bf(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Bf(s,a),typeof f!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function Cy(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new _C;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),s=VC.bind(null,s,a,u),a.then(s,s))}function Ey(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ty(s,a,u,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=rs(-1,1),a.tag=2,As(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var kC=R.ReactCurrentOwner,Lr=!1;function Cr(s,a,u,f){a.child=s===null?Qx(a,null,u,f):to(a,s.child,u,f)}function Py(s,a,u,f,g){u=u.render;var v=a.ref;return no(a,g),f=Of(s,a,u,f,v,g),u=Lf(),s!==null&&!Lr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ns(s,a,g)):(Et&&u&&gf(a),a.flags|=1,Cr(s,a,f,g),a.child)}function Ay(s,a,u,f,g){if(s===null){var v=u.type;return typeof v=="function"&&!uh(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=v,Ry(s,a,v,f,g)):(s=Gc(u.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&g)===0){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:xa,u(S,f)&&s.ref===a.ref)return ns(s,a,g)}return a.flags|=1,s=Ms(v,f),s.ref=a.ref,s.return=a,a.child=s}function Ry(s,a,u,f,g){if(s!==null){var v=s.memoizedProps;if(xa(v,f)&&s.ref===a.ref)if(Lr=!1,a.pendingProps=f=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Lr=!0);else return a.lanes=s.lanes,ns(s,a,g)}return qf(s,a,u,f,g)}function Oy(s,a,u){var f=a.pendingProps,g=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ao,zr),zr|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,bt(ao,zr),zr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,bt(ao,zr),zr|=f}else v!==null?(f=v.baseLanes|u,a.memoizedState=null):f=u,bt(ao,zr),zr|=f;return Cr(s,a,g,u),a.child}function Ly(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function qf(s,a,u,f,g){var v=Or(u)?oi:xr.current;return v=Zi(a,v),no(a,g),u=Of(s,a,u,f,v,g),f=Lf(),s!==null&&!Lr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ns(s,a,g)):(Et&&f&&gf(a),a.flags|=1,Cr(s,a,u,g),a.child)}function Iy(s,a,u,f,g){if(Or(u)){var v=!0;vc(a)}else v=!1;if(no(a,g),a.stateNode===null)Mc(s,a),Ny(a,u,f),Uf(a,u,f,g),f=!0;else if(s===null){var S=a.stateNode,P=a.memoizedProps;S.props=P;var L=S.context,W=u.contextType;typeof W=="object"&&W!==null?W=sn(W):(W=Or(u)?oi:xr.current,W=Zi(a,W));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==f||L!==W)&&Sy(a,S,f,W),Ps=!1;var se=a.memoizedState;S.state=se,Ec(a,f,S,g),L=a.memoizedState,P!==f||se!==L||Rr.current||Ps?(typeof oe=="function"&&(Vf(a,u,oe,f),L=a.memoizedState),(P=Ps||jy(a,u,P,f,se,L,W))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=L),S.props=f,S.state=L,S.context=W,f=P):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,Zx(s,a),P=a.memoizedProps,W=a.type===a.elementType?P:xn(a.type,P),S.props=W,ae=a.pendingProps,se=S.context,L=u.contextType,typeof L=="object"&&L!==null?L=sn(L):(L=Or(u)?oi:xr.current,L=Zi(a,L));var Pe=u.getDerivedStateFromProps;(oe=typeof Pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==ae||se!==L)&&Sy(a,S,f,L),Ps=!1,se=a.memoizedState,S.state=se,Ec(a,f,S,g);var Ie=a.memoizedState;P!==ae||se!==Ie||Rr.current||Ps?(typeof Pe=="function"&&(Vf(a,u,Pe,f),Ie=a.memoizedState),(W=Ps||jy(a,u,W,f,se,Ie,L)||!1)?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Ie,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Ie,L)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||P===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ie),S.props=f,S.state=Ie,S.context=L,f=W):(typeof S.componentDidUpdate!="function"||P===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),f=!1)}return zf(s,a,u,f,v,g)}function zf(s,a,u,f,g,v){Ly(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&Ux(a,u,!1),ns(s,a,v);f=a.stateNode,kC.current=a;var P=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=to(a,s.child,null,v),a.child=to(a,null,P,v)):Cr(s,a,P,v),a.memoizedState=f.state,g&&Ux(a,u,!0),a.child}function Dy(s){var a=s.stateNode;a.pendingContext?Fx(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Fx(s,a.context,!1),Cf(s,a.containerInfo)}function My(s,a,u,f,g){return eo(),bf(g),a.flags|=256,Cr(s,a,u,f),a.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Kf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Fy(s,a,u){var f=a.pendingProps,g=Tt.current,v=!1,S=(a.flags&128)!==0,P;if((P=S)||(P=s!==null&&s.memoizedState===null?!1:(g&2)!==0),P?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),bt(Tt,g&1),s===null)return vf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,s=f.fallback,v?(f=a.mode,v=a.child,S={mode:"hidden",children:S},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Qc(S,f,0,null),s=gi(s,f,u,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=Kf(u),a.memoizedState=Wf,s):Hf(a,S));if(g=s.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return CC(s,a,S,f,P,g,u);if(v){v=f.fallback,S=a.mode,g=s.child,P=g.sibling;var L={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=L,a.deletions=null):(f=Ms(g,L),f.subtreeFlags=g.subtreeFlags&14680064),P!==null?v=Ms(P,v):(v=gi(v,S,u,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,S=s.child.memoizedState,S=S===null?Kf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~u,a.memoizedState=Wf,f}return v=s.child,s=v.sibling,f=Ms(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Hf(s,a){return a=Qc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Dc(s,a,u,f){return f!==null&&bf(f),to(a,s.child,null,u),s=Hf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function CC(s,a,u,f,g,v,S){if(u)return a.flags&256?(a.flags&=-257,f=$f(Error(r(422))),Dc(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=f.fallback,g=a.mode,f=Qc({mode:"visible",children:f.children},g,0,null),v=gi(v,g,S,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&to(a,s.child,null,S),a.child.memoizedState=Kf(S),a.memoizedState=Wf,v);if((a.mode&1)===0)return Dc(s,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var P=f.dgst;return f=P,v=Error(r(419)),f=$f(v,f,void 0),Dc(s,a,S,f)}if(P=(S&s.childLanes)!==0,Lr||P){if(f=lr,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,ts(s,g),bn(f,s,g,-1))}return ch(),f=$f(Error(r(421))),Dc(s,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=UC.bind(null,s),g._reactRetry=a,null):(s=v.treeContext,qr=ks(g.nextSibling),Br=a,Et=!0,gn=null,s!==null&&(rn[nn++]=Xn,rn[nn++]=es,rn[nn++]=ai,Xn=s.id,es=s.overflow,ai=a),a=Hf(a,f.children),a.flags|=4096,a)}function Vy(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Sf(s.return,a,u)}function Gf(s,a,u,f,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=g)}function Uy(s,a,u){var f=a.pendingProps,g=f.revealOrder,v=f.tail;if(Cr(s,a,f.children,u),f=Tt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Vy(s,u,a);else if(s.tag===19)Vy(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(bt(Tt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Tc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Gf(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Tc(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Gf(a,!0,u,null,v);break;case"together":Gf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ns(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),fi|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Ms(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ms(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function EC(s,a,u){switch(a.tag){case 3:Dy(a),eo();break;case 5:ey(a);break;case 1:Or(a.type)&&vc(a);break;case 4:Cf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;bt(_c,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(bt(Tt,Tt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Fy(s,a,u):(bt(Tt,Tt.current&1),s=ns(s,a,u),s!==null?s.sibling:null);bt(Tt,Tt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Uy(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),bt(Tt,Tt.current),f)break;return null;case 22:case 23:return a.lanes=0,Oy(s,a,u)}return ns(s,a,u)}var $y,Qf,By,qy;$y=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qf=function(){},By=function(s,a,u,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,ui(Mn.current);var v=null;switch(u){case"input":g=z(s,g),f=z(s,f),v=[];break;case"select":g=M({},g,{value:void 0}),f=M({},f,{value:void 0}),v=[];break;case"textarea":g=H(s,g),f=H(s,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=gc)}It(u,f);var S;u=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var P=g[W];for(S in P)P.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in f){var L=f[W];if(P=g?.[W],f.hasOwnProperty(W)&&L!==P&&(L!=null||P!=null))if(W==="style")if(P){for(S in P)!P.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in L)L.hasOwnProperty(S)&&P[S]!==L[S]&&(u||(u={}),u[S]=L[S])}else u||(v||(v=[]),v.push(W,u)),u=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(v=v||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&Nt("scroll",s),v||P===L||(v=[])):(v=v||[]).push(W,L))}u&&(v=v||[]).push("style",u);var W=v;(a.updateQueue=W)&&(a.flags|=4)}},qy=function(s,a,u,f){u!==f&&(a.flags|=4)};function Ra(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function vr(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function TC(s,a,u){var f=a.pendingProps;switch(xf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(a),null;case 1:return Or(a.type)&&yc(),vr(a),null;case 3:return f=a.stateNode,so(),St(Rr),St(xr),Pf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Nc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gn!==null&&(oh(gn),gn=null))),Qf(s,a),vr(a),null;case 5:Ef(a);var g=ui(Ca.current);if(u=a.type,s!==null&&a.stateNode!=null)By(s,a,u,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return vr(a),null}if(s=ui(Mn.current),Nc(a)){f=a.stateNode,u=a.type;var v=a.memoizedProps;switch(f[Dn]=a,f[ja]=v,s=(a.mode&1)!==0,u){case"dialog":Nt("cancel",f),Nt("close",f);break;case"iframe":case"object":case"embed":Nt("load",f);break;case"video":case"audio":for(g=0;g<va.length;g++)Nt(va[g],f);break;case"source":Nt("error",f);break;case"img":case"image":case"link":Nt("error",f),Nt("load",f);break;case"details":Nt("toggle",f);break;case"input":Ee(f,v),Nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Nt("invalid",f);break;case"textarea":he(f,v),Nt("invalid",f)}It(u,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var P=v[S];S==="children"?typeof P=="string"?f.textContent!==P&&(v.suppressHydrationWarning!==!0&&pc(f.textContent,P,s),g=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&pc(f.textContent,P,s),g=["children",""+P]):o.hasOwnProperty(S)&&P!=null&&S==="onScroll"&&Nt("scroll",f)}switch(u){case"input":sr(f),lt(f,v,!0);break;case"textarea":sr(f),ue(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=gc)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=je(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[Dn]=a,s[ja]=f,$y(s,a,!1,!1),a.stateNode=s;e:{switch(S=kr(u,f),u){case"dialog":Nt("cancel",s),Nt("close",s),g=f;break;case"iframe":case"object":case"embed":Nt("load",s),g=f;break;case"video":case"audio":for(g=0;g<va.length;g++)Nt(va[g],s);g=f;break;case"source":Nt("error",s),g=f;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),g=f;break;case"details":Nt("toggle",s),g=f;break;case"input":Ee(s,f),g=z(s,f),Nt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=M({},f,{value:void 0}),Nt("invalid",s);break;case"textarea":he(s,f),g=H(s,f),Nt("invalid",s);break;default:g=f}It(u,g),P=g;for(v in P)if(P.hasOwnProperty(v)){var L=P[v];v==="style"?Ht(s,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ut(s,L)):v==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&_r(s,L):typeof L=="number"&&_r(s,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Nt("scroll",s):L!=null&&E(s,v,L,S))}switch(u){case"input":sr(s),lt(s,f,!1);break;case"textarea":sr(s),ue(s);break;case"option":f.value!=null&&s.setAttribute("value",""+be(f.value));break;case"select":s.multiple=!!f.multiple,v=f.value,v!=null?F(s,!!f.multiple,v,!1):f.defaultValue!=null&&F(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=gc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vr(a),null;case 6:if(s&&a.stateNode!=null)qy(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(u=ui(Ca.current),ui(Mn.current),Nc(a)){if(f=a.stateNode,u=a.memoizedProps,f[Dn]=a,(v=f.nodeValue!==u)&&(s=Br,s!==null))switch(s.tag){case 3:pc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pc(f.nodeValue,u,(s.mode&1)!==0)}v&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Dn]=a,a.stateNode=f}return vr(a),null;case 13:if(St(Tt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&qr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Kx(),eo(),a.flags|=98560,v=!1;else if(v=Nc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Dn]=a}else eo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vr(a),v=!1}else gn!==null&&(oh(gn),gn=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?tr===0&&(tr=3):ch())),a.updateQueue!==null&&(a.flags|=4),vr(a),null);case 4:return so(),Qf(s,a),s===null&&ba(a.stateNode.containerInfo),vr(a),null;case 10:return Nf(a.type._context),vr(a),null;case 17:return Or(a.type)&&yc(),vr(a),null;case 19:if(St(Tt),v=a.memoizedState,v===null)return vr(a),null;if(f=(a.flags&128)!==0,S=v.rendering,S===null)if(f)Ra(v,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Tc(s),S!==null){for(a.flags|=128,Ra(v,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)v=u,s=f,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return bt(Tt,Tt.current&1|2),a.child}s=s.sibling}v.tail!==null&&$t()>lo&&(a.flags|=128,f=!0,Ra(v,!1),a.lanes=4194304)}else{if(!f)if(s=Tc(S),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ra(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Et)return vr(a),null}else 2*$t()-v.renderingStartTime>lo&&u!==1073741824&&(a.flags|=128,f=!0,Ra(v,!1),a.lanes=4194304);v.isBackwards?(S.sibling=a.child,a.child=S):(u=v.last,u!==null?u.sibling=S:a.child=S,v.last=S)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=$t(),a.sibling=null,u=Tt.current,bt(Tt,f?u&1|2:u&1),a):(vr(a),null);case 22:case 23:return lh(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(zr&1073741824)!==0&&(vr(a),a.subtreeFlags&6&&(a.flags|=8192)):vr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function PC(s,a){switch(xf(a),a.tag){case 1:return Or(a.type)&&yc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return so(),St(Rr),St(xr),Pf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ef(a),null;case 13:if(St(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));eo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return St(Tt),null;case 4:return so(),null;case 10:return Nf(a.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var Fc=!1,br=!1,AC=typeof WeakSet=="function"?WeakSet:Set,Le=null;function oo(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Dt(s,a,f)}else u.current=null}function Jf(s,a,u){try{u()}catch(f){Dt(s,a,f)}}var zy=!1;function RC(s,a){if(lf=sc,s=jx(),Xd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,P=-1,L=-1,W=0,oe=0,ae=s,se=null;t:for(;;){for(var Pe;ae!==u||g!==0&&ae.nodeType!==3||(P=S+g),ae!==v||f!==0&&ae.nodeType!==3||(L=S+f),ae.nodeType===3&&(S+=ae.nodeValue.length),(Pe=ae.firstChild)!==null;)se=ae,ae=Pe;for(;;){if(ae===s)break t;if(se===u&&++W===g&&(P=S),se===v&&++oe===f&&(L=S),(Pe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=Pe}u=P===-1||L===-1?null:{start:P,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(cf={focusedElem:s,selectionRange:u},sc=!1,Le=a;Le!==null;)if(a=Le,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Le=s;else for(;Le!==null;){a=Le;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var De=Ie.memoizedProps,Bt=Ie.memoizedState,$=a.stateNode,D=$.getSnapshotBeforeUpdate(a.elementType===a.type?De:xn(a.type,De),Bt);$.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){Dt(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,Le=s;break}Le=a.return}return Ie=zy,zy=!1,Ie}function Oa(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&Jf(a,u,v)}g=g.next}while(g!==f)}}function Vc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Zf(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Wy(s){var a=s.alternate;a!==null&&(s.alternate=null,Wy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Dn],delete a[ja],delete a[hf],delete a[mC],delete a[pC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ky(s){return s.tag===5||s.tag===3||s.tag===4}function Hy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ky(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=gc));else if(f!==4&&(s=s.child,s!==null))for(Yf(s,a,u),s=s.sibling;s!==null;)Yf(s,a,u),s=s.sibling}function Xf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Xf(s,a,u),s=s.sibling;s!==null;)Xf(s,a,u),s=s.sibling}var fr=null,yn=!1;function Rs(s,a,u){for(u=u.child;u!==null;)Gy(s,a,u),u=u.sibling}function Gy(s,a,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Yl,u)}catch{}switch(u.tag){case 5:br||oo(u,a);case 6:var f=fr,g=yn;fr=null,Rs(s,a,u),fr=f,yn=g,fr!==null&&(yn?(s=fr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):fr.removeChild(u.stateNode));break;case 18:fr!==null&&(yn?(s=fr,u=u.stateNode,s.nodeType===8?ff(s.parentNode,u):s.nodeType===1&&ff(s,u),da(s)):ff(fr,u.stateNode));break;case 4:f=fr,g=yn,fr=u.stateNode.containerInfo,yn=!0,Rs(s,a,u),fr=f,yn=g;break;case 0:case 11:case 14:case 15:if(!br&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Jf(u,a,S),g=g.next}while(g!==f)}Rs(s,a,u);break;case 1:if(!br&&(oo(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(P){Dt(u,a,P)}Rs(s,a,u);break;case 21:Rs(s,a,u);break;case 22:u.mode&1?(br=(f=br)||u.memoizedState!==null,Rs(s,a,u),br=f):Rs(s,a,u);break;default:Rs(s,a,u)}}function Qy(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new AC),a.forEach(function(f){var g=$C.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function vn(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var v=s,S=a,P=S;e:for(;P!==null;){switch(P.tag){case 5:fr=P.stateNode,yn=!1;break e;case 3:fr=P.stateNode.containerInfo,yn=!0;break e;case 4:fr=P.stateNode.containerInfo,yn=!0;break e}P=P.return}if(fr===null)throw Error(r(160));Gy(v,S,g),fr=null,yn=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(W){Dt(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Jy(a,s),a=a.sibling}function Jy(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(vn(a,s),Vn(s),f&4){try{Oa(3,s,s.return),Vc(3,s)}catch(De){Dt(s,s.return,De)}try{Oa(5,s,s.return)}catch(De){Dt(s,s.return,De)}}break;case 1:vn(a,s),Vn(s),f&512&&u!==null&&oo(u,u.return);break;case 5:if(vn(a,s),Vn(s),f&512&&u!==null&&oo(u,u.return),s.flags&32){var g=s.stateNode;try{_r(g,"")}catch(De){Dt(s,s.return,De)}}if(f&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,S=u!==null?u.memoizedProps:v,P=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&ye(g,v),kr(P,S);var W=kr(P,v);for(S=0;S<L.length;S+=2){var oe=L[S],ae=L[S+1];oe==="style"?Ht(g,ae):oe==="dangerouslySetInnerHTML"?Ut(g,ae):oe==="children"?_r(g,ae):E(g,oe,ae,W)}switch(P){case"input":xe(g,v);break;case"textarea":me(g,v);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Pe=v.value;Pe!=null?F(g,!!v.multiple,Pe,!1):se!==!!v.multiple&&(v.defaultValue!=null?F(g,!!v.multiple,v.defaultValue,!0):F(g,!!v.multiple,v.multiple?[]:"",!1))}g[ja]=v}catch(De){Dt(s,s.return,De)}}break;case 6:if(vn(a,s),Vn(s),f&4){if(s.stateNode===null)throw Error(r(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(De){Dt(s,s.return,De)}}break;case 3:if(vn(a,s),Vn(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{da(a.containerInfo)}catch(De){Dt(s,s.return,De)}break;case 4:vn(a,s),Vn(s);break;case 13:vn(a,s),Vn(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(rh=$t())),f&4&&Qy(s);break;case 22:if(oe=u!==null&&u.memoizedState!==null,s.mode&1?(br=(W=br)||oe,vn(a,s),br=W):vn(a,s),Vn(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!oe&&(s.mode&1)!==0)for(Le=s,oe=s.child;oe!==null;){for(ae=Le=oe;Le!==null;){switch(se=Le,Pe=se.child,se.tag){case 0:case 11:case 14:case 15:Oa(4,se,se.return);break;case 1:oo(se,se.return);var Ie=se.stateNode;if(typeof Ie.componentWillUnmount=="function"){f=se,u=se.return;try{a=f,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch(De){Dt(f,u,De)}}break;case 5:oo(se,se.return);break;case 22:if(se.memoizedState!==null){Xy(ae);continue}}Pe!==null?(Pe.return=se,Le=Pe):Xy(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{g=ae.stateNode,W?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=ae.stateNode,L=ae.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=ge("display",S))}catch(De){Dt(s,s.return,De)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=W?"":ae.memoizedProps}catch(De){Dt(s,s.return,De)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:vn(a,s),Vn(s),f&4&&Qy(s);break;case 21:break;default:vn(a,s),Vn(s)}}function Vn(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Ky(u)){var f=u;break e}u=u.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(_r(g,""),f.flags&=-33);var v=Hy(s);Xf(s,v,g);break;case 3:case 4:var S=f.stateNode.containerInfo,P=Hy(s);Yf(s,P,S);break;default:throw Error(r(161))}}catch(L){Dt(s,s.return,L)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function OC(s,a,u){Le=s,Zy(s)}function Zy(s,a,u){for(var f=(s.mode&1)!==0;Le!==null;){var g=Le,v=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Fc;if(!S){var P=g.alternate,L=P!==null&&P.memoizedState!==null||br;P=Fc;var W=br;if(Fc=S,(br=L)&&!W)for(Le=g;Le!==null;)S=Le,L=S.child,S.tag===22&&S.memoizedState!==null?ev(g):L!==null?(L.return=S,Le=L):ev(g);for(;v!==null;)Le=v,Zy(v),v=v.sibling;Le=g,Fc=P,br=W}Yy(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Le=v):Yy(s)}}function Yy(s){for(;Le!==null;){var a=Le;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:br||Vc(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!br)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:xn(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&Xx(a,v,f);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Xx(a,S,u)}break;case 5:var P=a.stateNode;if(u===null&&a.flags&4){u=P;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var oe=W.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&da(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}br||a.flags&512&&Zf(a)}catch(se){Dt(a,a.return,se)}}if(a===s){Le=null;break}if(u=a.sibling,u!==null){u.return=a.return,Le=u;break}Le=a.return}}function Xy(s){for(;Le!==null;){var a=Le;if(a===s){Le=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Le=u;break}Le=a.return}}function ev(s){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Vc(4,a)}catch(L){Dt(a,u,L)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(L){Dt(a,g,L)}}var v=a.return;try{Zf(a)}catch(L){Dt(a,v,L)}break;case 5:var S=a.return;try{Zf(a)}catch(L){Dt(a,S,L)}}}catch(L){Dt(a,a.return,L)}if(a===s){Le=null;break}var P=a.sibling;if(P!==null){P.return=a.return,Le=P;break}Le=a.return}}var LC=Math.ceil,Uc=R.ReactCurrentDispatcher,eh=R.ReactCurrentOwner,an=R.ReactCurrentBatchConfig,dt=0,lr=null,Gt=null,hr=0,zr=0,ao=Cs(0),tr=0,La=null,fi=0,$c=0,th=0,Ia=null,Ir=null,rh=0,lo=1/0,ss=null,Bc=!1,nh=null,Os=null,qc=!1,Ls=null,zc=0,Da=0,sh=null,Wc=-1,Kc=0;function Er(){return(dt&6)!==0?$t():Wc!==-1?Wc:Wc=$t()}function Is(s){return(s.mode&1)===0?1:(dt&2)!==0&&hr!==0?hr&-hr:xC.transition!==null?(Kc===0&&(Kc=Hg()),Kc):(s=gt,s!==0||(s=window.event,s=s===void 0?16:rx(s.type)),s)}function bn(s,a,u,f){if(50<Da)throw Da=0,sh=null,Error(r(185));oa(s,u,f),((dt&2)===0||s!==lr)&&(s===lr&&((dt&2)===0&&($c|=u),tr===4&&Ds(s,hr)),Dr(s,f),u===1&&dt===0&&(a.mode&1)===0&&(lo=$t()+500,bc&&Ts()))}function Dr(s,a){var u=s.callbackNode;xk(s,a);var f=tc(s,s===lr?hr:0);if(f===0)u!==null&&$i(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&$i(u),a===1)s.tag===0?gC(rv.bind(null,s)):$x(rv.bind(null,s)),fC(function(){(dt&6)===0&&Ts()}),u=null;else{switch(Gg(f)){case 1:u=Dd;break;case 4:u=Wg;break;case 16:u=Zl;break;case 536870912:u=Kg;break;default:u=Zl}u=uv(u,tv.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function tv(s,a){if(Wc=-1,Kc=0,(dt&6)!==0)throw Error(r(327));var u=s.callbackNode;if(co()&&s.callbackNode!==u)return null;var f=tc(s,s===lr?hr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Hc(s,f);else{a=f;var g=dt;dt|=2;var v=sv();(lr!==s||hr!==a)&&(ss=null,lo=$t()+500,mi(s,a));do try{MC();break}catch(P){nv(s,P)}while(!0);jf(),Uc.current=v,dt=g,Gt!==null?a=0:(lr=null,hr=0,a=tr)}if(a!==0){if(a===2&&(g=Md(s),g!==0&&(f=g,a=ih(s,g))),a===1)throw u=La,mi(s,0),Ds(s,f),Dr(s,$t()),u;if(a===6)Ds(s,f);else{if(g=s.current.alternate,(f&30)===0&&!IC(g)&&(a=Hc(s,f),a===2&&(v=Md(s),v!==0&&(f=v,a=ih(s,v))),a===1))throw u=La,mi(s,0),Ds(s,f),Dr(s,$t()),u;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:pi(s,Ir,ss);break;case 3:if(Ds(s,f),(f&130023424)===f&&(a=rh+500-$t(),10<a)){if(tc(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Er(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=df(pi.bind(null,s,Ir,ss),a);break}pi(s,Ir,ss);break;case 4:if(Ds(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var S=31-mn(f);v=1<<S,S=a[S],S>g&&(g=S),f&=~v}if(f=g,f=$t()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*LC(f/1960))-f,10<f){s.timeoutHandle=df(pi.bind(null,s,Ir,ss),f);break}pi(s,Ir,ss);break;case 5:pi(s,Ir,ss);break;default:throw Error(r(329))}}}return Dr(s,$t()),s.callbackNode===u?tv.bind(null,s):null}function ih(s,a){var u=Ia;return s.current.memoizedState.isDehydrated&&(mi(s,a).flags|=256),s=Hc(s,a),s!==2&&(a=Ir,Ir=u,a!==null&&oh(a)),s}function oh(s){Ir===null?Ir=s:Ir.push.apply(Ir,s)}function IC(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!pn(v(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ds(s,a){for(a&=~th,a&=~$c,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-mn(a),f=1<<u;s[u]=-1,a&=~f}}function rv(s){if((dt&6)!==0)throw Error(r(327));co();var a=tc(s,0);if((a&1)===0)return Dr(s,$t()),null;var u=Hc(s,a);if(s.tag!==0&&u===2){var f=Md(s);f!==0&&(a=f,u=ih(s,f))}if(u===1)throw u=La,mi(s,0),Ds(s,a),Dr(s,$t()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,pi(s,Ir,ss),Dr(s,$t()),null}function ah(s,a){var u=dt;dt|=1;try{return s(a)}finally{dt=u,dt===0&&(lo=$t()+500,bc&&Ts())}}function hi(s){Ls!==null&&Ls.tag===0&&(dt&6)===0&&co();var a=dt;dt|=1;var u=an.transition,f=gt;try{if(an.transition=null,gt=1,s)return s()}finally{gt=f,an.transition=u,dt=a,(dt&6)===0&&Ts()}}function lh(){zr=ao.current,St(ao)}function mi(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,dC(u)),Gt!==null)for(u=Gt.return;u!==null;){var f=u;switch(xf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&yc();break;case 3:so(),St(Rr),St(xr),Pf();break;case 5:Ef(f);break;case 4:so();break;case 13:St(Tt);break;case 19:St(Tt);break;case 10:Nf(f.type._context);break;case 22:case 23:lh()}u=u.return}if(lr=s,Gt=s=Ms(s.current,null),hr=zr=a,tr=0,La=null,th=$c=fi=0,Ir=Ia=null,ci!==null){for(a=0;a<ci.length;a++)if(u=ci[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,v=u.pending;if(v!==null){var S=v.next;v.next=g,f.next=S}u.pending=f}ci=null}return s}function nv(s,a){do{var u=Gt;try{if(jf(),Pc.current=Lc,Ac){for(var f=Pt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ac=!1}if(di=0,ar=er=Pt=null,Ea=!1,Ta=0,eh.current=null,u===null||u.return===null){tr=1,La=a,Gt=null;break}e:{var v=s,S=u.return,P=u,L=a;if(a=hr,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,oe=P,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var Pe=Ey(S);if(Pe!==null){Pe.flags&=-257,Ty(Pe,S,P,v,a),Pe.mode&1&&Cy(v,W,a),a=Pe,L=W;var Ie=a.updateQueue;if(Ie===null){var De=new Set;De.add(L),a.updateQueue=De}else Ie.add(L);break e}else{if((a&1)===0){Cy(v,W,a),ch();break e}L=Error(r(426))}}else if(Et&&P.mode&1){var Bt=Ey(S);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),Ty(Bt,S,P,v,a),bf(io(L,P));break e}}v=L=io(L,P),tr!==4&&(tr=2),Ia===null?Ia=[v]:Ia.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var $=_y(v,L,a);Yx(v,$);break e;case 1:P=L;var D=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Os===null||!Os.has(q)))){v.flags|=65536,a&=-a,v.lanes|=a;var pe=ky(v,P,a);Yx(v,pe);break e}}v=v.return}while(v!==null)}ov(u)}catch(Fe){a=Fe,Gt===u&&u!==null&&(Gt=u=u.return);continue}break}while(!0)}function sv(){var s=Uc.current;return Uc.current=Lc,s===null?Lc:s}function ch(){(tr===0||tr===3||tr===2)&&(tr=4),lr===null||(fi&268435455)===0&&($c&268435455)===0||Ds(lr,hr)}function Hc(s,a){var u=dt;dt|=2;var f=sv();(lr!==s||hr!==a)&&(ss=null,mi(s,a));do try{DC();break}catch(g){nv(s,g)}while(!0);if(jf(),dt=u,Uc.current=f,Gt!==null)throw Error(r(261));return lr=null,hr=0,tr}function DC(){for(;Gt!==null;)iv(Gt)}function MC(){for(;Gt!==null&&!lk();)iv(Gt)}function iv(s){var a=cv(s.alternate,s,zr);s.memoizedProps=s.pendingProps,a===null?ov(s):Gt=a,eh.current=null}function ov(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=TC(u,a,zr),u!==null){Gt=u;return}}else{if(u=PC(u,a),u!==null){u.flags&=32767,Gt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tr=6,Gt=null;return}}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=s}while(a!==null);tr===0&&(tr=5)}function pi(s,a,u){var f=gt,g=an.transition;try{an.transition=null,gt=1,FC(s,a,u,f)}finally{an.transition=g,gt=f}return null}function FC(s,a,u,f){do co();while(Ls!==null);if((dt&6)!==0)throw Error(r(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(yk(s,v),s===lr&&(Gt=lr=null,hr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||qc||(qc=!0,uv(Zl,function(){return co(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=an.transition,an.transition=null;var S=gt;gt=1;var P=dt;dt|=4,eh.current=null,RC(s,u),Jy(u,s),sC(cf),sc=!!lf,cf=lf=null,s.current=u,OC(u),ck(),dt=P,gt=S,an.transition=v}else s.current=u;if(qc&&(qc=!1,Ls=s,zc=g),v=s.pendingLanes,v===0&&(Os=null),fk(u.stateNode),Dr(s,$t()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Bc)throw Bc=!1,s=nh,nh=null,s;return(zc&1)!==0&&s.tag!==0&&co(),v=s.pendingLanes,(v&1)!==0?s===sh?Da++:(Da=0,sh=s):Da=0,Ts(),null}function co(){if(Ls!==null){var s=Gg(zc),a=an.transition,u=gt;try{if(an.transition=null,gt=16>s?16:s,Ls===null)var f=!1;else{if(s=Ls,Ls=null,zc=0,(dt&6)!==0)throw Error(r(331));var g=dt;for(dt|=4,Le=s.current;Le!==null;){var v=Le,S=v.child;if((Le.flags&16)!==0){var P=v.deletions;if(P!==null){for(var L=0;L<P.length;L++){var W=P[L];for(Le=W;Le!==null;){var oe=Le;switch(oe.tag){case 0:case 11:case 15:Oa(8,oe,v)}var ae=oe.child;if(ae!==null)ae.return=oe,Le=ae;else for(;Le!==null;){oe=Le;var se=oe.sibling,Pe=oe.return;if(Wy(oe),oe===W){Le=null;break}if(se!==null){se.return=Pe,Le=se;break}Le=Pe}}}var Ie=v.alternate;if(Ie!==null){var De=Ie.child;if(De!==null){Ie.child=null;do{var Bt=De.sibling;De.sibling=null,De=Bt}while(De!==null)}}Le=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Le=S;else e:for(;Le!==null;){if(v=Le,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Oa(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,Le=$;break e}Le=v.return}}var D=s.current;for(Le=D;Le!==null;){S=Le;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,Le=q;else e:for(S=D;Le!==null;){if(P=Le,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Vc(9,P)}}catch(Fe){Dt(P,P.return,Fe)}if(P===S){Le=null;break e}var pe=P.sibling;if(pe!==null){pe.return=P.return,Le=pe;break e}Le=P.return}}if(dt=g,Ts(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Yl,s)}catch{}f=!0}return f}finally{gt=u,an.transition=a}}return!1}function av(s,a,u){a=io(u,a),a=_y(s,a,1),s=As(s,a,1),a=Er(),s!==null&&(oa(s,1,a),Dr(s,a))}function Dt(s,a,u){if(s.tag===3)av(s,s,u);else for(;a!==null;){if(a.tag===3){av(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))){s=io(u,s),s=ky(a,s,1),a=As(a,s,1),s=Er(),a!==null&&(oa(a,1,s),Dr(a,s));break}}a=a.return}}function VC(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=Er(),s.pingedLanes|=s.suspendedLanes&u,lr===s&&(hr&u)===u&&(tr===4||tr===3&&(hr&130023424)===hr&&500>$t()-rh?mi(s,0):th|=u),Dr(s,a)}function lv(s,a){a===0&&((s.mode&1)===0?a=1:(a=ec,ec<<=1,(ec&130023424)===0&&(ec=4194304)));var u=Er();s=ts(s,a),s!==null&&(oa(s,a,u),Dr(s,u))}function UC(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),lv(s,u)}function $C(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),lv(s,u)}var cv;cv=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Rr.current)Lr=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Lr=!1,EC(s,a,u);Lr=(s.flags&131072)!==0}else Lr=!1,Et&&(a.flags&1048576)!==0&&Bx(a,jc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Mc(s,a),s=a.pendingProps;var g=Zi(a,xr.current);no(a,u),g=Of(null,a,f,s,g,u);var v=Lf();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Or(f)?(v=!0,vc(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,kf(a),g.updater=Ic,a.stateNode=g,g._reactInternals=a,Uf(a,f,s,u),a=zf(null,a,f,!0,v,u)):(a.tag=0,Et&&v&&gf(a),Cr(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Mc(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=qC(f),s=xn(f,s),g){case 0:a=qf(null,a,f,s,u);break e;case 1:a=Iy(null,a,f,s,u);break e;case 11:a=Py(null,a,f,s,u);break e;case 14:a=Ay(null,a,f,xn(f.type,s),u);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:xn(f,g),qf(s,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:xn(f,g),Iy(s,a,f,g,u);case 3:e:{if(Dy(a),s===null)throw Error(r(387));f=a.pendingProps,v=a.memoizedState,g=v.element,Zx(s,a),Ec(a,f,null,u);var S=a.memoizedState;if(f=S.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=io(Error(r(423)),a),a=My(s,a,f,u,g);break e}else if(f!==g){g=io(Error(r(424)),a),a=My(s,a,f,u,g);break e}else for(qr=ks(a.stateNode.containerInfo.firstChild),Br=a,Et=!0,gn=null,u=Qx(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(eo(),f===g){a=ns(s,a,u);break e}Cr(s,a,f,u)}a=a.child}return a;case 5:return ey(a),s===null&&vf(a),f=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,S=g.children,uf(f,g)?S=null:v!==null&&uf(f,v)&&(a.flags|=32),Ly(s,a),Cr(s,a,S,u),a.child;case 6:return s===null&&vf(a),null;case 13:return Fy(s,a,u);case 4:return Cf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=to(a,null,f,u):Cr(s,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:xn(f,g),Py(s,a,f,g,u);case 7:return Cr(s,a,a.pendingProps,u),a.child;case 8:return Cr(s,a,a.pendingProps.children,u),a.child;case 12:return Cr(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,v=a.memoizedProps,S=g.value,bt(_c,f._currentValue),f._currentValue=S,v!==null)if(pn(v.value,S)){if(v.children===g.children&&!Rr.current){a=ns(s,a,u);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var P=v.dependencies;if(P!==null){S=v.child;for(var L=P.firstContext;L!==null;){if(L.context===f){if(v.tag===1){L=rs(-1,u&-u),L.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var oe=W.pending;oe===null?L.next=L:(L.next=oe.next,oe.next=L),W.pending=L}}v.lanes|=u,L=v.alternate,L!==null&&(L.lanes|=u),Sf(v.return,u,a),P.lanes|=u;break}L=L.next}}else if(v.tag===10)S=v.type===a.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=u,P=S.alternate,P!==null&&(P.lanes|=u),Sf(S,u,a),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===a){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Cr(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,no(a,u),g=sn(g),f=f(g),a.flags|=1,Cr(s,a,f,u),a.child;case 14:return f=a.type,g=xn(f,a.pendingProps),g=xn(f.type,g),Ay(s,a,f,g,u);case 15:return Ry(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:xn(f,g),Mc(s,a),a.tag=1,Or(f)?(s=!0,vc(a)):s=!1,no(a,u),Ny(a,f,g),Uf(a,f,g,u),zf(null,a,f,!0,s,u);case 19:return Uy(s,a,u);case 22:return Oy(s,a,u)}throw Error(r(156,a.tag))};function uv(s,a){return Jl(s,a)}function BC(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(s,a,u,f){return new BC(s,a,u,f)}function uh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qC(s){if(typeof s=="function")return uh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===ke)return 14}return 2}function Ms(s,a){var u=s.alternate;return u===null?(u=ln(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Gc(s,a,u,f,g,v){var S=2;if(f=s,typeof s=="function")uh(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case K:return gi(u.children,g,v,a);case Z:S=8,g|=8;break;case O:return s=ln(12,u,a,g|2),s.elementType=O,s.lanes=v,s;case ne:return s=ln(13,u,a,g),s.elementType=ne,s.lanes=v,s;case te:return s=ln(19,u,a,g),s.elementType=te,s.lanes=v,s;case re:return Qc(u,g,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:S=10;break e;case ce:S=9;break e;case Q:S=11;break e;case ke:S=14;break e;case we:S=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=ln(S,u,a,g),a.elementType=s,a.type=f,a.lanes=v,a}function gi(s,a,u,f){return s=ln(7,s,f,a),s.lanes=u,s}function Qc(s,a,u,f){return s=ln(22,s,f,a),s.elementType=re,s.lanes=u,s.stateNode={isHidden:!1},s}function dh(s,a,u){return s=ln(6,s,null,a),s.lanes=u,s}function fh(s,a,u){return a=ln(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function zC(s,a,u,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function hh(s,a,u,f,g,v,S,P,L){return s=new zC(s,a,u,P,L),a===1?(a=1,v===!0&&(a|=8)):a=0,v=ln(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(v),s}function WC(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function dv(s){if(!s)return Es;s=s._reactInternals;e:{if(ut(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Or(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(Or(u))return Vx(s,u,a)}return a}function fv(s,a,u,f,g,v,S,P,L){return s=hh(u,f,!0,s,g,v,S,P,L),s.context=dv(null),u=s.current,f=Er(),g=Is(u),v=rs(f,g),v.callback=a??null,As(u,v,g),s.current.lanes=g,oa(s,g,f),Dr(s,f),s}function Jc(s,a,u,f){var g=a.current,v=Er(),S=Is(g);return u=dv(u),a.context===null?a.context=u:a.pendingContext=u,a=rs(v,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=As(g,a,S),s!==null&&(bn(s,g,S,v),Cc(s,g,S)),S}function Zc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function mh(s,a){hv(s,a),(s=s.alternate)&&hv(s,a)}function KC(){return null}var mv=typeof reportError=="function"?reportError:function(s){console.error(s)};function ph(s){this._internalRoot=s}Yc.prototype.render=ph.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Jc(s,a,null,null)},Yc.prototype.unmount=ph.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;hi(function(){Jc(null,s,null,null)}),a[Zn]=null}};function Yc(s){this._internalRoot=s}Yc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Zg();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ns.length&&a!==0&&a<Ns[u].priority;u++);Ns.splice(u,0,s),u===0&&ex(s)}};function gh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pv(){}function HC(s,a,u,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var W=Zc(S);v.call(W)}}var S=fv(a,f,s,0,null,!1,!1,"",pv);return s._reactRootContainer=S,s[Zn]=S.current,ba(s.nodeType===8?s.parentNode:s),hi(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var P=f;f=function(){var W=Zc(L);P.call(W)}}var L=hh(s,0,!1,null,null,!1,!1,"",pv);return s._reactRootContainer=L,s[Zn]=L.current,ba(s.nodeType===8?s.parentNode:s),hi(function(){Jc(a,L,u,f)}),L}function eu(s,a,u,f,g){var v=u._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var P=g;g=function(){var L=Zc(S);P.call(L)}}Jc(a,S,s,g)}else S=HC(u,a,s,g,f);return Zc(S)}Qg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ia(a.pendingLanes);u!==0&&(Vd(a,u|1),Dr(a,$t()),(dt&6)===0&&(lo=$t()+500,Ts()))}break;case 13:hi(function(){var f=ts(s,1);if(f!==null){var g=Er();bn(f,s,1,g)}}),mh(s,1)}},Ud=function(s){if(s.tag===13){var a=ts(s,134217728);if(a!==null){var u=Er();bn(a,s,134217728,u)}mh(s,134217728)}},Jg=function(s){if(s.tag===13){var a=Is(s),u=ts(s,a);if(u!==null){var f=Er();bn(u,s,a,f)}mh(s,a)}},Zg=function(){return gt},Yg=function(s,a){var u=gt;try{return gt=s,a()}finally{gt=u}},ra=function(s,a,u){switch(a){case"input":if(xe(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var g=xc(f);if(!g)throw Error(r(90));B(f),xe(f,g)}}}break;case"textarea":me(s,u);break;case"select":a=u.value,a!=null&&F(s,!!u.multiple,a,!1)}},Gl=ah,si=hi;var GC={usingClientEntryPoint:!1,Events:[Na,Qi,xc,Kl,Hl,ah]},Ma={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QC={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=tn(s),s===null?null:s.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||KC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Yl=tu.inject(QC),In=tu}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC,Mr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(a))throw Error(r(200));return WC(s,a,null,u)},Mr.createRoot=function(s,a){if(!gh(s))throw Error(r(299));var u=!1,f="",g=mv;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=hh(s,1,!1,null,null,u,!1,f,g),s[Zn]=a.current,ba(s.nodeType===8?s.parentNode:s),new ph(a)},Mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=tn(a),s=s===null?null:s.stateNode,s},Mr.flushSync=function(s){return hi(s)},Mr.hydrate=function(s,a,u){if(!Xc(a))throw Error(r(200));return eu(null,s,a,!0,u)},Mr.hydrateRoot=function(s,a,u){if(!gh(s))throw Error(r(405));var f=u!=null&&u.hydratedSources||null,g=!1,v="",S=mv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=fv(a,null,s,1,u??null,g,!1,v,S),s[Zn]=a.current,ba(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Yc(a)},Mr.render=function(s,a,u){if(!Xc(a))throw Error(r(200));return eu(null,s,a,!1,u)},Mr.unmountComponentAtNode=function(s){if(!Xc(s))throw Error(r(40));return s._reactRootContainer?(hi(function(){eu(null,null,s,!1,function(){s._reactRootContainer=null,s[Zn]=null})}),!0):!1},Mr.unstable_batchedUpdates=ah,Mr.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Xc(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return eu(s,a,u,!1,f)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var Nv;function C0(){if(Nv)return vh.exports;Nv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vh.exports=rE(),vh.exports}var Sv;function nE(){if(Sv)return ru;Sv=1;var t=C0();return ru.createRoot=t.createRoot,ru.hydrateRoot=t.hydrateRoot,ru}var sE=nE();function iE(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,o,l,c=[],d="",h=t.split("/");for(h[0]||h.shift();o=h.shift();)r=o[0],r==="*"?(c.push(r),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=o.indexOf("?",1),l=o.indexOf(".",1),c.push(o.substring(1,~n?n:~l?l:o.length)),d+=~n&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~n?"?":"")+"\\"+o.substring(l))):d+="/"+o;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var y=cd();const Ue=up(y),dp=_0({__proto__:null,default:Ue},[y]);var jh={exports:{}},Nh={};var _v;function oE(){if(_v)return Nh;_v=1;var t=cd();function e(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(x,b){var N=b(),_=n({inst:{value:N,getSnapshot:b}}),j=_[0].inst,w=_[1];return l(function(){j.value=N,j.getSnapshot=b,h(j)&&w({inst:j})},[x,N,b]),o(function(){return h(j)&&w({inst:j}),x(function(){h(j)&&w({inst:j})})},[x]),c(N),N}function h(x){var b=x.getSnapshot;x=x.value;try{var N=b();return!r(x,N)}catch{return!0}}function m(x,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Nh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Nh}var kv;function aE(){return kv||(kv=1,jh.exports=oE()),jh.exports}var E0=aE();const lE=dp.useInsertionEffect,cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uE=cE?y.useLayoutEffect:y.useEffect,dE=lE||uE,T0=t=>{const e=y.useRef([t,(...r)=>e[0](...r)]).current;return dE(()=>{e[0]=t}),e[1]},fE="popstate",fp="pushState",hp="replaceState",hE="hashchange",Cv=[fE,fp,hp,hE],mE=t=>{for(const e of Cv)addEventListener(e,t);return()=>{for(const e of Cv)removeEventListener(e,t)}},P0=(t,e)=>E0.useSyncExternalStore(mE,t,e),pE=()=>location.search,gE=({ssrSearch:t=""}={})=>P0(pE,()=>t),Ev=()=>location.pathname,xE=({ssrPath:t}={})=>P0(Ev,t?()=>t:Ev),yE=(t,{replace:e=!1,state:r=null}={})=>history[e?hp:fp](r,"",t),vE=(t={})=>[xE(t),yE],Tv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Tv]>"u"){for(const t of[fp,hp]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Tv,{value:!0})}const bE=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",A0=(t="")=>t==="/"?"":t,wE=(t,e)=>t[0]==="~"?t.slice(1):A0(e)+t,jE=(t="",e)=>bE(Pv(A0(t)),Pv(e)),Pv=t=>{try{return decodeURI(t)}catch{return t}},R0={hook:vE,searchHook:gE,parser:iE,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},O0=y.createContext(R0),Rl=()=>y.useContext(O0),L0={},I0=y.createContext(L0),NE=()=>y.useContext(I0),ud=t=>{const[e,r]=t.hook(t);return[jE(t.base,e),T0((n,o)=>r(wE(n,t.base),o))]},Gn=()=>ud(Rl()),D0=(t,e,r,n)=>{const{pattern:o,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),c=o.exec(r)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((x,b)=>[x,h[b]])):c.groups;let p={...h};return m&&Object.assign(p,m),p})(),...n?[d]:[]]:[!1,null]},SE=({children:t,...e})=>{const r=Rl(),n=e.hook?R0:r;let o=n;const[l,c]=e.ssrPath?.split("?")??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??e.hook?.hrefs;let d=y.useRef({}),h=d.current,m=h;for(let p in n){const x=p==="base"?n[p]+(e[p]||""):e[p]||n[p];h===m&&x!==m[p]&&(d.current=m={...m}),m[p]=x,(x!==n[p]||x!==o[p])&&(o=m)}return y.createElement(O0.Provider,{value:o,children:t})},Av=({children:t,component:e},r)=>e?y.createElement(e,{params:r}):typeof t=="function"?t(r):t,_E=t=>{let e=y.useRef(L0);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,o])=>o!==r[n])?t:r},yt=({path:t,nest:e,match:r,...n})=>{const o=Rl(),[l]=ud(o),[c,d,h]=r??D0(o.parser,t,l,e),m=_E({...NE(),...d});if(!c)return null;const p=h?y.createElement(SE,{base:h},Av(n,m)):Av(n,m);return y.createElement(I0.Provider,{value:m,children:p})},Se=y.forwardRef((t,e)=>{const r=Rl(),[n,o]=ud(r),{to:l="",href:c=l,onClick:d,asChild:h,children:m,className:p,replace:x,state:b,...N}=t,_=T0(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),o(c,t)))}),j=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return h&&y.isValidElement(m)?y.cloneElement(m,{onClick:_,href:j}):y.createElement("a",{...N,onClick:_,href:j,className:p?.call?p(n===c):p,children:m,ref:e})}),M0=t=>Array.isArray(t)?t.flatMap(e=>M0(e&&e.type===y.Fragment?e.props.children:e)):[t],kE=({children:t,location:e})=>{const r=Rl(),[n]=ud(r);for(const o of M0(t)){let l=0;if(y.isValidElement(o)&&(l=D0(r.parser,o.props.path,e||n,o.props.nest))[0])return y.cloneElement(o,{match:l})}return null};var Ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},CE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},EE=class{#e=CE;#r=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},hm=new EE;function TE(t){setTimeout(t,0)}var dd=typeof window>"u"||"Deno"in globalThis;function fn(){}function PE(t,e){return typeof t=="function"?t(e):t}function AE(t){return typeof t=="number"&&t>=0&&t!==1/0}function RE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mm(t,e){return typeof t=="function"?t(e):t}function OE(t,e){return typeof t=="function"?t(e):t}function Rv(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:l,queryKey:c,stale:d}=t;if(c){if(n){if(e.queryHash!==mp(c,e.options))return!1}else if(!ol(e.queryKey,c))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||l&&!l(e))}function Ov(t,e){const{exact:r,status:n,predicate:o,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(Ri(e.options.mutationKey)!==Ri(l))return!1}else if(!ol(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function mp(t,e){return(e?.queryKeyHashFn||Ri)(t)}function Ri(t){return JSON.stringify(t,(e,r)=>pm(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function ol(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ol(t[r],e[r])):!1}var LE=Object.prototype.hasOwnProperty;function F0(t,e){if(t===e)return t;const r=Lv(t)&&Lv(e);if(!r&&!(pm(t)&&pm(e)))return e;const o=(r?t:Object.keys(t)).length,l=r?e:Object.keys(e),c=l.length,d=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const p=r?m:l[m],x=t[p],b=e[p];if(x===b){d[p]=x,(r?m<o:LE.call(t,p))&&h++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[p]=b;continue}const N=F0(x,b);d[p]=N,N===x&&h++}return o===c&&h===o?t:d}function IE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Lv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pm(t){if(!Iv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Iv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Iv(t){return Object.prototype.toString.call(t)==="[object Object]"}function DE(t){return new Promise(e=>{hm.setTimeout(e,t)})}function ME(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?F0(t,e):e}function FE(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function VE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pp=Symbol();function V0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function UE(t,e){return typeof t=="function"?t(...e):!!t}var $E=class extends Ol{#e;#r;#t;constructor(){super(),this.#t=t=>{if(!dd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},U0=new $E;function BE(){let t,e;const r=new Promise((o,l)=>{t=o,e=l});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}var qE=TE;function zE(){let t=[],e=0,r=d=>{d()},n=d=>{d()},o=qE;const l=d=>{e?t.push(d):o(()=>{r(d)})},c=()=>{const d=t;t=[],d.length&&o(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{o=d}}}var gr=zE(),WE=class extends Ol{#e=!0;#r;#t;constructor(){super(),this.#t=t=>{if(!dd&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Du=new WE;function KE(t){return Math.min(1e3*2**t,3e4)}function $0(t){return(t??"online")==="online"?Du.isOnline():!0}var gm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function B0(t){let e=!1,r=0,n;const o=BE(),l=()=>o.status!=="pending",c=j=>{if(!l()){const w=new gm(j);b(w),t.onCancel?.(w)}},d=()=>{e=!0},h=()=>{e=!1},m=()=>U0.isFocused()&&(t.networkMode==="always"||Du.isOnline())&&t.canRun(),p=()=>$0(t.networkMode)&&t.canRun(),x=j=>{l()||(n?.(),o.resolve(j))},b=j=>{l()||(n?.(),o.reject(j))},N=()=>new Promise(j=>{n=w=>{(l()||m())&&j(w)},t.onPause?.()}).then(()=>{n=void 0,l()||t.onContinue?.()}),_=()=>{if(l())return;let j;const w=r===0?t.initialPromise:void 0;try{j=w??t.fn()}catch(k){j=Promise.reject(k)}Promise.resolve(j).then(x).catch(k=>{if(l())return;const C=t.retry??(dd?0:3),E=t.retryDelay??KE,R=typeof E=="function"?E(r,k):E,I=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,k);if(e||!I){b(k);return}r++,t.onFail?.(r,k),DE(R).then(()=>m()?void 0:N()).then(()=>{e?b(k):_()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(n?.(),o),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?_():N().then(_),o)}}var q0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AE(this.gcTime)&&(this.#e=hm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(hm.clearTimeout(this.#e),this.#e=void 0)}},HE=class extends q0{#e;#r;#t;#s;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#t=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Dv(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Dv(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const r=ME(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>OE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!RE(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},o=()=>{const d=V0(this.options,e),m=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#r=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=B0({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof gm&&d.revert&&this.setState({...this.#r,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#t.config.onSuccess?.(d,this),this.#t.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof gm){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#t.config.onError?.(d,this),this.#t.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...GE(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#r=t.manual?n:void 0,n;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function GE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Mv(t){return{onFetch:(e,r)=>{const n=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let p=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=V0(e.options,e.fetchOptions),N=async(_,j,w)=>{if(p)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const C=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:j,direction:w?"backward":"forward",meta:e.options.meta};return x(U),U})(),E=await b(C),{maxPages:R}=e.options,I=w?VE:FE;return{pages:I(_.pages,E,R),pageParams:I(_.pageParams,j,R)}};if(o&&l.length){const _=o==="backward",j=_?QE:Fv,w={pages:l,pageParams:c},k=j(n,w);d=await N(w,k,_)}else{const _=t??l.length;do{const j=h===0?c[0]??n.initialPageParam:Fv(n,d);if(h>0&&j==null)break;d=await N(d,j),h++}while(h<_)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function Fv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function QE(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var JE=class extends q0{#e;#r;#t;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#r=[],this.state=t.state||z0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#r.includes(t)||(this.#r.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#r=this.#r.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#r.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=B0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",o=!this.#s.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:o}),await this.#t.config.onMutate?.(t,this,r);const c=await this.options.onMutate?.(t,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:t,isPaused:o})}const l=await this.#s.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this,r),await this.options.onSuccess?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,t,this.state.context,r),this.#n({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this,r),await this.options.onError?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,t,this.state.context,r),l}finally{this.#n({type:"error",error:l})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),gr.batch(()=>{this.#r.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function z0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ZE=class extends Ol{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#r=new Map,this.#t=0}#e;#r;#t;build(t,e,r){const n=new JE({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=nu(t);if(typeof e=="string"){const r=this.#r.get(e);r?r.push(t):this.#r.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nu(t);if(typeof e=="string"){const r=this.#r.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#r.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nu(t);if(typeof e=="string"){const n=this.#r.get(e)?.find(o=>o.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=nu(t);return typeof e=="string"?this.#r.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#r.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Ov(e,r))}findAll(t={}){return this.getAll().filter(e=>Ov(t,e))}notify(t){gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return gr.batch(()=>Promise.all(t.map(e=>e.continue().catch(fn))))}};function nu(t){return t.options.scope?.id}var YE=class extends Ol{#e;#r=void 0;#t;#s;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),IE(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ri(r.mutationKey)!==Ri(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#o(e)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#n(),this.#o()}mutate(e,r){return this.#s=r,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#n(){const e=this.#t?.state??z0();this.#r={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){gr.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#r.variables,n=this.#r.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,r,n,o),this.#s.onSettled?.(e.data,null,r,n,o)):e?.type==="error"&&(this.#s.onError?.(e.error,r,n,o),this.#s.onSettled?.(void 0,e.error,r,n,o))}this.listeners.forEach(r=>{r(this.#r)})})}},XE=class extends Ol{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,o=e.queryHash??mp(n,e);let l=this.get(o);return l||(l=new HE({client:t,queryKey:n,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Rv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Rv(t,r)):e}notify(t){gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},eT=class{#e;#r;#t;#s;#n;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new XE,this.#r=t.mutationCache||new ZE,this.#t=t.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=U0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Du.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#r.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mm(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(n.queryHash)?.state.data,c=PE(e,l);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return gr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;gr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return gr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=gr.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then(fn).catch(fn)}invalidateQueries(t,e={}){return gr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=gr.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,r);return r.throwOnError||(l=l.catch(fn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(fn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(mm(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fn).catch(fn)}fetchInfiniteQuery(t){return t.behavior=Mv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fn).catch(fn)}ensureInfiniteQueryData(t){return t.behavior=Mv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Du.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#r}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#s.set(Ri(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{ol(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(Ri(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{ol(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#r.clear()}},W0=y.createContext(void 0),tT=t=>{const e=y.useContext(W0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rT=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(W0.Provider,{value:t,children:e}));function K0(t,e){const r=tT(),[n]=y.useState(()=>new YE(r,t));y.useEffect(()=>{n.setOptions(t)},[n,t]);const o=y.useSyncExternalStore(y.useCallback(c=>n.subscribe(gr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=y.useCallback((c,d)=>{n.mutate(c,d).catch(fn)},[n]);if(o.error&&UE(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function nT(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const sT=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e[0],{credentials:"include"});return await nT(r),await r.json()},iT=new eT({defaultOptions:{queries:{queryFn:sT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),oT=1,aT=1e6;let Sh=0;function lT(){return Sh=(Sh+1)%Number.MAX_SAFE_INTEGER,Sh.toString()}const _h=new Map,Vv=t=>{if(_h.has(t))return;const e=setTimeout(()=>{_h.delete(t),Ga({type:"REMOVE_TOAST",toastId:t})},aT);_h.set(t,e)},cT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,oT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Vv(r):t.toasts.forEach(n=>{Vv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},ku=[];let Cu={toasts:[]};function Ga(t){Cu=cT(Cu,t),ku.forEach(e=>{e(Cu)})}function uT({...t}){const e=lT(),r=o=>Ga({type:"UPDATE_TOAST",toast:{...o,id:e}}),n=()=>Ga({type:"DISMISS_TOAST",toastId:e});return Ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||n()}}}),{id:e,dismiss:n,update:r}}function gp(){const[t,e]=y.useState(Cu);return y.useEffect(()=>(ku.push(e),()=>{const r=ku.indexOf(e);r>-1&&ku.splice(r,1)}),[t]),{...t,toast:uT,dismiss:r=>Ga({type:"DISMISS_TOAST",toastId:r})}}var xp=C0();const dT=up(xp);function Zt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Uv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function H0(...t){return e=>{let r=!1;const n=t.map(o=>{const l=Uv(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Uv(t[o],null)}}}}function Yr(...t){return y.useCallback(H0(...t),t)}function fT(t,e){const r=y.createContext(e),n=l=>{const{children:c,...d}=l,h=y.useMemo(()=>d,Object.values(d));return i.jsx(r.Provider,{value:h,children:c})};n.displayName=t+"Provider";function o(l){const c=y.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,o]}function Qo(t,e=[]){let r=[];function n(l,c){const d=y.createContext(c),h=r.length;r=[...r,c];const m=x=>{const{scope:b,children:N,..._}=x,j=b?.[t]?.[h]||d,w=y.useMemo(()=>_,Object.values(_));return i.jsx(j.Provider,{value:w,children:N})};m.displayName=l+"Provider";function p(x,b){const N=b?.[t]?.[h]||d,_=y.useContext(N);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,p]}const o=()=>{const l=r.map(c=>y.createContext(c));return function(d){const h=d?.[t]||l;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[n,hT(o,...e)]}function hT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((d,{useScope:h,scopeName:m})=>{const x=h(l)[`__scope${m}`];return{...d,...x}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function al(t){const e=mT(t),r=y.forwardRef((n,o)=>{const{children:l,...c}=n,d=y.Children.toArray(l),h=d.find(gT);if(h){const m=h.props.children,p=d.map(x=>x===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...c,ref:o,children:y.isValidElement(m)?y.cloneElement(m,void 0,p):null})}return i.jsx(e,{...c,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}var G0=al("Slot");function mT(t){const e=y.forwardRef((r,n)=>{const{children:o,...l}=r;if(y.isValidElement(o)){const c=yT(o),d=xT(l,o.props);return o.type!==y.Fragment&&(d.ref=n?H0(n,c):c),y.cloneElement(o,d)}return y.Children.count(o)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pT=Symbol("radix.slottable");function gT(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pT}function xT(t,e){const r={...e};for(const n in e){const o=t[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const h=l(...d);return o(...d),h}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function yT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Q0(t){const e=t+"CollectionProvider",[r,n]=Qo(e),[o,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:w,children:k}=j,C=Ue.useRef(null),E=Ue.useRef(new Map).current;return i.jsx(o,{scope:w,itemMap:E,collectionRef:C,children:k})};c.displayName=e;const d=t+"CollectionSlot",h=al(d),m=Ue.forwardRef((j,w)=>{const{scope:k,children:C}=j,E=l(d,k),R=Yr(w,E.collectionRef);return i.jsx(h,{ref:R,children:C})});m.displayName=d;const p=t+"CollectionItemSlot",x="data-radix-collection-item",b=al(p),N=Ue.forwardRef((j,w)=>{const{scope:k,children:C,...E}=j,R=Ue.useRef(null),I=Yr(w,R),U=l(p,k);return Ue.useEffect(()=>(U.itemMap.set(R,{ref:R,...E}),()=>void U.itemMap.delete(R))),i.jsx(b,{[x]:"",ref:I,children:C})});N.displayName=p;function _(j){const w=l(t+"CollectionConsumer",j);return Ue.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(w.itemMap.values()).sort((U,K)=>E.indexOf(U.ref.current)-E.indexOf(K.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:N},_,n]}var vT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=vT.reduce((t,e)=>{const r=al(`Primitive.${e}`),n=y.forwardRef((o,l)=>{const{asChild:c,...d}=o,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function J0(t,e){t&&xp.flushSync(()=>t.dispatchEvent(e))}function zn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>e.current?.(...r),[])}function bT(t,e=globalThis?.document){const r=zn(t);y.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var wT="DismissableLayer",xm="dismissableLayer.update",jT="dismissableLayer.pointerDownOutside",NT="dismissableLayer.focusOutside",$v,Z0=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yp=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,m=y.useContext(Z0),[p,x]=y.useState(null),b=p?.ownerDocument??globalThis?.document,[,N]=y.useState({}),_=Yr(e,K=>x(K)),j=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(w),C=p?j.indexOf(p):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,R=C>=k,I=_T(K=>{const Z=K.target,O=[...m.branches].some(G=>G.contains(Z));!R||O||(o?.(K),c?.(K),K.defaultPrevented||d?.())},b),U=kT(K=>{const Z=K.target;[...m.branches].some(G=>G.contains(Z))||(l?.(K),c?.(K),K.defaultPrevented||d?.())},b);return bT(K=>{C===m.layers.size-1&&(n?.(K),!K.defaultPrevented&&d&&(K.preventDefault(),d()))},b),y.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($v=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Bv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=$v)}},[p,b,r,m]),y.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Bv())},[p,m]),y.useEffect(()=>{const K=()=>N({});return document.addEventListener(xm,K),()=>document.removeEventListener(xm,K)},[]),i.jsx(Ct.div,{...h,ref:_,style:{pointerEvents:E?R?"auto":"none":void 0,...t.style},onFocusCapture:Zt(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Zt(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Zt(t.onPointerDownCapture,I.onPointerDownCapture)})});yp.displayName=wT;var ST="DismissableLayerBranch",Y0=y.forwardRef((t,e)=>{const r=y.useContext(Z0),n=y.useRef(null),o=Yr(e,n);return y.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),i.jsx(Ct.div,{...t,ref:o})});Y0.displayName=ST;function _T(t,e=globalThis?.document){const r=zn(t),n=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let h=function(){X0(jT,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function kT(t,e=globalThis?.document){const r=zn(t),n=y.useRef(!1);return y.useEffect(()=>{const o=l=>{l.target&&!n.current&&X0(NT,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bv(){const t=new CustomEvent(xm);document.dispatchEvent(t)}function X0(t,e,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?J0(o,l):o.dispatchEvent(l)}var CT=yp,ET=Y0,Wn=globalThis?.document?y.useLayoutEffect:()=>{},TT="Portal",vp=y.forwardRef((t,e)=>{const{container:r,...n}=t,[o,l]=y.useState(!1);Wn(()=>l(!0),[]);const c=r||o&&globalThis?.document?.body;return c?dT.createPortal(i.jsx(Ct.div,{...n,ref:e}),c):null});vp.displayName=TT;function PT(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var Jo=t=>{const{present:e,children:r}=t,n=AT(e),o=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),l=Yr(n.ref,RT(o));return typeof r=="function"||n.isPresent?y.cloneElement(o,{ref:l}):null};Jo.displayName="Presence";function AT(t){const[e,r]=y.useState(),n=y.useRef(null),o=y.useRef(t),l=y.useRef("none"),c=t?"mounted":"unmounted",[d,h]=PT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=su(n.current);l.current=d==="mounted"?m:"none"},[d]),Wn(()=>{const m=n.current,p=o.current;if(p!==t){const b=l.current,N=su(m);t?h("MOUNT"):N==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&b!==N?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),Wn(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,x=N=>{const j=su(n.current).includes(CSS.escape(N.animationName));if(N.target===e&&j&&(h("ANIMATION_END"),!o.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},b=N=>{N.target===e&&(l.current=su(n.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function su(t){return t?.animationName||"none"}function RT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var OT=dp[" useInsertionEffect ".trim().toString()]||Wn;function Ll({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[o,l,c]=LT({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:o;{const p=y.useRef(t!==void 0);y.useEffect(()=>{const x=p.current;x!==d&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const m=y.useCallback(p=>{if(d){const x=IT(p)?p(t):p;x!==t&&c.current?.(x)}else l(p)},[d,t,l,c]);return[h,m]}function LT({defaultProp:t,onChange:e}){const[r,n]=y.useState(t),o=y.useRef(r),l=y.useRef(e);return OT(()=>{l.current=e},[e]),y.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,n,l]}function IT(t){return typeof t=="function"}var DT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MT="VisuallyHidden",bp=y.forwardRef((t,e)=>i.jsx(Ct.span,{...t,ref:e,style:{...DT,...t.style}}));bp.displayName=MT;var wp="ToastProvider",[jp,FT,VT]=Q0("Toast"),[ej]=Qo("Toast",[VT]),[UT,fd]=ej(wp),tj=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=t,[d,h]=y.useState(null),[m,p]=y.useState(0),x=y.useRef(!1),b=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wp}\`. Expected non-empty \`string\`.`),i.jsx(jp.Provider,{scope:e,children:i.jsx(UT,{scope:e,label:r,duration:n,swipeDirection:o,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:y.useCallback(()=>p(N=>N+1),[]),onToastRemove:y.useCallback(()=>p(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:b,children:c})})};tj.displayName=wp;var rj="ToastViewport",$T=["F8"],ym="toast.viewportPause",vm="toast.viewportResume",nj=y.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=$T,label:o="Notifications ({hotkey})",...l}=t,c=fd(rj,r),d=FT(r),h=y.useRef(null),m=y.useRef(null),p=y.useRef(null),x=y.useRef(null),b=Yr(e,x,c.onViewportChange),N=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=c.toastCount>0;y.useEffect(()=>{const w=k=>{n.length!==0&&n.every(E=>k[E]||k.code===E)&&x.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),y.useEffect(()=>{const w=h.current,k=x.current;if(_&&w&&k){const C=()=>{if(!c.isClosePausedRef.current){const U=new CustomEvent(ym);k.dispatchEvent(U),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const U=new CustomEvent(vm);k.dispatchEvent(U),c.isClosePausedRef.current=!1}},R=U=>{!w.contains(U.relatedTarget)&&E()},I=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",C),w.addEventListener("focusout",R),w.addEventListener("pointermove",C),w.addEventListener("pointerleave",I),window.addEventListener("blur",C),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",C),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",C),w.removeEventListener("pointerleave",I),window.removeEventListener("blur",C),window.removeEventListener("focus",E)}}},[_,c.isClosePausedRef]);const j=y.useCallback(({tabbingDirection:w})=>{const C=d().map(E=>{const R=E.ref.current,I=[R,...e2(R)];return w==="forwards"?I:I.reverse()});return(w==="forwards"?C.reverse():C).flat()},[d]);return y.useEffect(()=>{const w=x.current;if(w){const k=C=>{const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const I=document.activeElement,U=C.shiftKey;if(C.target===w&&U){m.current?.focus();return}const O=j({tabbingDirection:U?"backwards":"forwards"}),G=O.findIndex(ce=>ce===I);kh(O.slice(G+1))?C.preventDefault():U?m.current?.focus():p.current?.focus()}};return w.addEventListener("keydown",k),()=>w.removeEventListener("keydown",k)}},[d,j]),i.jsxs(ET,{ref:h,role:"region","aria-label":o.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&i.jsx(bm,{ref:m,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"forwards"});kh(w)}}),i.jsx(jp.Slot,{scope:r,children:i.jsx(Ct.ol,{tabIndex:-1,...l,ref:b})}),_&&i.jsx(bm,{ref:p,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"backwards"});kh(w)}})]})});nj.displayName=rj;var sj="ToastFocusProxy",bm=y.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=t,l=fd(sj,r);return i.jsx(bp,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&n()}})});bm.displayName=sj;var Il="Toast",BT="toast.swipeStart",qT="toast.swipeMove",zT="toast.swipeCancel",WT="toast.swipeEnd",ij=y.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:l,...c}=t,[d,h]=Ll({prop:n,defaultProp:o??!0,onChange:l,caller:Il});return i.jsx(Jo,{present:r||d,children:i.jsx(GT,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:zn(t.onPause),onResume:zn(t.onResume),onSwipeStart:Zt(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Zt(t.onSwipeMove,m=>{const{x:p,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Zt(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Zt(t.onSwipeEnd,m=>{const{x:p,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),h(!1)})})})});ij.displayName=Il;var[KT,HT]=ej(Il,{onClose(){}}),GT=y.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:x,onSwipeCancel:b,onSwipeEnd:N,..._}=t,j=fd(Il,r),[w,k]=y.useState(null),C=Yr(e,te=>k(te)),E=y.useRef(null),R=y.useRef(null),I=o||j.duration,U=y.useRef(0),K=y.useRef(I),Z=y.useRef(0),{onToastAdd:O,onToastRemove:G}=j,ce=zn(()=>{w?.contains(document.activeElement)&&j.viewport?.focus(),c()}),Q=y.useCallback(te=>{!te||te===1/0||(window.clearTimeout(Z.current),U.current=new Date().getTime(),Z.current=window.setTimeout(ce,te))},[ce]);y.useEffect(()=>{const te=j.viewport;if(te){const ke=()=>{Q(K.current),m?.()},we=()=>{const re=new Date().getTime()-U.current;K.current=K.current-re,window.clearTimeout(Z.current),h?.()};return te.addEventListener(ym,we),te.addEventListener(vm,ke),()=>{te.removeEventListener(ym,we),te.removeEventListener(vm,ke)}}},[j.viewport,I,h,m,Q]),y.useEffect(()=>{l&&!j.isClosePausedRef.current&&Q(I)},[l,I,j.isClosePausedRef,Q]),y.useEffect(()=>(O(),()=>G()),[O,G]);const ne=y.useMemo(()=>w?fj(w):null,[w]);return j.viewport?i.jsxs(i.Fragment,{children:[ne&&i.jsx(QT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:ne}),i.jsx(KT,{scope:r,onClose:ce,children:xp.createPortal(i.jsx(jp.ItemSlot,{scope:r,children:i.jsx(CT,{asChild:!0,onEscapeKeyDown:Zt(d,()=>{j.isFocusedToastEscapeKeyDownRef.current||ce(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ct.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,..._,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Zt(t.onKeyDown,te=>{te.key==="Escape"&&(d?.(te.nativeEvent),te.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,ce()))}),onPointerDown:Zt(t.onPointerDown,te=>{te.button===0&&(E.current={x:te.clientX,y:te.clientY})}),onPointerMove:Zt(t.onPointerMove,te=>{if(!E.current)return;const ke=te.clientX-E.current.x,we=te.clientY-E.current.y,re=!!R.current,ee=["left","right"].includes(j.swipeDirection),de=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,M=ee?de(0,ke):0,T=ee?0:de(0,we),Y=te.pointerType==="touch"?10:2,fe={x:M,y:T},Re={originalEvent:te,delta:fe};re?(R.current=fe,iu(qT,x,Re,{discrete:!1})):qv(fe,j.swipeDirection,Y)?(R.current=fe,iu(BT,p,Re,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(ke)>Y||Math.abs(we)>Y)&&(E.current=null)}),onPointerUp:Zt(t.onPointerUp,te=>{const ke=R.current,we=te.target;if(we.hasPointerCapture(te.pointerId)&&we.releasePointerCapture(te.pointerId),R.current=null,E.current=null,ke){const re=te.currentTarget,ee={originalEvent:te,delta:ke};qv(ke,j.swipeDirection,j.swipeThreshold)?iu(WT,N,ee,{discrete:!0}):iu(zT,b,ee,{discrete:!0}),re.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),QT=t=>{const{__scopeToast:e,children:r,...n}=t,o=fd(Il,e),[l,c]=y.useState(!1),[d,h]=y.useState(!1);return YT(()=>c(!0)),y.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:i.jsx(vp,{asChild:!0,children:i.jsx(bp,{...n,children:l&&i.jsxs(i.Fragment,{children:[o.label," ",r]})})})},JT="ToastTitle",oj=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ct.div,{...n,ref:e})});oj.displayName=JT;var ZT="ToastDescription",aj=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ct.div,{...n,ref:e})});aj.displayName=ZT;var lj="ToastAction",cj=y.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(dj,{altText:r,asChild:!0,children:i.jsx(Np,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lj}\`. Expected non-empty \`string\`.`),null)});cj.displayName=lj;var uj="ToastClose",Np=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,o=HT(uj,r);return i.jsx(dj,{asChild:!0,children:i.jsx(Ct.button,{type:"button",...n,ref:e,onClick:Zt(t.onClick,o.onClose)})})});Np.displayName=uj;var dj=y.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...o}=t;return i.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:e})});function fj(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),XT(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...fj(n))}}),e}function iu(t,e,r,{discrete:n}){const o=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?J0(o,l):o.dispatchEvent(l)}var qv=(t,e,r=0)=>{const n=Math.abs(t.x),o=Math.abs(t.y),l=n>o;return e==="left"||e==="right"?l&&n>r:!l&&o>r};function YT(t=()=>{}){const e=zn(t);Wn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function XT(t){return t.nodeType===t.ELEMENT_NODE}function e2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kh(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var t2=tj,hj=nj,mj=ij,pj=oj,gj=aj,xj=cj,yj=Np;function vj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=vj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function bj(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=vj(t))&&(n&&(n+=" "),n+=e);return n}const zv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wv=bj,Sp=(t,e)=>r=>{var n;if(e?.variants==null)return Wv(t,r?.class,r?.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(m=>{const p=r?.[m],x=l?.[m];if(p===null)return null;const b=zv(p)||zv(x);return o[m][b]}),d=r&&Object.entries(r).reduce((m,p)=>{let[x,b]=p;return b===void 0||(m[x]=b),m},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,p)=>{let{class:x,className:b,...N}=p;return Object.entries(N).every(_=>{let[j,w]=_;return Array.isArray(w)?w.includes({...l,...d}[j]):{...l,...d}[j]===w})?[...m,x,b]:m},[]);return Wv(t,c,h,r?.class,r?.className)};const r2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wj=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var n2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s2=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},h)=>y.createElement("svg",{ref:h,...n2,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:wj("lucide",o),...d},[...c.map(([m,p])=>y.createElement(m,p)),...Array.isArray(l)?l:[l]]));const et=(t,e)=>{const r=y.forwardRef(({className:n,...o},l)=>y.createElement(s2,{ref:l,iconNode:e,className:wj(`lucide-${r2(t)}`,n),...o}));return r.displayName=`${t}`,r};const i2=et("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const o2=et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Kv=et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Ch=et("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const a2=et("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const l2=et("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const c2=et("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const u2=et("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const d2=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const f2=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const h2=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const jj=et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const hd=et("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const m2=et("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const p2=et("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const g2=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const x2=et("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const y2=et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const v2=et("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const b2=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const w2=et("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const j2=et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Nj=et("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);const Sj=et("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const _p=et("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const wm=et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const N2=et("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const kp=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ks=et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const S2=et("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const _j=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const _2=et("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const k2=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Mu=et("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Pn=et("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Cp=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const C2=et("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const E2=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ep=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const T2=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const kj=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const P2=et("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const Ws=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const A2=et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tp="-",R2=t=>{const e=L2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const d=c.split(Tp);return d[0]===""&&d.length!==1&&d.shift(),Cj(d,e)||O2(c)},getConflictingClassGroupIds:(c,d)=>{const h=r[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},Cj=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?Cj(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(Tp);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Hv=/^\[(.+)\]$/,O2=t=>{if(Hv.test(t)){const e=Hv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},L2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return D2(Object.entries(t.classGroups),r).forEach(([l,c])=>{jm(c,n,l,e)}),n},jm=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Gv(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(I2(o)){jm(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{jm(c,Gv(e,l),r,n)})})},Gv=(t,e)=>{let r=t;return e.split(Tp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},I2=t=>t.isThemeGetter,D2=(t,e)=>e?t.map(([r,n])=>{const o=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[r,o]}):t,M2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},Ej="!",F2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],l=e.length,c=d=>{const h=[];let m=0,p=0,x;for(let w=0;w<d.length;w++){let k=d[w];if(m===0){if(k===o&&(n||d.slice(w,w+l)===e)){h.push(d.slice(p,w)),p=w+l;continue}if(k==="/"){x=w;continue}}k==="["?m++:k==="]"&&m--}const b=h.length===0?d:d.substring(p),N=b.startsWith(Ej),_=N?b.substring(1):b,j=x&&x>p?x-p:void 0;return{modifiers:h,hasImportantModifier:N,baseClassName:_,maybePostfixModifierPosition:j}};return r?d=>r({className:d,parseClassName:c}):c},V2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},U2=t=>({cache:M2(t.cacheSize),parseClassName:F2(t),...R2(t)}),$2=/\s+/,B2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,l=[],c=t.trim().split($2);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{modifiers:p,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:N}=r(m);let _=!!N,j=n(_?b.substring(0,N):b);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(b),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const w=V2(p).join(":"),k=x?w+Ej:w,C=k+j;if(l.includes(C))continue;l.push(C);const E=o(j,_);for(let R=0;R<E.length;++R){const I=E[R];l.push(k+I)}d=m+(d.length>0?" "+d:d)}return d};function q2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Tj(e))&&(n&&(n+=" "),n+=r);return n}const Tj=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Tj(t[n]))&&(r&&(r+=" "),r+=e);return r};function z2(t,...e){let r,n,o,l=c;function c(h){const m=e.reduce((p,x)=>x(p),t());return r=U2(m),n=r.cache.get,o=r.cache.set,l=d,d(h)}function d(h){const m=n(h);if(m)return m;const p=B2(h,r);return o(h,p),p}return function(){return l(q2.apply(null,arguments))}}const _t=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Pj=/^\[(?:([a-z-]+):)?(.+)\]$/i,W2=/^\d+\/\d+$/,K2=new Set(["px","full","screen"]),H2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=t=>Ao(t)||K2.has(t)||W2.test(t),Vs=t=>Zo(t,"length",iP),Ao=t=>!!t&&!Number.isNaN(Number(t)),Eh=t=>Zo(t,"number",Ao),Va=t=>!!t&&Number.isInteger(Number(t)),Y2=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),rt=t=>Pj.test(t),Us=t=>H2.test(t),X2=new Set(["length","size","percentage"]),eP=t=>Zo(t,X2,Aj),tP=t=>Zo(t,"position",Aj),rP=new Set(["image","url"]),nP=t=>Zo(t,rP,aP),sP=t=>Zo(t,"",oP),Ua=()=>!0,Zo=(t,e,r)=>{const n=Pj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},iP=t=>G2.test(t)&&!Q2.test(t),Aj=()=>!1,oP=t=>J2.test(t),aP=t=>Z2.test(t),lP=()=>{const t=_t("colors"),e=_t("spacing"),r=_t("blur"),n=_t("brightness"),o=_t("borderColor"),l=_t("borderRadius"),c=_t("borderSpacing"),d=_t("borderWidth"),h=_t("contrast"),m=_t("grayscale"),p=_t("hueRotate"),x=_t("invert"),b=_t("gap"),N=_t("gradientColorStops"),_=_t("gradientColorStopPositions"),j=_t("inset"),w=_t("margin"),k=_t("opacity"),C=_t("padding"),E=_t("saturate"),R=_t("scale"),I=_t("sepia"),U=_t("skew"),K=_t("space"),Z=_t("translate"),O=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],ce=()=>["auto",rt,e],Q=()=>[rt,e],ne=()=>["",is,Vs],te=()=>["auto",Ao,rt],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],de=()=>["","0",rt],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[Ao,rt];return{cacheSize:500,separator:":",theme:{colors:[Ua],spacing:[is,Vs],blur:["none","",Us,rt],brightness:T(),borderColor:[t],borderRadius:["none","","full",Us,rt],borderSpacing:Q(),borderWidth:ne(),contrast:T(),grayscale:de(),hueRotate:T(),invert:de(),gap:Q(),gradientColorStops:[t],gradientColorStopPositions:[Y2,Vs],inset:ce(),margin:ce(),opacity:T(),padding:Q(),saturate:T(),scale:T(),sepia:de(),skew:T(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),rt]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Va,rt]}],basis:[{basis:ce()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",Va,rt]}],"grid-cols":[{"grid-cols":[Ua]}],"col-start-end":[{col:["auto",{span:["full",Va,rt]},rt]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Ua]}],"row-start-end":[{row:["auto",{span:[Va,rt]},rt]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eh]}],"font-family":[{font:[Ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Ao,Eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Vs]}],"underline-offset":[{"underline-offset":["auto",is,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),tP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:we()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[is,rt]}],"outline-w":[{outline:[is,Vs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[is,Vs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,sP]}],"shadow-color":[{shadow:[Ua]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Us,rt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[E]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Va,rt]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[is,Vs,Eh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cP=z2(lP);function pt(...t){return cP(bj(t))}const uP=t2,Rj=y.forwardRef(({className:t,...e},r)=>i.jsx(hj,{ref:r,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Rj.displayName=hj.displayName;const dP=Sp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Oj=y.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(mj,{ref:n,className:pt(dP({variant:e}),t),...r}));Oj.displayName=mj.displayName;const fP=y.forwardRef(({className:t,...e},r)=>i.jsx(xj,{ref:r,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fP.displayName=xj.displayName;const Lj=y.forwardRef(({className:t,...e},r)=>i.jsx(yj,{ref:r,className:pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Ws,{className:"h-4 w-4"})}));Lj.displayName=yj.displayName;const Ij=y.forwardRef(({className:t,...e},r)=>i.jsx(pj,{ref:r,className:pt("text-sm font-semibold",t),...e}));Ij.displayName=pj.displayName;const Dj=y.forwardRef(({className:t,...e},r)=>i.jsx(gj,{ref:r,className:pt("text-sm opacity-90",t),...e}));Dj.displayName=gj.displayName;function hP(){const{toasts:t}=gp();return i.jsxs(uP,{children:[t.map(function({id:e,title:r,description:n,action:o,...l}){return i.jsxs(Oj,{...l,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Ij,{children:r}),n&&i.jsx(Dj,{children:n})]}),o,i.jsx(Lj,{})]},e)}),i.jsx(Rj,{})]})}const Pp=y.createContext({});function Ap(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const md=y.createContext(null),Rp=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mP extends y.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pP({children:t,isPresent:e}){const r=y.useId(),n=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=y.useContext(Rp);return y.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m}=o.current;if(e||!n.current||!c||!d)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return l&&(p.nonce=l),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),i.jsx(mP,{isPresent:e,childRef:n,sizeRef:o,children:y.cloneElement(t,{ref:n})})}const gP=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:c})=>{const d=Ap(xP),h=y.useId(),m=y.useCallback(x=>{d.set(x,!0);for(const b of d.values())if(!b)return;n&&n()},[d,n]),p=y.useMemo(()=>({id:h,initial:e,isPresent:r,custom:o,onExitComplete:m,register:x=>(d.set(x,!1),()=>d.delete(x))}),l?[Math.random(),m]:[r,m]);return y.useMemo(()=>{d.forEach((x,b)=>d.set(b,!1))},[r]),y.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),c==="popLayout"&&(t=i.jsx(pP,{isPresent:r,children:t})),i.jsx(md.Provider,{value:p,children:t})};function xP(){return new Map}function Mj(t=!0){const e=y.useContext(md);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=e,l=y.useId();y.useEffect(()=>{t&&o(l)},[t]);const c=y.useCallback(()=>t&&n&&n(l),[l,n,t]);return!r&&n?[!1,c]:[!0]}const ou=t=>t.key||"";function Qv(t){const e=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&e.push(r)}),e}const Op=typeof window<"u",Fj=Op?y.useLayoutEffect:y.useEffect,yP=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1})=>{const[d,h]=Mj(c),m=y.useMemo(()=>Qv(t),[t]),p=c&&!d?[]:m.map(ou),x=y.useRef(!0),b=y.useRef(m),N=Ap(()=>new Map),[_,j]=y.useState(m),[w,k]=y.useState(m);Fj(()=>{x.current=!1,b.current=m;for(let R=0;R<w.length;R++){const I=ou(w[R]);p.includes(I)?N.delete(I):N.get(I)!==!0&&N.set(I,!1)}},[w,p.length,p.join("-")]);const C=[];if(m!==_){let R=[...m];for(let I=0;I<w.length;I++){const U=w[I],K=ou(U);p.includes(K)||(R.splice(I,0,U),C.push(U))}l==="wait"&&C.length&&(R=C),k(Qv(R)),j(m);return}const{forceRender:E}=y.useContext(Pp);return i.jsx(i.Fragment,{children:w.map(R=>{const I=ou(R),U=c&&!d?!1:m===w||p.includes(I),K=()=>{if(N.has(I))N.set(I,!0);else return;let Z=!0;N.forEach(O=>{O||(Z=!1)}),Z&&(E?.(),k(b.current),c&&h?.(),n&&n())};return i.jsx(gP,{isPresent:U,initial:!x.current||r?void 0:!1,custom:U?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:U?void 0:K,children:R},I)})})},Jr=t=>t;let Vj=Jr;function Lp(t){let e;return()=>(e===void 0&&(e=t()),e)}const $o=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},ds=t=>t*1e3,fs=t=>t/1e3,vP={useManualTiming:!1};function bP(t){let e=new Set,r=new Set,n=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,p=!1,x=!1)=>{const N=x&&n?e:r;return p&&l.add(m),N.has(m)||N.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,n){o=!0;return}n=!0,[e,r]=[r,e],e.forEach(d),e.clear(),n=!1,o&&(o=!1,h.process(m))}};return h}const au=["read","resolveKeyframes","update","preRender","render","postRender"],wP=40;function Uj(t,e){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=au.reduce((k,C)=>(k[C]=bP(l),k),{}),{read:d,resolveKeyframes:h,update:m,preRender:p,render:x,postRender:b}=c,N=()=>{const k=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(k-o.timestamp,wP),1),o.timestamp=k,o.isProcessing=!0,d.process(o),h.process(o),m.process(o),p.process(o),x.process(o),b.process(o),o.isProcessing=!1,r&&e&&(n=!1,t(N))},_=()=>{r=!0,n=!0,o.isProcessing||t(N)};return{schedule:au.reduce((k,C)=>{const E=c[C];return k[C]=(R,I=!1,U=!1)=>(r||_(),E.schedule(R,I,U)),k},{}),cancel:k=>{for(let C=0;C<au.length;C++)c[au[C]].cancel(k)},state:o,steps:c}}const{schedule:kt,cancel:Hs,state:pr,steps:Th}=Uj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jr,!0),$j=y.createContext({strict:!1}),Jv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in Jv)Bo[t]={isEnabled:e=>Jv[t].some(r=>!!e[r])};function jP(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const NP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NP.has(t)}let Bj=t=>!Fu(t);function SP(t){t&&(Bj=e=>e.startsWith("on")?!Fu(e):t(e))}try{SP(require("@emotion/is-prop-valid").default)}catch{}function _P(t,e,r){const n={};for(const o in t)o==="values"&&typeof t.values=="object"||(Bj(o)||r===!0&&Fu(o)||!e&&!Fu(o)||t.draggable&&o.startsWith("onDrag"))&&(n[o]=t[o]);return n}function kP(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const pd=y.createContext({});function ll(t){return typeof t=="string"||Array.isArray(t)}function gd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ip=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dp=["initial",...Ip];function xd(t){return gd(t.animate)||Dp.some(e=>ll(t[e]))}function qj(t){return!!(xd(t)||t.variants)}function CP(t,e){if(xd(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ll(r)?r:void 0,animate:ll(n)?n:void 0}}return t.inherit!==!1?e:{}}function EP(t){const{initial:e,animate:r}=CP(t,y.useContext(pd));return y.useMemo(()=>({initial:e,animate:r}),[Zv(e),Zv(r)])}function Zv(t){return Array.isArray(t)?t.join(" "):t}const TP=Symbol.for("motionComponentSymbol");function _o(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PP(t,e,r){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):_o(r)&&(r.current=n))},[e])}const Mp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AP="framerAppearId",zj="data-"+Mp(AP),{schedule:Fp}=Uj(queueMicrotask,!1),Wj=y.createContext({});function RP(t,e,r,n,o){var l,c;const{visualElement:d}=y.useContext(pd),h=y.useContext($j),m=y.useContext(md),p=y.useContext(Rp).reducedMotion,x=y.useRef(null);n=n||h.renderer,!x.current&&n&&(x.current=n(t,{visualState:e,parent:d,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const b=x.current,N=y.useContext(Wj);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&OP(x.current,r,o,N);const _=y.useRef(!1);y.useInsertionEffect(()=>{b&&_.current&&b.update(r,m)});const j=r[zj],w=y.useRef(!!j&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,j))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,j)));return Fj(()=>{b&&(_.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Fp.render(b.render),w.current&&b.animationState&&b.animationState.animateChanges())}),y.useEffect(()=>{b&&(!w.current&&b.animationState&&b.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,j)}),w.current=!1))}),b}function OP(t,e,r,n){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Kj(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&_o(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,layoutScroll:h,layoutRoot:m})}function Kj(t){if(t)return t.options.allowProjection!==!1?t.projection:Kj(t.parent)}function LP({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:o}){var l,c;t&&jP(t);function d(m,p){let x;const b={...y.useContext(Rp),...m,layoutId:IP(m)},{isStatic:N}=b,_=EP(m),j=n(m,N);if(!N&&Op){DP();const w=MP(b);x=w.MeasureLayout,_.visualElement=RP(o,j,b,e,w.ProjectionNode)}return i.jsxs(pd.Provider,{value:_,children:[x&&_.visualElement?i.jsx(x,{visualElement:_.visualElement,...b}):null,r(o,m,PP(j,_.visualElement,p),j,N,_.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=y.forwardRef(d);return h[TP]=o,h}function IP({layoutId:t}){const e=y.useContext(Pp).id;return e&&t!==void 0?e+"-"+t:t}function DP(t,e){y.useContext($j).strict}function MP(t){const{drag:e,layout:r}=Bo;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const FP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(t){return typeof t!="string"||t.includes("-")?!1:!!(FP.indexOf(t)>-1||/[A-Z]/u.test(t))}function Yv(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Up(t,e,r,n){if(typeof e=="function"){const[o,l]=Yv(n);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Yv(n);e=e(r!==void 0?r:t.custom,o,l)}return e}const Nm=t=>Array.isArray(t),VP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),UP=t=>Nm(t)?t[t.length-1]||0:t,Nr=t=>!!(t&&t.getVelocity);function Eu(t){const e=Nr(t)?t.get():t;return VP(e)?e.toValue():e}function $P({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,o,l){const c={latestValues:BP(n,o,l,t),renderState:e()};return r&&(c.onMount=d=>r({props:n,current:d,...c}),c.onUpdate=d=>r(d)),c}const Hj=t=>(e,r)=>{const n=y.useContext(pd),o=y.useContext(md),l=()=>$P(t,e,n,o);return r?l():Ap(l)};function BP(t,e,r,n){const o={},l=n(t,{});for(const b in l)o[b]=Eu(l[b]);let{initial:c,animate:d}=t;const h=xd(t),m=qj(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const x=p?d:c;if(x&&typeof x!="boolean"&&!gd(x)){const b=Array.isArray(x)?x:[x];for(let N=0;N<b.length;N++){const _=Up(t,b[N]);if(_){const{transitionEnd:j,transition:w,...k}=_;for(const C in k){let E=k[C];if(Array.isArray(E)){const R=p?E.length-1:0;E=E[R]}E!==null&&(o[C]=E)}for(const C in j)o[C]=j[C]}}}return o}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mi=new Set(Yo),Gj=t=>e=>typeof e=="string"&&e.startsWith(t),Qj=Gj("--"),qP=Gj("var(--"),$p=t=>qP(t)?zP.test(t.split("/*")[0].trim()):!1,zP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hs=(t,e,r)=>r>e?e:r<t?t:r,Xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cl={...Xo,transform:t=>hs(0,1,t)},lu={...Xo,default:1},Dl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bs=Dl("deg"),$n=Dl("%"),Ke=Dl("px"),WP=Dl("vh"),KP=Dl("vw"),Xv={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},HP={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},GP={rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:lu,scaleX:lu,scaleY:lu,scaleZ:lu,skew:Bs,skewX:Bs,skewY:Bs,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:cl,originX:Xv,originY:Xv,originZ:Ke},eb={...Xo,transform:Math.round},Bp={...HP,...GP,zIndex:eb,size:Ke,fillOpacity:cl,strokeOpacity:cl,numOctaves:eb},QP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JP=Yo.length;function ZP(t,e,r){let n="",o=!0;for(let l=0;l<JP;l++){const c=Yo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const m=Jj(d,Bp[c]);if(!h){o=!1;const p=QP[c]||c;n+=`${p}(${m}) `}r&&(e[c]=m)}}return n=n.trim(),r?n=r(e,o?"":n):o&&(n="none"),n}function qp(t,e,r){const{style:n,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(Mi.has(h)){c=!0;continue}else if(Qj(h)){o[h]=m;continue}else{const p=Jj(m,Bp[h]);h.startsWith("origin")?(d=!0,l[h]=p):n[h]=p}}if(e.transform||(c||r?n.transform=ZP(e,t.transform,r):n.transform&&(n.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;n.transformOrigin=`${h} ${m} ${p}`}}const YP={offset:"stroke-dashoffset",array:"stroke-dasharray"},XP={offset:"strokeDashoffset",array:"strokeDasharray"};function eA(t,e,r=1,n=0,o=!0){t.pathLength=1;const l=o?YP:XP;t[l.offset]=Ke.transform(-n);const c=Ke.transform(e),d=Ke.transform(r);t[l.array]=`${c} ${d}`}function tb(t,e,r){return typeof t=="string"?t:Ke.transform(e+r*t)}function tA(t,e,r){const n=tb(e,t.x,t.width),o=tb(r,t.y,t.height);return`${n} ${o}`}function zp(t,{attrX:e,attrY:r,attrScale:n,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...m},p,x){if(qp(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:N,dimensions:_}=t;b.transform&&(_&&(N.transform=b.transform),delete b.transform),_&&(o!==void 0||l!==void 0||N.transform)&&(N.transformOrigin=tA(_,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),r!==void 0&&(b.y=r),n!==void 0&&(b.scale=n),c!==void 0&&eA(b,c,d,h,!1)}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Zj=()=>({...Wp(),attrs:{}}),Kp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yj(t,{style:e,vars:r},n,o){Object.assign(t.style,e,o&&o.getProjectionStyles(n));for(const l in r)t.style.setProperty(l,r[l])}const Xj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eN(t,e,r,n){Yj(t,e,void 0,n);for(const o in e.attrs)t.setAttribute(Xj.has(o)?o:Mp(o),e.attrs[o])}const Vu={};function rA(t){Object.assign(Vu,t)}function tN(t,{layout:e,layoutId:r}){return Mi.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Vu[t]||t==="opacity")}function Hp(t,e,r){var n;const{style:o}=t,l={};for(const c in o)(Nr(o[c])||e.style&&Nr(e.style[c])||tN(c,t)||((n=r?.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function rN(t,e,r){const n=Hp(t,e,r);for(const o in t)if(Nr(t[o])||Nr(e[o])){const l=Yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=t[o]}return n}function nA(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const rb=["x","y","width","height","cx","cy","r"],sA={useVisualState:Hj({scrapeMotionValuesFromProps:rN,createRenderState:Zj,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:o})=>{if(!r)return;let l=!!t.drag;if(!l){for(const d in o)if(Mi.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<rb.length;d++){const h=rb[d];t[h]!==e[h]&&(c=!0)}c&&kt.read(()=>{nA(r,n),kt.render(()=>{zp(n,o,Kp(r.tagName),t.transformTemplate),eN(r,n)})})}})},iA={useVisualState:Hj({scrapeMotionValuesFromProps:Hp,createRenderState:Wp})};function nN(t,e,r){for(const n in e)!Nr(e[n])&&!tN(n,r)&&(t[n]=e[n])}function oA({transformTemplate:t},e){return y.useMemo(()=>{const r=Wp();return qp(r,e,t),Object.assign({},r.vars,r.style)},[e])}function aA(t,e){const r=t.style||{},n={};return nN(n,r,t),Object.assign(n,oA(t,e)),n}function lA(t,e){const r={},n=aA(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function cA(t,e,r,n){const o=y.useMemo(()=>{const l=Zj();return zp(l,e,Kp(n),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};nN(l,t.style,t),o.style={...l,...o.style}}return o}function uA(t=!1){return(r,n,o,{latestValues:l},c)=>{const h=(Vp(r)?cA:lA)(n,l,c,r),m=_P(n,typeof r=="string",t),p=r!==y.Fragment?{...m,...h,ref:o}:{},{children:x}=n,b=y.useMemo(()=>Nr(x)?x.get():x,[x]);return y.createElement(r,{...p,children:b})}}function dA(t,e){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Vp(n)?sA:iA,preloadedFeatures:t,useRender:uA(o),createVisualElement:e,Component:n};return LP(c)}}function sN(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function yd(t,e,r){const n=t.getProps();return Up(n,e,r!==void 0?r:n.custom,t)}const fA=Lp(()=>window.ScrollTimeline!==void 0);class hA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(o=>{if(fA()&&o.attachTimeline)return o.attachTimeline(e);if(typeof r=="function")return r(o)});return()=>{n.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mA extends hA{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Gp(t,e){return t?t[e]||t.default||t:void 0}const Sm=2e4;function iN(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Sm;)e+=r,n=t.next(e);return e>=Sm?1/0:e}function Qp(t){return typeof t=="function"}function nb(t,e){t.timeline=e,t.onfinish=null}const Jp=t=>Array.isArray(t)&&typeof t[0]=="number",pA={linearEasing:void 0};function gA(t,e){const r=Lp(t);return()=>{var n;return(n=pA[e])!==null&&n!==void 0?n:r()}}const Uu=gA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oN=(t,e,r=10)=>{let n="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)n+=t($o(0,o-1,l))+", ";return`linear(${n.substring(0,n.length-2)})`};function aN(t){return!!(typeof t=="function"&&Uu()||!t||typeof t=="string"&&(t in _m||Uu())||Jp(t)||Array.isArray(t)&&t.every(aN))}const za=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,_m={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function lN(t,e){if(t)return typeof t=="function"&&Uu()?oN(t,e):Jp(t)?za(t):Array.isArray(t)?t.map(r=>lN(r,e)||_m.easeOut):_m[t]}const Nn={x:!1,y:!1};function cN(){return Nn.x||Nn.y}function xA(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(n=void 0)!==null&&n!==void 0?n:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function uN(t,e){const r=xA(t),n=new AbortController,o={passive:!0,...e,signal:n.signal};return[r,o,()=>n.abort()]}function sb(t){return e=>{e.pointerType==="touch"||cN()||t(e)}}function yA(t,e,r={}){const[n,o,l]=uN(t,r),c=sb(d=>{const{target:h}=d,m=e(d);if(typeof m!="function"||!h)return;const p=sb(x=>{m(x),h.removeEventListener("pointerleave",p)});h.addEventListener("pointerleave",p,o)});return n.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const dN=(t,e)=>e?t===e?!0:dN(t,e.parentElement):!1,Zp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bA(t){return vA.has(t.tagName)||t.tabIndex!==-1}const Wa=new WeakSet;function ib(t){return e=>{e.key==="Enter"&&t(e)}}function Ph(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wA=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ib(()=>{if(Wa.has(r))return;Ph(r,"down");const o=ib(()=>{Ph(r,"up")}),l=()=>Ph(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function ob(t){return Zp(t)&&!cN()}function jA(t,e,r={}){const[n,o,l]=uN(t,r),c=d=>{const h=d.currentTarget;if(!ob(d)||Wa.has(h))return;Wa.add(h);const m=e(d),p=(N,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!ob(N)||!Wa.has(h))&&(Wa.delete(h),typeof m=="function"&&m(N,{success:_}))},x=N=>{p(N,r.useGlobalTarget||dN(h,N.target))},b=N=>{p(N,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",b,o)};return n.forEach(d=>{!bA(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",m=>wA(m,o),o)}),l}function NA(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}const fN=new Set(["width","height","top","left","right","bottom",...Yo]);let Tu;function SA(){Tu=void 0}const Bn={now:()=>(Tu===void 0&&Bn.set(pr.isProcessing||vP.useManualTiming?pr.timestamp:performance.now()),Tu),set:t=>{Tu=t,queueMicrotask(SA)}};function Yp(t,e){t.indexOf(e)===-1&&t.push(e)}function Xp(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class eg{constructor(){this.subscriptions=[]}add(e){return Yp(this.subscriptions,e),()=>Xp(this.subscriptions,e)}notify(e,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,n);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hN(t,e){return e?t*(1e3/e):0}const ab=30,_A=t=>!isNaN(parseFloat(t));class kA{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const l=Bn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_A(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new eg);const n=this.events[e].add(r);return e==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ab)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ab);return hN(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new kA(t,e)}function CA(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ul(r))}function EA(t,e){const r=yd(t,e);let{transitionEnd:n={},transition:o={},...l}=r||{};l={...l,...n};for(const c in l){const d=UP(l[c]);CA(t,c,d)}}function TA(t){return!!(Nr(t)&&t.add)}function km(t,e){const r=t.getValue("willChange");if(TA(r))return r.add(e)}function mN(t){return t.props[zj]}const pN=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,PA=1e-7,AA=12;function RA(t,e,r,n,o){let l,c,d=0;do c=e+(r-e)/2,l=pN(c,n,o)-t,l>0?r=c:e=c;while(Math.abs(l)>PA&&++d<AA);return c}function Ml(t,e,r,n){if(t===e&&r===n)return Jr;const o=l=>RA(l,0,1,t,r);return l=>l===0||l===1?l:pN(o(l),e,n)}const gN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xN=t=>e=>1-t(1-e),yN=Ml(.33,1.53,.69,.99),tg=xN(yN),vN=gN(tg),bN=t=>(t*=2)<1?.5*tg(t):.5*(2-Math.pow(2,-10*(t-1))),rg=t=>1-Math.sin(Math.acos(t)),wN=xN(rg),jN=gN(rg),NN=t=>/^0[^.\s]+$/u.test(t);function OA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NN(t):!0}const Qa=t=>Math.round(t*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LA(t){return t==null}const IA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sg=(t,e)=>r=>!!(typeof r=="string"&&IA.test(r)&&r.startsWith(t)||e&&!LA(r)&&Object.prototype.hasOwnProperty.call(r,e)),SN=(t,e,r)=>n=>{if(typeof n!="string")return n;const[o,l,c,d]=n.match(ng);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},DA=t=>hs(0,255,t),Ah={...Xo,transform:t=>Math.round(DA(t))},ki={test:sg("rgb","red"),parse:SN("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ah.transform(t)+", "+Ah.transform(e)+", "+Ah.transform(r)+", "+Qa(cl.transform(n))+")"};function MA(t){let e="",r="",n="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Cm={test:sg("#"),parse:MA,transform:ki.transform},ko={test:sg("hsl","hue"),parse:SN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+$n.transform(Qa(e))+", "+$n.transform(Qa(r))+", "+Qa(cl.transform(n))+")"},jr={test:t=>ki.test(t)||Cm.test(t)||ko.test(t),parse:t=>ki.test(t)?ki.parse(t):ko.test(t)?ko.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ki.transform(t):ko.transform(t)},FA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VA(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ng))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(FA))===null||r===void 0?void 0:r.length)||0)>0}const _N="number",kN="color",UA="var",$A="var(",lb="${}",BA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dl(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(BA,h=>(jr.test(h)?(n.color.push(l),o.push(kN),r.push(jr.parse(h))):h.startsWith($A)?(n.var.push(l),o.push(UA),r.push(h)):(n.number.push(l),o.push(_N),r.push(parseFloat(h))),++l,lb)).split(lb);return{values:r,split:d,indexes:n,types:o}}function CN(t){return dl(t).values}function EN(t){const{split:e,types:r}=dl(t),n=e.length;return o=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],o[c]!==void 0){const d=r[c];d===_N?l+=Qa(o[c]):d===kN?l+=jr.transform(o[c]):l+=o[c]}return l}}const qA=t=>typeof t=="number"?0:t;function zA(t){const e=CN(t);return EN(t)(e.map(qA))}const Gs={test:VA,parse:CN,createTransformer:EN,getAnimatableNone:zA},WA=new Set(["brightness","contrast","saturate","opacity"]);function KA(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ng)||[];if(!n)return t;const o=r.replace(n,"");let l=WA.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+o+")"}const HA=/\b([a-z-]*)\(.*?\)/gu,Em={...Gs,getAnimatableNone:t=>{const e=t.match(HA);return e?e.map(KA).join(" "):t}},GA={...Bp,color:jr,backgroundColor:jr,outlineColor:jr,fill:jr,stroke:jr,borderColor:jr,borderTopColor:jr,borderRightColor:jr,borderBottomColor:jr,borderLeftColor:jr,filter:Em,WebkitFilter:Em},ig=t=>GA[t];function TN(t,e){let r=ig(t);return r!==Em&&(r=Gs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const QA=new Set(["auto","none","0"]);function JA(t,e,r){let n=0,o;for(;n<t.length&&!o;){const l=t[n];typeof l=="string"&&!QA.has(l)&&dl(l).values.length&&(o=t[n]),n++}if(o&&r)for(const l of e)t[l]=TN(r,o)}const cb=t=>t===Xo||t===Ke,ub=(t,e)=>parseFloat(t.split(", ")[e]),db=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return ub(o[1],e);{const l=n.match(/^matrix\((.+)\)$/u);return l?ub(l[1],t):0}},ZA=new Set(["x","y","z"]),YA=Yo.filter(t=>!ZA.has(t));function XA(t){const e=[];return YA.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const qo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:db(4,13),y:db(5,14)};qo.translateX=qo.x;qo.translateY=qo.y;const Pi=new Set;let Tm=!1,Pm=!1;function PN(){if(Pm){const t=Array.from(Pi).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const o=XA(n);o.length&&(r.set(n,o),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([l,c])=>{var d;(d=n.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Pm=!1,Tm=!1,Pi.forEach(t=>t.complete()),Pi.clear()}function AN(){Pi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pm=!0)})}function eR(){AN(),PN()}class og{constructor(e,r,n,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pi.add(this),Tm||(Tm=!0,kt.read(AN),kt.resolveKeyframes(PN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&r){const h=n.readValue(r,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rR(t){const e=tR.exec(t);if(!e)return[,];const[,r,n,o]=e;return[`--${r??n}`,o]}function ON(t,e,r=1){const[n,o]=rR(t);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return RN(c)?parseFloat(c):c}return $p(o)?ON(o,e,r+1):o}const LN=t=>e=>e.test(t),nR={test:t=>t==="auto",parse:t=>t},IN=[Xo,Ke,$n,Bs,KP,WP,nR],fb=t=>IN.find(LN(t));class DN extends og{constructor(e,r,n,o,l){super(e,r,n,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),$p(m))){const p=ON(m,r.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!fN.has(n)||e.length!==2)return;const[o,l]=e,c=fb(o),d=fb(l);if(c!==d)if(cb(c)&&cb(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let o=0;o<e.length;o++)OA(e[o])&&n.push(o);n.length&&JA(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(n,o).jump(o,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const l=r.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=qo[n](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{r.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url("));function sR(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function iR(t,e,r,n){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=hb(o,e),d=hb(l,e);return!c||!d?!1:sR(t)||(r==="spring"||Qp(r))&&n}const oR=t=>t!==null;function vd(t,{repeat:e,repeatType:r="loop"},n){const o=t.filter(oR),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const aR=40;class MN{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bn.now(),this.options={autoplay:e,delay:r,type:n,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eR(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Bn.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:m}=this.options;if(!m&&!iR(e,n,o,l))if(c)this.options.duration=0;else{h&&h(vd(e,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,r);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Lt=(t,e,r)=>t+(e-t)*r;function Rh(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lR({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let o=0,l=0,c=0;if(!e)o=l=c=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=Rh(h,d,t+1/3),l=Rh(h,d,t),c=Rh(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function $u(t,e){return r=>r>0?e:t}const Oh=(t,e,r)=>{const n=t*t,o=r*(e*e-n)+n;return o<0?0:Math.sqrt(o)},cR=[Cm,ki,ko],uR=t=>cR.find(e=>e.test(t));function mb(t){const e=uR(t);if(!e)return!1;let r=e.parse(t);return e===ko&&(r=lR(r)),r}const pb=(t,e)=>{const r=mb(t),n=mb(e);if(!r||!n)return $u(t,e);const o={...r};return l=>(o.red=Oh(r.red,n.red,l),o.green=Oh(r.green,n.green,l),o.blue=Oh(r.blue,n.blue,l),o.alpha=Lt(r.alpha,n.alpha,l),ki.transform(o))},dR=(t,e)=>r=>e(t(r)),Fl=(...t)=>t.reduce(dR),Am=new Set(["none","hidden"]);function fR(t,e){return Am.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hR(t,e){return r=>Lt(t,e,r)}function ag(t){return typeof t=="number"?hR:typeof t=="string"?$p(t)?$u:jr.test(t)?pb:gR:Array.isArray(t)?FN:typeof t=="object"?jr.test(t)?pb:mR:$u}function FN(t,e){const r=[...t],n=r.length,o=t.map((l,c)=>ag(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=o[c](l);return r}}function mR(t,e){const r={...t,...e},n={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(n[o]=ag(t[o])(t[o],e[o]));return o=>{for(const l in n)r[l]=n[l](o);return r}}function pR(t,e){var r;const n=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],h=(r=t.values[d])!==null&&r!==void 0?r:0;n[l]=h,o[c]++}return n}const gR=(t,e)=>{const r=Gs.createTransformer(e),n=dl(t),o=dl(e);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Am.has(t)&&!o.values.length||Am.has(e)&&!n.values.length?fR(t,e):Fl(FN(pR(n,o),o.values),r):$u(t,e)};function VN(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Lt(t,e,r):ag(t)(t,e)}const xR=5;function UN(t,e,r){const n=Math.max(e-xR,0);return hN(r-t(n),e-n)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lh=.001;function yR({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:r=Ft.velocity,mass:n=Ft.mass}){let o,l,c=1-e;c=hs(Ft.minDamping,Ft.maxDamping,c),t=hs(Ft.minDuration,Ft.maxDuration,fs(t)),c<1?(o=m=>{const p=m*c,x=p*t,b=p-r,N=Rm(m,c),_=Math.exp(-x);return Lh-b/N*_},l=m=>{const x=m*c*t,b=x*r+r,N=Math.pow(c,2)*Math.pow(m,2)*t,_=Math.exp(-x),j=Rm(Math.pow(m,2),c);return(-o(m)+Lh>0?-1:1)*((b-N)*_)/j}):(o=m=>{const p=Math.exp(-m*t),x=(m-r)*t+1;return-Lh+p*x},l=m=>{const p=Math.exp(-m*t),x=(r-m)*(t*t);return p*x});const d=5/t,h=bR(o,l,d);if(t=ds(t),isNaN(h))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(h,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const vR=12;function bR(t,e,r){let n=r;for(let o=1;o<vR;o++)n=n-t(n)/e(n);return n}function Rm(t,e){return t*Math.sqrt(1-e*e)}const wR=["duration","bounce"],jR=["stiffness","damping","mass"];function gb(t,e){return e.some(r=>t[r]!==void 0)}function NR(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!gb(t,jR)&&gb(t,wR))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,l=2*hs(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ft.mass,stiffness:o,damping:l}}else{const r=yR(t);e={...e,...r,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function $N(t=Ft.visualDuration,e=Ft.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:p,duration:x,velocity:b,isResolvedFromDuration:N}=NR({...r,velocity:-fs(r.velocity||0)}),_=b||0,j=m/(2*Math.sqrt(h*p)),w=c-l,k=fs(Math.sqrt(h/p)),C=Math.abs(w)<5;n||(n=C?Ft.restSpeed.granular:Ft.restSpeed.default),o||(o=C?Ft.restDelta.granular:Ft.restDelta.default);let E;if(j<1){const I=Rm(k,j);E=U=>{const K=Math.exp(-j*k*U);return c-K*((_+j*k*w)/I*Math.sin(I*U)+w*Math.cos(I*U))}}else if(j===1)E=I=>c-Math.exp(-k*I)*(w+(_+k*w)*I);else{const I=k*Math.sqrt(j*j-1);E=U=>{const K=Math.exp(-j*k*U),Z=Math.min(I*U,300);return c-K*((_+j*k*w)*Math.sinh(Z)+I*w*Math.cosh(Z))/I}}const R={calculatedDuration:N&&x||null,next:I=>{const U=E(I);if(N)d.done=I>=x;else{let K=0;j<1&&(K=I===0?ds(_):UN(E,I,U));const Z=Math.abs(K)<=n,O=Math.abs(c-U)<=o;d.done=Z&&O}return d.value=d.done?c:U,d},toString:()=>{const I=Math.min(iN(R),Sm),U=oN(K=>R.next(I*K).value,I,30);return I+"ms "+U}};return R}function xb({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:p}){const x=t[0],b={done:!1,value:x},N=Z=>d!==void 0&&Z<d||h!==void 0&&Z>h,_=Z=>d===void 0?h:h===void 0||Math.abs(d-Z)<Math.abs(h-Z)?d:h;let j=r*e;const w=x+j,k=c===void 0?w:c(w);k!==w&&(j=k-x);const C=Z=>-j*Math.exp(-Z/n),E=Z=>k+C(Z),R=Z=>{const O=C(Z),G=E(Z);b.done=Math.abs(O)<=m,b.value=b.done?k:G};let I,U;const K=Z=>{N(b.value)&&(I=Z,U=$N({keyframes:[b.value,_(b.value)],velocity:UN(E,Z,b.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return K(0),{calculatedDuration:null,next:Z=>{let O=!1;return!U&&I===void 0&&(O=!0,R(Z),K(Z)),I!==void 0&&Z>=I?U.next(Z-I):(!O&&R(Z),b)}}}const SR=Ml(.42,0,1,1),_R=Ml(0,0,.58,1),BN=Ml(.42,0,.58,1),kR=t=>Array.isArray(t)&&typeof t[0]!="number",CR={linear:Jr,easeIn:SR,easeInOut:BN,easeOut:_R,circIn:rg,circInOut:jN,circOut:wN,backIn:tg,backInOut:vN,backOut:yN,anticipate:bN},yb=t=>{if(Jp(t)){Vj(t.length===4);const[e,r,n,o]=t;return Ml(e,r,n,o)}else if(typeof t=="string")return CR[t];return t};function ER(t,e,r){const n=[],o=r||VN,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Jr:e;d=Fl(h,d)}n.push(d)}return n}function TR(t,e,{clamp:r=!0,ease:n,mixer:o}={}){const l=t.length;if(Vj(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=ER(e,n,o),h=d.length,m=p=>{if(c&&p<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const b=$o(t[x],t[x+1],p);return d[x](b)};return r?p=>m(hs(t[0],t[l-1],p)):m}function PR(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const o=$o(0,e,n);t.push(Lt(r,1,o))}}function AR(t){const e=[0];return PR(e,t.length-1),e}function RR(t,e){return t.map(r=>r*e)}function OR(t,e){return t.map(()=>e||BN).splice(0,t.length-1)}function Bu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const o=kR(n)?n.map(yb):yb(n),l={done:!1,value:e[0]},c=RR(r&&r.length===e.length?r:AR(e),t),d=TR(c,e,{ease:Array.isArray(o)?o:OR(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const LR=t=>{const e=({timestamp:r})=>t(r);return{start:()=>kt.update(e,!0),stop:()=>Hs(e),now:()=>pr.isProcessing?pr.timestamp:Bn.now()}},IR={decay:xb,inertia:xb,tween:Bu,keyframes:Bu,spring:$N},DR=t=>t/100;class lg extends MN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:n,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||og,d=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(l,d,r,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=Qp(r)?r:IR[r]||Bu;let h,m;d!==Bu&&typeof e[0]!="number"&&(h=Fl(DR,VN(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=iN(p));const{calculatedDuration:x}=p,b=x+o,N=b*(n+1)-o;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:b,totalDuration:N}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:Z}=this.options;return{done:!0,value:Z[Z.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=n;if(this.startTime===null)return l.next(0);const{delay:b,repeat:N,repeatType:_,repeatDelay:j,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-b*(this.speed>=0?1:-1),C=this.speed>=0?k<0:k>p;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,R=l;if(N){const Z=Math.min(this.currentTime,p)/x;let O=Math.floor(Z),G=Z%1;!G&&Z>=1&&(G=1),G===1&&O--,O=Math.min(O,N+1),!!(O%2)&&(_==="reverse"?(G=1-G,j&&(G-=j/x)):_==="mirror"&&(R=c)),E=hs(0,1,G)*x}const I=C?{done:!1,value:h[0]}:R.next(E);d&&(I.value=d(I.value));let{done:U}=I;!C&&m!==null&&(U=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return K&&o!==void 0&&(I.value=vd(h,this.options,o)),w&&w(I.value),K&&this.finish(),I}get duration(){const{resolved:e}=this;return e?fs(e.calculatedDuration):0}get time(){return fs(this.currentTime)}set time(e){e=ds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=fs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LR,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const MR=new Set(["opacity","clipPath","filter","transform"]);function FR(t,e,r,{delay:n=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const m={[e]:r};h&&(m.offset=h);const p=lN(d,o);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:n,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const VR=Lp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qu=10,UR=2e4;function $R(t){return Qp(t.type)||t.type==="spring"||!aN(t.ease)}function BR(t,e){const r=new lg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const o=[];let l=0;for(;!n.done&&l<UR;)n=r.sample(l),o.push(n.value),l+=qu;return{times:void 0,keyframes:o,duration:l-qu,ease:"linear"}}const qN={anticipate:bN,backInOut:vN,circInOut:jN};function qR(t){return t in qN}class vb extends MN{constructor(e){super(e);const{name:r,motionValue:n,element:o,keyframes:l}=this.options;this.resolver=new DN(l,(c,d)=>this.onKeyframesResolved(c,d),r,n,o),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Uu()&&qR(l)&&(l=qN[l]),$R(this.options)){const{onComplete:x,onUpdate:b,motionValue:N,element:_,...j}=this.options,w=BR(e,j);e=w.keyframes,e.length===1&&(e[1]=e[0]),n=w.duration,o=w.times,l=w.ease,c="keyframes"}const p=FR(d.owner.current,h,e,{...this.options,duration:n,times:o,ease:l});return p.startTime=m??this.calcStartTime(),this.pendingTimeline?(nb(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;d.set(vd(e,this.options,r)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return fs(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return fs(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=ds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Jr;const{animation:n}=r;nb(n,e)}return Jr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:o,type:l,ease:c,times:d}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:b,...N}=this.options,_=new lg({...N,keyframes:n,duration:o,type:l,ease:c,times:d,isGenerator:!0}),j=ds(this.time);m.setWithVelocity(_.sample(j-qu).value,_.sample(j).value,qu)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=r.owner.getProps();return VR()&&n&&MR.has(n)&&!h&&!m&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const zR={type:"spring",stiffness:500,damping:25,restSpeed:10},WR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KR={type:"keyframes",duration:.8},HR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GR=(t,{keyframes:e})=>e.length>2?KR:Mi.has(t)?t.startsWith("scale")?WR(e[1]):zR:HR;function QR({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const cg=(t,e,r,n={},o,l)=>c=>{const d=Gp(n,t)||{},h=d.delay||n.delay||0;let{elapsed:m=0}=n;m=m-ds(h);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};QR(d)||(p={...p,...GR(t,p)}),p.duration&&(p.duration=ds(p.duration)),p.repeatDelay&&(p.repeatDelay=ds(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!l&&e.get()!==void 0){const b=vd(p.keyframes,d);if(b!==void 0)return kt.update(()=>{p.onUpdate(b),p.onComplete()}),new mA([])}return!l&&vb.supports(p)?new vb(p):new lg(p)};function JR({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function zN(t,e,{delay:r=0,transitionOverride:n,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;n&&(c=n);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const x in h){const b=t.getValue(x,(l=t.latestValues[x])!==null&&l!==void 0?l:null),N=h[x];if(N===void 0||p&&JR(p,x))continue;const _={delay:r,...Gp(c||{},x)};let j=!1;if(window.MotionHandoffAnimation){const k=mN(t);if(k){const C=window.MotionHandoffAnimation(k,x,kt);C!==null&&(_.startTime=C,j=!0)}}km(t,x),b.start(cg(x,b,N,t.shouldReduceMotion&&fN.has(x)?{type:!1}:_,t,j));const w=b.animation;w&&m.push(w)}return d&&Promise.all(m).then(()=>{kt.update(()=>{d&&EA(t,d)})}),m}function Om(t,e,r={}){var n;const o=yd(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(l=r.transitionOverride);const c=o?()=>Promise.all(zN(t,o,r)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=l;return ZR(t,e,p+m,x,b,r)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(r.delay)])}function ZR(t,e,r=0,n=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*n,h=o===1?(m=0)=>m*n:(m=0)=>d-m*n;return Array.from(t.variantChildren).sort(YR).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(Om(m,e,{...l,delay:r+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function YR(t,e){return t.sortNodePosition(e)}function XR(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const o=e.map(l=>Om(t,l,r));n=Promise.all(o)}else if(typeof e=="string")n=Om(t,e,r);else{const o=typeof e=="function"?yd(t,e,r.custom):e;n=Promise.all(zN(t,o,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const eO=Dp.length;function WN(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?WN(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<eO;r++){const n=Dp[r],o=t.props[n];(ll(o)||o===!1)&&(e[n]=o)}return e}const tO=[...Ip].reverse(),rO=Ip.length;function nO(t){return e=>Promise.all(e.map(({animation:r,options:n})=>XR(t,r,n)))}function sO(t){let e=nO(t),r=bb(),n=!0;const o=h=>(m,p)=>{var x;const b=yd(t,p,h==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:N,transitionEnd:_,...j}=b;m={...m,...j,..._}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,p=WN(t.parent)||{},x=[],b=new Set;let N={},_=1/0;for(let w=0;w<rO;w++){const k=tO[w],C=r[k],E=m[k]!==void 0?m[k]:p[k],R=ll(E),I=k===h?C.isActive:null;I===!1&&(_=w);let U=E===p[k]&&E!==m[k]&&R;if(U&&n&&t.manuallyAnimateOnMount&&(U=!1),C.protectedKeys={...N},!C.isActive&&I===null||!E&&!C.prevProp||gd(E)||typeof E=="boolean")continue;const K=iO(C.prevProp,E);let Z=K||k===h&&C.isActive&&!U&&R||w>_&&R,O=!1;const G=Array.isArray(E)?E:[E];let ce=G.reduce(o(k),{});I===!1&&(ce={});const{prevResolvedValues:Q={}}=C,ne={...Q,...ce},te=re=>{Z=!0,b.has(re)&&(O=!0,b.delete(re)),C.needsAnimating[re]=!0;const ee=t.getValue(re);ee&&(ee.liveStyle=!1)};for(const re in ne){const ee=ce[re],de=Q[re];if(N.hasOwnProperty(re))continue;let M=!1;Nm(ee)&&Nm(de)?M=!sN(ee,de):M=ee!==de,M?ee!=null?te(re):b.add(re):ee!==void 0&&b.has(re)?te(re):C.protectedKeys[re]=!0}C.prevProp=E,C.prevResolvedValues=ce,C.isActive&&(N={...N,...ce}),n&&t.blockInitialAnimation&&(Z=!1),Z&&(!(U&&K)||O)&&x.push(...G.map(re=>({animation:re,options:{type:k}})))}if(b.size){const w={};b.forEach(k=>{const C=t.getBaseTarget(k),E=t.getValue(k);E&&(E.liveStyle=!0),w[k]=C??null}),x.push({animation:w})}let j=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(x):Promise.resolve()}function d(h,m){var p;if(r[h].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(b=>{var N;return(N=b.animationState)===null||N===void 0?void 0:N.setActive(h,m)}),r[h].isActive=m;const x=c(h);for(const b in r)r[b].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=bb(),n=!0}}}function iO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sN(e,t):!1}function xi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bb(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class Xs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oO extends Xs{constructor(e){super(e),e.animationState||(e.animationState=sO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aO=0;class lO extends Xs{constructor(){super(...arguments),this.id=aO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cO={animation:{Feature:oO},exit:{Feature:lO}};function fl(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Vl(t){return{point:{x:t.pageX,y:t.pageY}}}const uO=t=>e=>Zp(e)&&t(e,Vl(e));function Ja(t,e,r,n){return fl(t,e,uO(r),n)}const wb=(t,e)=>Math.abs(t-e);function dO(t,e){const r=wb(t.x,e.x),n=wb(t.y,e.y);return Math.sqrt(r**2+n**2)}class KN{constructor(e,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Dh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,N=dO(x.offset,{x:0,y:0})>=3;if(!b&&!N)return;const{point:_}=x,{timestamp:j}=pr;this.history.push({..._,timestamp:j});const{onStart:w,onMove:k}=this.handlers;b||(w&&w(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ih(b,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:N,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Dh(x.type==="pointercancel"?this.lastMoveEventInfo:Ih(b,this.transformPagePoint),this.history);this.startEvent&&N&&N(x,w),_&&_(x,w)},!Zp(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=Vl(e),d=Ih(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=pr;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=r;p&&p(e,Dh(d,this.history)),this.removeListeners=Fl(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function Ih(t,e){return e?{point:e(t.point)}:t}function jb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dh({point:t},e){return{point:t,delta:jb(t,HN(e)),offset:jb(t,fO(e)),velocity:hO(e,.1)}}function fO(t){return t[0]}function HN(t){return t[t.length-1]}function hO(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const o=HN(t);for(;r>=0&&(n=t[r],!(o.timestamp-n.timestamp>ds(e)));)r--;if(!n)return{x:0,y:0};const l=fs(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const GN=1e-4,mO=1-GN,pO=1+GN,QN=.01,gO=0-QN,xO=0+QN;function Xr(t){return t.max-t.min}function yO(t,e,r){return Math.abs(t-e)<=r}function Nb(t,e,r,n=.5){t.origin=n,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Xr(r)/Xr(e),t.translate=Lt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=mO&&t.scale<=pO||isNaN(t.scale))&&(t.scale=1),(t.translate>=gO&&t.translate<=xO||isNaN(t.translate))&&(t.translate=0)}function Za(t,e,r,n){Nb(t.x,e.x,r.x,n?n.originX:void 0),Nb(t.y,e.y,r.y,n?n.originY:void 0)}function Sb(t,e,r){t.min=r.min+e.min,t.max=t.min+Xr(e)}function vO(t,e,r){Sb(t.x,e.x,r.x),Sb(t.y,e.y,r.y)}function _b(t,e,r){t.min=e.min-r.min,t.max=t.min+Xr(e)}function Ya(t,e,r){_b(t.x,e.x,r.x),_b(t.y,e.y,r.y)}function bO(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Lt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Lt(r,t,n.max):Math.min(t,r)),t}function kb(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function wO(t,{top:e,left:r,bottom:n,right:o}){return{x:kb(t.x,r,o),y:kb(t.y,e,n)}}function Cb(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function jO(t,e){return{x:Cb(t.x,e.x),y:Cb(t.y,e.y)}}function NO(t,e){let r=.5;const n=Xr(t),o=Xr(e);return o>n?r=$o(e.min,e.max-n,t.min):n>o&&(r=$o(t.min,t.max-o,e.min)),hs(0,1,r)}function SO(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Lm=.35;function _O(t=Lm){return t===!1?t=0:t===!0&&(t=Lm),{x:Eb(t,"left","right"),y:Eb(t,"top","bottom")}}function Eb(t,e,r){return{min:Tb(t,e),max:Tb(t,r)}}function Tb(t,e){return typeof t=="number"?t:t[e]||0}const Pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Pb(),y:Pb()}),Ab=()=>({min:0,max:0}),zt=()=>({x:Ab(),y:Ab()});function dn(t){return[t("x"),t("y")]}function JN({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function kO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CO(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Mh(t){return t===void 0||t===1}function Im({scale:t,scaleX:e,scaleY:r}){return!Mh(t)||!Mh(e)||!Mh(r)}function wi(t){return Im(t)||ZN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZN(t){return Rb(t.x)||Rb(t.y)}function Rb(t){return t&&t!=="0%"}function zu(t,e,r){const n=t-r,o=e*n;return r+o}function Ob(t,e,r,n,o){return o!==void 0&&(t=zu(t,o,n)),zu(t,r,n)+e}function Dm(t,e=0,r=1,n,o){t.min=Ob(t.min,e,r,n,o),t.max=Ob(t.max,e,r,n,o)}function YN(t,{x:e,y:r}){Dm(t.x,e.translate,e.scale,e.originPoint),Dm(t.y,r.translate,r.scale,r.originPoint)}const Lb=.999999999999,Ib=1.0000000000001;function EO(t,e,r,n=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=r[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&To(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,YN(t,c)),n&&wi(l.latestValues)&&To(t,l.latestValues))}e.x<Ib&&e.x>Lb&&(e.x=1),e.y<Ib&&e.y>Lb&&(e.y=1)}function Eo(t,e){t.min=t.min+e,t.max=t.max+e}function Db(t,e,r,n,o=.5){const l=Lt(t.min,t.max,o);Dm(t,e,r,l,n)}function To(t,e){Db(t.x,e.x,e.scaleX,e.scale,e.originX),Db(t.y,e.y,e.scaleY,e.scale,e.originY)}function XN(t,e){return JN(CO(t.getBoundingClientRect(),e))}function TO(t,e,r){const n=XN(t,r),{scroll:o}=e;return o&&(Eo(n.x,o.offset.x),Eo(n.y,o.offset.y)),n}const eS=({current:t})=>t?t.ownerDocument.defaultView:null,PO=new WeakMap;class AO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Vl(p).point)},l=(p,x)=>{const{drag:b,dragPropagation:N,onDragStart:_}=this.getProps();if(b&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NA(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(w=>{let k=this.getAxisMotionValue(w).get()||0;if($n.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[w];E&&(k=Xr(E)*(parseFloat(k)/100))}}this.originPoint[w]=k}),_&&kt.postRender(()=>_(p,x)),km(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,x)=>{const{dragPropagation:b,dragDirectionLock:N,onDirectionLock:_,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=x;if(N&&this.currentDirection===null){this.currentDirection=RO(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,w),this.updateAxis("y",x.point,w),this.visualElement.render(),j&&j(p,x)},d=(p,x)=>this.stop(p,x),h=()=>dn(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new KN(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:eS(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&kt.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:o}=this.getProps();if(!n||!cu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=bO(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&_o(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=wO(o.layoutBox,r):this.constraints=!1,this.elastic=_O(n),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&dn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=SO(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!_o(e))return!1;const n=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=TO(n,o.root,this.visualElement.getTransformPagePoint());let c=jO(o.layout.layoutBox,l);if(r){const d=r(kO(c));this.hasMutatedConstraints=!!d,d&&(c=JN(d))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=dn(p=>{if(!cu(p,r,this.currentDirection))return;let x=h&&h[p]||{};c&&(x={min:0,max:0});const b=o?200:1e6,N=o?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:b,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(p,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return km(this.visualElement,e),n.start(cg(e,n,0,r,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){dn(r=>{const{drag:n}=this.getProps();if(!cu(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[r];l.set(e[r]-Lt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_o(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};dn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=NO({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),dn(c=>{if(!cu(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(Lt(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;PO.set(this.visualElement,this);const e=this.visualElement.current,r=Ja(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();_o(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),kt.read(n);const c=fl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(dn(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Lm,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function cu(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function RO(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class OO extends Xs{constructor(e){super(e),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new AO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mb=t=>(e,r)=>{t&&kt.postRender(()=>t(e,r))};class LO extends Xs{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(e){this.session=new KN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:Mb(e),onStart:Mb(r),onMove:n,onEnd:(l,c)=>{delete this.session,o&&kt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $a={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const r=Fb(t,e.target.x),n=Fb(t,e.target.y);return`${r}% ${n}%`}},IO={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,o=Gs.parse(t);if(o.length>5)return n;const l=Gs.createTransformer(t),c=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const m=Lt(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class DO extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=e;rA(MO),l&&(r.group&&r.group.add(l),n&&n.register&&o&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:o,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||kt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tS(t){const[e,r]=Mj(),n=y.useContext(Pp);return i.jsx(DO,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(Wj),isPresent:e,safeToRemove:r})}const MO={borderRadius:{...$a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomLeftRadius:$a,borderBottomRightRadius:$a,boxShadow:IO};function FO(t,e,r){const n=Nr(t)?t:ul(t);return n.start(cg("",n,e,r)),n.animation}function VO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const UO=(t,e)=>t.depth-e.depth;class $O{constructor(){this.children=[],this.isDirty=!1}add(e){Yp(this.children,e),this.isDirty=!0}remove(e){Xp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UO),this.isDirty=!1,this.children.forEach(e)}}function BO(t,e){const r=Bn.now(),n=({timestamp:o})=>{const l=o-r;l>=e&&(Hs(n),t(l-e))};return kt.read(n,!0),()=>Hs(n)}const rS=["TopLeft","TopRight","BottomLeft","BottomRight"],qO=rS.length,Vb=t=>typeof t=="string"?parseFloat(t):t,Ub=t=>typeof t=="number"||Ke.test(t);function zO(t,e,r,n,o,l){o?(t.opacity=Lt(0,r.opacity!==void 0?r.opacity:1,WO(n)),t.opacityExit=Lt(e.opacity!==void 0?e.opacity:1,0,KO(n))):l&&(t.opacity=Lt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<qO;c++){const d=`border${rS[c]}Radius`;let h=$b(e,d),m=$b(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Ub(h)===Ub(m)?(t[d]=Math.max(Lt(Vb(h),Vb(m),n),0),($n.test(m)||$n.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=Lt(e.rotate||0,r.rotate||0,n))}function $b(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WO=nS(0,.5,wN),KO=nS(.5,.95,Jr);function nS(t,e,r){return n=>n<t?0:n>e?1:r($o(t,e,n))}function Bb(t,e){t.min=e.min,t.max=e.max}function cn(t,e){Bb(t.x,e.x),Bb(t.y,e.y)}function qb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zb(t,e,r,n,o){return t-=e,t=zu(t,1/r,n),o!==void 0&&(t=zu(t,1/o,n)),t}function HO(t,e=0,r=1,n=.5,o,l=t,c=t){if($n.test(e)&&(e=parseFloat(e),e=Lt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Lt(l.min,l.max,n);t===l&&(d-=e),t.min=zb(t.min,e,r,d,o),t.max=zb(t.max,e,r,d,o)}function Wb(t,e,[r,n,o],l,c){HO(t,e[r],e[n],e[o],e.scale,l,c)}const GO=["x","scaleX","originX"],QO=["y","scaleY","originY"];function Kb(t,e,r,n){Wb(t.x,e,GO,r?r.x:void 0,n?n.x:void 0),Wb(t.y,e,QO,r?r.y:void 0,n?n.y:void 0)}function Hb(t){return t.translate===0&&t.scale===1}function sS(t){return Hb(t.x)&&Hb(t.y)}function Gb(t,e){return t.min===e.min&&t.max===e.max}function JO(t,e){return Gb(t.x,e.x)&&Gb(t.y,e.y)}function Qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iS(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Jb(t){return Xr(t.x)/Xr(t.y)}function Zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZO{constructor(){this.members=[]}add(e){Yp(this.members,e),e.scheduleRender()}remove(e){if(Xp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YO(t,e,r){let n="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=r?.z||0;if((o||l||c)&&(n=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:b,skewX:N,skewY:_}=r;m&&(n=`perspective(${m}px) ${n}`),p&&(n+=`rotate(${p}deg) `),x&&(n+=`rotateX(${x}deg) `),b&&(n+=`rotateY(${b}deg) `),N&&(n+=`skewX(${N}deg) `),_&&(n+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(n+=`scale(${d}, ${h})`),n||"none"}const ji={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ka=typeof window<"u"&&window.MotionDebug!==void 0,Fh=["","X","Y","Z"],XO={visibility:"hidden"},Yb=1e3;let eL=0;function Vh(t,e,r,n){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),n&&(n[t]=0))}function oS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=mN(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kt,!(o||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&oS(n)}function aS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},d=e?.()){this.id=eL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ka&&(ji.totalNodes=ji.resolvedTargetDeltas=ji.recalculatedProjection=0),this.nodes.forEach(nL),this.nodes.forEach(lL),this.nodes.forEach(cL),this.nodes.forEach(sL),Ka&&window.MotionDebug.record(ji)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new $O)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new eg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=BO(b,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(ew))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:N,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||mL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:k}=p.getProps(),C=!this.targetLayout||!iS(this.targetLayout,_)||N,E=!b&&N;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const R={...Gp(j,"layout"),onPlay:w,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else b||ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xb);return}this.isUpdating||this.nodes.forEach(oL),this.isUpdating=!1,this.nodes.forEach(aL),this.nodes.forEach(tL),this.nodes.forEach(rL),this.clearAllSnapshots();const d=Bn.now();pr.delta=hs(0,1e3/60,d-pr.timestamp),pr.timestamp=d,pr.isProcessing=!0,Th.update.process(pr),Th.preRender.process(pr),Th.render.process(pr),pr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iL),this.sharedNodes.forEach(dL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!sS(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||wi(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),pL(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return zt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(gL))){const{scroll:p}=this.root;p&&(Eo(h.x,p.offset.x),Eo(h.y,p.offset.y))}return h}removeElementScroll(c){var d;const h=zt();if(cn(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&cn(h,c),Eo(h.x,x.offset.x),Eo(h.y,x.offset.y))}return h}applyTransform(c,d=!1){const h=zt();cn(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&To(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),wi(p.latestValues)&&To(h,p.latestValues)}return wi(this.latestValues)&&To(h,this.latestValues),h}removeTransform(c){const d=zt();cn(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!wi(m.latestValues))continue;Im(m.latestValues)&&m.updateSnapshot();const p=zt(),x=m.measurePageBox();cn(p,x),Kb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return wi(this.latestValues)&&Kb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=pr.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),YN(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Ya(this.relativeTargetOrigin,this.target,N.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ka&&ji.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Im(this.parent.latestValues)||ZN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===pr.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;cn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,N=this.treeScale.y;EO(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=zt());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qb(this.prevProjectionDelta.x,this.projectionDelta.x),qb(this.prevProjectionDelta.y,this.projectionDelta.y)),Za(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==N||!Zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ka&&ji.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},x=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=zt(),N=h?h.source:void 0,_=this.layout?this.layout.source:void 0,j=N!==_,w=this.getStack(),k=!w||w.members.length<=1,C=!!(j&&!k&&this.options.crossfade===!0&&!this.path.some(hL));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const I=R/1e3;tw(x.x,c.x,I),tw(x.y,c.y,I),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ya(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fL(this.relativeTarget,this.relativeTargetOrigin,b,I),E&&JO(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=zt()),cn(E,this.relativeTarget)),j&&(this.animationValues=p,zO(p,m,this.latestValues,I,C,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Pu.hasAnimatedSinceResize=!0,this.currentAnimation=FO(0,Yb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&lS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||zt();const x=Xr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const b=Xr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}cn(d,h),To(d,p),Za(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ZO),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Vh("z",c,m,this.animationValues);for(let p=0;p<Fh.length;p++)Vh(`rotate${Fh[p]}`,c,m,this.animationValues),Vh(`skew${Fh[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XO;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Eu(c?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Eu(c?.pointerEvents)||""),this.hasProjected&&!wi(this.latestValues)&&(j.transform=p?p({},""):"none",this.hasProjected=!1),j}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=YO(this.projectionDeltaWithTransform,this.treeScale,b),p&&(m.transform=p(b,m.transform));const{x:N,y:_}=this.projectionDelta;m.transformOrigin=`${N.origin*100}% ${_.origin*100}% 0`,x.animationValues?m.opacity=x===this?(h=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const j in Vu){if(b[j]===void 0)continue;const{correct:w,applyTo:k}=Vu[j],C=m.transform==="none"?b[j]:w(b[j],x);if(k){const E=k.length;for(let R=0;R<E;R++)m[k[R]]=C}else m[j]=C}return this.options.layoutId&&(m.pointerEvents=x===this?Eu(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Xb),this.root.sharedNodes.clear()}}}function tL(t){t.updateLayout()}function rL(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=t.layout,{animationType:l}=t.options,c=r.source!==t.layout.source;l==="size"?dn(x=>{const b=c?r.measuredBox[x]:r.layoutBox[x],N=Xr(b);b.min=n[x].min,b.max=b.min+N}):lS(l,r.layoutBox,n)&&dn(x=>{const b=c?r.measuredBox[x]:r.layoutBox[x],N=Xr(n[x]);b.max=b.min+N,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+N)});const d=Co();Za(d,n,r.layoutBox);const h=Co();c?Za(h,t.applyTransform(o,!0),r.measuredBox):Za(h,n,r.layoutBox);const m=!sS(d);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:N}=x;if(b&&N){const _=zt();Ya(_,r.layoutBox,b.layoutBox);const j=zt();Ya(j,n,N.layoutBox),iS(_,j)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=_,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function nL(t){Ka&&ji.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iL(t){t.clearSnapshot()}function Xb(t){t.clearMeasurements()}function oL(t){t.isLayoutDirty=!1}function aL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ew(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lL(t){t.resolveTargetDelta()}function cL(t){t.calcProjection()}function uL(t){t.resetSkewAndRotation()}function dL(t){t.removeLeadSnapshot()}function tw(t,e,r){t.translate=Lt(e.translate,0,r),t.scale=Lt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function rw(t,e,r,n){t.min=Lt(e.min,r.min,n),t.max=Lt(e.max,r.max,n)}function fL(t,e,r,n){rw(t.x,e.x,r.x,n),rw(t.y,e.y,r.y,n)}function hL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mL={duration:.45,ease:[.4,0,.1,1]},nw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sw=nw("applewebkit/")&&!nw("chrome/")?Math.round:Jr;function iw(t){t.min=sw(t.min),t.max=sw(t.max)}function pL(t){iw(t.x),iw(t.y)}function lS(t,e,r){return t==="position"||t==="preserve-aspect"&&!yO(Jb(e),Jb(r),.2)}function gL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const xL=aS({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uh={current:void 0},cS=aS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uh.current){const t=new xL({});t.mount(window),t.setOptions({layoutScroll:!0}),Uh.current=t}return Uh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yL={pan:{Feature:LO},drag:{Feature:OO,ProjectionNode:cS,MeasureLayout:tS}};function ow(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=n[o];l&&kt.postRender(()=>l(e,Vl(e)))}class vL extends Xs{mount(){const{current:e}=this.node;e&&(this.unmount=yA(e,r=>(ow(this.node,r,"Start"),n=>ow(this.node,n,"End"))))}unmount(){}}class bL extends Xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aw(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=n[o];l&&kt.postRender(()=>l(e,Vl(e)))}class wL extends Xs{mount(){const{current:e}=this.node;e&&(this.unmount=jA(e,r=>(aw(this.node,r,"Start"),(n,{success:o})=>aw(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mm=new WeakMap,$h=new WeakMap,jL=t=>{const e=Mm.get(t.target);e&&e(t)},NL=t=>{t.forEach(jL)};function SL({root:t,...e}){const r=t||document;$h.has(r)||$h.set(r,{});const n=$h.get(r),o=JSON.stringify(e);return n[o]||(n[o]=new IntersectionObserver(NL,{root:t,...e})),n[o]}function _L(t,e,r){const n=SL(e);return Mm.set(t,r),n.observe(t),()=>{Mm.delete(t),n.unobserve(t)}}const kL={some:0,all:1};class CL extends Xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:kL[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=m?p:x;b&&b(h)};return _L(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(EL(e,r))&&this.startObserver()}unmount(){}}function EL({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const TL={inView:{Feature:CL},tap:{Feature:wL},focus:{Feature:bL},hover:{Feature:vL}},PL={layout:{ProjectionNode:cS,MeasureLayout:tS}},Fm={current:null},uS={current:!1};function AL(){if(uS.current=!0,!!Op)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fm.current=t.matches;t.addListener(e),e()}else Fm.current=!1}const RL=[...IN,jr,Gs],OL=t=>RL.find(LN(t)),lw=new WeakMap;function LL(t,e,r){for(const n in e){const o=e[n],l=r[n];if(Nr(o))t.addValue(n,o);else if(Nr(l))t.addValue(n,ul(o,{owner:t}));else if(l!==o)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(n);t.addValue(n,ul(c!==void 0?c:o,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IL{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=og,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=Bn.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,kt.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=xd(r),this.isVariantNode=qj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(r,{},this);for(const N in b){const _=b[N];h[N]!==void 0&&Nr(_)&&_.set(h[N],!1)}}mount(e){this.current=e,lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),uS.current||AL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lw.delete(this.current),this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Mi.has(e),o=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&kt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const r=Bo[e];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[e]&&o&&n(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<cw.length;n++){const o=cw[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=LL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ul(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(RN(o)||NN(o))?o=parseFloat(o):!OL(o)&&Gs.test(r)&&(o=TN(e,r)),this.setBaseTarget(e,Nr(o)?o.get():o)),Nr(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const c=Up(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(o=c[e])}if(n&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Nr(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new eg),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class dS extends IL{constructor(){super(...arguments),this.KeyframeResolver=DN}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function DL(t){return window.getComputedStyle(t)}class ML extends dS{constructor(){super(...arguments),this.type="html",this.renderInstance=Yj}readValueFromInstance(e,r){if(Mi.has(r)){const n=ig(r);return n&&n.default||0}else{const n=DL(e),o=(Qj(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return XN(e,r)}build(e,r,n){qp(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Hp(e,r,n)}}class FL extends dS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Mi.has(r)){const n=ig(r);return n&&n.default||0}return r=Xj.has(r)?r:Mp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return rN(e,r,n)}build(e,r,n){zp(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,o){eN(e,r,n,o)}mount(e){this.isSVGTag=Kp(e.tagName),super.mount(e)}}const VL=(t,e)=>Vp(t)?new FL(e):new ML(e,{allowProjection:t!==y.Fragment}),UL=dA({...cO,...TL,...yL,...PL},VL),Ye=kP(UL);var Vm=function(t,e){return Vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Vm(t,e)};function fS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hn=function(){return hn=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},hn.apply(this,arguments)};function ei(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function hS(t,e,r,n){var o=arguments.length,l=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,n);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(o<3?c(l):o>3?c(e,r,l):c(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function mS(t,e){return function(r,n){e(r,n,t)}}function pS(t,e,r,n,o,l){function c(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var d=n.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?n.static?t:t.prototype:null,p=e||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),x,b=!1,N=r.length-1;N>=0;N--){var _={};for(var j in n)_[j]=j==="access"?{}:n[j];for(var j in n.access)_.access[j]=n.access[j];_.addInitializer=function(k){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(k||null))};var w=(0,r[N])(d==="accessor"?{get:p.get,set:p.set}:p[h],_);if(d==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(x=c(w.get))&&(p.get=x),(x=c(w.set))&&(p.set=x),(x=c(w.init))&&o.unshift(x)}else(x=c(w))&&(d==="field"?o.unshift(x):p[h]=x)}m&&Object.defineProperty(m,n.name,p),b=!0}function gS(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function xS(t){return typeof t=="symbol"?t:"".concat(t)}function yS(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function vS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Me(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function h(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):o(p.value).then(d,h)}m((n=n.apply(t,e||[])).next())})}function bS(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(p){return h([m,p])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(p){m=[6,p],o=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var bd=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function wS(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bd(e,t,r)}function Wu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ug(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)l.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return l}function jS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ug(arguments[e]));return t}function NS(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,o++)n[o]=l[c];return n}function dg(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}function zo(t){return this instanceof zo?(this.v=t,this):new zo(t)}function SS(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(N){return function(_){return Promise.resolve(_).then(N,x)}}function d(N,_){n[N]&&(o[N]=function(j){return new Promise(function(w,k){l.push([N,j,w,k])>1||h(N,j)})},_&&(o[N]=_(o[N])))}function h(N,_){try{m(n[N](_))}catch(j){b(l[0][3],j)}}function m(N){N.value instanceof zo?Promise.resolve(N.value.v).then(p,x):b(l[0][2],N)}function p(N){h("next",N)}function x(N){h("throw",N)}function b(N,_){N(_),l.shift(),l.length&&h(l[0][0],l[0][1])}}function _S(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,l){e[o]=t[o]?function(c){return(r=!r)?{value:zo(t[o](c)),done:!1}:l?l(c):c}:l}}function kS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wu=="function"?Wu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),o(d,h,c.done,c.value)})}}function o(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}function CS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var $L=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Um=function(t){return Um=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Um(t)};function ES(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Um(t),n=0;n<r.length;n++)r[n]!=="default"&&bd(e,t,r[n]);return $L(e,t),e}function TS(t){return t&&t.__esModule?t:{default:t}}function PS(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function AS(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function RS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function OS(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var BL=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function LS(t){function e(l){t.error=t.hasError?new BL(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(o,function(c){return e(c),o()})}else n|=1}catch(c){e(c)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function IS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,l,c){return n?e?".jsx":".js":o&&(!l||!c)?r:o+l+"."+c.toLowerCase()+"js"}):t}const qL={__extends:fS,__assign:hn,__rest:ei,__decorate:hS,__param:mS,__esDecorate:pS,__runInitializers:gS,__propKey:xS,__setFunctionName:yS,__metadata:vS,__awaiter:Me,__generator:bS,__createBinding:bd,__exportStar:wS,__values:Wu,__read:ug,__spread:jS,__spreadArrays:NS,__spreadArray:dg,__await:zo,__asyncGenerator:SS,__asyncDelegator:_S,__asyncValues:kS,__makeTemplateObject:CS,__importStar:ES,__importDefault:TS,__classPrivateFieldGet:PS,__classPrivateFieldSet:AS,__classPrivateFieldIn:RS,__addDisposableResource:OS,__disposeResources:LS,__rewriteRelativeImportExtension:IS},zL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:OS,get __assign(){return hn},__asyncDelegator:_S,__asyncGenerator:SS,__asyncValues:kS,__await:zo,__awaiter:Me,__classPrivateFieldGet:PS,__classPrivateFieldIn:RS,__classPrivateFieldSet:AS,__createBinding:bd,__decorate:hS,__disposeResources:LS,__esDecorate:pS,__exportStar:wS,__extends:fS,__generator:bS,__importDefault:TS,__importStar:ES,__makeTemplateObject:CS,__metadata:vS,__param:mS,__propKey:xS,__read:ug,__rest:ei,__rewriteRelativeImportExtension:IS,__runInitializers:gS,__setFunctionName:yS,__spread:jS,__spreadArray:dg,__spreadArrays:NS,__values:Wu,default:qL},Symbol.toStringTag,{value:"Module"})),WL="modulepreload",KL=function(t){return"/"+t},uw={},ea=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=m(r.map(p=>{if(p=KL(p),p in uw)return;uw[p]=!0;const x=p.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=x?"stylesheet":WL,x||(N.as="script"),N.crossOrigin="",N.href=p,h&&N.setAttribute("nonce",h),document.head.appendChild(N),x)return new Promise((_,j)=>{N.addEventListener("load",_),N.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},HL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class fg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class dw extends fg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fw extends fg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hw extends fg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $m;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($m||($m={}));class GL{constructor(e,{headers:r={},customFetch:n,region:o=$m.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=HL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Me(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:l,method:c,body:d,signal:h}=n;let m={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let b;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=d):typeof d=="string"?(m["Content-Type"]="text/plain",b=d):typeof FormData<"u"&&d instanceof FormData?b=d:(m["Content-Type"]="application/json",b=JSON.stringify(d)):b=d;const N=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:b,signal:h}).catch(k=>{throw k.name==="AbortError"?k:new dw(k)}),_=N.headers.get("x-relay-error");if(_&&_==="true")throw new fw(N);if(!N.ok)throw new hw(N);let j=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return j==="application/json"?w=yield N.json():j==="application/octet-stream"||j==="application/pdf"?w=yield N.blob():j==="text/event-stream"?w=N:j==="multipart/form-data"?w=yield N.formData():w=yield N.text(),{data:w,error:null,response:N}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new dw(l)}:{data:null,error:l,response:l instanceof hw||l instanceof fw?l.context:void 0}}})}}var wr={};const ta=k0(zL);var uu={},du={},fu={},hu={},mu={},QL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=QL();const JL=Wo.fetch,DS=Wo.fetch.bind(Wo),MS=Wo.Headers,ZL=Wo.Request,YL=Wo.Response,Fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:MS,Request:ZL,Response:YL,default:DS,fetch:JL},Symbol.toStringTag,{value:"Module"})),XL=k0(Fi);var pu={},mw;function FS(){if(mw)return pu;mw=1,Object.defineProperty(pu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pu.default=t,pu}var pw;function VS(){if(pw)return mu;pw=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=ta,e=t.__importDefault(XL),r=t.__importDefault(FS());class n{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,x,b,N;let _=null,j=null,w=null,k=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const U=await m.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=U:j=JSON.parse(U))}const R=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),I=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");R&&I&&I.length>1&&(w=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,k=406,C="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const R=await m.text();try{_=JSON.parse(R),Array.isArray(_)&&m.status===404&&(j=[],_=null,k=200,C="OK")}catch{m.status===404&&R===""?(k=204,C="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((N=_?.details)===null||N===void 0)&&N.includes("0 rows"))&&(_=null,k=200,C="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:j,count:w,status:k,statusText:C}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,x,b;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(x=m?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return mu.default=n,mu}var gw;function US(){if(gw)return hu;gw=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=ta.__importDefault(VS());class r extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const x=[o?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return hu.default=r,hu}var xw;function hg(){if(xw)return fu;xw=1,Object.defineProperty(fu,"__esModule",{value:!0});const e=ta.__importDefault(US()),r=new RegExp("[,()]");class n extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return fu.default=n,fu}var yw;function $S(){if(yw)return du;yw=1,Object.defineProperty(du,"__esModule",{value:!0});const e=ta.__importDefault(hg());class r{constructor(o,{headers:l={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(o,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let m=!1;const p=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(m.length>0){const p=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((b,N)=>b.concat(Object.keys(N)),[]);if(x.length>0){const b=[...new Set(x)].map(N=>`"${N}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return du.default=r,du}var vw;function eI(){if(vw)return uu;vw=1,Object.defineProperty(uu,"__esModule",{value:!0});const t=ta,e=t.__importDefault($S()),r=t.__importDefault(hg());class n{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new n(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var p;let x;const b=new URL(`${this.url}/rpc/${l}`);let N;d||h?(x=d?"HEAD":"GET",Object.entries(c).filter(([j,w])=>w!==void 0).map(([j,w])=>[j,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([j,w])=>{b.searchParams.append(j,w)})):(x="POST",N=c);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:x,url:b,headers:_,schema:this.schemaName,body:N,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return uu.default=n,uu}var bw;function tI(){if(bw)return wr;bw=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.PostgrestError=wr.PostgrestBuilder=wr.PostgrestTransformBuilder=wr.PostgrestFilterBuilder=wr.PostgrestQueryBuilder=wr.PostgrestClient=void 0;const t=ta,e=t.__importDefault(eI());wr.PostgrestClient=e.default;const r=t.__importDefault($S());wr.PostgrestQueryBuilder=r.default;const n=t.__importDefault(hg());wr.PostgrestFilterBuilder=n.default;const o=t.__importDefault(US());wr.PostgrestTransformBuilder=o.default;const l=t.__importDefault(VS());wr.PostgrestBuilder=l.default;const c=t.__importDefault(FS());return wr.PostgrestError=c.default,wr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},wr}var BS=tI();const qS=up(BS),rI=_0({__proto__:null,default:qS},[BS]),{PostgrestClient:nI,PostgrestQueryBuilder:kB,PostgrestFilterBuilder:CB,PostgrestTransformBuilder:EB,PostgrestBuilder:TB,PostgrestError:PB}=qS||rI;class sI{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iI="2.78.0",oI=`realtime-js/${iI}`,aI="1.0.0",Bm=1e4,lI=1e3,cI=100;var Xa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xa||(Xa={}));var rr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rr||(rr={}));var kn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kn||(kn={}));var qm;(function(t){t.websocket="websocket"})(qm||(qm={}));var Si;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Si||(Si={}));class uI{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const o=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(e.slice(c,c+o));c=c+o;const h=n.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class zS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const ww=(t,e,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=dI(c,t,e,o),l),{}):{}},dI=(t,e,r,n)=>{const o=e.find(d=>d.name===t),l=o?.type,c=r[t];return l&&!n.includes(l)?WS(l,c):zm(c)},WS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return pI(e,r)}switch(t){case wt.bool:return fI(e);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return hI(e);case wt.json:case wt.jsonb:return mI(e);case wt.timestamp:return gI(e);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return zm(e);default:return zm(e)}},zm=t=>t,fI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pI=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>WS(e,d))}return t},gI=t=>typeof t=="string"?t.replace(" ","T"):t,KS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bh{constructor(e,r,n={},o=Bm){this.channel=e,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jw||(jw={}));class el{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=el.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=el.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=el.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,o){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,p)=>{c[m]||(h[m]=p)}),this.map(c,(m,p)=>{const x=l[m];if(x){const b=p.map(w=>w.presence_ref),N=x.map(w=>w.presence_ref),_=p.filter(w=>N.indexOf(w.presence_ref)<0),j=x.filter(w=>b.indexOf(w.presence_ref)<0);_.length>0&&(d[m]=_),j.length>0&&(h[m]=j)}else d[m]=p}),this.syncDiff(l,{joins:d,leaves:h},n,o)}static syncDiff(e,r,n,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var m;const p=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),p.length>0){const x=e[d].map(N=>N.presence_ref),b=p.filter(N=>x.indexOf(N.presence_ref)<0);e[d].unshift(...b)}n(d,p,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const p=h.map(x=>x.presence_ref);m=m.filter(x=>p.indexOf(x.presence_ref)<0),e[d]=m,o(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const o=e[n];return"metas"in o?r[n]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nw||(Nw={}));var tl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tl||(tl={}));var ls;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class mg{constructor(e,r={config:{}},n){var o,l;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,kn.join,this.params,this.timeout),this.rejoinTimer=new zS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new el(this),this.broadcastEndpointURL=KS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(N=>N.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[tl.PRESENCE]&&this.bindings[tl.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>e?.(ls.CHANNEL_ERROR,N)),this._onClose(()=>e?.(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var _;if(this.socket.setAuth(),N===void 0){e?.(ls.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,w=(_=j?.length)!==null&&_!==void 0?_:0,k=[];for(let C=0;C<w;C++){const E=j[C],{filter:{event:R,schema:I,table:U,filter:K}}=E,Z=N&&N[C];if(Z&&Z.event===R&&Z.schema===I&&Z.table===U&&Z.filter===K)k.push(Object.assign(Object.assign({},E),{id:Z.id}));else{this.unsubscribe(),this.state=rr.errored,e?.(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ls.SUBSCRIBED);return}}).receive("error",N=>{this.state=rr.errored,e?.(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{e?.(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===rr.joined&&e===tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Bh(this,kn.leave,{},e),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const o=new AbortController,l=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bh(this,e,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=kn;if(n&&[d,h,m,p].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(N=>{var _,j,w;return((_=N.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(j=N.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(N=>N.callback(b,n)):(l=this.bindings[c])===null||l===void 0||l.filter(N=>{var _,j,w,k,C,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in N){const R=N.id,I=(_=N.filter)===null||_===void 0?void 0:_.event;return R&&((j=r.ids)===null||j===void 0?void 0:j.includes(R))&&(I==="*"||I?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(C=(k=N?.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return R==="*"||R===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===c}).map(N=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:j,table:w,commit_timestamp:k,type:C,errors:E}=_;b=Object.assign(Object.assign({},{schema:j,table:w,commit_timestamp:k,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(_))}N.callback(b,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&mg.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kn.close,{},e)}_onError(e){this._on(kn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ww(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ww(e.columns,e.old_record)),r}}const qh=()=>{},gu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xI=[1e3,2e3,5e3,1e4],yI=1e4,vI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bI{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bm,this.transport=null,this.heartbeatIntervalMs=gu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qh,this.ref=0,this.reconnectTimer=null,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new uI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>ea(async()=>{const{default:d}=await Promise.resolve().then(()=>Fi);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qm.websocket}`,this.httpEndpoint=KS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aI}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xa.connecting:return Si.Connecting;case Xa.open:return Si.Open;case Xa.closing:return Si.Closing;default:return Si.Closed}}isConnected(){return this.connectionState()===Si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===n);if(o)return o;{const l=new mg(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${n}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([vI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:oI};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(kn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,o,l,c,d,h,m,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Bm,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:gu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:qh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(x=>xI[x-1]||yI),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((x,b)=>b(JSON.stringify(x))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class pg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wI extends pg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wm extends pg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jI=()=>Me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ea(()=>Promise.resolve().then(()=>Fi),void 0)).Response:Response}),Km=t=>{if(Array.isArray(t))return t.map(r=>Km(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Km(n)}),e},NI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SI=(t,e,r)=>Me(void 0,void 0,void 0,function*(){const n=yield jI();t instanceof n&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,c=o?.statusCode||l+"";e(new wI(zh(o),l,c))}).catch(o=>{e(new Wm(zh(o),o))}):e(new Wm(zh(t),t))}),_I=(t,e,r,n)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!n?o:(NI(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(n)):o.body=n,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Ul(t,e,r,n,o,l){return Me(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,_I(e,n,o,l)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>SI(h,d,n))})})}function hl(t,e,r,n){return Me(this,void 0,void 0,function*(){return Ul(t,"GET",e,r,n)})}function Sn(t,e,r,n,o){return Me(this,void 0,void 0,function*(){return Ul(t,"POST",e,n,o,r)})}function Hm(t,e,r,n,o){return Me(this,void 0,void 0,function*(){return Ul(t,"PUT",e,n,o,r)})}function kI(t,e,r,n){return Me(this,void 0,void 0,function*(){return Ul(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xg(t,e,r,n,o){return Me(this,void 0,void 0,function*(){return Ul(t,"DELETE",e,n,o,r)})}class CI{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rt(e))return{data:null,error:e};throw e}})}}var HS;class EI{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[HS]="BlobDownloadBuilder",this.promise=null}asStream(){return new CI(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Rt(e))return{data:null,error:e};throw e}})}}HS=Symbol.toStringTag;const TI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PI{constructor(e,r={},n,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gg(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,o){return Me(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Sw),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),x=yield(e=="PUT"?Hm:Sn)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Rt(l))return{data:null,error:l};throw l}})}upload(e,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,o){return Me(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Sw.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const x=yield Hm(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Rt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Sn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new pg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}copy(e,r,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,n){return Me(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Sn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,n){return Me(this,void 0,void 0,function*(){try{const o=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>hl(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new EI(h,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Km(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}exists(e){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield kI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n)&&n instanceof Wm){const o=n.originalError;if([400,404].includes(o?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Me(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},TI),r),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}listV2(e,r){return Me(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const GS="2.78.0",QS={"X-Client-Info":`storage-js/${GS}`};class AI{constructor(e,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QS),r),this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}createBucket(e){return Me(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Rt(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class RI{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QS),r),this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),o=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hl(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}const yg={"X-Client-Info":`storage-js/${GS}`,"Content-Type":"application/json"};class JS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Wh extends JS{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OI extends JS{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var _w;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_w||(_w={}));const vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},LI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),II=(t,e,r)=>Me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||o+"";e(new Wh(kw(c),o,d))}).catch(()=>{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Wh(d,o,c))});else{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Wh(d,o,c))}}else e(new OI(kw(t),t))}),DI=(t,e,r,n)=>{const o={method:t,headers:e?.headers||{}};return n?(LI(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(n)):o.body=n,Object.assign(Object.assign({},o),r)):o};function MI(t,e,r,n,o,l){return Me(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,DI(e,n,o,l)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>II(h,d,n))})})}function Gr(t,e,r,n,o){return Me(this,void 0,void 0,function*(){return MI(t,"POST",e,n,o,r)})}class FI{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listIndexes(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Me(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class VI{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class UI{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yg),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return Me(this,arguments,void 0,function*(e={}){try{return{data:yield Gr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class $I extends UI{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new BI(this.url,this.headers,e,this.fetch)}}class BI extends FI{constructor(e,r,n,o){super(e,r,o),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new qI(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class qI extends VI{constructor(e,r,n,o,l){super(e,r,l),this.vectorBucketName=n,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zI extends AI{constructor(e,r={},n,o){super(e,r,n,o)}from(e){return new PI(this.url,this.headers,e,this.fetch)}get vectors(){return new $I(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RI(this.url+"/iceberg",this.headers,this.fetch)}}const WI="2.78.0";let Ha="";typeof Deno<"u"?Ha="deno":typeof document<"u"?Ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ha="react-native":Ha="node";const KI={"X-Client-Info":`supabase-js-${Ha}/${WI}`},HI={headers:KI},GI={schema:"public"},QI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JI={},ZI=t=>{let e;return t?e=t:typeof fetch>"u"?e=DS:e=fetch,(...r)=>e(...r)},YI=()=>typeof Headers>"u"?MS:Headers,XI=(t,e,r)=>{const n=ZI(r),o=YI();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,Object.assign(Object.assign({},c),{headers:m}))}};function e4(t){return t.endsWith("/")?t:t+"/"}function t4(t,e){var r,n;const{db:o,auth:l,realtime:c,global:d}=t,{db:h,auth:m,realtime:p,global:x}=e,b={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function r4(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ZS="2.78.0",wo=30*1e3,Gm=3,Kh=Gm*wo,n4="http://localhost:9999",s4="supabase.auth.token",i4={"X-Client-Info":`gotrue-js/${ZS}`},Qm="X-Supabase-Api-Version",YS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a4=600*1e3;class ml extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class l4 extends ml{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function c4(t){return Be(t)&&t.name==="AuthApiError"}class _i extends ml{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ti extends ml{constructor(e,r,n,o){super(e,n,o),this.name=r,this.status=n}}class wn extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u4(t){return Be(t)&&t.name==="AuthSessionMissingError"}class uo extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xu extends ti{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yu extends ti{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d4(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cw extends ti{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jm extends ti{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hh(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class Ew extends ti{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zm extends ti{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tw=` 	
\r=`.split(""),f4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tw.length;e+=1)t[Tw[e].charCodeAt(0)]=-2;for(let e=0;e<Ku.length;e+=1)t[Ku[e].charCodeAt(0)]=e;return t})();function Pw(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ku[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ku[n]),e.queuedBits-=6}}function XS(t,e,r){const n=f4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Aw(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{p4(c,n,r)};for(let c=0;c<t.length;c+=1)XS(t.charCodeAt(c),o,l);return e.join("")}function h4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function m4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}h4(n,e)}}function p4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ro(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)XS(t.charCodeAt(o),r,n);return new Uint8Array(e)}function g4(t){const e=[];return m4(t,r=>e.push(r)),new Uint8Array(e)}function Ci(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};return t.forEach(o=>Pw(o,r,n)),Pw(null,r,n),e.join("")}function x4(t){return Math.round(Date.now()/1e3)+t}function y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tr=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},e_=()=>{if(!Tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function v4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((n,o)=>{e[o]=n}),e}const t_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ea(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},b4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$s=async(t,e)=>{await t.removeItem(e)};class wd{constructor(){this.promise=new wd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}wd.promiseConstructor=Promise;function Gh(t){const e=t.split(".");if(e.length!==3)throw new Zm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!o4.test(e[n]))throw new Zm("JWT not in base64url format");return{header:JSON.parse(Aw(e[0])),payload:JSON.parse(Aw(e[1])),signature:Ro(e[2]),raw:{header:e[0],payload:e[1]}}}async function w4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function j4(t,e){return new Promise((n,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){n(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function N4(t){return("0"+t.toString(16)).substr(-2)}function S4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,N4).join("")}async function _4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function k4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(t,e,r=!1){const n=S4();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await jo(t,`${e}-code-verifier`,o);const l=await k4(n);return[l,n===l?"plain":"s256"]}const C4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E4(t){const e=t.headers.get(Qm);if(!e||!e.match(C4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function T4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function P4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(t){if(!A4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R4(t,e){return new Proxy(t,{get:(r,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,o)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,o)}})}function Rw(t){return JSON.parse(JSON.stringify(t))}const Ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),O4=[502,503,504];async function Ow(t){var e;if(!b4(t))throw new Jm(Ni(t),0);if(O4.includes(t.status))throw new Jm(Ni(t),t.status);let r;try{r=await t.json()}catch(l){throw new _i(Ni(l),l)}let n;const o=E4(t);if(o&&o.getTime()>=YS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ew(Ni(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ew(Ni(r),t.status,r.weak_password.reasons);throw new l4(Ni(r),t.status||500,n)}const L4=(t,e,r,n)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Qe(t,e,r,n){var o;const l=Object.assign({},n?.headers);l[Qm]||(l[Qm]=YS["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(o=n?.query)!==null&&o!==void 0?o:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await I4(t,e,r+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function I4(t,e,r,n,o,l){const c=L4(e,n,o,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new Jm(Ni(h),0)}if(d.ok||await Ow(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await Ow(h)}}function jn(t){var e;let r=null;F4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=x4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Lw(t){const e=jn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function D4(t){return{data:t,error:null}}function M4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l}=t,c=ei(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Iw(t){return t}function F4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jh=["global","local","others"];class V4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=t_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Jh[0]){if(Jh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ei(e,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n?.newEmail,delete o.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:M4,redirectTo:r?.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,o,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Iw});if(p.error)throw p.error;const x=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,N=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return N.length>0&&(N.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ho(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ho(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ho(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ho(e.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ho(e.userId),ho(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,o,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Iw});if(p.error)throw p.error;const x=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,N=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return N.length>0&&(N.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Be(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function Dw(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const mo={debug:!!(globalThis&&e_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class U4 extends r_{}async function $4(t,e,r){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new U4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function B4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function n_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function q4(t){return parseInt(t,16)}function z4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function W4(t){var e;const{chainId:r,domain:n,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:p,uri:x,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const N=n_(t.address),_=p?`${p}://${n}`:n,j=t.statement?`${t.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${N}

${j}`;let k=`URI: ${x}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),m){let C=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);C+=`
- ${E}`}k+=C}return`${w}
${k}`}class Jt extends Error{constructor({message:e,code:r,cause:n,name:o}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=o??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Hu extends Jt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function K4({error:t,options:e}){var r,n,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(s_(c)){if(l.rp.id!==c)return new Jt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function H4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(s_(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class G4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Q4=new G4;function J4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,o=ei(t,["challenge","user","excludeCredentials"]),l=Ro(e).buffer,c=Object.assign(Object.assign({},r),{id:Ro(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ro(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Z4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ei(t,["challenge","allowCredentials"]),o=Ro(e).buffer,l=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ro(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Y4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ci(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ci(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function X4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ci(new Uint8Array(o.authenticatorData)),clientDataJSON:Ci(new Uint8Array(o.clientDataJSON)),signature:Ci(new Uint8Array(o.signature)),userHandle:o.userHandle?Ci(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function s_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mw(){var t,e;return!!(Tr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function eD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",e)}:{data:null,error:new Hu("Empty credential response",e)}}catch(e){return{data:null,error:K4({error:e,options:t})}}}async function tD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hu("Browser returned unexpected credential type",e)}:{data:null,error:new Hu("Empty credential response",e)}}catch(e){return{data:null,error:H4({error:e,options:t})}}}const rD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},nD={userVerification:"preferred",hints:["security-key"]};function Gu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(e(c)){const d=n[l];e(d)?n[l]=Gu(d,c):n[l]=Gu(c)}else n[l]=c}return n}function sD(t,e){return Gu(rD,t,e||{})}function iD(t,e){return Gu(nD,t,e||{})}class oD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const h=o??Q4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=sD(c.webauthn.credential_options.publicKey,l?.create),{data:p,error:x}=await eD({publicKey:m,signal:h});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}case"request":{const m=iD(c.webauthn.credential_options.publicKey,l?.request),{data:p,error:x}=await tD(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}}}catch(c){return Be(c)?{data:null,error:c}:{data:null,error:new _i("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!Mw())return{data:null,error:new _i("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return Be(c)?{data:null,error:c}:{data:null,error:new _i("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!Mw())return{data:null,error:new _i("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var x;return(x=p.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Be(c)?{data:null,error:c}:{data:null,error:new _i("Unexpected error in register",c)}}}}B4();const aD={url:n4,storageKey:s4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fw(t,e,r){return await r()}const po={};class pl{get jwks(){var e,r;return(r=(e=po[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){po[this.storageKey]=Object.assign(Object.assign({},po[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=po[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){po[this.storageKey]=Object.assign(Object.assign({},po[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pl.nextInstanceID,pl.nextInstanceID+=1,this.instanceID>0&&Tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},aD),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new V4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=t_(o.fetch),this.lock=o.lock||Fw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Tr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=$4:this.lock=Fw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:e_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),Tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=v4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),d4(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new _i("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,o;try{const l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:jn}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,n,o;try{let l;if("email"in e){const{email:p,password:x,options:b}=e;let N=null,_=null;this.flowType==="pkce"&&([N,_]=await fo(this.storage,this.storageKey)),l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:p,password:x,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:N,code_challenge_method:_},xform:jn})}else if("phone"in e){const{phone:p,password:x,options:b}=e;l=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:x,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:jn})}else throw new xu("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Lw})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Lw})}else throw new xu("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new uo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,o,l,c,d,h,m,p,x,b;let N,_;if("message"in e)N=e.message,_=e.signature;else{const{chain:j,wallet:w,statement:k,options:C}=e;let E;if(Tr())if(typeof w=="object")E=w;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")E=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const R=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),I=await E.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=n_(I[0]);let K=(n=C?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!K){const O=await E.request({method:"eth_chainId"});K=q4(O)}const Z={domain:R.host,address:U,statement:k,uri:R.href,version:"1",chainId:K,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.resources};N=W4(Z),_=await E.request({method:"personal_sign",params:[z4(N),U]})}try{const{data:j,error:w}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:_},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:jn});if(w)throw w;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new uo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:w})}catch(j){if(Be(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var r,n,o,l,c,d,h,m,p,x,b,N;let _,j;if("message"in e)_=e.message,j=e.signature;else{const{chain:w,wallet:k,statement:C,options:E}=e;let R;if(Tr())if(typeof k=="object")R=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))R=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const I=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const U=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),C?{statement:C}:null));let K;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")K=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)K=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)_=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),j=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${I.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((x=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||x===void 0)&&x.length?["Resources",...E.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const U=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=U}}try{const{data:w,error:k}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ci(j)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:jn});if(k)throw k;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new uo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:k})}catch(w){if(Be(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await vi(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:l,error:c}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jn});if(await $s(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new uo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Be(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:o,access_token:l,nonce:c}=e,d=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:jn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new uo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,o,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await fo(this.storage,this.storageKey));const{error:x}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new xu("You must provide either an email or phone number.")}catch(d){if(Be(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,n;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:jn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,n,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await fo(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:D4})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wn;const{error:o}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:l}=e,{error:c}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:o,options:l}=e,{data:c,error:d}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new xu("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Kh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await vi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Qh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=R4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zs}):await this._useSession(async r=>{var n,o,l;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:zs})})}catch(r){if(Be(r))return u4(r)&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:o,error:l}=n;if(l)throw l;if(!o.session)throw new wn;const c=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await fo(this.storage,this.storageKey));const{data:m,error:p}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:zs});if(p)throw p;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wn;const r=Date.now()/1e3;let n=r,o=!0,l=null;const{payload:c}=Gh(e.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new wn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Tr())throw new yu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cw("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new yu("No session defined in URL");const p=Math.round(Date.now()/1e3),x=parseInt(d);let b=p+x;h&&(b=parseInt(h));const N=b-p;N*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const _=b-x;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,p);const{data:j,error:w}=await this._getUser(l);if(w)throw w;const k={provider_token:n,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:b,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{error:l};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(c4(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=y4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await fo(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:o}=await this._useSession(async l=>{var c,d,h,m,p;const{data:x,error:b}=l;if(b)throw b;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",N,{headers:this.headers,jwt:(p=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Tr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Be(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:c,provider:d,token:h,access_token:m,nonce:p}=e,x=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jn}),{data:b,error:N}=x;return N?{data:{user:null,session:null},error:N}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new uo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:N})}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)throw c;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await j4(async o=>(o>0&&await w4(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Hh(l)&&Date.now()+c-n<wo})}catch(n){if(this._debug(r,"error",n),Be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Tr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await vi(this.storage,this.storageKey);if(o&&this.userStorage){let c=await vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await jo(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Qh()}else if(o&&!o.user&&!o.user){const c=await vi(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await $s(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,o)):o.user=Qh()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kh;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Kh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Hh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new wd;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new wn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Be(l)){const c={data:null,error:l};return Hh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Rw(o);await jo(this.storage,this.storageKey,l)}else{const o=Rw(r);await jo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await $s(this.storage,this.storageKey),await $s(this.storage,this.storageKey+"-code-verifier"),await $s(this.storage,this.storageKey+"-user"),this.userStorage&&await $s(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${wo}ms, refresh threshold is ${Gm} ticks`),o<=Gm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof r_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await fo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);o.push(l.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Y4(e.webauthn.credential_response):X4(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const c=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:J4(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Z4(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gh(n.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?{data:null,error:o}:n?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new wn}})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)return{data:null,error:l};if(!o)return{data:null,error:new wn};const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;if(l)return{data:null,error:l};if(!o)return{data:null,error:new wn};const c=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+a4>o)return n;const{data:l,error:c}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,n=l.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:N,error:_}=await this.getSession();if(_||!N.session)return{data:null,error:_};n=N.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:h}}=Gh(n);r?.allowExpired||T4(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:N}=await this.getUser(n);if(N)throw N;return{data:{claims:l,header:o,signature:c},error:null}}const p=P4(o.alg),x=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,x,c,g4(`${d}.${h}`)))throw new Zm("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}pl.nextInstanceID=0;const lD=pl;class cD extends lD{constructor(e){super(e)}}class uD{constructor(e,r,n){var o,l,c;this.supabaseUrl=e,this.supabaseKey=r;const d=r4(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:GI,realtime:JI,auth:Object.assign(Object.assign({},QI),{storageKey:h}),global:HI},p=t4(n??{},m);this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=XI(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new nI(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new zI(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new GL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:c,flowType:d,lock:h,debug:m},p,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cD({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:d,lock:h,debug:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bI(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dD=(t,e,r)=>new uD(t,e,r);function fD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hD="https://irugmulvyqbhajkfrpmg.supabase.co",mD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlydWdtdWx2eXFiaGFqa2ZycG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzODU1NDAsImV4cCI6MjA3Njk2MTU0MH0.PufMRgRQ__c5zxCzhO3n90laj1sY7HSTIIfLOzTh-hE",We=dD(hD,mD,{auth:{persistSession:!1,autoRefreshToken:!1}}),i_=y.createContext(void 0);function pD({children:t}){const[e,r]=y.useState(null),[n,o]=y.useState(!0);y.useEffect(()=>{let c=!0;async function d(){const{data:m}=await We.auth.getSession();c&&(r(m.session?.user??null),o(!1))}d();const{data:h}=We.auth.onAuthStateChange((m,p)=>{r(p?.user??null)});return()=>{try{h?.subscription?.unsubscribe?.(),h?.unsubscribe?.()}catch{}c=!1}},[]);const l=async()=>{await We.auth.signOut()};return i.jsx(i_.Provider,{value:{user:e,loading:n,signOut:l},children:t})}function ur(){const t=y.useContext(i_);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function gD(){const[t,e]=y.useState(!1),r=[{href:"/",label:"Home"},{href:"/labs",label:"Labs"},{href:"/pricing",label:"Pricing"},{href:"/contact",label:"Contact"}],n=()=>e(d=>!d),o=()=>e(!1),{user:l,signOut:c}=ur();return i.jsxs(Ye.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"fixed top-11 left-0 right-0 z-40 bg-background/80 backdrop-blur-sm border-b",children:[i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsx(Se,{href:"/",children:i.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-12 w-auto"})})}),i.jsx("div",{className:"md:hidden",children:i.jsxs("button",{type:"button",onClick:n,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","aria-expanded":t,"aria-controls":"mobile-nav",children:[i.jsx("span",{className:"sr-only",children:"Toggle navigation menu"}),i.jsxs("div",{className:"flex flex-col items-center justify-center gap-1.5",children:[i.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),i.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),i.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"})]})]})}),i.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[r.map(d=>i.jsx(Se,{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.href)),l?i.jsxs(i.Fragment,{children:[i.jsx(Se,{href:"/account",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"My profile"}),i.jsx("button",{onClick:()=>c(),className:"inline-flex items-center rounded-full border px-4 py-2 text-sm font-semibold text-muted-foreground transition hover:border-primary hover:text-primary",children:"Sign out"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Se,{href:"/login",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Sign in"}),i.jsx(Se,{href:"/signup",className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90",children:"Create account"})]})]})]})}),i.jsx(yP,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",onClick:o},"overlay"),i.jsxs(Ye.aside,{id:"mobile-nav",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed top-0 right-0 z-50 flex h-screen w-64 flex-col bg-background shadow-lg md:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[i.jsx(Se,{href:"/",onClick:o,children:i.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-10 w-auto"})}),i.jsxs("button",{type:"button",onClick:o,className:"inline-flex h-9 w-9 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[i.jsx("span",{className:"sr-only",children:"Close navigation menu"}),i.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:i.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})]}),i.jsxs("nav",{className:"flex flex-1 flex-col gap-2 px-4 py-6",children:[[...r,...l?[{href:"/account",label:"My profile"}]:[{href:"/login",label:"Sign in"},{href:"/signup",label:"Create account"}]].map(d=>i.jsx(Se,{href:d.href,onClick:o,className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:d.label},d.href)),l&&i.jsx("button",{onClick:()=>{c(),o()},className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary text-left",children:"Sign out"})]})]},"panel")]})})]})}const xD=Sp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oo=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...o},l)=>{const c=n?G0:"button";return i.jsx(c,{className:pt(xD({variant:e,size:r,className:t})),ref:l,...o})});Oo.displayName="Button";function yD(){const t=()=>{const e=document.querySelector("#about-section");e&&e.scrollIntoView({behavior:"smooth"})};return i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center px-4 py-20",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-gradient-to-br from-blue-400 to-pink-400"}),i.jsx("div",{className:"container mx-auto relative z-10",children:i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl mx-auto text-center",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-pink-600",children:"Infrastructure for scientific collaboration."}),i.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-12",children:"GLASS-Connect gives labs a standard profile, trusted verification, and direct routing so innovation moves faster."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsx(Oo,{size:"lg",className:"text-lg px-8",asChild:!0,children:i.jsx(Se,{href:"/admin/labs",children:"List your lab"})}),i.jsx(Oo,{size:"lg",variant:"outline",className:"text-lg px-8",asChild:!0,children:i.jsx(Se,{href:"/labs",children:"Browse labs"})}),i.jsx(Oo,{size:"lg",variant:"outline",className:"text-lg px-8 bg-pink-500 text-white border-none hover:bg-pink-500/90",onClick:t,children:"How it works"})]})]})})]})}const o_=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));o_.displayName="Card";const vD=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("flex flex-col space-y-1.5 p-6",t),...e}));vD.displayName="CardHeader";const bD=y.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));bD.displayName="CardTitle";const wD=y.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:pt("text-sm text-muted-foreground",t),...e}));wD.displayName="CardDescription";const a_=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("p-6 pt-0",t),...e}));a_.displayName="CardContent";const jD=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:pt("flex items-center p-6 pt-0",t),...e}));jD.displayName="CardFooter";function ND(){return i.jsx("section",{id:"about-section",className:"py-20 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"About GLASS-Connect"}),i.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"GLASS-Connect is the structured directory for research labs. We standardise how teams present capabilities, verify key details once, and route collaboration requests to real humans without endless back-and-forth."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:[{icon:i.jsx(a2,{className:"h-10 w-10 text-primary"}),title:"Trusted details",description:"Light remote/on-site verification so partners know the information and equipment are current."},{icon:i.jsx(A2,{className:"h-10 w-10 text-primary"}),title:"Structured profiles",description:"Clear capabilities, equipment, and collaboration preferences in a consistent, comparable format."},{icon:i.jsx(b2,{className:"h-10 w-10 text-primary"}),title:"Fast routing",description:"Qualified requests go straight to the right contact so labs spend more time collaborating."}].map((t,e)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.2},children:i.jsx(o_,{children:i.jsxs(a_,{className:"pt-6 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:t.icon}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),i.jsx("p",{className:"text-muted-foreground",children:t.description})]})})},e))})]})})}var $l=t=>t.type==="checkbox",Ei=t=>t instanceof Date,Pr=t=>t==null;const l_=t=>typeof t=="object";var Yt=t=>!Pr(t)&&!Array.isArray(t)&&l_(t)&&!Ei(t),c_=t=>Yt(t)&&t.target?$l(t.target)?t.target.checked:t.target.value:t,SD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,u_=(t,e)=>t.has(SD(e)),_D=t=>{const e=t.constructor&&t.constructor.prototype;return Yt(e)&&e.hasOwnProperty("isPrototypeOf")},bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(bg&&(t instanceof Blob||n))&&(r||Yt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!_D(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=nr(t[o]));else return t;return e}var jd=t=>/^\w*$/.test(t),Kt=t=>t===void 0,wg=t=>Array.isArray(t)?t.filter(Boolean):[],jg=t=>wg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(t,e,r)=>{if(!e||!Yt(t))return r;const n=(jd(e)?[e]:jg(e)).reduce((o,l)=>Pr(o)?o:o[l],t);return Kt(n)||n===t?Kt(t[e])?r:t[e]:n},Wr=t=>typeof t=="boolean",xt=(t,e,r)=>{let n=-1;const o=jd(e)?[e]:jg(e),l=o.length,c=l-1;for(;++n<l;){const d=o[n];let h=r;if(n!==c){const m=t[d];h=Yt(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Qu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ng=Ue.createContext(null);Ng.displayName="HookFormContext";const Nd=()=>Ue.useContext(Ng),kD=t=>{const{children:e,...r}=t;return Ue.createElement(Ng.Provider,{value:r},e)};var d_=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Cn.all&&(e._proxyFormState[c]=!n||Cn.all),r&&(r[c]=!0),t[c]}});return o};const Sg=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function CD(t){const e=Nd(),{control:r=e.control,disabled:n,name:o,exact:l}=t||{},[c,d]=Ue.useState(r._formState),h=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Sg(()=>r._subscribe({name:o,formState:h.current,exact:l,callback:m=>{!n&&d({...r._formState,...m})}}),[o,n,l]),Ue.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Ue.useMemo(()=>d_(c,r,h.current,!1),[c,r])}var Qr=t=>typeof t=="string",f_=(t,e,r,n,o)=>Qr(t)?(n&&e.watch.add(t),Ne(r,t,o)):Array.isArray(t)?t.map(l=>(n&&e.watch.add(l),Ne(r,l))):(n&&(e.watchAll=!0),r),Ym=t=>Pr(t)||!l_(t);function us(t,e,r=new WeakSet){if(Ym(t)||Ym(e))return t===e;if(Ei(t)&&Ei(e))return t.getTime()===e.getTime();const n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const l of n){const c=t[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Ei(c)&&Ei(d)||Yt(c)&&Yt(d)||Array.isArray(c)&&Array.isArray(d)?!us(c,d,r):c!==d)return!1}}return!0}function ED(t){const e=Nd(),{control:r=e.control,name:n,defaultValue:o,disabled:l,exact:c,compute:d}=t||{},h=Ue.useRef(o),m=Ue.useRef(d),p=Ue.useRef(void 0);m.current=d;const x=Ue.useMemo(()=>r._getWatch(n,h.current),[r,n]),[b,N]=Ue.useState(m.current?m.current(x):x);return Sg(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:_=>{if(!l){const j=f_(n,r._names,_.values||r._formValues,!1,h.current);if(m.current){const w=m.current(j);us(w,p.current)||(N(w),p.current=w)}else N(j)}}}),[r,l,n,c]),Ue.useEffect(()=>r._removeUnmounted()),b}function TD(t){const e=Nd(),{name:r,disabled:n,control:o=e.control,shouldUnregister:l,defaultValue:c}=t,d=u_(o._names.array,r),h=Ue.useMemo(()=>Ne(o._formValues,r,Ne(o._defaultValues,r,c)),[o,r,c]),m=ED({control:o,name:r,defaultValue:h,exact:!0}),p=CD({control:o,name:r,exact:!0}),x=Ue.useRef(t),b=Ue.useRef(void 0),N=Ue.useRef(o.register(r,{...t.rules,value:m,...Wr(t.disabled)?{disabled:t.disabled}:{}}));x.current=t;const _=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ne(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ne(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ne(p.validatingFields,r)},error:{enumerable:!0,get:()=>Ne(p.errors,r)}}),[p,r]),j=Ue.useCallback(E=>N.current.onChange({target:{value:c_(E),name:r},type:Qu.CHANGE}),[r]),w=Ue.useCallback(()=>N.current.onBlur({target:{value:Ne(o._formValues,r),name:r},type:Qu.BLUR}),[r,o._formValues]),k=Ue.useCallback(E=>{const R=Ne(o._fields,r);R&&E&&(R._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:I=>E.setCustomValidity(I),reportValidity:()=>E.reportValidity()})},[o._fields,r]),C=Ue.useMemo(()=>({name:r,value:m,...Wr(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:j,onBlur:w,ref:k}),[r,n,p.disabled,j,w,k,m]);return Ue.useEffect(()=>{const E=o._options.shouldUnregister||l,R=b.current;R&&R!==r&&!d&&o.unregister(R),o.register(r,{...x.current.rules,...Wr(x.current.disabled)?{disabled:x.current.disabled}:{}});const I=(U,K)=>{const Z=Ne(o._fields,U);Z&&Z._f&&(Z._f.mount=K)};if(I(r,!0),E){const U=nr(Ne(o._options.defaultValues,r));xt(o._defaultValues,r,U),Kt(Ne(o._formValues,r))&&xt(o._formValues,r,U)}return!d&&o.register(r),b.current=r,()=>{(d?E&&!o._state.action:E)?o.unregister(r):I(r,!1)}},[r,o,d,l]),Ue.useEffect(()=>{o._setDisabledField({disabled:n,name:r})},[n,r,o]),Ue.useMemo(()=>({field:C,formState:p,fieldState:_}),[C,p,_])}const PD=t=>t.render(TD(t));var h_=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},rl=t=>Array.isArray(t)?t:[t],Vw=()=>{let t=[];return{get observers(){return t},next:o=>{for(const l of t)l.next&&l.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(l=>l!==o)}}),unsubscribe:()=>{t=[]}}};function m_(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const o=t[n],l=e[n];if(o&&Yt(o)&&l){const c=m_(o,l);Yt(c)&&(r[n]=c)}else t[n]&&(r[n]=l)}return r}var Vr=t=>Yt(t)&&!Object.keys(t).length,_g=t=>t.type==="file",En=t=>typeof t=="function",Ju=t=>{if(!bg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},p_=t=>t.type==="select-multiple",kg=t=>t.type==="radio",AD=t=>kg(t)||$l(t),Zh=t=>Ju(t)&&t.isConnected;function RD(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Kt(t)?n++:t[e[n++]];return t}function OD(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function Qt(t,e){const r=Array.isArray(e)?e:jd(e)?[e]:jg(e),n=r.length===1?t:RD(t,r),o=r.length-1,l=r[o];return n&&delete n[l],o!==0&&(Yt(n)&&Vr(n)||Array.isArray(n)&&OD(n))&&Qt(t,r.slice(0,-1)),t}var LD=t=>{for(const e in t)if(En(t[e]))return!0;return!1};function g_(t){return Array.isArray(t)||Yt(t)&&!LD(t)}function Xm(t,e={}){for(const r in t)g_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Xm(t[r],e[r])):Pr(t[r])||(e[r]=!0);return e}function No(t,e,r){r||(r=Xm(e));for(const n in t)g_(t[n])?Kt(e)||Ym(r[n])?r[n]=Xm(t[n],Array.isArray(t[n])?[]:{}):No(t[n],Pr(e)?{}:e[n],r[n]):r[n]=!us(t[n],e[n]);return r}const Uw={value:!1,isValid:!1},$w={value:!0,isValid:!0};var x_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?$w:{value:t[0].value,isValid:!0}:$w:Uw}return Uw},y_=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Kt(t)?t:e?t===""?NaN:t&&+t:r&&Qr(t)?new Date(t):n?n(t):t;const Bw={isValid:!1,value:null};var v_=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Bw):Bw;function qw(t){const e=t.ref;return _g(e)?e.files:kg(e)?v_(t.refs).value:p_(e)?[...e.selectedOptions].map(({value:r})=>r):$l(e)?x_(t.refs).value:y_(Kt(e.value)?t.ref.value:e.value,t)}var ID=(t,e,r,n)=>{const o={};for(const l of t){const c=Ne(e,l);c&&xt(o,l,c._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},Zu=t=>t instanceof RegExp,Ba=t=>Kt(t)?t:Zu(t)?t.source:Yt(t)?Zu(t.value)?t.value.source:t.value:t,zw=t=>({isOnSubmit:!t||t===Cn.onSubmit,isOnBlur:t===Cn.onBlur,isOnChange:t===Cn.onChange,isOnAll:t===Cn.all,isOnTouch:t===Cn.onTouched});const Ww="AsyncFunction";var DD=t=>!!t&&!!t.validate&&!!(En(t.validate)&&t.validate.constructor.name===Ww||Yt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ww)),MD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Kw=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const nl=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const l=Ne(t,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(nl(d,e))break}else if(Yt(d)&&nl(d,e))break}}};function Hw(t,e,r){const n=Ne(t,r);if(n||jd(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=Ne(e,l),d=Ne(t,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:r}}var FD=(t,e,r,n)=>{r(t);const{name:o,...l}=t;return Vr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||Cn.all))},VD=(t,e,r)=>!t||!e||t===e||rl(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),UD=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,$D=(t,e)=>!wg(Ne(t,e)).length&&Qt(t,e),BD=(t,e,r)=>{const n=rl(Ne(t,r));return xt(n,"root",e[r]),xt(t,r,n),t};function Gw(t,e,r="validate"){if(Qr(t)||Array.isArray(t)&&t.every(Qr)||Wr(t)&&!t)return{type:r,message:Qr(t)?t:"",ref:e}}var go=t=>Yt(t)&&!Zu(t)?t:{value:t,message:""},Qw=async(t,e,r,n,o,l)=>{const{ref:c,refs:d,required:h,maxLength:m,minLength:p,min:x,max:b,pattern:N,validate:_,name:j,valueAsNumber:w,mount:k}=t._f,C=Ne(r,j);if(!k||e.has(j))return{};const E=d?d[0]:c,R=Q=>{o&&E.reportValidity&&(E.setCustomValidity(Wr(Q)?"":Q||""),E.reportValidity())},I={},U=kg(c),K=$l(c),Z=U||K,O=(w||_g(c))&&Kt(c.value)&&Kt(C)||Ju(c)&&c.value===""||C===""||Array.isArray(C)&&!C.length,G=h_.bind(null,j,n,I),ce=(Q,ne,te,ke=os.maxLength,we=os.minLength)=>{const re=Q?ne:te;I[j]={type:Q?ke:we,message:re,ref:c,...G(Q?ke:we,re)}};if(l?!Array.isArray(C)||!C.length:h&&(!Z&&(O||Pr(C))||Wr(C)&&!C||K&&!x_(d).isValid||U&&!v_(d).isValid)){const{value:Q,message:ne}=Qr(h)?{value:!!h,message:h}:go(h);if(Q&&(I[j]={type:os.required,message:ne,ref:E,...G(os.required,ne)},!n))return R(ne),I}if(!O&&(!Pr(x)||!Pr(b))){let Q,ne;const te=go(b),ke=go(x);if(!Pr(C)&&!isNaN(C)){const we=c.valueAsNumber||C&&+C;Pr(te.value)||(Q=we>te.value),Pr(ke.value)||(ne=we<ke.value)}else{const we=c.valueAsDate||new Date(C),re=M=>new Date(new Date().toDateString()+" "+M),ee=c.type=="time",de=c.type=="week";Qr(te.value)&&C&&(Q=ee?re(C)>re(te.value):de?C>te.value:we>new Date(te.value)),Qr(ke.value)&&C&&(ne=ee?re(C)<re(ke.value):de?C<ke.value:we<new Date(ke.value))}if((Q||ne)&&(ce(!!Q,te.message,ke.message,os.max,os.min),!n))return R(I[j].message),I}if((m||p)&&!O&&(Qr(C)||l&&Array.isArray(C))){const Q=go(m),ne=go(p),te=!Pr(Q.value)&&C.length>+Q.value,ke=!Pr(ne.value)&&C.length<+ne.value;if((te||ke)&&(ce(te,Q.message,ne.message),!n))return R(I[j].message),I}if(N&&!O&&Qr(C)){const{value:Q,message:ne}=go(N);if(Zu(Q)&&!C.match(Q)&&(I[j]={type:os.pattern,message:ne,ref:c,...G(os.pattern,ne)},!n))return R(ne),I}if(_){if(En(_)){const Q=await _(C,r),ne=Gw(Q,E);if(ne&&(I[j]={...ne,...G(os.validate,ne.message)},!n))return R(ne.message),I}else if(Yt(_)){let Q={};for(const ne in _){if(!Vr(Q)&&!n)break;const te=Gw(await _[ne](C,r),E,ne);te&&(Q={...te,...G(ne,te.message)},R(te.message),n&&(I[j]=Q))}if(!Vr(Q)&&(I[j]={ref:E,...Q},!n))return I}}return R(!0),I};const qD={mode:Cn.onSubmit,reValidateMode:Cn.onChange,shouldFocusError:!0};function zD(t={}){let e={...qD,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:En(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=Yt(e.defaultValues)||Yt(e.values)?nr(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:nr(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...p};const b={array:Vw(),state:Vw()},N=e.criteriaMode===Cn.all,_=A=>F=>{clearTimeout(m),m=setTimeout(A,F)},j=async A=>{if(!e.disabled&&(p.isValid||x.isValid||A)){const F=e.resolver?Vr((await K()).errors):await O(n,!0);F!==r.isValid&&b.state.next({isValid:F})}},w=(A,F)=>{!e.disabled&&(p.isValidating||p.validatingFields||x.isValidating||x.validatingFields)&&((A||Array.from(d.mount)).forEach(H=>{H&&(F?xt(r.validatingFields,H,F):Qt(r.validatingFields,H))}),b.state.next({validatingFields:r.validatingFields,isValidating:!Vr(r.validatingFields)}))},k=(A,F=[],H,he,me=!0,ue=!0)=>{if(he&&H&&!e.disabled){if(c.action=!0,ue&&Array.isArray(Ne(n,A))){const je=H(Ne(n,A),he.argA,he.argB);me&&xt(n,A,je)}if(ue&&Array.isArray(Ne(r.errors,A))){const je=H(Ne(r.errors,A),he.argA,he.argB);me&&xt(r.errors,A,je),$D(r.errors,A)}if((p.touchedFields||x.touchedFields)&&ue&&Array.isArray(Ne(r.touchedFields,A))){const je=H(Ne(r.touchedFields,A),he.argA,he.argB);me&&xt(r.touchedFields,A,je)}(p.dirtyFields||x.dirtyFields)&&(r.dirtyFields=No(o,l)),b.state.next({name:A,isDirty:ce(A,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(l,A,F)},C=(A,F)=>{xt(r.errors,A,F),b.state.next({errors:r.errors})},E=A=>{r.errors=A,b.state.next({errors:r.errors,isValid:!1})},R=(A,F,H,he)=>{const me=Ne(n,A);if(me){const ue=Ne(l,A,Kt(H)?Ne(o,A):H);Kt(ue)||he&&he.defaultChecked||F?xt(l,A,F?ue:qw(me._f)):te(A,ue),c.mount&&j()}},I=(A,F,H,he,me)=>{let ue=!1,je=!1;const Je={name:A};if(!e.disabled){if(!H||he){(p.isDirty||x.isDirty)&&(je=r.isDirty,r.isDirty=Je.isDirty=ce(),ue=je!==Je.isDirty);const at=us(Ne(o,A),F);je=!!Ne(r.dirtyFields,A),at?Qt(r.dirtyFields,A):xt(r.dirtyFields,A,!0),Je.dirtyFields=r.dirtyFields,ue=ue||(p.dirtyFields||x.dirtyFields)&&je!==!at}if(H){const at=Ne(r.touchedFields,A);at||(xt(r.touchedFields,A,H),Je.touchedFields=r.touchedFields,ue=ue||(p.touchedFields||x.touchedFields)&&at!==H)}ue&&me&&b.state.next(Je)}return ue?Je:{}},U=(A,F,H,he)=>{const me=Ne(r.errors,A),ue=(p.isValid||x.isValid)&&Wr(F)&&r.isValid!==F;if(e.delayError&&H?(h=_(()=>C(A,H)),h(e.delayError)):(clearTimeout(m),h=null,H?xt(r.errors,A,H):Qt(r.errors,A)),(H?!us(me,H):me)||!Vr(he)||ue){const je={...he,...ue&&Wr(F)?{isValid:F}:{},errors:r.errors,name:A};r={...r,...je},b.state.next(je)}},K=async A=>{w(A,!0);const F=await e.resolver(l,e.context,ID(A||d.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(A),F},Z=async A=>{const{errors:F}=await K(A);if(A)for(const H of A){const he=Ne(F,H);he?xt(r.errors,H,he):Qt(r.errors,H)}else r.errors=F;return F},O=async(A,F,H={valid:!0})=>{for(const he in A){const me=A[he];if(me){const{_f:ue,...je}=me;if(ue){const Je=d.array.has(ue.name),at=me._f&&DD(me._f);at&&p.validatingFields&&w([ue.name],!0);const Ut=await Qw(me,d.disabled,l,N,e.shouldUseNativeValidation&&!F,Je);if(at&&p.validatingFields&&w([ue.name]),Ut[ue.name]&&(H.valid=!1,F))break;!F&&(Ne(Ut,ue.name)?Je?BD(r.errors,Ut,ue.name):xt(r.errors,ue.name,Ut[ue.name]):Qt(r.errors,ue.name))}!Vr(je)&&await O(je,F,H)}}return H.valid},G=()=>{for(const A of d.unMount){const F=Ne(n,A);F&&(F._f.refs?F._f.refs.every(H=>!Zh(H)):!Zh(F._f.ref))&&ve(A)}d.unMount=new Set},ce=(A,F)=>!e.disabled&&(A&&F&&xt(l,A,F),!us(M(),o)),Q=(A,F,H)=>f_(A,d,{...c.mount?l:Kt(F)?o:Qr(A)?{[A]:F}:F},H,F),ne=A=>wg(Ne(c.mount?l:o,A,e.shouldUnregister?Ne(o,A,[]):[])),te=(A,F,H={})=>{const he=Ne(n,A);let me=F;if(he){const ue=he._f;ue&&(!ue.disabled&&xt(l,A,y_(F,ue)),me=Ju(ue.ref)&&Pr(F)?"":F,p_(ue.ref)?[...ue.ref.options].forEach(je=>je.selected=me.includes(je.value)):ue.refs?$l(ue.ref)?ue.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(me)?je.checked=!!me.find(Je=>Je===je.value):je.checked=me===je.value||!!me)}):ue.refs.forEach(je=>je.checked=je.value===me):_g(ue.ref)?ue.ref.value="":(ue.ref.value=me,ue.ref.type||b.state.next({name:A,values:nr(l)})))}(H.shouldDirty||H.shouldTouch)&&I(A,me,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&de(A)},ke=(A,F,H)=>{for(const he in F){if(!F.hasOwnProperty(he))return;const me=F[he],ue=A+"."+he,je=Ne(n,ue);(d.array.has(A)||Yt(me)||je&&!je._f)&&!Ei(me)?ke(ue,me,H):te(ue,me,H)}},we=(A,F,H={})=>{const he=Ne(n,A),me=d.array.has(A),ue=nr(F);xt(l,A,ue),me?(b.array.next({name:A,values:nr(l)}),(p.isDirty||p.dirtyFields||x.isDirty||x.dirtyFields)&&H.shouldDirty&&b.state.next({name:A,dirtyFields:No(o,l),isDirty:ce(A,ue)})):he&&!he._f&&!Pr(ue)?ke(A,ue,H):te(A,ue,H),Kw(A,d)&&b.state.next({...r,name:A}),b.state.next({name:c.mount?A:void 0,values:nr(l)})},re=async A=>{c.mount=!0;const F=A.target;let H=F.name,he=!0;const me=Ne(n,H),ue=at=>{he=Number.isNaN(at)||Ei(at)&&isNaN(at.getTime())||us(at,Ne(l,H,at))},je=zw(e.mode),Je=zw(e.reValidateMode);if(me){let at,Ut;const _r=F.type?qw(me._f):c_(A),Xt=A.type===Qu.BLUR||A.type===Qu.FOCUS_OUT,X=!MD(me._f)&&!e.resolver&&!Ne(r.errors,H)&&!me._f.deps||UD(Xt,Ne(r.touchedFields,H),r.isSubmitted,Je,je),ge=Kw(H,d,Xt);xt(l,H,_r),Xt?(!F||!F.readOnly)&&(me._f.onBlur&&me._f.onBlur(A),h&&h(0)):me._f.onChange&&me._f.onChange(A);const Ht=I(H,_r,Xt),ir=!Vr(Ht)||ge;if(!Xt&&b.state.next({name:H,type:A.type,values:nr(l)}),X)return(p.isValid||x.isValid)&&(e.mode==="onBlur"?Xt&&j():Xt||j()),ir&&b.state.next({name:H,...ge?{}:Ht});if(!Xt&&ge&&b.state.next({...r}),e.resolver){const{errors:It}=await K([H]);if(ue(_r),he){const kr=Hw(r.errors,n,H),en=Hw(It,n,kr.name||H);at=en.error,H=en.name,Ut=Vr(It)}}else w([H],!0),at=(await Qw(me,d.disabled,l,N,e.shouldUseNativeValidation))[H],w([H]),ue(_r),he&&(at?Ut=!1:(p.isValid||x.isValid)&&(Ut=await O(n,!0)));he&&(me._f.deps&&(!Array.isArray(me._f.deps)||me._f.deps.length>0)&&de(me._f.deps),U(H,Ut,at,Ht))}},ee=(A,F)=>{if(Ne(r.errors,F)&&A.focus)return A.focus(),1},de=async(A,F={})=>{let H,he;const me=rl(A);if(e.resolver){const ue=await Z(Kt(A)?A:me);H=Vr(ue),he=A?!me.some(je=>Ne(ue,je)):H}else A?(he=(await Promise.all(me.map(async ue=>{const je=Ne(n,ue);return await O(je&&je._f?{[ue]:je}:je)}))).every(Boolean),!(!he&&!r.isValid)&&j()):he=H=await O(n);return b.state.next({...!Qr(A)||(p.isValid||x.isValid)&&H!==r.isValid?{}:{name:A},...e.resolver||!A?{isValid:H}:{},errors:r.errors}),F.shouldFocus&&!he&&nl(n,ee,A?me:d.mount),he},M=(A,F)=>{let H={...c.mount?l:o};return F&&(H=m_(F.dirtyFields?r.dirtyFields:r.touchedFields,H)),Kt(A)?H:Qr(A)?Ne(H,A):A.map(he=>Ne(H,he))},T=(A,F)=>({invalid:!!Ne((F||r).errors,A),isDirty:!!Ne((F||r).dirtyFields,A),error:Ne((F||r).errors,A),isValidating:!!Ne(r.validatingFields,A),isTouched:!!Ne((F||r).touchedFields,A)}),Y=A=>{A&&rl(A).forEach(F=>Qt(r.errors,F)),b.state.next({errors:A?r.errors:{}})},fe=(A,F,H)=>{const he=(Ne(n,A,{_f:{}})._f||{}).ref,me=Ne(r.errors,A)||{},{ref:ue,message:je,type:Je,...at}=me;xt(r.errors,A,{...at,...F,ref:he}),b.state.next({name:A,errors:r.errors,isValid:!1}),H&&H.shouldFocus&&he&&he.focus&&he.focus()},Re=(A,F)=>En(A)?b.state.subscribe({next:H=>"values"in H&&A(Q(void 0,F),H)}):Q(A,F,!0),Te=A=>b.state.subscribe({next:F=>{VD(A.name,F.name,A.exact)&&FD(F,A.formState||p,xe,A.reRenderRoot)&&A.callback({values:{...l},...r,...F,defaultValues:o})}}).unsubscribe,V=A=>(c.mount=!0,x={...x,...A.formState},Te({...A,formState:x})),ve=(A,F={})=>{for(const H of A?rl(A):d.mount)d.mount.delete(H),d.array.delete(H),F.keepValue||(Qt(n,H),Qt(l,H)),!F.keepError&&Qt(r.errors,H),!F.keepDirty&&Qt(r.dirtyFields,H),!F.keepTouched&&Qt(r.touchedFields,H),!F.keepIsValidating&&Qt(r.validatingFields,H),!e.shouldUnregister&&!F.keepDefaultValue&&Qt(o,H);b.state.next({values:nr(l)}),b.state.next({...r,...F.keepDirty?{isDirty:ce()}:{}}),!F.keepIsValid&&j()},be=({disabled:A,name:F})=>{(Wr(A)&&c.mount||A||d.disabled.has(F))&&(A?d.disabled.add(F):d.disabled.delete(F))},$e=(A,F={})=>{let H=Ne(n,A);const he=Wr(F.disabled)||Wr(e.disabled);return xt(n,A,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:A}},name:A,mount:!0,...F}}),d.mount.add(A),H?be({disabled:Wr(F.disabled)?F.disabled:e.disabled,name:A}):R(A,!0,F.value),{...he?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Ba(F.min),max:Ba(F.max),minLength:Ba(F.minLength),maxLength:Ba(F.maxLength),pattern:Ba(F.pattern)}:{},name:A,onChange:re,onBlur:re,ref:me=>{if(me){$e(A,F),H=Ne(n,A);const ue=Kt(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,je=AD(ue),Je=H._f.refs||[];if(je?Je.find(at=>at===ue):ue===H._f.ref)return;xt(n,A,{_f:{...H._f,...je?{refs:[...Je.filter(Zh),ue,...Array.isArray(Ne(o,A))?[{}]:[]],ref:{type:ue.type,name:A}}:{ref:ue}}}),R(A,!1,void 0,ue)}else H=Ne(n,A,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(u_(d.array,A)&&c.action)&&d.unMount.add(A)}}},Xe=()=>e.shouldFocusError&&nl(n,ee,d.mount),sr=A=>{Wr(A)&&(b.state.next({disabled:A}),nl(n,(F,H)=>{const he=Ne(n,H);he&&(F.disabled=he._f.disabled||A,Array.isArray(he._f.refs)&&he._f.refs.forEach(me=>{me.disabled=he._f.disabled||A}))},0,!1))},B=(A,F)=>async H=>{let he;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let me=nr(l);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:je}=await K();r.errors=ue,me=nr(je)}else await O(n);if(d.disabled.size)for(const ue of d.disabled)Qt(me,ue);if(Qt(r.errors,"root"),Vr(r.errors)){b.state.next({errors:{}});try{await A(me,H)}catch(ue){he=ue}}else F&&await F({...r.errors},H),Xe(),setTimeout(Xe);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors)&&!he,submitCount:r.submitCount+1,errors:r.errors}),he)throw he},Ce=(A,F={})=>{Ne(n,A)&&(Kt(F.defaultValue)?we(A,nr(Ne(o,A))):(we(A,F.defaultValue),xt(o,A,nr(F.defaultValue))),F.keepTouched||Qt(r.touchedFields,A),F.keepDirty||(Qt(r.dirtyFields,A),r.isDirty=F.defaultValue?ce(A,nr(Ne(o,A))):ce()),F.keepError||(Qt(r.errors,A),p.isValid&&j()),b.state.next({...r}))},z=(A,F={})=>{const H=A?nr(A):o,he=nr(H),me=Vr(A),ue=me?o:he;if(F.keepDefaultValues||(o=H),!F.keepValues){if(F.keepDirtyValues){const je=new Set([...d.mount,...Object.keys(No(o,l))]);for(const Je of Array.from(je))Ne(r.dirtyFields,Je)?xt(ue,Je,Ne(l,Je)):we(Je,Ne(ue,Je))}else{if(bg&&Kt(A))for(const je of d.mount){const Je=Ne(n,je);if(Je&&Je._f){const at=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(Ju(at)){const Ut=at.closest("form");if(Ut){Ut.reset();break}}}}if(F.keepFieldsRef)for(const je of d.mount)we(je,Ne(ue,je));else n={}}l=e.shouldUnregister?F.keepDefaultValues?nr(o):{}:nr(ue),b.array.next({values:{...ue}}),b.state.next({values:{...ue}})}d={mount:F.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!F.keepIsValid||!!F.keepDirtyValues,c.watch=!!e.shouldUnregister,b.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:me?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!us(A,o)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:me?{}:F.keepDirtyValues?F.keepDefaultValues&&l?No(o,l):r.dirtyFields:F.keepDefaultValues&&A?No(o,A):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Ee=(A,F)=>z(En(A)?A(l):A,F),ye=(A,F={})=>{const H=Ne(n,A),he=H&&H._f;if(he){const me=he.refs?he.refs[0]:he.ref;me.focus&&(me.focus(),F.shouldSelect&&En(me.select)&&me.select())}},xe=A=>{r={...r,...A}},ot={control:{register:$e,unregister:ve,getFieldState:T,handleSubmit:B,setError:fe,_subscribe:Te,_runSchema:K,_focusError:Xe,_getWatch:Q,_getDirty:ce,_setValid:j,_setFieldArray:k,_setDisabledField:be,_setErrors:E,_getFieldArray:ne,_reset:z,_resetDefaultValues:()=>En(e.defaultValues)&&e.defaultValues().then(A=>{Ee(A,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:sr,_subjects:b,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(A){c=A},get _defaultValues(){return o},get _names(){return d},set _names(A){d=A},get _formState(){return r},get _options(){return e},set _options(A){e={...e,...A}}},subscribe:V,trigger:de,register:$e,handleSubmit:B,watch:Re,setValue:we,getValues:M,reset:Ee,resetField:Ce,clearErrors:Y,unregister:ve,setError:fe,setFocus:ye,getFieldState:T};return{...ot,formControl:ot}}function b_(t={}){const e=Ue.useRef(void 0),r=Ue.useRef(void 0),[n,o]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:En(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:En(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!En(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=zD(t);e.current={...d,formState:n}}const l=e.current.control;return l._options=t,Sg(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Ue.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Ue.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Ue.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Ue.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Ue.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),Ue.useEffect(()=>{t.values&&!us(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=t.values,o(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),Ue.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=d_(n,l),e.current}const Jw=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ne(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},w_=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Jw(n.ref,r,t):n.refs&&n.refs.forEach(o=>Jw(o,r,t))}},WD=(t,e)=>{e.shouldUseNativeValidation&&w_(t,e);const r={};for(const n in t){const o=Ne(e.fields,n),l=Object.assign(t[n]||{},{ref:o&&o.ref});if(KD(e.names||Object.keys(t),n)){const c=Object.assign({},Ne(r,n));xt(c,"root",l),xt(r,n,c)}else xt(r,n,l)}return r},KD=(t,e)=>t.some(r=>r.startsWith(e+"."));var HD=function(t,e){for(var r={};t.length;){var n=t[0],o=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[c]={message:d.message,type:d.code}}else r[c]={message:l,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(x){return t.push(x)})}),e){var h=r[c].types,m=h&&h[n.code];r[c]=h_(c,e,r,o,m?[].concat(m,n.message):n.message)}t.shift()}return r},j_=function(t,e,r){return r===void 0&&(r={}),function(n,o,l){try{return Promise.resolve((function(c,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return l.shouldUseNativeValidation&&w_({},l),{errors:{},values:r.raw?n:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(c){if((function(d){return Array.isArray(d?.errors)})(c))return{values:{},errors:WD(HD(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}};const ie=Symbol.for("drizzle:entityKind");function mr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ie))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ie in r&&r[ie]===e[ie])return!0;r=Object.getPrototypeOf(r)}return!1}class gl{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[ie]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class GD{static[ie]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const Lo=Symbol.for("drizzle:Name");class QD{static[ie]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:o,foreignColumns:l}=e();return{name:n,columns:o,foreignTable:l[0].table,foreignColumns:l}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new JD(e,this)}}class JD{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[ie]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),o=r.map(d=>d.name),l=n.map(d=>d.name),c=[this.table[Lo],...o,n[0].table[Lo],...l];return e??`${c.join("_")}_fk`}}function ZD(t,...e){return t(...e)}function YD(t,e){return`${t[Lo]}_${e.join("_")}_unique`}function Zw(t,e,r){for(let n=e;n<t.length;n++){const o=t[n];if(o==="\\"){n++;continue}if(o==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(o===","||o==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function N_(t,e=0){const r=[];let n=e,o=!1;for(;n<t.length;){const l=t[n];if(l===","){(o||n===e)&&r.push(""),o=!0,n++;continue}if(o=!1,l==="\\"){n+=2;continue}if(l==='"'){const[h,m]=Zw(t,n+1,!0);r.push(h),n=m;continue}if(l==="}")return[r,n+1];if(l==="{"){const[h,m]=N_(t,n+1);r.push(h),n=m;continue}const[c,d]=Zw(t,n,!1);r.push(c),n=d}return[r,n]}function XD(t){const[e]=N_(t,1);return e}function S_(t){return`{${t.map(e=>Array.isArray(e)?S_(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class ft extends GD{foreignKeyConfigs=[];static[ie]="PgColumnBuilder";array(e){return new t3(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:o})=>ZD((l,c)=>{const d=new QD(()=>{const h=l();return{columns:[e],foreignColumns:[h]}});return c.onUpdate&&d.onUpdate(c.onUpdate),c.onDelete&&d.onDelete(c.onDelete),d.build(r)},n,o))}buildExtraConfigColumn(e){return new e3(e,this.config)}}class nt extends gl{constructor(e,r){r.uniqueName||(r.uniqueName=YD(e,[r.name])),super(e,r),this.table=e}static[ie]="PgColumn"}class e3 extends nt{static[ie]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class t3 extends ft{static[ie]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new Cg(e,this.config,r)}}class Cg extends nt{constructor(e,r,n,o){super(e,r),this.baseColumn=n,this.range=o,this.size=r.size}size;static[ie]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=XD(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(o=>o===null?null:mr(this.baseColumn,Cg)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?n:S_(n)}}const Yw=Symbol.for("drizzle:isPgEnum");function r3(t){return!!t&&typeof t=="function"&&Yw in t&&t[Yw]===!0}class __{static[ie]="Subquery";constructor(e,r,n,o=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:o}}}const n3={startActiveSpan(t,e){return e()}},Io=Symbol.for("drizzle:ViewBaseConfig"),Yh=Symbol.for("drizzle:Schema"),Xw=Symbol.for("drizzle:Columns"),e0=Symbol.for("drizzle:ExtraConfigColumns"),Xh=Symbol.for("drizzle:OriginalName"),em=Symbol.for("drizzle:BaseName"),Yu=Symbol.for("drizzle:IsAlias"),t0=Symbol.for("drizzle:ExtraConfigBuilder"),k_=Symbol.for("drizzle:IsDrizzleTable");class Kr{static[ie]="Table";static Symbol={Name:Lo,Schema:Yh,OriginalName:Xh,Columns:Xw,ExtraConfigColumns:e0,BaseName:em,IsAlias:Yu,ExtraConfigBuilder:t0};[Lo];[Xh];[Yh];[Xw];[e0];[em];[Yu]=!1;[k_]=!0;[t0]=void 0;constructor(e,r,n){this[Lo]=this[Xh]=e,this[Yh]=r,this[em]=n}}function C_(t){return typeof t=="object"&&t!==null&&k_ in t}function s3(t){return t!=null&&typeof t.getSQL=="function"}function i3(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class _n{static[ie]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Vt([this])}}class Vt{constructor(e){this.queryChunks=e}static[ie]="SQL";decoder=E_;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return n3.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:l,escapeParam:c,prepareTyping:d,inlineParams:h,paramStartIndex:m}=n;return i3(e.map(p=>{if(mr(p,_n))return{sql:p.value.join(""),params:[]};if(mr(p,ep))return{sql:l(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){const x=[new _n("(")];for(const[b,N]of p.entries())x.push(N),b<p.length-1&&x.push(new _n(", "));return x.push(new _n(")")),this.buildQueryFromSourceParams(x,n)}if(mr(p,Vt))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:h||p.shouldInlineParams});if(mr(p,Kr)){const x=p[Kr.Symbol.Schema],b=p[Kr.Symbol.Name];return{sql:x===void 0||p[Yu]?l(b):l(x)+"."+l(b),params:[]}}if(mr(p,gl)){const x=o.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:l(x),params:[]};const b=p.table[Kr.Symbol.Schema];return{sql:p.table[Yu]||b===void 0?l(p.table[Kr.Symbol.Name])+"."+l(x):l(b)+"."+l(p.table[Kr.Symbol.Name])+"."+l(x),params:[]}}if(mr(p,o3)){const x=p[Io].schema,b=p[Io].name;return{sql:x===void 0||p[Io].isAlias?l(b):l(x)+"."+l(b),params:[]}}if(mr(p,P_)){if(mr(p.value,tp))return{sql:c(m.value++,p),params:[p],typings:["none"]};const x=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(mr(x,Vt))return this.buildQueryFromSourceParams([x],n);if(h)return{sql:this.mapInlineParam(x,n),params:[]};let b=["none"];return d&&(b=[d(p.encoder)]),{sql:c(m.value++,x),params:[x],typings:b}}return mr(p,tp)?{sql:c(m.value++,p),params:[p],typings:["none"]}:mr(p,Vt.Aliased)&&p.fieldAlias!==void 0?{sql:l(p.fieldAlias),params:[]}:mr(p,__)?p._.isWith?{sql:l(p._.alias),params:[]}:this.buildQueryFromSourceParams([new _n("("),p._.sql,new _n(") "),new ep(p._.alias)],n):r3(p)?p.schema?{sql:l(p.schema)+"."+l(p.enumName),params:[]}:{sql:l(p.enumName),params:[]}:s3(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new _n("("),p.getSQL(),new _n(")")],n):h?{sql:this.mapInlineParam(p,n),params:[]}:{sql:c(m.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class ep{constructor(e){this.value=e}static[ie]="Name";brand;getSQL(){return new Vt([this])}}const E_={mapFromDriverValue:t=>t},T_={mapToDriverValue:t=>t};({...E_,...T_});class P_{constructor(e,r=T_){this.value=e,this.encoder=r}static[ie]="Param";brand;getSQL(){return new Vt([this])}}function Xu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new _n(t[0]));for(const[n,o]of e.entries())r.push(o,new _n(t[n+1]));return new Vt(r)}(t=>{function e(){return new Vt([])}t.empty=e;function r(h){return new Vt(h)}t.fromList=r;function n(h){return new Vt([new _n(h)])}t.raw=n;function o(h,m){const p=[];for(const[x,b]of h.entries())x>0&&m!==void 0&&p.push(m),p.push(b);return new Vt(p)}t.join=o;function l(h){return new ep(h)}t.identifier=l;function c(h){return new tp(h)}t.placeholder=c;function d(h,m){return new P_(h,m)}t.param=d})(Xu||(Xu={}));(t=>{class e{constructor(n,o){this.sql=n,this.fieldAlias=o}static[ie]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Vt||(Vt={}));class tp{constructor(e){this.name=e}static[ie]="Placeholder";getSQL(){return new Vt([this])}}const A_=Symbol.for("drizzle:IsDrizzleView");class o3{static[ie]="View";[Io];[A_]=!0;constructor({name:e,schema:r,selectedFields:n,query:o}){this[Io]={name:e,originalName:e,schema:r,selectedFields:n,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Vt([this])}}function a3(t){return typeof t=="object"&&t!==null&&A_ in t}gl.prototype.getSQL=function(){return new Vt([this])};Kr.prototype.getSQL=function(){return new Vt([this])};__.prototype.getSQL=function(){return new Vt([this])};function l3(t){return t[Kr.Symbol.Columns]}function c3(t){return t[Io].selectedFields}function dr(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class Sd extends ft{static[ie]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class u3 extends Sd{static[ie]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new d3(e,this.config)}}class d3 extends nt{static[ie]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class f3 extends Sd{static[ie]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new h3(e,this.config)}}class h3 extends nt{static[ie]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function m3(t,e){const{name:r,config:n}=dr(t,e);return n.mode==="number"?new u3(r):new f3(r)}class p3 extends ft{static[ie]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new g3(e,this.config)}}class g3 extends nt{static[ie]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class x3 extends ft{static[ie]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new y3(e,this.config)}}class y3 extends nt{static[ie]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function v3(t,e){const{name:r,config:n}=dr(t,e);return n.mode==="number"?new p3(r):new x3(r)}class b3 extends ft{static[ie]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new w3(e,this.config)}}class w3 extends nt{static[ie]="PgBoolean";getSQLType(){return"boolean"}}function j3(t){return new b3(t??"")}class N3 extends ft{static[ie]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new S3(e,this.config)}}class S3 extends nt{static[ie]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function _3(t,e={}){const{name:r,config:n}=dr(t,e);return new N3(r,n)}class k3 extends ft{static[ie]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new C3(e,this.config)}}class C3 extends nt{static[ie]="PgCidr";getSQLType(){return"cidr"}}function E3(t){return new k3(t??"")}class T3 extends ft{static[ie]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new P3(e,this.config)}}class P3 extends nt{static[ie]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function A3(t){return(e,r)=>{const{name:n,config:o}=dr(e,r);return new T3(n,o,t)}}class Bl extends ft{static[ie]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Xu`now()`)}}class R3 extends Bl{static[ie]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new O3(e,this.config)}}class O3 extends nt{static[ie]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class L3 extends Bl{static[ie]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new I3(e,this.config)}}class I3 extends nt{static[ie]="PgDateString";getSQLType(){return"date"}}function D3(t,e){const{name:r,config:n}=dr(t,e);return n?.mode==="date"?new R3(r):new L3(r)}class M3 extends ft{static[ie]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new F3(e,this.config)}}class F3 extends nt{static[ie]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function V3(t){return new M3(t??"")}class U3 extends ft{static[ie]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new $3(e,this.config)}}class $3 extends nt{static[ie]="PgInet";getSQLType(){return"inet"}}function B3(t){return new U3(t??"")}class q3 extends Sd{static[ie]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new z3(e,this.config)}}class z3 extends nt{static[ie]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function W3(t){return new q3(t??"")}class K3 extends ft{static[ie]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new H3(e,this.config)}}class H3 extends nt{static[ie]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function G3(t,e={}){const{name:r,config:n}=dr(t,e);return new K3(r,n)}class Q3 extends ft{static[ie]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new J3(e,this.config)}}class J3 extends nt{static[ie]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Z3(t){return new Q3(t??"")}class Y3 extends ft{static[ie]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new X3(e,this.config)}}class X3 extends nt{static[ie]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function eM(t){return new Y3(t??"")}class tM extends ft{static[ie]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new rM(e,this.config)}}class rM extends nt{static[ie]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,o]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class nM extends ft{static[ie]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new sM(e,this.config)}}class sM extends nt{static[ie]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function iM(t,e){const{name:r,config:n}=dr(t,e);return!n?.mode||n.mode==="tuple"?new tM(r):new nM(r)}class oM extends ft{static[ie]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new aM(e,this.config)}}class aM extends nt{static[ie]="PgMacaddr";getSQLType(){return"macaddr"}}function lM(t){return new oM(t??"")}class cM extends ft{static[ie]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new uM(e,this.config)}}class uM extends nt{static[ie]="PgMacaddr8";getSQLType(){return"macaddr8"}}function dM(t){return new cM(t??"")}class fM extends ft{static[ie]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new hM(e,this.config)}}class hM extends nt{static[ie]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function mM(t,e){const{name:r,config:n}=dr(t,e);return new fM(r,n?.precision,n?.scale)}class pM extends ft{static[ie]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new gM(e,this.config)}}class gM extends nt{static[ie]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class xM extends ft{static[ie]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new yM(e,this.config)}}class yM extends nt{static[ie]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function vM(t,e){const{name:r,config:n}=dr(t,e);return!n?.mode||n.mode==="tuple"?new pM(r):new xM(r)}function bM(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function r0(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let o=0;o<8;o++)n.setUint8(o,t[e+o]);return n.getFloat64(0,!0)}function R_(t){const e=bM(t);let r=0;const n=e[r];r+=1;const o=new DataView(e.buffer),l=o.getUint32(r,n===1);if(r+=4,l&536870912&&(o.getUint32(r,n===1),r+=4),(l&65535)===1){const c=r0(e,r);r+=8;const d=r0(e,r);return r+=8,[c,d]}throw new Error("Unsupported geometry type")}class wM extends ft{static[ie]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new jM(e,this.config)}}class jM extends nt{static[ie]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return R_(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class NM extends ft{static[ie]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new SM(e,this.config)}}class SM extends nt{static[ie]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=R_(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function _M(t,e){const{name:r,config:n}=dr(t,e);return!n?.mode||n.mode==="tuple"?new wM(r):new NM(r)}class kM extends ft{static[ie]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new CM(e,this.config)}}class CM extends nt{static[ie]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function EM(t){return new kM(t??"")}class TM extends ft{static[ie]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new PM(e,this.config)}}class PM extends nt{static[ie]="PgSerial";getSQLType(){return"serial"}}function Eg(t){return new TM(t??"")}class AM extends Sd{static[ie]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new RM(e,this.config)}}class RM extends nt{static[ie]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function OM(t){return new AM(t??"")}class LM extends ft{static[ie]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new IM(e,this.config)}}class IM extends nt{static[ie]="PgSmallSerial";getSQLType(){return"smallserial"}}function DM(t){return new LM(t??"")}class MM extends ft{static[ie]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new FM(e,this.config)}}class FM extends nt{static[ie]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function O_(t,e={}){const{name:r,config:n}=dr(t,e);return new MM(r,n)}class VM extends Bl{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[ie]="PgTimeBuilder";build(e){return new UM(e,this.config)}}class UM extends nt{static[ie]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function $M(t,e={}){const{name:r,config:n}=dr(t,e);return new VM(r,n.withTimezone??!1,n.precision)}class BM extends Bl{static[ie]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new qM(e,this.config)}}class qM extends nt{static[ie]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class zM extends Bl{static[ie]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new WM(e,this.config)}}class WM extends nt{static[ie]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function KM(t,e={}){const{name:r,config:n}=dr(t,e);return n?.mode==="string"?new zM(r,n.withTimezone??!1,n.precision):new BM(r,n?.withTimezone??!1,n?.precision)}class HM extends ft{static[ie]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Xu`gen_random_uuid()`)}build(e){return new GM(e,this.config)}}class GM extends nt{static[ie]="PgUUID";getSQLType(){return"uuid"}}function QM(t){return new HM(t??"")}class JM extends ft{static[ie]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new ZM(e,this.config)}}class ZM extends nt{static[ie]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function xl(t,e={}){const{name:r,config:n}=dr(t,e);return new JM(r,n)}class YM extends ft{static[ie]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new XM(e,this.config)}}class XM extends nt{static[ie]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function eF(t,e){const{name:r,config:n}=dr(t,e);return new YM(r,n)}class tF extends ft{static[ie]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new rF(e,this.config)}}class rF extends nt{static[ie]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function nF(t,e){const{name:r,config:n}=dr(t,e);return new tF(r,n)}class sF extends ft{static[ie]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new iF(e,this.config)}}class iF extends nt{static[ie]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function oF(t,e){const{name:r,config:n}=dr(t,e);return new sF(r,n)}class aF extends ft{static[ie]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new lF(e,this.config)}}class lF extends nt{static[ie]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function cF(t,e){const{name:r,config:n}=dr(t,e);return new aF(r,n)}function uF(){return{bigint:m3,bigserial:v3,boolean:j3,char:_3,cidr:E3,customType:A3,date:D3,doublePrecision:V3,inet:B3,integer:W3,interval:G3,json:Z3,jsonb:eM,line:iM,macaddr:lM,macaddr8:dM,numeric:mM,point:vM,geometry:_M,real:EM,serial:Eg,smallint:OM,smallserial:DM,text:O_,time:$M,timestamp:KM,uuid:QM,varchar:xl,bit:eF,halfvec:nF,sparsevec:oF,vector:cF}}const rp=Symbol.for("drizzle:PgInlineForeignKeys"),n0=Symbol.for("drizzle:EnableRLS");class s0 extends Kr{static[ie]="PgTable";static Symbol=Object.assign({},Kr.Symbol,{InlineForeignKeys:rp,EnableRLS:n0});[rp]=[];[n0]=!1;[Kr.Symbol.ExtraConfigBuilder]=void 0}function dF(t,e,r,n,o=t){const l=new s0(t,n,o),c=typeof e=="function"?e(uF()):e,d=Object.fromEntries(Object.entries(c).map(([p,x])=>{const b=x;b.setName(p);const N=b.build(l);return l[rp].push(...b.buildForeignKeys(N,l)),[p,N]})),h=Object.fromEntries(Object.entries(c).map(([p,x])=>{const b=x;b.setName(p);const N=b.buildExtraConfigColumn(l);return[p,N]})),m=Object.assign(l,d);return m[Kr.Symbol.Columns]=d,m[Kr.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[s0.Symbol.EnableRLS]=!0,m)})}const L_=(t,e,r)=>dF(t,e,r,void 0);var ct;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const l={};for(const c of o)l[c]=c;return l},t.getValidEnumValues=o=>{const l=t.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of l)c[d]=o[d];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(l){return o[l]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(c);return l},t.find=(o,l)=>{for(const c of o)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,l=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(ct||(ct={}));var np;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(np||(np={}));const Ae=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cs=t=>{switch(typeof t){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return Number.isNaN(t)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(t)?Ae.array:t===null?Ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ae.promise:typeof Map<"u"&&t instanceof Map?Ae.map:typeof Set<"u"&&t instanceof Set?Ae.set:typeof Date<"u"&&t instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},le=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fF=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Zr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},o=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(c))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return o(this),n}static assert(e){if(!(e instanceof Zr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)if(o.path.length>0){const l=o.path[0];r[l]=r[l]||[],r[l].push(e(o))}else n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zr.create=t=>new Zr(t);const Ko=(t,e)=>{let r;switch(t.code){case le.invalid_type:t.received===Ae.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case le.invalid_union:r="Invalid input";break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:r="Invalid function arguments";break;case le.invalid_return_type:r="Invalid function return type";break;case le.invalid_date:r="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case le.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case le.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case le.custom:r="Invalid input";break;case le.invalid_intersection_types:r="Intersection results could not be merged";break;case le.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:r="Number must be finite";break;default:r=e.defaultError,ct.assertNever(t)}return{message:r}};let I_=Ko;function hF(t){I_=t}function ed(){return I_}const td=t=>{const{data:e,path:r,errorMaps:n,issueData:o}=t,l=[...r,...o.path||[]],c={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let d="";const h=n.filter(m=>!!m).slice().reverse();for(const m of h)d=m(c,{data:e,defaultError:d}).message;return{...o,path:l,message:d}},mF=[];function _e(t,e){const r=ed(),n=td({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ko?void 0:Ko].filter(o=>!!o)});t.common.issues.push(n)}class Sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return He;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const l=await o.key,c=await o.value;n.push({key:l,value:c})}return Sr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:l,value:c}=o;if(l.status==="aborted"||c.status==="aborted")return He;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const He=Object.freeze({status:"aborted"}),Po=t=>({status:"dirty",value:t}),Ar=t=>({status:"valid",value:t}),sp=t=>t.status==="aborted",ip=t=>t.status==="dirty",Oi=t=>t.status==="valid",yl=t=>typeof Promise<"u"&&t instanceof Promise;var Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ve||(Ve={}));class Kn{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i0=(t,e)=>{if(Oi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zr(t.common.issues);return this._error=r,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,d)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??r??d.defaultError}},description:o}}class st{get description(){return this._def.description}_getType(e){return cs(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:cs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sr,ctx:{common:e.parent.common,data:e.data,parsedType:cs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(yl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cs(e)},o=this._parseSync({data:e,path:n.path,parent:n});return i0(n,o)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cs(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Oi(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Oi(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cs(e)},o=this._parse({data:e,path:n.path,parent:n}),l=await(yl(o)?o:Promise.resolve(o));return i0(n,l)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,l)=>{const c=e(o),d=()=>l.addIssue({code:le.custom,...n(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new Rn({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qn.create(this,this._def)}nullable(){return Ys.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return An.create(this)}promise(){return Go.create(this,this._def)}or(e){return jl.create([this,e],this._def)}and(e){return Nl.create(this,e,this._def)}transform(e){return new Rn({...tt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new El({...tt(this._def),innerType:this,defaultValue:r,typeName:Ge.ZodDefault})}brand(){return new Tg({typeName:Ge.ZodBranded,type:this,...tt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Tl({...tt(this._def),innerType:this,catchValue:r,typeName:Ge.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ql.create(this,e)}readonly(){return Pl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pF=/^c[^\s-]{8,}$/i,gF=/^[0-9a-z]+$/,xF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vF=/^[a-z0-9_-]{21}$/i,bF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tm;const SF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_F=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PF=new RegExp(`^${D_}$`);function M_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function AF(t){return new RegExp(`^${M_(t)}$`)}function F_(t){let e=`${D_}T${M_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function RF(t,e){return!!((e==="v4"||!e)&&SF.test(t)||(e==="v6"||!e)&&kF.test(t))}function OF(t,e){if(!bF.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function LF(t,e){return!!((e==="v4"||!e)&&_F.test(t)||(e==="v6"||!e)&&CF.test(t))}class Tn extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const l=this._getOrReturnCtx(e);return _e(l,{code:le.invalid_type,expected:Ae.string,received:l.parsedType}),He}const n=new Sr;let o;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(o=this._getOrReturnCtx(e,o),_e(o,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(o=this._getOrReturnCtx(e,o),_e(o,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(o=this._getOrReturnCtx(e,o),c?_e(o,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&_e(o,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")jF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"email",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")tm||(tm=new RegExp(NF,"u")),tm.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"emoji",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")yF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"uuid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")vF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"nanoid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")pF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"cuid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")gF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"cuid2",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")xF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"ulid",code:le.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),_e(o,{validation:"url",code:le.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"regex",code:le.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(e,o),_e(o,{code:le.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(o=this._getOrReturnCtx(e,o),_e(o,{code:le.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(o=this._getOrReturnCtx(e,o),_e(o,{code:le.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?F_(l).test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{code:le.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?PF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{code:le.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?AF(l).test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{code:le.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?wF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"duration",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?RF(e.data,l.version)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"ip",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?OF(e.data,l.alg)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"jwt",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?LF(e.data,l.version)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"cidr",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?EF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"base64",code:le.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?TF.test(e.data)||(o=this._getOrReturnCtx(e,o),_e(o,{validation:"base64url",code:le.invalid_string,message:l.message}),n.dirty()):ct.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:le.invalid_string,...Ve.errToObj(n)})}_addCheck(e){return new Tn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ve.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ve.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Ve.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ve.errToObj(r)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Tn.create=t=>new Tn({checks:[],typeName:Ge.ZodString,coerce:t?.coerce??!1,...tt(t)});function IF(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,l=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return l%c/10**o}class Qs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const l=this._getOrReturnCtx(e);return _e(l,{code:le.invalid_type,expected:Ae.number,received:l.parsedType}),He}let n;const o=new Sr;for(const l of this._def.checks)l.kind==="int"?ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),_e(n,{code:le.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),_e(n,{code:le.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),_e(n,{code:le.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?IF(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),_e(n,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),_e(n,{code:le.not_finite,message:l.message}),o.dirty()):ct.assertNever(l);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,o){return new Qs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(o)}]})}_addCheck(e){return new Qs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Qs.create=t=>new Qs({checks:[],typeName:Ge.ZodNumber,coerce:t?.coerce||!1,...tt(t)});class Js extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ae.bigint)return this._getInvalidInput(e);let n;const o=new Sr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),_e(n,{code:le.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),_e(n,{code:le.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),_e(n,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ct.assertNever(l);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Ae.bigint,received:r.parsedType}),He}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,o){return new Js({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(o)}]})}_addCheck(e){return new Js({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Js.create=t=>new Js({checks:[],typeName:Ge.ZodBigInt,coerce:t?.coerce??!1,...tt(t)});class vl extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Ae.boolean,received:n.parsedType}),He}return Ar(e.data)}}vl.create=t=>new vl({typeName:Ge.ZodBoolean,coerce:t?.coerce||!1,...tt(t)});class Li extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const l=this._getOrReturnCtx(e);return _e(l,{code:le.invalid_type,expected:Ae.date,received:l.parsedType}),He}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return _e(l,{code:le.invalid_date}),He}const n=new Sr;let o;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(o=this._getOrReturnCtx(e,o),_e(o,{code:le.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(o=this._getOrReturnCtx(e,o),_e(o,{code:le.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):ct.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Li.create=t=>new Li({checks:[],coerce:t?.coerce||!1,typeName:Ge.ZodDate,...tt(t)});class rd extends st{_parse(e){if(this._getType(e)!==Ae.symbol){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Ae.symbol,received:n.parsedType}),He}return Ar(e.data)}}rd.create=t=>new rd({typeName:Ge.ZodSymbol,...tt(t)});class bl extends st{_parse(e){if(this._getType(e)!==Ae.undefined){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Ae.undefined,received:n.parsedType}),He}return Ar(e.data)}}bl.create=t=>new bl({typeName:Ge.ZodUndefined,...tt(t)});class wl extends st{_parse(e){if(this._getType(e)!==Ae.null){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Ae.null,received:n.parsedType}),He}return Ar(e.data)}}wl.create=t=>new wl({typeName:Ge.ZodNull,...tt(t)});class Ho extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return Ar(e.data)}}Ho.create=t=>new Ho({typeName:Ge.ZodAny,...tt(t)});class Ai extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ar(e.data)}}Ai.create=t=>new Ai({typeName:Ge.ZodUnknown,...tt(t)});class ms extends st{_parse(e){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Ae.never,received:r.parsedType}),He}}ms.create=t=>new ms({typeName:Ge.ZodNever,...tt(t)});class nd extends st{_parse(e){if(this._getType(e)!==Ae.undefined){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Ae.void,received:n.parsedType}),He}return Ar(e.data)}}nd.create=t=>new nd({typeName:Ge.ZodVoid,...tt(t)});class An extends st{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==Ae.array)return _e(r,{code:le.invalid_type,expected:Ae.array,received:r.parsedType}),He;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(c||d)&&(_e(r,{code:c?le.too_big:le.too_small,minimum:d?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(_e(r,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(_e(r,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>o.type._parseAsync(new Kn(r,c,r.path,d)))).then(c=>Sr.mergeArray(n,c));const l=[...r.data].map((c,d)=>o.type._parseSync(new Kn(r,c,r.path,d)));return Sr.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new An({...this._def,minLength:{value:e,message:Ve.toString(r)}})}max(e,r){return new An({...this._def,maxLength:{value:e,message:Ve.toString(r)}})}length(e,r){return new An({...this._def,exactLength:{value:e,message:Ve.toString(r)}})}nonempty(e){return this.min(1,e)}}An.create=(t,e)=>new An({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...tt(e)});function So(t){if(t instanceof Ot){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=qn.create(So(n))}return new Ot({...t._def,shape:()=>e})}else return t instanceof An?new An({...t._def,type:So(t.element)}):t instanceof qn?qn.create(So(t.unwrap())):t instanceof Ys?Ys.create(So(t.unwrap())):t instanceof Hn?Hn.create(t.items.map(e=>So(e))):t}class Ot extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ct.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ae.object){const m=this._getOrReturnCtx(e);return _e(m,{code:le.invalid_type,expected:Ae.object,received:m.parsedType}),He}const{status:n,ctx:o}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof ms&&this._def.unknownKeys==="strip"))for(const m in o.data)c.includes(m)||d.push(m);const h=[];for(const m of c){const p=l[m],x=o.data[m];h.push({key:{status:"valid",value:m},value:p._parse(new Kn(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof ms){const m=this._def.unknownKeys;if(m==="passthrough")for(const p of d)h.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(m==="strict")d.length>0&&(_e(o,{code:le.unrecognized_keys,keys:d}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const p of d){const x=o.data[p];h.push({key:{status:"valid",value:p},value:m._parse(new Kn(o,x,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const p of h){const x=await p.key,b=await p.value;m.push({key:x,value:b,alwaysSet:p.alwaysSet})}return m}).then(m=>Sr.mergeObjectSync(n,m)):Sr.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new Ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ve.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ge.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ot({...this._def,catchall:e})}pick(e){const r={};for(const n of ct.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ot({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ct.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ot({...this._def,shape:()=>r})}deepPartial(){return So(this)}partial(e){const r={};for(const n of ct.objectKeys(this.shape)){const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}return new Ot({...this._def,shape:()=>r})}required(e){const r={};for(const n of ct.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof qn;)l=l._def.innerType;r[n]=l}return new Ot({...this._def,shape:()=>r})}keyof(){return V_(ct.objectKeys(this.shape))}}Ot.create=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strip",catchall:ms.create(),typeName:Ge.ZodObject,...tt(e)});Ot.strictCreate=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strict",catchall:ms.create(),typeName:Ge.ZodObject,...tt(e)});Ot.lazycreate=(t,e)=>new Ot({shape:t,unknownKeys:"strip",catchall:ms.create(),typeName:Ge.ZodObject,...tt(e)});class jl extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new Zr(d.ctx.common.issues));return _e(r,{code:le.invalid_union,unionErrors:c}),He}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(o);{let l;const c=[];for(const h of n){const m={...r,common:{...r.common,issues:[]},parent:null},p=h._parseSync({data:r.data,path:r.path,parent:m});if(p.status==="valid")return p;p.status==="dirty"&&!l&&(l={result:p,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new Zr(h));return _e(r,{code:le.invalid_union,unionErrors:d}),He}}get options(){return this._def.options}}jl.create=(t,e)=>new jl({options:t,typeName:Ge.ZodUnion,...tt(e)});const as=t=>t instanceof _l?as(t.schema):t instanceof Rn?as(t.innerType()):t instanceof kl?[t.value]:t instanceof Zs?t.options:t instanceof Cl?ct.objectValues(t.enum):t instanceof El?as(t._def.innerType):t instanceof bl?[void 0]:t instanceof wl?[null]:t instanceof qn?[void 0,...as(t.unwrap())]:t instanceof Ys?[null,...as(t.unwrap())]:t instanceof Tg||t instanceof Pl?as(t.unwrap()):t instanceof Tl?as(t._def.innerType):[];class _d extends st{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.object)return _e(r,{code:le.invalid_type,expected:Ae.object,received:r.parsedType}),He;const n=this.discriminator,o=r.data[n],l=this.optionsMap.get(o);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const l of r){const c=as(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,l)}}return new _d({typeName:Ge.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...tt(n)})}}function op(t,e){const r=cs(t),n=cs(e);if(t===e)return{valid:!0,data:t};if(r===Ae.object&&n===Ae.object){const o=ct.objectKeys(e),l=ct.objectKeys(t).filter(d=>o.indexOf(d)!==-1),c={...t,...e};for(const d of l){const h=op(t[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(r===Ae.array&&n===Ae.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],h=op(c,d);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===Ae.date&&n===Ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Nl extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(l,c)=>{if(sp(l)||sp(c))return He;const d=op(l.value,c.value);return d.valid?((ip(l)||ip(c))&&r.dirty(),{status:r.value,value:d.data}):(_e(n,{code:le.invalid_intersection_types}),He)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>o(l,c)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nl.create=(t,e,r)=>new Nl({left:t,right:e,typeName:Ge.ZodIntersection,...tt(r)});class Hn extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.array)return _e(n,{code:le.invalid_type,expected:Ae.array,received:n.parsedType}),He;if(n.data.length<this._def.items.length)return _e(n,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&n.data.length>this._def.items.length&&(_e(n,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Kn(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>Sr.mergeArray(r,c)):Sr.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Hn({...this._def,rest:e})}}Hn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hn({items:t,typeName:Ge.ZodTuple,rest:null,...tt(e)})};class Sl extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.object)return _e(n,{code:le.invalid_type,expected:Ae.object,received:n.parsedType}),He;const o=[],l=this._def.keyType,c=this._def.valueType;for(const d in n.data)o.push({key:l._parse(new Kn(n,d,n.path,d)),value:c._parse(new Kn(n,n.data[d],n.path,d)),alwaysSet:d in n.data});return n.common.async?Sr.mergeObjectAsync(r,o):Sr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof st?new Sl({keyType:e,valueType:r,typeName:Ge.ZodRecord,...tt(n)}):new Sl({keyType:Tn.create(),valueType:e,typeName:Ge.ZodRecord,...tt(r)})}}class sd extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.map)return _e(n,{code:le.invalid_type,expected:Ae.map,received:n.parsedType}),He;const o=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([d,h],m)=>({key:o._parse(new Kn(n,d,n.path,[m,"key"])),value:l._parse(new Kn(n,h,n.path,[m,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,p=await h.value;if(m.status==="aborted"||p.status==="aborted")return He;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of c){const m=h.key,p=h.value;if(m.status==="aborted"||p.status==="aborted")return He;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}}}}sd.create=(t,e,r)=>new sd({valueType:e,keyType:t,typeName:Ge.ZodMap,...tt(r)});class Ii extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.set)return _e(n,{code:le.invalid_type,expected:Ae.set,received:n.parsedType}),He;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(_e(n,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(_e(n,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const l=this._def.valueType;function c(h){const m=new Set;for(const p of h){if(p.status==="aborted")return He;p.status==="dirty"&&r.dirty(),m.add(p.value)}return{status:r.value,value:m}}const d=[...n.data.values()].map((h,m)=>l._parse(new Kn(n,h,n.path,m)));return n.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,r){return new Ii({...this._def,minSize:{value:e,message:Ve.toString(r)}})}max(e,r){return new Ii({...this._def,maxSize:{value:e,message:Ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ii.create=(t,e)=>new Ii({valueType:t,minSize:null,maxSize:null,typeName:Ge.ZodSet,...tt(e)});class Do extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.function)return _e(r,{code:le.invalid_type,expected:Ae.function,received:r.parsedType}),He;function n(d,h){return td({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ed(),Ko].filter(m=>!!m),issueData:{code:le.invalid_arguments,argumentsError:h}})}function o(d,h){return td({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ed(),Ko].filter(m=>!!m),issueData:{code:le.invalid_return_type,returnTypeError:h}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Go){const d=this;return Ar(async function(...h){const m=new Zr([]),p=await d._def.args.parseAsync(h,l).catch(N=>{throw m.addIssue(n(h,N)),m}),x=await Reflect.apply(c,this,p);return await d._def.returns._def.type.parseAsync(x,l).catch(N=>{throw m.addIssue(o(x,N)),m})})}else{const d=this;return Ar(function(...h){const m=d._def.args.safeParse(h,l);if(!m.success)throw new Zr([n(h,m.error)]);const p=Reflect.apply(c,this,m.data),x=d._def.returns.safeParse(p,l);if(!x.success)throw new Zr([o(p,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Do({...this._def,args:Hn.create(e).rest(Ai.create())})}returns(e){return new Do({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Do({args:e||Hn.create([]).rest(Ai.create()),returns:r||Ai.create(),typeName:Ge.ZodFunction,...tt(n)})}}class _l extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_l.create=(t,e)=>new _l({getter:t,typeName:Ge.ZodLazy,...tt(e)});class kl extends st{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return _e(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}kl.create=(t,e)=>new kl({value:t,typeName:Ge.ZodLiteral,...tt(e)});function V_(t,e){return new Zs({values:t,typeName:Ge.ZodEnum,...tt(e)})}class Zs extends st{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return _e(r,{expected:ct.joinValues(n),received:r.parsedType,code:le.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return _e(r,{received:r.data,code:le.invalid_enum_value,options:n}),He}return Ar(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Zs.create(e,{...this._def,...r})}exclude(e,r=this._def){return Zs.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Zs.create=V_;class Cl extends st{_parse(e){const r=ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ae.string&&n.parsedType!==Ae.number){const o=ct.objectValues(r);return _e(n,{expected:ct.joinValues(o),received:n.parsedType,code:le.invalid_type}),He}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=ct.objectValues(r);return _e(n,{received:n.data,code:le.invalid_enum_value,options:o}),He}return Ar(e.data)}get enum(){return this._def.values}}Cl.create=(t,e)=>new Cl({values:t,typeName:Ge.ZodNativeEnum,...tt(e)});class Go extends st{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.promise&&r.common.async===!1)return _e(r,{code:le.invalid_type,expected:Ae.promise,received:r.parsedType}),He;const n=r.parsedType===Ae.promise?r.data:Promise.resolve(r.data);return Ar(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Go.create=(t,e)=>new Go({type:t,typeName:Ge.ZodPromise,...tt(e)});class Rn extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,l={addIssue:c=>{_e(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const c=o.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return He;const h=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return h.status==="aborted"?He:h.status==="dirty"||r.value==="dirty"?Po(h.value):h});{if(r.value==="aborted")return He;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?He:d.status==="dirty"||r.value==="dirty"?Po(d.value):d}}if(o.type==="refinement"){const c=d=>{const h=o.refinement(d,l);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?He:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?He:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Oi(c))return He;const d=o.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Oi(c)?Promise.resolve(o.transform(c.value,l)).then(d=>({status:r.value,value:d})):He);ct.assertNever(o)}}Rn.create=(t,e,r)=>new Rn({schema:t,typeName:Ge.ZodEffects,effect:e,...tt(r)});Rn.createWithPreprocess=(t,e,r)=>new Rn({schema:e,effect:{type:"preprocess",transform:t},typeName:Ge.ZodEffects,...tt(r)});class qn extends st{_parse(e){return this._getType(e)===Ae.undefined?Ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qn.create=(t,e)=>new qn({innerType:t,typeName:Ge.ZodOptional,...tt(e)});class Ys extends st{_parse(e){return this._getType(e)===Ae.null?Ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ys.create=(t,e)=>new Ys({innerType:t,typeName:Ge.ZodNullable,...tt(e)});class El extends st{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ae.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:Ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class Tl extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return yl(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Tl.create=(t,e)=>new Tl({innerType:t,typeName:Ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class id extends st{_parse(e){if(this._getType(e)!==Ae.nan){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Ae.nan,received:n.parsedType}),He}return{status:"valid",value:e.data}}}id.create=t=>new id({typeName:Ge.ZodNaN,...tt(t)});const DF=Symbol("zod_brand");class Tg extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ql extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?He:l.status==="dirty"?(r.dirty(),Po(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?He:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new ql({in:e,out:r,typeName:Ge.ZodPipeline})}}class Pl extends st{_parse(e){const r=this._def.innerType._parse(e),n=o=>(Oi(o)&&(o.value=Object.freeze(o.value)),o);return yl(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}Pl.create=(t,e)=>new Pl({innerType:t,typeName:Ge.ZodReadonly,...tt(e)});function o0(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Pg(t,e={},r){return t?Ho.create().superRefine((n,o)=>{const l=t(n);if(l instanceof Promise)return l.then(c=>{if(!c){const d=o0(e,n),h=d.fatal??r??!0;o.addIssue({code:"custom",...d,fatal:h})}});if(!l){const c=o0(e,n),d=c.fatal??r??!0;o.addIssue({code:"custom",...c,fatal:d})}}):Ho.create()}const MF={object:Ot.lazycreate};var Ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const FF=(t,e={message:`Input not instance of ${t.name}`})=>Pg(r=>r instanceof t,e),jt=Tn.create,zl=Qs.create,VF=id.create,UF=Js.create,Ti=vl.create,$F=Li.create,BF=rd.create,qF=bl.create,U_=wl.create,od=Ho.create,zF=Ai.create,WF=ms.create,KF=nd.create,Un=An.create,kd=Ot.create,HF=Ot.strictCreate,Ag=jl.create,GF=_d.create,QF=Nl.create,JF=Hn.create,$_=Sl.create,ZF=sd.create,YF=Ii.create,XF=Do.create,eV=_l.create,tV=kl.create,ap=Zs.create,rV=Cl.create,nV=Go.create,a0=Rn.create,sV=qn.create,iV=Ys.create,oV=Rn.createWithPreprocess,aV=ql.create,lV=()=>jt().optional(),cV=()=>zl().optional(),uV=()=>Ti().optional(),dV={string:(t=>Tn.create({...t,coerce:!0})),number:(t=>Qs.create({...t,coerce:!0})),boolean:(t=>vl.create({...t,coerce:!0})),bigint:(t=>Js.create({...t,coerce:!0})),date:(t=>Li.create({...t,coerce:!0}))},fV=He,hV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:DF,DIRTY:Po,EMPTY_PATH:mF,INVALID:He,NEVER:fV,OK:Ar,ParseStatus:Sr,Schema:st,ZodAny:Ho,ZodArray:An,ZodBigInt:Js,ZodBoolean:vl,ZodBranded:Tg,ZodCatch:Tl,ZodDate:Li,ZodDefault:El,ZodDiscriminatedUnion:_d,ZodEffects:Rn,ZodEnum:Zs,ZodError:Zr,get ZodFirstPartyTypeKind(){return Ge},ZodFunction:Do,ZodIntersection:Nl,ZodIssueCode:le,ZodLazy:_l,ZodLiteral:kl,ZodMap:sd,ZodNaN:id,ZodNativeEnum:Cl,ZodNever:ms,ZodNull:wl,ZodNullable:Ys,ZodNumber:Qs,ZodObject:Ot,ZodOptional:qn,ZodParsedType:Ae,ZodPipeline:ql,ZodPromise:Go,ZodReadonly:Pl,ZodRecord:Sl,ZodSchema:st,ZodSet:Ii,ZodString:Tn,ZodSymbol:rd,ZodTransformer:Rn,ZodTuple:Hn,ZodType:st,ZodUndefined:bl,ZodUnion:jl,ZodUnknown:Ai,ZodVoid:nd,addIssueToContext:_e,any:od,array:Un,bigint:UF,boolean:Ti,coerce:dV,custom:Pg,date:$F,datetimeRegex:F_,defaultErrorMap:Ko,discriminatedUnion:GF,effect:a0,enum:ap,function:XF,getErrorMap:ed,getParsedType:cs,instanceof:FF,intersection:QF,isAborted:sp,isAsync:yl,isDirty:ip,isValid:Oi,late:MF,lazy:eV,literal:tV,makeIssue:td,map:ZF,nan:VF,nativeEnum:rV,never:WF,null:U_,nullable:iV,number:zl,object:kd,get objectUtil(){return np},oboolean:uV,onumber:cV,optional:sV,ostring:lV,pipeline:aV,preprocess:oV,promise:nV,quotelessJson:fF,record:$_,set:YF,setErrorMap:hF,strictObject:HF,string:jt,symbol:BF,transformer:a0,tuple:JF,undefined:qF,union:Ag,unknown:zF,get util(){return ct},void:KF},Symbol.toStringTag,{value:"Module"})),At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Wt(t,e){return e.includes(t.columnType)}function mV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const pV=Ag([jt(),zl(),Ti(),U_()]),gV=Ag([pV,$_(od()),Un(od())]),xV=Pg(t=>t instanceof Buffer);function B_(t,e){const r=e?.zodInstance??hV,n=e?.coerce??{};let o;return mV(t)&&(o=t.enumValues.length?r.enum(t.enumValues):r.string()),o||(Wt(t,["PgGeometry","PgPointTuple"])?o=r.tuple([r.number(),r.number()]):Wt(t,["PgGeometryObject","PgPointObject"])?o=r.object({x:r.number(),y:r.number()}):Wt(t,["PgHalfVector","PgVector"])?(o=r.array(r.number()),o=t.dimensions?o.length(t.dimensions):o):Wt(t,["PgLine"])?o=r.tuple([r.number(),r.number(),r.number()]):Wt(t,["PgLineABC"])?o=r.object({a:r.number(),b:r.number(),c:r.number()}):Wt(t,["PgArray"])?(o=r.array(B_(t.baseColumn,r)),o=t.size?o.length(t.size):o):t.dataType==="array"?o=r.array(r.any()):t.dataType==="number"?o=yV(t,r,n):t.dataType==="bigint"?o=vV(t,r,n):t.dataType==="boolean"?o=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?o=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?o=bV(t,r,n):t.dataType==="json"?o=gV:t.dataType==="custom"?o=r.any():t.dataType==="buffer"&&(o=xV)),o||(o=r.any()),o}function yV(t,e,r){let n=t.getSQLType().includes("unsigned"),o,l,c=!1;Wt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(o=n?0:At.INT8_MIN,l=n?At.INT8_UNSIGNED_MAX:At.INT8_MAX,c=!0):Wt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=n?0:At.INT16_MIN,l=n?At.INT16_UNSIGNED_MAX:At.INT16_MAX,c=!0):Wt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=n?0:At.INT24_MIN,l=n?At.INT24_UNSIGNED_MAX:At.INT24_MAX,c=Wt(t,["MySqlMediumInt","SingleStoreMediumInt"])):Wt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=n?0:At.INT32_MIN,l=n?At.INT32_UNSIGNED_MAX:At.INT32_MAX,c=!0):Wt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=n?0:At.INT48_MIN,l=n?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Wt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Wt(t,["MySqlSerial","SingleStoreSerial"]),o=n?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,c=!0):Wt(t,["MySqlYear","SingleStoreYear"])?(o=1901,l=2155,c=!0):(o=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(o).max(l),c?d.int():d}function vV(t,e,r){const n=t.getSQLType().includes("unsigned"),o=n?0n:At.INT64_MIN,l=n?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(o).max(l)}function bV(t,e,r){if(Wt(t,["PgUUID"]))return e.string().uuid();let n,o,l=!1;Wt(t,["PgVarchar","SQLiteText"])?n=t.length:Wt(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??At.INT16_UNSIGNED_MAX:Wt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=At.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=At.INT24_UNSIGNED_MAX:t.textType==="text"?n=At.INT16_UNSIGNED_MAX:n=At.INT8_UNSIGNED_MAX),Wt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,l=!0),Wt(t,["PgBinaryVector"])&&(o=/^[01]+$/,n=t.dimensions);let c=r===!0||r?.string?e.coerce.string():e.string();return c=o?c.regex(o):c,n&&l?c.length(n):n?c.max(n):c}function q_(t){return C_(t)?l3(t):c3(t)}function z_(t,e,r,n){const o={};for(const[l,c]of Object.entries(t)){if(!mr(c,gl)&&!mr(c,Vt)&&!mr(c,Vt.Aliased)&&typeof c=="object"){const x=C_(c)||a3(c)?q_(c):c;o[l]=z_(x,e[l]??{},r,n);continue}const d=e[l];if(d!==void 0&&typeof d!="function"){o[l]=d;continue}const h=mr(c,gl)?c:void 0,m=h?B_(h,n):od(),p=typeof d=="function"?d(m):m;r.never(h)||(o[l]=p,h&&(r.nullable(h)&&(o[l]=o[l].nullable()),r.optional(h)&&(o[l]=o[l].optional())))}return kd(o)}const wV={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},W_=(t,e)=>{const r=q_(t);return z_(r,{},wV)},jV=L_("waitlist",{id:Eg("id").primaryKey(),name:xl("name",{length:100}).notNull(),email:xl("email",{length:255}).notNull().unique()}),NV=L_("contact",{id:Eg("id").primaryKey(),name:xl("name",{length:100}).notNull(),email:xl("email",{length:255}).notNull(),message:O_("message").notNull()}),SV=W_(jV).pick({name:!0,email:!0}),_V=W_(NV).pick({name:!0,email:!0,message:!0});var kV="Label",K_=y.forwardRef((t,e)=>i.jsx(Ct.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K_.displayName=kV;var H_=K_;const CV=Sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G_=y.forwardRef(({className:t,...e},r)=>i.jsx(H_,{ref:r,className:pt(CV(),t),...e}));G_.displayName=H_.displayName;const Q_=kD,J_=y.createContext({}),sl=({...t})=>i.jsx(J_.Provider,{value:{name:t.name},children:i.jsx(PD,{...t})}),Cd=()=>{const t=y.useContext(J_),e=y.useContext(Z_),{getFieldState:r,formState:n}=Nd(),o=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:l}=e;return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...o}},Z_=y.createContext({}),Mo=y.forwardRef(({className:t,...e},r)=>{const n=y.useId();return i.jsx(Z_.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:pt("space-y-2",t),...e})})});Mo.displayName="FormItem";const EV=y.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:o}=Cd();return i.jsx(G_,{ref:r,className:pt(n&&"text-destructive",t),htmlFor:o,...e})});EV.displayName="FormLabel";const Fo=y.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:o,formMessageId:l}=Cd();return i.jsx(G0,{ref:e,id:n,"aria-describedby":r?`${o} ${l}`:`${o}`,"aria-invalid":!!r,...t})});Fo.displayName="FormControl";const TV=y.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Cd();return i.jsx("p",{ref:r,id:n,className:pt("text-sm text-muted-foreground",t),...e})});TV.displayName="FormDescription";const Vo=y.forwardRef(({className:t,children:e,...r},n)=>{const{error:o,formMessageId:l}=Cd(),c=o?String(o?.message):e;return c?i.jsx("p",{ref:n,id:l,className:pt("text-sm font-medium text-destructive",t),...r,children:c}):null});Vo.displayName="FormMessage";const Al=y.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:pt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Al.displayName="Input";function Ed({embedded:t=!1}){const{toast:e}=gp(),[r,n]=y.useState(!1),o=b_({resolver:j_(SV),defaultValues:{name:"",email:""}}),l=K0({mutationFn:async h=>{try{console.log("Submitting:",h);const m=await fetch("/.netlify/functions/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,name:h.name})});if(!m.ok)throw new Error("Failed to add to waitlist");return await m.json()}catch(m){throw console.error("Error:",m),m}},onSuccess:()=>{n(!0),e({title:"Success!",description:"You've been added to the waitlist."})},onError:()=>{e({variant:"destructive",title:"Error",description:"Something went wrong. Please try again."})}}),c=h=>{l.mutate(h)},d=i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join the Waitlist"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Be the first to know when GLASS-Connect ships new features for listing, verification, and collaboration routing."}),r?i.jsxs("div",{className:"text-center p-6 bg-primary/10 rounded-lg",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank you for joining!"}),i.jsx("p",{className:"text-muted-foreground",children:"We'll keep you updated on our progress."})]}):i.jsx(Q_,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[i.jsx(sl,{control:o.control,name:"name",render:({field:h})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{placeholder:"Your name",...h})}),i.jsx(Vo,{})]})}),i.jsx(sl,{control:o.control,name:"email",render:({field:h})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{type:"email",placeholder:"Your email",...h})}),i.jsx(Vo,{})]})}),i.jsx(Oo,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?"Joining...":"Join Now"})]})})]});return t?i.jsx("div",{className:"w-full",children:i.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full",children:d})}):i.jsx("section",{id:"waitlist-section",className:"py-20 bg-background",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-lg mx-auto text-center",children:d})})})}const Y_=y.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Y_.displayName="Textarea";function PV(){const{toast:t}=gp(),e=b_({resolver:j_(_V),defaultValues:{name:"",email:"",message:""}}),r=K0({mutationFn:async o=>(await fetch("/.netlify/functions/sendContact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json(),onSuccess:()=>{e.reset(),t({title:"Message sent!",description:"We'll get back to you as soon as possible."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to send message. Please try again."})}}),n=o=>{r.mutate(o)};return i.jsx("section",{className:"py-20 bg-muted/30",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[i.jsxs(Ye.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions about GLASS-Connect? We're here to help labs list, verify, and handle inbound requests."}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(kp,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"contact@glass-funding.com"})]})," "]})]}),i.jsx(Ye.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:i.jsx(Q_,{...e,children:i.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[i.jsx(sl,{control:e.control,name:"name",render:({field:o})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{placeholder:"Your name",...o})}),i.jsx(Vo,{})]})}),i.jsx(sl,{control:e.control,name:"email",render:({field:o})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Al,{type:"email",placeholder:"Your email",...o})}),i.jsx(Vo,{})]})}),i.jsx(sl,{control:e.control,name:"message",render:({field:o})=>i.jsxs(Mo,{children:[i.jsx(Fo,{children:i.jsx(Y_,{placeholder:"Your message",className:"min-h-[120px]",...o})}),i.jsx(Vo,{})]})}),i.jsx(Oo,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Sending...":"Send Message"})]})})})]})})})}const rm=[{src:"/logos/logo-unistra.png",alt:"Unistra",href:"https://www.unistra.fr",className:"scale-125"},{src:"/logos/logo-EMStrasbourg.png",alt:"EM Strasbourg",href:"https://www.em-strasbourg.com/fr",className:"scale-[1.7]"},{src:"/logos/GrandEst.png",alt:"Grand Est",href:"https://www.grandest.fr/en/",className:"scale-[1.9]"},{src:"/logos/logo-etena.png",alt:"Ppite Etna",href:"https://etena.unistra.fr/",className:"scale-[1.2]"},{src:"/logos/logo-LaRucheAProjets.png",alt:"La Ruche a projets",href:"https://www.em-strasbourg.com/fr/etudiant/vie-etudiante-et-services/centre-entrepreneurial-la-ruche/incubateur-la-ruche-a-projets",className:"scale-[1.2]"}];function X_(){const t=y.useRef(null),e=y.useMemo(()=>[...rm,...rm,...rm],[]);y.useEffect(()=>{const n=t.current;if(!n)return;const o=()=>{const c=n.scrollWidth/3;c>0&&(n.scrollLeft=c)},l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft<=0?n.scrollLeft+=c:n.scrollLeft>=c*2&&(n.scrollLeft-=c))};return o(),n.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",o),()=>{n.removeEventListener("scroll",l),window.removeEventListener("resize",o)}},[]),y.useEffect(()=>{const n=t.current;if(!n)return;let o;const l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft+=.4,n.scrollLeft>=c*2&&(n.scrollLeft-=c),o=window.requestAnimationFrame(l))};return o=window.requestAnimationFrame(l),()=>{window.cancelAnimationFrame(o)}},[]);const r=n=>{const o=t.current;if(!o)return;const l=o.scrollWidth/3;if(l===0)return;const c=o.clientWidth*.8;let d=n==="left"?o.scrollLeft-c:o.scrollLeft+c;n==="left"&&d<=0?d+=l:n==="right"&&d>=l*2&&(d-=l),o.scrollTo({left:d,behavior:"smooth"})};return i.jsx("section",{id:"partners",className:"py-20 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Partners"})}),i.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"relative",children:[i.jsx("button",{type:"button",onClick:()=>r("left"),className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners left",children:i.jsx(f2,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",onClick:()=>r("right"),className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners right",children:i.jsx(h2,{className:"h-5 w-5"})}),i.jsx("div",{ref:t,className:"overflow-x-auto scroll-smooth no-scrollbar",children:i.jsx("div",{className:"flex gap-6 md:gap-8 min-w-max pb-2",children:e.map((n,o)=>i.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"relative block w-[160px] md:w-[180px] shrink-0",children:i.jsx(Ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:o*.04},children:i.jsx("div",{className:"bg-white border border-border rounded-xl px-6 py-5 h-28 flex items-center justify-center shadow-sm hover:shadow-md transition",children:i.jsx("img",{src:n.src,alt:n.alt,className:`max-h-12 object-contain opacity-80 hover:opacity-100 transition duration-300 ${n.className}`})})})},`${n.alt}-${o}`))})})]})]})})}function AV({title:t="Latest news",description:e,limit:r=20,className:n=""}){const[o,l]=y.useState([]),[c,d]=y.useState(!0),[h,m]=y.useState(null);return y.useEffect(()=>{let p=!0;async function x(){d(!0),m(null);try{const b=await fetch(`/api/news/public?limit=${r}`),N=b.headers.get("content-type")||"";if(!b.ok||!N.includes("application/json"))throw await b.text(),new Error("Unable to load news");const _=await b.json();p&&l(Array.isArray(_?.news)?_.news:[])}catch(b){p&&m(b?.message||"Unable to load news")}finally{p&&d(!1)}}return x(),()=>{p=!1}},[r]),i.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${n}`,children:[i.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?i.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),c&&i.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),h&&i.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:h}),!c&&!h&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-4 min-w-full",children:[o.length===0&&i.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No news yet. Check back soon."}),o.map(p=>{const x=p.labs?.name||`Lab ${p.lab_id}`,b=p.created_at?new Date(p.created_at).toLocaleDateString():"";return i.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[i.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:i.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:p.category||"update"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.title}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:p.summary})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"truncate",children:x}),i.jsx("span",{className:"text-[11px]",children:b})]}),i.jsx("div",{className:"flex items-center gap-2",children:p.images?.slice(0,2).map(N=>i.jsx("img",{src:N.url,alt:N.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},N.url))})]},p.id)})]})})]})}function RV({title:t="Featured labs",description:e,className:r=""}){const[n,o]=y.useState([]),[l,c]=y.useState(!0),[d,h]=y.useState(null);y.useEffect(()=>{let p=!0;async function x(){c(!0),h(null);try{const b=await fetch("/api/labs"),N=b.headers.get("content-type")||"";if(!b.ok||!N.includes("application/json"))throw await b.text(),new Error("Unable to load labs");const _=await b.json();p&&o(Array.isArray(_)?_:[])}catch(b){p&&h(b?.message||"Unable to load labs")}finally{p&&c(!1)}}return x(),()=>{p=!1}},[]);const m=y.useMemo(()=>n.filter(p=>{const x=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base";return(x==="premier"||x==="custom")&&p.isVisible!==!1}),[n]);return i.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${r}`,children:[i.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Featured"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?i.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),l&&i.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading featured labs"}),d&&i.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:d}),!l&&!d&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-4 min-w-full",children:[m.length===0&&i.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No featured labs yet. Check back soon."}),m.map(p=>{const x=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base",b=p.logoUrl||p.photos?.[0]?.url;return i.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-[11px] font-medium text-primary capitalize",children:x}),i.jsxs("span",{className:"text-[11px] text-muted-foreground flex items-center gap-1",children:[i.jsx(Cp,{className:"h-3 w-3"}),"Featured"]})]}),b&&i.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60 bg-muted/20",children:i.jsx("img",{src:b,alt:p.name,className:"h-32 w-full object-cover",loading:"lazy"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.name}),i.jsxs("p",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Ks,{className:"h-3 w-3"}),p.location]}),i.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted-foreground",children:[i.jsx(Pn,{className:"h-3 w-3 text-emerald-600"}),"Premier tier placement"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:"Premium listing with GLASS support and top placement."}),i.jsx(Se,{href:`/labs/${p.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},p.id)})]})})]})}function OV(){return i.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[i.jsx(yD,{}),i.jsx(RV,{title:"Featured labs",description:"Premier partners highlighted this week"}),i.jsx(ND,{}),i.jsx(AV,{title:"Lab news",description:"Latest updates across all labs",limit:30}),i.jsx(Ed,{}),i.jsx(PV,{}),i.jsx(X_,{})]})}var LV=dp[" useId ".trim().toString()]||(()=>{}),IV=0;function il(t){const[e,r]=y.useState(LV());return Wn(()=>{r(n=>n??String(IV++))},[t]),e?`radix-${e}`:""}var nm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",l0={bubbles:!1,cancelable:!0},DV="FocusScope",e1=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=t,[d,h]=y.useState(null),m=zn(o),p=zn(l),x=y.useRef(null),b=Yr(e,j=>h(j)),N=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let j=function(E){if(N.paused||!d)return;const R=E.target;d.contains(R)?x.current=R:qs(x.current,{select:!0})},w=function(E){if(N.paused||!d)return;const R=E.relatedTarget;R!==null&&(d.contains(R)||qs(x.current,{select:!0}))},k=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&qs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",w);const C=new MutationObserver(k);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",w),C.disconnect()}}},[n,d,N.paused]),y.useEffect(()=>{if(d){u0.add(N);const j=document.activeElement;if(!d.contains(j)){const k=new CustomEvent(nm,l0);d.addEventListener(nm,m),d.dispatchEvent(k),k.defaultPrevented||(MV(BV(t1(d)),{select:!0}),document.activeElement===j&&qs(d))}return()=>{d.removeEventListener(nm,m),setTimeout(()=>{const k=new CustomEvent(sm,l0);d.addEventListener(sm,p),d.dispatchEvent(k),k.defaultPrevented||qs(j??document.body,{select:!0}),d.removeEventListener(sm,p),u0.remove(N)},0)}}},[d,m,p,N]);const _=y.useCallback(j=>{if(!r&&!n||N.paused)return;const w=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,k=document.activeElement;if(w&&k){const C=j.currentTarget,[E,R]=FV(C);E&&R?!j.shiftKey&&k===R?(j.preventDefault(),r&&qs(E,{select:!0})):j.shiftKey&&k===E&&(j.preventDefault(),r&&qs(R,{select:!0})):k===C&&j.preventDefault()}},[r,n,N.paused]);return i.jsx(Ct.div,{tabIndex:-1,...c,ref:b,onKeyDown:_})});e1.displayName=DV;function MV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(qs(n,{select:e}),document.activeElement!==r)return}function FV(t){const e=t1(t),r=c0(e,t),n=c0(e.reverse(),t);return[r,n]}function t1(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c0(t,e){for(const r of t)if(!VV(r,{upTo:e}))return r}function VV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UV(t){return t instanceof HTMLInputElement&&"select"in t}function qs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&UV(t)&&e&&t.select()}}var u0=$V();function $V(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=d0(t,e),t.unshift(e)},remove(e){t=d0(t,e),t[0]?.resume()}}}function d0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function BV(t){return t.filter(e=>e.tagName!=="A")}var im=0;function qV(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??f0()),document.body.insertAdjacentElement("beforeend",t[1]??f0()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function f0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Au="right-scroll-bar-position",Ru="width-before-scroll-bar",zV="with-scroll-bars-hidden",WV="--removed-body-scroll-bar-size";function om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KV(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=e,r.facade}var HV=typeof window<"u"?y.useLayoutEffect:y.useEffect,h0=new WeakMap;function GV(t,e){var r=KV(null,function(n){return t.forEach(function(o){return om(o,n)})});return HV(function(){var n=h0.get(r);if(n){var o=new Set(n),l=new Set(t),c=r.current;o.forEach(function(d){l.has(d)||om(d,null)}),l.forEach(function(d){o.has(d)||om(d,c)})}h0.set(r,t)},[t]),r}function QV(t){return t}function JV(t,e){e===void 0&&(e=QV);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var h=function(){var p=c;c=[],p.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),r}}}};return o}function ZV(t){t===void 0&&(t={});var e=JV(null);return e.options=hn({async:!0,ssr:!1},t),e}var r1=function(t){var e=t.sideCar,r=ei(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,hn({},r))};r1.isSideCarExport=!0;function YV(t,e){return t.useMedium(e),r1}var n1=ZV(),am=function(){},Td=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),o=n[0],l=n[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,p=t.enabled,x=t.shards,b=t.sideCar,N=t.noRelative,_=t.noIsolation,j=t.inert,w=t.allowPinchZoom,k=t.as,C=k===void 0?"div":k,E=t.gapMode,R=ei(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=b,U=GV([r,e]),K=hn(hn({},R),o);return y.createElement(y.Fragment,null,p&&y.createElement(I,{sideCar:n1,removeScrollBar:m,shards:x,noRelative:N,noIsolation:_,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:E}),c?y.cloneElement(y.Children.only(d),hn(hn({},K),{ref:U})):y.createElement(C,hn({},K,{className:h,ref:U}),d))});Td.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Td.classNames={fullWidth:Ru,zeroRight:Au};var XV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=XV();return e&&t.setAttribute("nonce",e),t}function tU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nU=function(){var t=0,e=null;return{add:function(r){t==0&&(e=eU())&&(tU(e,r),rU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sU=function(){var t=nU();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},s1=function(){var t=sU(),e=function(r){var n=r.styles,o=r.dynamic;return t(n,o),null};return e},iU={left:0,top:0,right:0,gap:0},lm=function(t){return parseInt(t||"",10)||0},oU=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[lm(r),lm(n),lm(o)]},aU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iU;var e=oU(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},lU=s1(),Uo="data-scroll-locked",cU=function(t,e,r,n){var o=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(zV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Au,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ru,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ru," .").concat(Ru,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(WV,": ").concat(d,`px;
  }
`)},m0=function(){var t=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(t)?t:0},uU=function(){y.useEffect(function(){return document.body.setAttribute(Uo,(m0()+1).toString()),function(){var t=m0()-1;t<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,t.toString())}},[])},dU=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n;uU();var l=y.useMemo(function(){return aU(o)},[o]);return y.createElement(lU,{styles:cU(l,!e,o,r?"":"!important")})},lp=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{lp=!1}var xo=lp?{passive:!1}:!1,fU=function(t){return t.tagName==="TEXTAREA"},i1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!fU(t)&&r[e]==="visible")},hU=function(t){return i1(t,"overflowY")},mU=function(t){return i1(t,"overflowX")},p0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=o1(t,n);if(o){var l=a1(t,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},gU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},o1=function(t,e){return t==="v"?hU(e):mU(e)},a1=function(t,e){return t==="v"?pU(e):gU(e)},xU=function(t,e){return t==="h"&&e==="rtl"?-1:1},yU=function(t,e,r,n,o){var l=xU(t,window.getComputedStyle(e).direction),c=l*n,d=r.target,h=e.contains(d),m=!1,p=c>0,x=0,b=0;do{if(!d)break;var N=a1(t,d),_=N[0],j=N[1],w=N[2],k=j-w-l*_;(_||k)&&o1(t,d)&&(x+=k,b+=_);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(p&&Math.abs(x)<1||!p&&Math.abs(b)<1)&&(m=!0),m},bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},g0=function(t){return[t.deltaX,t.deltaY]},x0=function(t){return t&&"current"in t?t.current:t},vU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wU=0,yo=[];function jU(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),o=y.useState(wU++)[0],l=y.useState(s1)[0],c=y.useRef(t);y.useEffect(function(){c.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var j=dg([t.lockRef.current],(t.shards||[]).map(x0),!0).filter(Boolean);return j.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=y.useCallback(function(j,w){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var k=bu(j),C=r.current,E="deltaX"in j?j.deltaX:C[0]-k[0],R="deltaY"in j?j.deltaY:C[1]-k[1],I,U=j.target,K=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in j&&K==="h"&&U.type==="range")return!1;var Z=p0(K,U);if(!Z)return!0;if(Z?I=K:(I=K==="v"?"h":"v",Z=p0(K,U)),!Z)return!1;if(!n.current&&"changedTouches"in j&&(E||R)&&(n.current=I),!I)return!0;var O=n.current||I;return yU(O,w,j,O==="h"?E:R)},[]),h=y.useCallback(function(j){var w=j;if(!(!yo.length||yo[yo.length-1]!==l)){var k="deltaY"in w?g0(w):bu(w),C=e.current.filter(function(I){return I.name===w.type&&(I.target===w.target||w.target===I.shadowParent)&&vU(I.delta,k)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var E=(c.current.shards||[]).map(x0).filter(Boolean).filter(function(I){return I.contains(w.target)}),R=E.length>0?d(w,E[0]):!c.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),m=y.useCallback(function(j,w,k,C){var E={name:j,delta:w,target:k,should:C,shadowParent:NU(k)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(R){return R!==E})},1)},[]),p=y.useCallback(function(j){r.current=bu(j),n.current=void 0},[]),x=y.useCallback(function(j){m(j.type,g0(j),j.target,d(j,t.lockRef.current))},[]),b=y.useCallback(function(j){m(j.type,bu(j),j.target,d(j,t.lockRef.current))},[]);y.useEffect(function(){return yo.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",h,xo),document.addEventListener("touchmove",h,xo),document.addEventListener("touchstart",p,xo),function(){yo=yo.filter(function(j){return j!==l}),document.removeEventListener("wheel",h,xo),document.removeEventListener("touchmove",h,xo),document.removeEventListener("touchstart",p,xo)}},[]);var N=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(l,{styles:bU(o)}):null,N?y.createElement(dU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function NU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SU=YV(n1,jU);var l1=y.forwardRef(function(t,e){return y.createElement(Td,hn({},t,{ref:e,sideCar:SU}))});l1.classNames=Td.classNames;var _U=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vo=new WeakMap,wu=new WeakMap,ju={},cm=0,c1=function(t){return t&&(t.host||c1(t.parentNode))},kU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=c1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},CU=function(t,e,r,n){var o=kU(e,Array.isArray(t)?t:[t]);ju[r]||(ju[r]=new WeakMap);var l=ju[r],c=[],d=new Set,h=new Set(o),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};o.forEach(m);var p=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))p(b);else try{var N=b.getAttribute(n),_=N!==null&&N!=="false",j=(vo.get(b)||0)+1,w=(l.get(b)||0)+1;vo.set(b,j),l.set(b,w),c.push(b),j===1&&_&&wu.set(b,!0),w===1&&b.setAttribute(r,"true"),_||b.setAttribute(n,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return p(e),d.clear(),cm++,function(){c.forEach(function(x){var b=vo.get(x)-1,N=l.get(x)-1;vo.set(x,b),l.set(x,N),b||(wu.has(x)||x.removeAttribute(n),wu.delete(x)),N||x.removeAttribute(r)}),cm--,cm||(vo=new WeakMap,vo=new WeakMap,wu=new WeakMap,ju={})}},EU=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=_U(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),CU(n,o,r,"aria-hidden")):function(){return null}},Pd="Dialog",[u1]=Qo(Pd),[TU,On]=u1(Pd),d1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,d=y.useRef(null),h=y.useRef(null),[m,p]=Ll({prop:n,defaultProp:o??!1,onChange:l,caller:Pd});return i.jsx(TU,{scope:e,triggerRef:d,contentRef:h,contentId:il(),titleId:il(),descriptionId:il(),open:m,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(x=>!x),[p]),modal:c,children:r})};d1.displayName=Pd;var f1="DialogTrigger",PU=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=On(f1,r),l=Yr(e,o.triggerRef);return i.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Lg(o.open),...n,ref:l,onClick:Zt(t.onClick,o.onOpenToggle)})});PU.displayName=f1;var Rg="DialogPortal",[AU,h1]=u1(Rg,{forceMount:void 0}),m1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:o}=t,l=On(Rg,e);return i.jsx(AU,{scope:e,forceMount:r,children:y.Children.map(n,c=>i.jsx(Jo,{present:r||l.open,children:i.jsx(vp,{asChild:!0,container:o,children:c})}))})};m1.displayName=Rg;var ad="DialogOverlay",p1=y.forwardRef((t,e)=>{const r=h1(ad,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,l=On(ad,t.__scopeDialog);return l.modal?i.jsx(Jo,{present:n||l.open,children:i.jsx(OU,{...o,ref:e})}):null});p1.displayName=ad;var RU=al("DialogOverlay.RemoveScroll"),OU=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=On(ad,r);return i.jsx(l1,{as:RU,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Ct.div,{"data-state":Lg(o.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Di="DialogContent",g1=y.forwardRef((t,e)=>{const r=h1(Di,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,l=On(Di,t.__scopeDialog);return i.jsx(Jo,{present:n||l.open,children:l.modal?i.jsx(LU,{...o,ref:e}):i.jsx(IU,{...o,ref:e})})});g1.displayName=Di;var LU=y.forwardRef((t,e)=>{const r=On(Di,t.__scopeDialog),n=y.useRef(null),o=Yr(e,r.contentRef,n);return y.useEffect(()=>{const l=n.current;if(l)return EU(l)},[]),i.jsx(x1,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Zt(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Zt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Zt(t.onFocusOutside,l=>l.preventDefault())})}),IU=y.forwardRef((t,e)=>{const r=On(Di,t.__scopeDialog),n=y.useRef(!1),o=y.useRef(!1);return i.jsx(x1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),x1=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=t,d=On(Di,r),h=y.useRef(null),m=Yr(e,h);return qV(),i.jsxs(i.Fragment,{children:[i.jsx(e1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(yp,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Lg(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(DU,{titleId:d.titleId}),i.jsx(FU,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Og="DialogTitle",y1=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=On(Og,r);return i.jsx(Ct.h2,{id:o.titleId,...n,ref:e})});y1.displayName=Og;var v1="DialogDescription",b1=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=On(v1,r);return i.jsx(Ct.p,{id:o.descriptionId,...n,ref:e})});b1.displayName=v1;var w1="DialogClose",j1=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=On(w1,r);return i.jsx(Ct.button,{type:"button",...n,ref:e,onClick:Zt(t.onClick,()=>o.onOpenChange(!1))})});j1.displayName=w1;function Lg(t){return t?"open":"closed"}var N1="DialogTitleWarning",[AB,S1]=fT(N1,{contentName:Di,titleName:Og,docsSlug:"dialog"}),DU=({titleId:t})=>{const e=S1(N1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},MU="DialogDescriptionWarning",FU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S1(MU).contentName}}.`;return y.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},VU=d1,UU=m1,_1=p1,k1=g1,C1=y1,E1=b1,$U=j1;const BU=VU,qU=UU,T1=y.forwardRef(({className:t,...e},r)=>i.jsx(_1,{ref:r,className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));T1.displayName=_1.displayName;const P1=y.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(qU,{children:[i.jsx(T1,{}),i.jsxs(k1,{ref:n,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs($U,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ws,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));P1.displayName=k1.displayName;const A1=y.forwardRef(({className:t,...e},r)=>i.jsx(C1,{ref:r,className:pt("text-lg font-semibold leading-none tracking-tight",t),...e}));A1.displayName=C1.displayName;const zU=y.forwardRef(({className:t,...e},r)=>i.jsx(E1,{ref:r,className:pt("text-sm text-muted-foreground",t),...e}));zU.displayName=E1.displayName;function WU({open:t,onOpenChange:e}){const[r,n]=y.useState(0);return i.jsx(BU,{open:t,onOpenChange:o=>{e(o),o||n(l=>l+1)},children:i.jsxs(P1,{className:"max-w-3xl p-0 overflow-hidden",children:[i.jsx(A1,{className:"sr-only",children:"Join the waitlist"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1.05fr_1.15fr]",children:[i.jsx("div",{className:"p-8",children:i.jsx(Ed,{embedded:!0})},r),i.jsxs("div",{className:"hidden md:flex flex-col justify-center gap-4 border-l border-border bg-card/60 px-10 py-12",children:[i.jsx("p",{className:"text-base font-medium text-foreground uppercase tracking-[0.25em]",children:"Why it matters"}),i.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"Every name on the waitlist is proof that science can belong to everyone. Well only reach out when theres meaningful progressno spam, just breakthroughs the community helps bring to life."})]})]})]})})}const KU=[{title:"1. Publish your lab",description:"Share your capabilities, equipment, and collaboration preferences in a structured profile built for scientists."},{title:"2. Verify once",description:"We run a light remote/on-site verification so partners know the details are accurate and trusted."},{title:"3. Connect quickly",description:"Inbound requests are routed straight to your team. Share availability, manage intros, and stay visible to the network."}],HU=[{title:"Labs & Core Facilities",description:"List your capabilities, surface underused equipment, and make it easy for peers and partners to collaborate."},{title:"Network Operators",description:"Manage multiple labs with consistent profiles, verification, and routing that respects each sites preferences."},{title:"Industry & Partners",description:"Find trusted collaborators faster, with clear capabilities, contact paths, and lightweight governance."}],GU=[{title:"Standardised discovery",description:"Profiles use the same structure across labs, so partners can compare expertise, equipment, and availability quickly."},{title:"Trusted details",description:"Verification checks make it clear whats real, whats available, and who to reach without endless back-and-forth."},{title:"Less time chasing",description:"GLASS-Connect routes qualified requests to the right people, helping teams spend more time collaborating."}];function QU(){const[t,e]=y.useState(!1);return i.jsxs("div",{className:"bg-background text-foreground",children:[i.jsx("section",{className:"border-b border-border bg-muted/30",children:i.jsx("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:i.jsxs("div",{className:"max-w-3xl",children:[i.jsx("p",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Why we started GLASS-Connect"}),i.jsx("h1",{className:"mt-4 text-4xl font-semibold leading-tight md:text-5xl",children:"Science deserves collaboration thats fast, clear, and trusted."}),i.jsx("p",{className:"mt-6 text-lg text-muted-foreground leading-relaxed",children:"Labs have incredible capabilities, but no simple way to share them or filter serious collaboration requests from noise. GLASS-Connect is a directory and routing layer for labs: structured profiles, light verification, and direct introductions so teams can work together fasterwithout adding bureaucracy."}),i.jsxs("div",{className:"mt-8 flex flex-col gap-3 sm:flex-row sm:items-center",children:[i.jsx(Se,{href:"/roadmap",children:i.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["Explore the roadmap",i.jsx(Kv,{className:"h-4 w-4"})]})}),i.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-6 py-3 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})})}),i.jsx("section",{className:"border-b border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Why a lab network matters"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We built GLASS-Connect to make it effortless for partners to find, trust, and contact the right labwithout long chains of introductions or hidden spreadsheets."}),i.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:GU.map(r=>i.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),i.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),i.jsx("section",{className:"border-b border-border",children:i.jsx("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:i.jsxs("div",{className:"grid gap-10 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)] lg:items-start",children:[i.jsxs("article",{children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"What is GLASS-Connect?"}),i.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"GLASS-Connect is a directory and routing layer for research labs. We standardise how labs present their capabilities, verify key details, and connect inbound collaborations without burying teams in admin."})]}),i.jsxs("article",{children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Why GLASS-Connect matters"}),i.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"Today, capabilities are scattered across PDFs, cold emails, and outdated directories. GLASS-Connect gives every lab a clear presence and makes it simple for serious partners to reach the right people without chasing inboxes."})]})]})})}),i.jsx("section",{className:"border-b border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"How Glass works"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We combine structured profiles with light verification and direct routing so collaborators can move from first contact to scoped work quickly."}),i.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:KU.map(r=>i.jsxs("div",{className:"h-full rounded-3xl border border-border bg-card p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),i.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),i.jsx("section",{className:"border-b border-border bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Who we build for"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"GLASS-Connect gives labs and partners a shared surface to collaboratewithout forcing them into new workflows."}),i.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:HU.map(r=>i.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),i.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),i.jsx(X_,{}),i.jsx("section",{className:"border-b border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Lets connect labs faster"}),i.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"Whether you manage a single lab or a network of facilities, GLASS-Connect gives you a clear, trusted place to showcase your work and meet collaborators."}),i.jsxs("div",{className:"mt-8 flex flex-col justify-center gap-3 sm:flex-row",children:[i.jsx(Se,{href:"/roadmap",children:i.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["See whats next",i.jsx(Kv,{className:"h-4 w-4"})]})}),i.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-5 py-2.5 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})}),i.jsx(WU,{open:t,onOpenChange:e})]})}var Ad="Collapsible",[JU,R1]=Qo(Ad),[ZU,Ig]=JU(Ad),O1=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:l,onOpenChange:c,...d}=t,[h,m]=Ll({prop:n,defaultProp:o??!1,onChange:c,caller:Ad});return i.jsx(ZU,{scope:r,disabled:l,contentId:il(),open:h,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),children:i.jsx(Ct.div,{"data-state":Mg(h),"data-disabled":l?"":void 0,...d,ref:e})})});O1.displayName=Ad;var L1="CollapsibleTrigger",I1=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,o=Ig(L1,r);return i.jsx(Ct.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Mg(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:e,onClick:Zt(t.onClick,o.onOpenToggle)})});I1.displayName=L1;var Dg="CollapsibleContent",D1=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=Ig(Dg,t.__scopeCollapsible);return i.jsx(Jo,{present:r||o.open,children:({present:l})=>i.jsx(YU,{...n,ref:e,present:l})})});D1.displayName=Dg;var YU=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:o,...l}=t,c=Ig(Dg,r),[d,h]=y.useState(n),m=y.useRef(null),p=Yr(e,m),x=y.useRef(0),b=x.current,N=y.useRef(0),_=N.current,j=c.open||d,w=y.useRef(j),k=y.useRef(void 0);return y.useEffect(()=>{const C=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(C)},[]),Wn(()=>{const C=m.current;if(C){k.current=k.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const E=C.getBoundingClientRect();x.current=E.height,N.current=E.width,w.current||(C.style.transitionDuration=k.current.transitionDuration,C.style.animationName=k.current.animationName),h(n)}},[c.open,n]),i.jsx(Ct.div,{"data-state":Mg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...l,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:j&&o})});function Mg(t){return t?"open":"closed"}var XU=O1,e$=I1,t$=D1,r$=y.createContext(void 0);function n$(t){const e=y.useContext(r$);return t||e||"ltr"}var Ln="Accordion",s$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Fg,i$,o$]=Q0(Ln),[Rd]=Qo(Ln,[o$,R1]),Vg=R1(),M1=Ue.forwardRef((t,e)=>{const{type:r,...n}=t,o=n,l=n;return i.jsx(Fg.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?i.jsx(u$,{...l,ref:e}):i.jsx(c$,{...o,ref:e})})});M1.displayName=Ln;var[F1,a$]=Rd(Ln),[V1,l$]=Rd(Ln,{collapsible:!1}),c$=Ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:o=()=>{},collapsible:l=!1,...c}=t,[d,h]=Ll({prop:r,defaultProp:n??"",onChange:o,caller:Ln});return i.jsx(F1,{scope:t.__scopeAccordion,value:Ue.useMemo(()=>d?[d]:[],[d]),onItemOpen:h,onItemClose:Ue.useCallback(()=>l&&h(""),[l,h]),children:i.jsx(V1,{scope:t.__scopeAccordion,collapsible:l,children:i.jsx(U1,{...c,ref:e})})})}),u$=Ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:o=()=>{},...l}=t,[c,d]=Ll({prop:r,defaultProp:n??[],onChange:o,caller:Ln}),h=Ue.useCallback(p=>d((x=[])=>[...x,p]),[d]),m=Ue.useCallback(p=>d((x=[])=>x.filter(b=>b!==p)),[d]);return i.jsx(F1,{scope:t.__scopeAccordion,value:c,onItemOpen:h,onItemClose:m,children:i.jsx(V1,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(U1,{...l,ref:e})})})}),[d$,Od]=Rd(Ln),U1=Ue.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:o,orientation:l="vertical",...c}=t,d=Ue.useRef(null),h=Yr(d,e),m=i$(r),x=n$(o)==="ltr",b=Zt(t.onKeyDown,N=>{if(!s$.includes(N.key))return;const _=N.target,j=m().filter(Z=>!Z.ref.current?.disabled),w=j.findIndex(Z=>Z.ref.current===_),k=j.length;if(w===-1)return;N.preventDefault();let C=w;const E=0,R=k-1,I=()=>{C=w+1,C>R&&(C=E)},U=()=>{C=w-1,C<E&&(C=R)};switch(N.key){case"Home":C=E;break;case"End":C=R;break;case"ArrowRight":l==="horizontal"&&(x?I():U());break;case"ArrowDown":l==="vertical"&&I();break;case"ArrowLeft":l==="horizontal"&&(x?U():I());break;case"ArrowUp":l==="vertical"&&U();break}const K=C%k;j[K].ref.current?.focus()});return i.jsx(d$,{scope:r,disabled:n,direction:o,orientation:l,children:i.jsx(Fg.Slot,{scope:r,children:i.jsx(Ct.div,{...c,"data-orientation":l,ref:h,onKeyDown:n?void 0:b})})})}),ld="AccordionItem",[f$,Ug]=Rd(ld),$1=Ue.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...o}=t,l=Od(ld,r),c=a$(ld,r),d=Vg(r),h=il(),m=n&&c.value.includes(n)||!1,p=l.disabled||t.disabled;return i.jsx(f$,{scope:r,open:m,disabled:p,triggerId:h,children:i.jsx(XU,{"data-orientation":l.orientation,"data-state":H1(m),...d,...o,ref:e,disabled:p,open:m,onOpenChange:x=>{x?c.onItemOpen(n):c.onItemClose(n)}})})});$1.displayName=ld;var B1="AccordionHeader",q1=Ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,o=Od(Ln,r),l=Ug(B1,r);return i.jsx(Ct.h3,{"data-orientation":o.orientation,"data-state":H1(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:e})});q1.displayName=B1;var cp="AccordionTrigger",z1=Ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,o=Od(Ln,r),l=Ug(cp,r),c=l$(cp,r),d=Vg(r);return i.jsx(Fg.ItemSlot,{scope:r,children:i.jsx(e$,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":o.orientation,id:l.triggerId,...d,...n,ref:e})})});z1.displayName=cp;var W1="AccordionContent",K1=Ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,o=Od(Ln,r),l=Ug(W1,r),c=Vg(r);return i.jsx(t$,{role:"region","aria-labelledby":l.triggerId,"data-orientation":o.orientation,...c,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});K1.displayName=W1;function H1(t){return t?"open":"closed"}var h$=M1,m$=$1,p$=q1,G1=z1,Q1=K1;const g$=h$,Ou=y.forwardRef(({className:t,...e},r)=>i.jsx(m$,{ref:r,className:pt("border-b",t),...e}));Ou.displayName="AccordionItem";const Lu=y.forwardRef(({className:t,children:e,...r},n)=>i.jsx(p$,{className:"flex",children:i.jsxs(G1,{ref:n,className:pt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,i.jsx(d2,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Lu.displayName=G1.displayName;const Iu=y.forwardRef(({className:t,children:e,...r},n)=>i.jsx(Q1,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:pt("pb-4 pt-0",t),children:e})}));Iu.displayName=Q1.displayName;function x$(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-14",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Contact Glass"}),i.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["Every question, partnership idea, or introduction helps labs collaborate faster. Whether you are a researcher, operator, journalist, or partneryou can reach the GLASS-Connect team at"," ",i.jsx("a",{href:"mailto:support@glass.demo",className:"font-medium text-primary hover:underline",children:"contact@glass-funding.com"}),"."]})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid gap-10 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)] items-start",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 shadow-sm p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:i.jsx(kp,{className:"h-5 w-5"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground",children:"Write to us"}),i.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-lg font-medium text-foreground hover:text-primary",children:"contact@glass-funding.com"})]})]}),i.jsxs("div",{className:"grid gap-4 text-sm text-muted-foreground leading-relaxed",children:[i.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Researchers & Labs"}),i.jsx("p",{className:"mt-2",children:"Share your lab profile, ask about verification, or get help with listing updates and inbound requests."})]}),i.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Network Operators"}),i.jsx("p",{className:"mt-2",children:"Manage multiple labs, set routing rules, and keep data fresh across your networkwe can help."})]}),i.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Media & Partners"}),i.jsx("p",{className:"mt-2",children:"Request interviews, press kits, or collaboration details. Were happy to share what GLASS-Connect is building."})]})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/60 shadow-sm p-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground text-left",children:"FAQs"}),i.jsxs(g$,{type:"single",collapsible:!0,className:"mt-4 space-y-1",children:[i.jsxs(Ou,{value:"faq-1",children:[i.jsx(Lu,{className:"text-left text-sm",children:"How soon will someone reply?"}),i.jsx(Iu,{children:i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We aim to respond within 2 business days. Research submissions may take a little longer while we loop in advisors for review."})})]}),i.jsxs(Ou,{value:"faq-2",children:[i.jsx(Lu,{className:"text-left text-sm",children:"Do I need verification to list a lab?"}),i.jsx(Iu,{children:i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We recommend verification to improve trust and placement. You can publish a profile without it and schedule verification when you are ready."})})]}),i.jsxs(Ou,{value:"faq-3",children:[i.jsx(Lu,{className:"text-left text-sm",children:"Can I demo the platform before launch?"}),i.jsx(Iu,{children:i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Yesdrop us a note at contact@glass-funding.com and well share the latest demo environment and roadmap update."})})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground text-left",children:"Social"}),i.jsxs("div",{className:"mt-4 flex gap-3 text-muted-foreground",children:[i.jsx("a",{href:"https://x.com/GlassFunding",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on X",children:i.jsx(Ws,{className:"h-4 w-4"})}),i.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on LinkedIn",children:i.jsx(_p,{className:"h-4 w-4"})}),i.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on Instagram",children:i.jsx(Sj,{className:"h-4 w-4"})})]})]})]})]})]})}),i.jsx(Ed,{})]})}function y$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"404 error"}),i.jsx("h1",{className:"mt-6 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Looks like this page drifted off the map."}),i.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"The link you followed might be broken or the content may have been moved. Try returning to the homepage or browse our available lab partners."}),i.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[i.jsx(Se,{href:"/",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Back to homepage"})}),i.jsx(Se,{href:"/labs",children:i.jsxs("a",{className:"inline-flex items-center justify-center gap-2 rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:[i.jsx(k2,{className:"h-4 w-4"}),"Browse labs"]})})]}),i.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Believe this is a mistake?"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"Let us know"}),"."]})]})})}function v$(){const{user:t,loading:e}=ur(),[r,n]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(null),[,h]=Gn(),[m,p]=y.useState(!1),x=y.useMemo(()=>{try{return new URLSearchParams(window.location.search).get("next")||"/account"}catch{return"/account"}},[]);y.useEffect(()=>{!e&&t&&h(x,{replace:!0})},[e,t,h,x]);const b=async N=>{if(N.preventDefault(),!r||!o){d("Enter your email and password to continue.");return}d(null),p(!0);try{const{data:_,error:j}=await We.auth.signInWithPassword({email:r,password:o});j?d(j.message):_.session&&h(x,{replace:!0})}catch(_){console.error(_),d("Unexpected error occurred. Please try again.")}finally{p(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Welcome back"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Sign in to keep backing the science that matters to you."}),i.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Access your portfolio, track donations, and stay close to the research teams you support."}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("p",{className:"font-medium text-foreground",children:"New to Glass?"}),i.jsx("p",{className:"mt-1",children:"Create an account in minutes and start directing capital to world-class labs."}),i.jsx(Se,{href:"/signup",children:i.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Create your profile"})})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[i.jsxs("form",{className:"space-y-5",onSubmit:b,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:N=>n(N.target.value),placeholder:"you@example.org",required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),i.jsx(Se,{href:"/forgot-password",children:i.jsx("a",{className:"text-xs font-medium text-muted-foreground hover:text-foreground transition",children:"Forgot?"})})]}),i.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:o,onChange:N=>l(N.target.value),placeholder:"Enter your password",required:!0})]}),c&&i.jsx("p",{className:"text-sm text-destructive",children:c}),i.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:m,children:m?"Signing in...":"Log in"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Need to get set up?"," ",i.jsx(Se,{href:"/signup",children:i.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Create an account"})})]})]})]})})})}function b$(){const[t,e]=y.useState(""),[r,n]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(null),[h,m]=y.useState(!1),[,p]=Gn(),x=async b=>{if(b.preventDefault(),!r.includes("@")||o.length<6){d("Use a valid email address and a password with at least 6 characters.");return}d(null),m(!0);try{const{data:N,error:_}=await We.auth.signUp({email:r,password:o});if(_){d(_.message),m(!1);return}p("/login")}catch(N){console.error(N),d("Unexpected error occurred. Please try again.")}finally{m(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Join the community"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Build your Glass profile and direct capital where breakthroughs happen."}),i.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Tell us a little about you and well surface handpicked projects, personalized reports, and donation workflows."}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Already supporting teams?"}),i.jsx("p",{className:"mt-1",children:"Sign in to continue tracking milestones and managing your follow-ups."}),i.jsx(Se,{href:"/login",children:i.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Log in instead"})})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[i.jsxs("form",{className:"space-y-5",onSubmit:x,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),i.jsx("input",{type:"text",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:t,onChange:b=>e(b.target.value),placeholder:"Your full name",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:b=>n(b.target.value),placeholder:"you@example.org",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),i.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:o,onChange:b=>l(b.target.value),placeholder:"Minimum 6 characters",required:!0,minLength:6})]}),c&&i.jsx("p",{className:"text-sm text-destructive",children:c}),i.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:h,children:h?"Creating account...":"Create account"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(Se,{href:"/login",children:i.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Log in"})})]})]})]})})})}function w$(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function j$(){const[t,e]=y.useState(""),[r,n]=y.useState(null),[,o]=Gn(),l=c=>{if(c.preventDefault(),!w$(t)){n("Enter the email address linked to your account.");return}n(null),o("/forgot-password/confirmation")};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Reset access"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Forgotten your password? Let's get you back to your projects."}),i.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Enter the email you use for Glass and we'll send a reset link. You'll see confirmation details on the next screen."}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Remembered it?"}),i.jsx("p",{className:"mt-1",children:"Jump back to sign in and continue exploring the portfolio."}),i.jsx(Se,{href:"/login",children:i.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[i.jsxs("form",{className:"space-y-5",onSubmit:l,noValidate:!0,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:`mt-2 w-full rounded-full border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary ${r?"border-destructive":"border-border"}`,value:t,onChange:c=>e(c.target.value),placeholder:"you@example.org","aria-invalid":!!r,"aria-describedby":r?"reset-email-error":void 0}),r?i.jsx("p",{id:"reset-email-error",className:"mt-2 text-sm text-destructive",children:r}):null]}),i.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Send reset link"})]}),i.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Prefer to try again later?"," ",i.jsx(Se,{href:"/login",children:i.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Back to login"})})]})]})]})})})}function N$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:i.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-border bg-card/90 p-10 text-center shadow-lg",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Check your inbox"}),i.jsx("h1",{className:"mt-6 text-3xl md:text-4xl font-semibold text-foreground",children:"Reset instructions are on their way."}),i.jsx("p",{className:"mt-4 text-sm md:text-base text-muted-foreground leading-relaxed",children:"If an account exists for the email you provided, you'll receive a message in the next few minutes. Follow the secure link to choose a new password and jump back into your Glass workspace."}),i.jsx("div",{className:"mt-8 grid gap-4",children:i.jsxs("div",{className:"rounded-2xl border border-border bg-muted/20 px-6 py-4 text-sm text-muted-foreground text-left",children:[i.jsx("p",{className:"font-medium text-foreground",children:"Didn't see the email?"}),i.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[i.jsx("li",{children:"Check your spam or promotions folder."}),i.jsx("li",{children:"Make sure you entered the correct address."}),i.jsx("li",{children:"Still stuck? Request another link or reach out to our team."})]})]})}),i.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[i.jsx(Se,{href:"/login",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})}),i.jsx(Se,{href:"/forgot-password",children:i.jsx("a",{className:"text-sm font-medium text-muted-foreground hover:text-foreground transition",children:"Send another reset link"})})]})]})})})}const J1=y.createContext(void 0);async function Nu(t,e){const{headers:r,...n}=e??{},o=await fetch(t,{...n,headers:{"Content-Type":"application/json",...r??{}}});if(!o.ok){let l="Request failed";try{const c=await o.json();c?.message&&(l=c.message)}catch{}throw new Error(l)}if(o.status!==204)return await o.json()}function S$({children:t}){const[e,r]=y.useState([]),[n,o]=y.useState(!0),[l,c]=y.useState(null),[d,h]=y.useState(!1),m=y.useCallback(async(j=!1)=>{o(!0);try{h(j);const w=await Nu(j?"/api/labs?includeHidden=true":"/api/labs"),k=j?w:w.filter(C=>C.isVisible!==!1);r(k),c(null)}catch(w){const k=w instanceof Error?w.message:"Unable to load labs";c(k)}finally{o(!1)}},[]);y.useEffect(()=>{m(d)},[m,d]);const p=y.useCallback(async j=>{const w=await Nu("/api/labs",{method:"POST",body:JSON.stringify(j)});return r(k=>{const C=[...k,w];return d?C:C.filter(E=>E.isVisible!==!1)}),w},[d]),x=y.useCallback(async(j,w)=>{const k=await Nu(`/api/labs/${j}`,{method:"PUT",body:JSON.stringify(w)});return r(C=>{const E=C.map(R=>R.id===j?k:R);return d?E:E.filter(R=>R.isVisible!==!1)}),k},[d]),b=y.useCallback(async j=>{await Nu(`/api/labs/${j}`,{method:"DELETE"}),r(w=>w.filter(k=>k.id!==j))},[]),N=y.useCallback(async(j=d)=>{await m(j)},[m,d]),_=y.useMemo(()=>({labs:e,isLoading:n,error:l,refresh:N,addLab:p,updateLab:x,removeLab:b}),[e,n,l,N,p,x,b]);return i.jsx(J1.Provider,{value:_,children:t})}function ri(){const t=y.useContext(J1);if(!t)throw new Error("useLabs must be used within a LabsProvider");return t}function _$(){const{labs:t,isLoading:e,error:r,refresh:n}=ri(),{user:o}=ur(),[l,c]=y.useState(""),[d,h]=y.useState(new Set),[m,p]=y.useState(!1),[x,b]=y.useState(!0),[N,_]=y.useState(null),[j,w]=y.useState(!1),k=y.useMemo(()=>t.filter(O=>O.isVisible!==!1),[t]),C=k.length,E=k.filter(O=>O.isVerified).length,R=y.useMemo(()=>{const O=new Set;return k.forEach(G=>{G.equipment.forEach(ce=>O.add(ce.toLowerCase()))}),O.size},[k]),I=(O,G=1200)=>O.startsWith("data:")?O:`${O}${O.includes("?")?"&":"?"}auto=format&fit=crop&w=${G}&q=${G>=1600?80:75}`;y.useEffect(()=>{let O=!0;async function G(){if(!o){h(new Set);return}try{w(!0);const{data:ce}=await We.auth.getSession(),Q=ce.session?.access_token;if(!Q){h(new Set);return}const ne=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${Q}`}});if(!ne.ok)throw new Error("Unable to load favorites");const te=await ne.json();O&&h(new Set(te.labIds??[]))}catch(ce){O&&_(ce.message||"Unable to load favorites")}finally{O&&w(!1)}}return G(),()=>{O=!1}},[o?.id]);const U=async O=>{if(!o){_("Sign in to favorite labs.");return}_(null);try{const{data:G}=await We.auth.getSession(),ce=G.session?.access_token;if(!ce)throw new Error("Please sign in again.");const Q=d.has(O),ne=Q?"DELETE":"POST",te=await fetch(`/api/labs/${O}/favorite`,{method:ne,headers:{Authorization:`Bearer ${ce}`}});if(!te.ok){const ke=await te.json().catch(()=>({}));throw new Error(ke?.message||"Unable to update favorite")}h(ke=>{const we=new Set(ke);return Q?we.delete(O):we.add(O),we})}catch(G){_(G.message||"Unable to update favorite")}},K=O=>(O?.subscriptionTier??O?.subscription_tier??"base").toLowerCase(),Z=y.useMemo(()=>{const O=l.trim().toLowerCase();let G=O?k.filter(ce=>[ce.name,ce.location,ce.equipment.join(" "),ce.focusAreas.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(O)):k;return x&&(G=G.filter(ce=>{const Q=ce.isVerified===!0||ce.isVerified==="true"||ce.isVerified===1,ne=K(ce);return Q||!Q&&ne!=="base"})),m&&(G=G.filter(ce=>d.has(ce.id))),[...G].sort((ce,Q)=>{const ne=K(ce)==="premier",te=K(Q)==="premier";return ne===te?0:ne?-1:1})},[k,l,m,d,x]);return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Partner Labs"}),i.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold leading-tight",children:"Rent bench space inside vetted labs aligned with Glass."}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:"Each partner lab lists core equipment, focus areas, and compliance posture so your team can spin up work quickly with the right infrastructure in place."})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-10 flex flex-wrap items-start gap-4 md:gap-6",children:[i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:i.jsx("div",{className:"flex items-center gap-3 justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Network size"}),i.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[C," labs"]}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Vetted partners with GLASS-Connect alignment."})]})})}),i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:i.jsx("div",{className:"flex items-center gap-3 justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Verified labs"}),i.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[E," verified"]}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Completed verification to boost trust and routing."})]})})})]}),i.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["Across the network you'll find ",R,"+ distinct pieces of specialized equipment, supporting a broad range of wet lab, fabrication, and analytics workflows."]}),i.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",C," labs"]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[i.jsxs("div",{className:"relative w-full sm:w-80",children:[i.jsx("input",{type:"search",value:l,onChange:O=>c(O.target.value),placeholder:"Search labs by name or location",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx(Ks,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),o&&i.jsx("button",{type:"button",onClick:()=>p(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${m?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,disabled:j,children:m?"Showing favorites":"Show favorites"}),i.jsxs("button",{type:"button",onClick:()=>b(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${x?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,children:[i.jsx(Pn,{className:"h-4 w-4"}),x?"GLASS verified only":"Include unverified"]})]})]}),N&&i.jsx("p",{className:"mt-2 text-xs text-destructive",children:N}),r&&i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[i.jsx("span",{children:r}),i.jsx("button",{type:"button",onClick:n,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.3em]",children:"Retry"})]}),i.jsx("div",{className:"mt-12",children:e&&t.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"Loading labs"}):t.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:r?"We couldn't load the lab directory. Please retry.":"No partner labs are available yet. Check back soon."}):Z.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"No labs match that search. Try a different name, city, or equipment keyword."}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:Z.map((O,G)=>{const Q=(O.subscriptionTier??O.subscription_tier??"base").toLowerCase(),ne=["premier","custom"].includes(Q),te=O.isVerified?"verified":Q==="base"?"unverified":"pending",ke=["true","1",!0,1].includes(O.offersLabSpace),we=te==="verified"?"bg-emerald-50 text-emerald-700":te==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",re=te==="verified"?"Verified":te==="pending"?"Verification pending":"Unverified";return i.jsxs(Ye.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*(G%3)},className:`flex h-full flex-col rounded-3xl border ${ne?"border-2 border-primary/80 shadow-lg":"border-border"} bg-card/80 p-8`,children:[O.photos.length>0&&i.jsx("div",{className:"mb-6 overflow-hidden rounded-2xl border border-border/60 bg-background/40",children:i.jsx("img",{src:I(O.photos[0].url),alt:`${O.name} preview - ${O.photos[0].name}`,className:"h-48 w-full object-cover",loading:"lazy"})}),i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(O.logoUrl||["premier","custom"].includes(Q))&&i.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:O.logoUrl?i.jsx("img",{src:O.logoUrl,alt:`${O.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-foreground",children:O.name}),i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ks,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:O.location})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${we}`,children:te==="verified"?i.jsxs(i.Fragment,{children:[i.jsx(hd,{className:"h-3.5 w-3.5"}),re]}):te==="pending"?i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),re]}):i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),re]})}),i.jsx("button",{type:"button",onClick:()=>U(O.id),className:`inline-flex h-8 w-8 items-center justify-center rounded-full border transition ${d.has(O.id)?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":d.has(O.id)?"Unfavorite lab":"Favorite lab",disabled:j,children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:d.has(O.id)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),ke&&i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-[11px] font-medium bg-primary/10 text-primary",children:"Offers lab space"})]})]}),i.jsxs("div",{className:"mt-5 grid gap-4",children:[O.focusAreas.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Focus"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.focusAreas.slice(0,3).map(ee=>i.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:ee},ee))})]}),O.equipment.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Equipment"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-muted-foreground",children:O.equipment.slice(0,3).map(ee=>i.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1",children:ee},ee))})]}),O.photos.length>1&&i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",children:[i.jsx(Nj,{className:"h-3.5 w-3.5 text-primary"}),O.photos.length," photos provided"]})})]}),i.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[i.jsx(Se,{href:`/labs/${O.id}`,children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"View details"})}),i.jsx("a",{href:`mailto:${O.contactEmail}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact lab"})]})]},O.id)})})})]})})}function k$(){return i.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms of Use"}),i.jsx("p",{children:"Welcome to GLASS-Connect. By accessing or using our website, you agree to the following terms and conditions. Please read them carefully."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),i.jsx("p",{children:"By using Glass, you agree to comply with and be legally bound by these Terms of Use."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of the Platform"}),i.jsx("p",{children:"Our platform is currently a read-only landing site without payment processing or user accounts. You may browse the site and access publicly available information."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Intellectual Property"}),i.jsx("p",{children:"All content, logos, and trademarks on this site are the property of Glass unless otherwise stated."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),i.jsxs("p",{children:["If you have any questions, contact us at ",i.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),i.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function C$(){return i.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),i.jsx("p",{children:"This Privacy Policy describes how GLASS-Connect collects and uses information through our website."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Data We Collect"}),i.jsx("p",{children:"We collect information you submit through our contact form (name, email, and message). We do not use cookies or tracking technologies."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of Information"}),i.jsx("p",{children:"Your information is used only to respond to inquiries. We do not share it with third parties unless legally required."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Your Rights"}),i.jsx("p",{children:"In accordance with the GDPR, you have the right to access, correct, or delete your personal data by contacting us."}),i.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),i.jsxs("p",{children:["For privacy concerns, contact ",i.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),i.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function E$(){return i.jsxs("div",{className:"pt-32 px-4",children:[i.jsx("p",{className:"text-center text-lg mb-6",children:"Join our waitlist today and be among the first to access Glass. By signing up, youll receive early updates and exclusive platform news."}),i.jsx(Ed,{})]})}const T$=[{title:"GLASS-Connect Overview",description:"A concise overview of GLASS-Connect, our mission, and how the platform helps labs share capabilities and connect with collaborators.",file:"/OnePageIntroduction.pdf"}];function P$(){return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-16",children:[i.jsx(Ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-bold text-center mb-10",children:"Glass One-Pagers"}),i.jsx(Ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"max-w-3xl mx-auto text-center text-muted-foreground mb-16",children:"Explore shareable one-pagers that highlight GLASS-Connect and our approach to connecting labs with collaborators."}),i.jsx("div",{className:"space-y-12",children:T$.map((t,e)=>i.jsxs(Ye.article,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:e*.1},className:"bg-card border rounded-2xl shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-8 space-y-4",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-semibold",children:t.title}),i.jsx("p",{className:"text-muted-foreground text-lg",children:t.description}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-full bg-primary px-6 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:"View PDF"}),i.jsx("a",{href:t.file,download:!0,className:"inline-flex items-center justify-center rounded-full border border-input px-6 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",children:"Download"})]})]}),i.jsx("div",{className:"border-t border-border bg-muted/40",children:i.jsx("object",{data:t.file,type:"application/pdf",className:"hidden w-full md:block lg:h-[720px] md:h-[640px]",children:i.jsxs("p",{className:"p-6 text-muted-foreground",children:["Your browser is unable to display the PDF. You can still"," ",i.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"underline",children:"open the document in a new tab"})," ","or download it for offline viewing."]})})})]},t.title))})]})})}const A$=[{title:"Phase 0  Foundation",copy:"Build the core GLASS-Connect directory with structured lab profiles, capability tags, and ownership so every listing stays accurate."},{title:"Phase 1  Verified Profiles",copy:"Launch remote/on-site verification, richer filtering (methods, equipment, availability), and clearer contact preferences for each lab."},{title:"Phase 2  Requests & Routing",copy:"Add scoped request forms, calendar-aware introductions, and response SLAs so collaborators hear back quickly from the right contact."},{title:"Phase 3  Integrations & API",copy:"Ship export/API access for operators, light CRM hooks, and data freshness signals so networks can keep many labs current with less effort."}],R$=[{title:"Network search",copy:"Tagging, filtering, and sorting improvements for labs across institutions and partners."},{title:"Profile polish",copy:"Cleaner capability blocks, equipment highlights, and collaboration preferences visible at a glance."},{title:"Verified badge",copy:"Remote verification pilot to improve trust and reduce back-and-forth for partners."}];function O$(){return i.jsx("div",{className:"min-h-screen bg-background pt-32 pb-32",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"max-w-3xl",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Product Roadmap"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Were building GLASS-Connect to make lab discovery and collaboration straightforward. Below is the current plan and whats already shipped to turn GLASS-Connect into the trusted hub for listing, verifying, and connecting labs."})]}),i.jsxs("div",{className:"mt-16 grid grid-cols-1 gap-12 lg:grid-cols-[minmax(0,_1.1fr)_minmax(0,_0.9fr)] lg:items-start",children:[i.jsxs("div",{className:"bg-card border border-border rounded-3xl shadow-sm p-8 lg:p-10 h-full",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Roadmap Overview"}),i.jsx("div",{className:"space-y-10 text-muted-foreground leading-relaxed",children:A$.map(t=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t.title}),i.jsx("p",{children:t.copy})]},t.title))}),i.jsxs("div",{className:"mt-10 border-t border-border pt-8",children:[i.jsx("h3",{className:"text-2xl font-semibold mb-4 text-foreground",children:"Our Long-Term Vision"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"GLASS-Connect aims to become the trusted bridge between labs and collaboratorsone place to find verified capabilities, contact real humans, and keep network data current without heavy tooling."})]})]}),i.jsxs("div",{className:"bg-card/80 border border-border rounded-3xl shadow-sm p-8",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Recent progress"}),i.jsx("div",{className:"space-y-4 text-muted-foreground",children:R$.map(t=>i.jsxs("div",{className:"rounded-2xl border border-border/70 bg-background p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.title}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed",children:t.copy})]},t.title))})]})]}),i.jsx("div",{className:"h-24"})]})})}const y0=[{id:"glass-web",name:"GLASS-Connect Directory",status:"Operational",uptime:"99.98%",lastIncident:"45 days ago",description:"Main lab-listing and discovery experience for labs and partners."},{id:"profiles",name:"Profile Edits",status:"Operational",uptime:"100%",lastIncident:"92 days ago",description:"Saving and publishing lab profile updates across the network."},{id:"routing",name:"Request Routing",status:"Degraded Performance",uptime:"99.2%",lastIncident:"Today",description:"Email and in-app handoffs for inbound collaboration requests.",note:"Delays of up to 2 hours while we upgrade the messaging queue."},{id:"workspace",name:"Operator Workspace",status:"Operational",uptime:"99.9%",lastIncident:"18 days ago",description:"Multi-lab management dashboards for network operators and admins."}],L$=[{date:"Today",severity:"minor",title:"Request routing queue delays",description:"Messages are sending successfully but slower than usual while we deploy enhanced analytics. We expect normal operation by 18:00 UTC."},{date:"May 5",severity:"maintenance",title:"Planned maintenance: Workspace exports",description:"Completed scheduled maintenance from 01:0003:00 UTC. Data exports were unavailable during this window."},{date:"Apr 17",severity:"resolved",title:"Resolved: Profile webhook retries",description:"Some partners experienced delayed webhook confirmations. The backlog was cleared within 30 minutes and no updates were lost."}];function v0(t){return t.toLowerCase().includes("degraded")?"text-amber-500":t.toLowerCase().includes("maintenance")?"text-blue-500":t.toLowerCase().includes("operational")?"text-emerald-500":"text-muted-foreground"}function I$(t){return t==="minor"?i.jsx(Ep,{className:"h-4 w-4 text-amber-500"}):t==="maintenance"?i.jsx(g2,{className:"h-4 w-4 text-blue-500"}):i.jsx(jj,{className:"h-4 w-4 text-emerald-500"})}function D$(){const t=y0.every(e=>!e.status.toLowerCase().includes("degraded"));return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-20",children:[i.jsxs("div",{className:"max-w-4xl",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"System status"}),i.jsx("h1",{className:"mt-5 text-4xl font-semibold text-foreground",children:t?"All systems are operational.":"Some services are experiencing delays."}),i.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["This page reports live availability across GLASS-Connect infrastructure. We refresh these metrics every 60 seconds. For urgent issues, reach the team at"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.demo",children:"support@glass.demo"}),"."]})]}),i.jsx("div",{className:"mt-10 grid gap-6",children:y0.map(e=>i.jsx("div",{className:"rounded-3xl border border-border bg-card/90 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(i2,{className:`h-4 w-4 ${v0(e.status)}`}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name})]}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e.description}),e.note?i.jsx("p",{className:"mt-2 rounded-2xl border border-amber-300/50 bg-amber-100/20 px-3 py-2 text-xs text-amber-700",children:e.note}):null]}),i.jsxs("div",{className:"grid gap-1 text-right text-sm text-muted-foreground",children:[i.jsx("span",{className:`font-semibold ${v0(e.status)}`,children:e.status}),i.jsxs("span",{children:["30-day uptime: ",e.uptime]}),i.jsxs("span",{children:["Last incident: ",e.lastIncident]})]})]})},e.id))}),i.jsxs("div",{className:"mt-12",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Recent updates"}),i.jsx("div",{className:"mt-4 space-y-4",children:L$.map(e=>i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.25em] text-muted-foreground",children:[I$(e.severity),i.jsx("span",{children:e.date})]}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground md:text-right",children:e.severity==="maintenance"?"Scheduled maintenance":e.severity==="minor"?"Minor":"Resolved"})]}),i.jsx("h3",{className:"mt-3 text-lg font-semibold text-foreground",children:e.title}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed",children:e.description})]},e.date+e.title))})]}),i.jsxs("div",{className:"mt-12 rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Need more detail?"}),i.jsxs("p",{className:"mt-2",children:["Follow"," ",i.jsx(Se,{href:"/roadmap",children:i.jsx("a",{className:"text-primary hover:text-primary/80 transition",children:"our public roadmap"})})," ","for transparency on upcoming releases, or reach out to"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:ops@glass.demo",children:"ops@glass.demo"})," ","for enterprise status reports."]})]})]})})}function M$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"500 error"}),i.jsx(Ep,{className:"mt-6 h-12 w-12 text-amber-500"}),i.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Something went wrong on our side."}),i.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"We're already looking into it. Refresh the page to try again, or head back to a safe spot while we resolve the issue."}),i.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[i.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Retry"}),i.jsx(Se,{href:"/status",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"View system status"})})]}),i.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["If the problem continues, email"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"support@glass.org"})," ","with a screenshot and we'll help out."]})]})})}function F$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Scheduled maintenance"}),i.jsx(P2,{className:"mt-6 h-12 w-12 text-primary"}),i.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"We're upgrading our systems to serve you better."}),i.jsxs("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:["The Glass platform is temporarily unavailable while we roll out new improvements. We expect to be back online by"," ",i.jsx("span",{className:"font-semibold text-foreground",children:"18:00 UTC"}),". Your data and ongoing donations are safe."]}),i.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[i.jsx(Se,{href:"/status",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Track system status"})}),i.jsx("a",{href:"mailto:support@glass.org",className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"Contact support"})]}),i.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Need an update for your team? We'll share real-time notices on"," ",i.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"https://status.glass.org",children:"status.glass.org"}),"."]})]})})}let V$=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function U$({params:t}){const{labs:e,isLoading:r}=ri(),{user:n}=ur(),[o,l]=y.useState(!1);y.useEffect(()=>{let X=!0;async function ge(){if(!n){l(!1);return}const{data:Ht,error:ir}=await We.from("profiles").select("role").eq("user_id",n.id).maybeSingle();if(!X)return;if(ir){l(!1);return}const It=Ht?.role?.toLowerCase?.()||"";l(It==="lab"||It==="admin"||It==="multi-lab")}return ge(),()=>{X=!1}},[n?.id]);const c=e.find(X=>X.id===Number(t.id));if(r&&!c)return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-8 text-muted-foreground",children:"Loading lab"})})});if(!c)return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 py-20",children:i.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-8 text-muted-foreground",children:"Lab not found."})})});const d=(X,ge=1600)=>X.startsWith("data:")?X:`${X}${X.includes("?")?"&":"?"}auto=format&fit=crop&w=${ge}&q=80`,h=c?.subscriptionTier??c?.subscription_tier??"base",m=c?.logoUrl??c?.logo_url??null,p=h.toLowerCase?.()??(typeof h=="string"?h.toLowerCase():"base"),x=c.isVerified?"verified":p==="base"?"unverified":"pending",b=c.offersLabSpace===!0||c.offersLabSpace==="true"||c.offersLabSpace===1||c.offersLabSpace==="1",N=x==="verified"?"bg-emerald-50 text-emerald-700":x==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",_=x==="verified"?"Verified by Glass":x==="pending"?"Verification pending":"Unverified",j=c.partnerLogos??[],w=c.website||null,k=c.linkedin||null,[C,E]=y.useState(!1),[R,I]=y.useState(!1),[U,K]=y.useState(null),[Z,O]=y.useState(!1),[G,ce]=y.useState(!1),[Q,ne]=y.useState(""),[te,ke]=y.useState(n?.email||""),[we,re]=y.useState(""),[ee,de]=y.useState(""),[M,T]=y.useState(""),[Y,fe]=y.useState(!1),[Re,Te]=y.useState(null),[V,ve]=y.useState(null),[be,$e]=y.useState(!1),[Xe,sr]=y.useState(!1),[B,Ce]=y.useState(null),[z,Ee]=y.useState(null),[ye,xe]=y.useState({requesterName:"",requesterEmail:n?.email||"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1}),[lt,ot]=y.useState(!1),[A,F]=y.useState(!1),[H,he]=y.useState(null),[me,ue]=y.useState(null),[je,Je]=y.useState({contactName:"",contactEmail:n?.email||"",targetLabs:c.name,collaborationFocus:"",resourcesOffered:"",desiredTimeline:"",additionalNotes:"",preferredContact:"email"}),at=async()=>{if(!n){K("Sign in to favorite labs.");return}I(!0),K(null);try{const{data:X}=await We.auth.getSession(),ge=X.session?.access_token;if(!ge){K("Please sign in again.");return}const Ht=C?"DELETE":"POST",ir=await fetch(`/api/labs/${c.id}/favorite`,{method:Ht,headers:{Authorization:`Bearer ${ge}`}});if(!ir.ok){const kr=await ir.json().catch(()=>({}));throw new Error(kr?.message||"Unable to update favorite")}const It=await ir.json();E(!!It?.favorited)}catch(X){K(X instanceof Error?X.message:"Unable to update favorite")}finally{I(!1)}};y.useEffect(()=>{let X=!0;async function ge(){if(!n){E(!1);return}try{const{data:Ht}=await We.auth.getSession(),ir=Ht.session?.access_token;if(!ir)return;const It=await fetch(`/api/labs/${c.id}/favorite`,{headers:{Authorization:`Bearer ${ir}`}});if(!It.ok)return;const kr=await It.json();X&&E(!!kr?.favorited)}catch{}}return ge(),()=>{X=!1}},[c.id,n?.id]),y.useEffect(()=>{if(Z)return;const X="glass-view-session";let ge=localStorage.getItem(X);ge||(ge=V$(),localStorage.setItem(X,ge));const Ht=`glass-view-${c.id}`,ir=localStorage.getItem(Ht),It=Date.now();if(ir&&It-Number(ir)<3600*1e3){O(!0);return}(async()=>{try{const{data:kr}=await We.auth.getSession(),en=kr.session?.access_token;await fetch(`/api/labs/${c.id}/view`,{method:"POST",headers:{"Content-Type":"application/json",...en?{Authorization:`Bearer ${en}`}:{}},body:JSON.stringify({labId:c.id,sessionId:ge,referrer:document.referrer||null})}),localStorage.setItem(Ht,String(It)),O(!0)}catch{}})()},[c.id,Z]);const Ut=async()=>{if(!ye.requesterName.trim()||!ye.requesterEmail.trim()||!ye.projectSummary.trim()){Ce("Name, email, and project summary are required.");return}sr(!0),Ce(null),Ee(null);try{const X=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ye,labId:c.id,labName:c.name})});if(!X.ok){const ge=await X.text();throw new Error(ge||"Unable to submit request")}Ee("Sent! The lab and our team have been notified."),xe(ge=>({...ge,requesterName:"",requesterEmail:n?.email||"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1})),$e(!1)}catch(X){Ce(X?.message||"Unable to submit request")}finally{sr(!1)}},_r=async()=>{if(!je.contactName.trim()||!je.contactEmail.trim()||!je.collaborationFocus.trim()){he("Name, email, and collaboration focus are required.");return}F(!0),he(null),ue(null);try{const X=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...je,labId:c.id,targetLabs:je.targetLabs||c.name})});if(!X.ok){const ge=await X.text();throw new Error(ge||"Unable to submit collaboration")}ue("Sent! We'll notify the lab team."),Je({contactName:"",contactEmail:n?.email||"",targetLabs:c.name,collaborationFocus:"",resourcesOffered:"",desiredTimeline:"",additionalNotes:"",preferredContact:"email"}),ot(!1)}catch(X){he(X?.message||"Unable to submit collaboration")}finally{F(!1)}},Xt=async()=>{if(!Q.trim()||!te.trim()||!M.trim()){Te("Please add your name, email, and a brief message.");return}fe(!0),Te(null),ve(null);try{const X=await fetch(`/api/labs/${c.id}/investor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Q.trim(),email:te.trim(),company:we.trim()||null,website:ee.trim()||null,message:M.trim()})});if(!X.ok){const ge=await X.text();throw new Error(ge||"Unable to send inquiry")}ve("Sent! The lab has been notified."),ne(""),ke(n?.email||""),re(""),de(""),T(""),ce(!1)}catch(X){Te(X?.message||"Unable to send inquiry")}finally{fe(!1)}};return r&&e.length===0?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Loading lab details"}),i.jsx("p",{className:"text-muted-foreground",children:"Pulling the latest information from the lab directory."})]})}):c?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsxs(Se,{href:"/labs",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[i.jsx(o2,{className:"h-4 w-4"}),"Back to labs"]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"mt-8 rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-10",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[i.jsx(Ks,{className:"h-3.5 w-3.5"}),c.location]}),i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${N}`,children:x==="verified"?i.jsxs(i.Fragment,{children:[i.jsx(hd,{className:"h-3.5 w-3.5"}),_]}):i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),_]})}),b&&i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground",children:[i.jsx(N2,{className:"h-3.5 w-3.5 text-primary"}),"Offers lab space"]}),i.jsx("button",{type:"button",onClick:at,disabled:R,className:`ml-auto inline-flex h-8 w-8 items-center justify-center rounded-full border transition disabled:opacity-60 disabled:cursor-not-allowed ${C?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":C?"Unfavorite lab":"Favorite lab",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:C?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[(m||p==="premier")&&i.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:m?i.jsx("img",{src:m,alt:`${c.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:c.name})]}),c.description?i.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:c.description}):i.jsxs("p",{className:"text-muted-foreground text-base leading-relaxed",children:["Review compliance, offers, and baseline expectations before requesting space. Minimum commitment:",i.jsxs("span",{className:"font-medium text-foreground",children:[" ",c.minimumStay]}),"."]}),U&&i.jsx("span",{className:"text-xs text-destructive",children:U})]}),c.photos.length>0&&i.jsx("div",{className:"mt-2 overflow-x-auto pb-2",children:i.jsx("div",{className:"flex gap-4 min-w-full",children:c.photos.map((X,ge)=>i.jsx("div",{className:"min-w-[320px] max-w-[420px] h-64 overflow-hidden rounded-3xl border border-border/80 bg-background/40 flex-shrink-0",children:i.jsx("img",{src:d(X.url,1200),alt:`${c.name} photo ${ge+1} - ${X.name}`,className:"h-full w-full object-cover",loading:ge===0?"eager":"lazy"})},X.url))})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3",children:[i.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Lab leadership"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(kj,{className:"h-4 w-4 text-primary"}),c.labManager]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(C2,{className:"h-4 w-4 text-primary"}),w||k?"Connect with the team":"Social links not provided yet"]}),(w||k)&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&i.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(v2,{className:"h-3.5 w-3.5 text-primary"}),"Website"]}),k&&i.jsxs("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(_p,{className:"h-3.5 w-3.5 text-primary"}),"LinkedIn"]})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3 md:col-span-2",children:[i.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Compliance posture"}),i.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:c.compliance.map(X=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-primary"}),X]},X))}),c.complianceDocs.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Supporting documents"}),i.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:c.complianceDocs.map(X=>i.jsx("li",{children:i.jsxs("a",{href:X.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 hover:border-primary hover:text-primary transition",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-primary"}),X.name]})},X.url))})]})]})]}),b&&i.jsxs("section",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pricing & availability offers"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Labs may extend multiple engagement models; choose the approach that best matches your run plan."}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.offers.map(X=>i.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1 text-xs font-medium text-muted-foreground",children:X},X))}),i.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[i.jsx(u2,{className:"h-4 w-4 text-primary"}),"Minimum stay expectation: ",i.jsx("span",{className:"font-medium text-foreground",children:c.minimumStay})]}),i.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[i.jsx(Nj,{className:"h-4 w-4 text-primary"}),c.photos.length," photo",c.photos.length===1?"":"s"," included"]})]}),i.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Focus areas"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Primary scientific domains supported by the lab team."}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.focusAreas.map(X=>i.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:X},X))})]}),i.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Equipment inventory"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Critical instrumentation and tooling available in this lab."}),i.jsx("div",{className:"mt-4 grid gap-2 text-sm text-muted-foreground",children:c.equipment.map(X=>i.jsxs("div",{className:"inline-flex items-center gap-2",children:[i.jsx(l2,{className:"h-4 w-4 text-primary"}),X]},X))})]})]}),p==="premier"&&j.length>0&&i.jsxs("div",{className:"mt-8 rounded-2xl border border-primary/40 bg-primary/5 p-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Featured partners"}),i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:j.map((X,ge)=>i.jsx("div",{className:"h-16 w-24 overflow-hidden rounded-xl border border-primary/40 bg-background flex-shrink-0",title:X.name,children:i.jsx("img",{src:X.url,alt:X.name,className:"h-full w-full object-cover"})},`${X.url}-${ge}`))})]}),i.jsxs("footer",{className:"flex flex-wrap gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{$e(!0),Ce(null),Ee(null)},className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Request lab time"}),p==="premier"&&i.jsx("button",{type:"button",onClick:()=>{ce(!0),Te(null),ve(null)},className:"inline-flex items-center justify-center rounded-full border border-primary/70 px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact for investment"}),o&&i.jsx("button",{type:"button",onClick:()=>{ot(!0),he(null),ue(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Collaborate"}),i.jsx(Se,{href:"/labs",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Explore other labs"})]}),G&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:i.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>ce(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Investor inquiry"}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Reach out to ",c.name,". Well forward this to their team."]}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Q,onChange:X=>ne(X.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:te,onChange:X=>ke(X.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company (optional)"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:we,onChange:X=>re(X.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Website (optional)"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ee,onChange:X=>de(X.target.value),placeholder:"https://example.com"})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Message"}),i.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:M,onChange:X=>T(X.target.value),placeholder:"Brief intro and what youre interested in."})]}),Re&&i.jsx("p",{className:"text-sm text-destructive",children:Re}),V&&i.jsx("p",{className:"text-sm text-emerald-600",children:V}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>ce(!1),disabled:Y,children:"Cancel"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:Xt,disabled:Y,children:Y?"Sending":"Send inquiry"})]})]})]})}),be&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl border border-border bg-card p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>$e(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Request lab time"}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Tell ",c.name," what you need. Well route this to their team."]}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.requesterName,onChange:X=>xe(ge=>({...ge,requesterName:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.requesterEmail,onChange:X=>xe(ge=>({...ge,requesterEmail:X.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Organization"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.organization,onChange:X=>xe(ge=>({...ge,organization:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Role / Title"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.roleTitle,onChange:X=>xe(ge=>({...ge,roleTitle:X.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Project summary"}),i.jsx("textarea",{className:"min-h-[100px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.projectSummary,onChange:X=>xe(ge=>({...ge,projectSummary:X.target.value})),placeholder:"What work do you want to run here?"})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timeline"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.workTimeline,onChange:X=>xe(ge=>({...ge,workTimeline:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Weekly hours needed"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.weeklyHoursNeeded,onChange:X=>xe(ge=>({...ge,weeklyHoursNeeded:X.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Team size"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.teamSize,onChange:X=>xe(ge=>({...ge,teamSize:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Equipment needs"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.equipmentNeeds,onChange:X=>xe(ge=>({...ge,equipmentNeeds:X.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Special requirements"}),i.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.specialRequirements,onChange:X=>xe(ge=>({...ge,specialRequirements:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Links"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.referencesOrLinks,onChange:X=>xe(ge=>({...ge,referencesOrLinks:X.target.value})),placeholder:"Optional links to docs or examples"})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Verification"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.verification,onChange:X=>xe(ge=>({...ge,verification:X.target.value})),children:[i.jsx("option",{value:"glass_verified",children:"Glass verified"}),i.jsx("option",{value:"partner_verified",children:"Partner verified"}),i.jsx("option",{value:"unverified",children:"Unverified"})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.preferredContactMethod,onChange:X=>xe(ge=>({...ge,preferredContactMethod:X.target.value})),children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"video_call",children:"Video call"}),i.jsx("option",{value:"phone",children:"Phone"})]})]})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Verification proof (optional)"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.verificationProof,onChange:X=>xe(ge=>({...ge,verificationProof:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Delivery preference"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:ye.preferredDeliveryWindow,onChange:X=>xe(ge=>({...ge,preferredDeliveryWindow:X.target.value})),children:[i.jsx("option",{value:"weekly_digest",children:"Weekly digest"}),i.jsx("option",{value:"biweekly_digest",children:"Bi-weekly digest"}),i.jsx("option",{value:"immediate",children:"Immediate"})]})]})]}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:ye.agreeToReview,onChange:X=>xe(ge=>({...ge,agreeToReview:X.target.checked}))}),"I agree to review this request with the lab."]}),B&&i.jsx("p",{className:"text-sm text-destructive",children:B}),z&&i.jsx("p",{className:"text-sm text-emerald-600",children:z}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>$e(!1),disabled:Xe,children:"Cancel"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:Ut,disabled:Xe,children:Xe?"Sending":"Send request"})]})]})]})}),lt&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 px-4 py-8",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl border border-border bg-card p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>ot(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Collaboration inquiry"}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Share how youd like to collaborate with ",c.name,"."]}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.contactName,onChange:X=>Je(ge=>({...ge,contactName:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.contactEmail,onChange:X=>Je(ge=>({...ge,contactEmail:X.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.targetLabs,onChange:X=>Je(ge=>({...ge,targetLabs:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),i.jsx("textarea",{className:"min-h-[100px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.collaborationFocus,onChange:X=>Je(ge=>({...ge,collaborationFocus:X.target.value})),placeholder:"What would you like to collaborate on?"})]}),i.jsxs("div",{className:"grid gap-1 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered"}),i.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.resourcesOffered,onChange:X=>Je(ge=>({...ge,resourcesOffered:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timeline"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.desiredTimeline,onChange:X=>Je(ge=>({...ge,desiredTimeline:X.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes"}),i.jsx("textarea",{className:"min-h-[80px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.additionalNotes,onChange:X=>Je(ge=>({...ge,additionalNotes:X.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:je.preferredContact,onChange:X=>Je(ge=>({...ge,preferredContact:X.target.value})),children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"video_call",children:"Video call"}),i.jsx("option",{value:"in_person",children:"In person"})]})]}),H&&i.jsx("p",{className:"text-sm text-destructive",children:H}),me&&i.jsx("p",{className:"text-sm text-emerald-600",children:me}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>ot(!1),disabled:A,children:"Cancel"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:opacity-70",onClick:_r,disabled:A,children:A?"Sending":"Send collaboration"})]})]})]})})]})]})}):i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),i.jsx("p",{className:"text-muted-foreground",children:"We could not find the lab you were looking for. It may have been removed or you might have followed an outdated link."}),i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Browse labs"})})]})})}const b0={requesterName:"",requesterEmail:"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1};function $$({params:t}){const{labs:e,isLoading:r}=ri(),n=Number(t.id),o=y.useMemo(()=>e.find(w=>w.id===n),[e,n]),l="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",[c,d]=y.useState(b0),[h,m]=y.useState(!1),[p,x]=y.useState(null),[b,N]=y.useState(null),_=(w,k)=>{d(C=>({...C,[w]:k}))},j=async w=>{if(w.preventDefault(),!!o){m(!0),x(null);try{const k=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,labId:o.id,labName:o.name})});if(!k.ok){const E=await k.json().catch(()=>({message:"Unable to submit"}));throw new Error(E?.message??"Unable to submit request")}const C=await k.json();N(C.id),d(b0)}catch(k){x(k instanceof Error?k.message:"Unable to submit request")}finally{m(!1)}}};return r&&!o?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[i.jsx(wm,{className:"mx-auto h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading lab details"})]})}):o?i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20 max-w-4xl",children:[i.jsx(Se,{href:`/labs/${o.id}`,children:i.jsxs("a",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[" Back to ",o.name]})}),i.jsxs(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-6 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Lab intake"}),i.jsxs("h1",{className:"mt-3 text-3xl font-semibold text-foreground",children:["Request time at ",o.name]}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Glass reviews every submission for spam or quality issues before sharing them with the lab. Approved requests are batched and delivered on the cadence you choose."})]}),i.jsxs("div",{className:"rounded-2xl border border-primary/30 bg-primary/5 px-4 py-3 text-sm text-foreground",children:[i.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Pn,{className:"h-4 w-4 text-primary"})," Help labs trust the outreach"]}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:"Share proof of prior collaboration or a partner reference so Glass can pre-screen requests before sending them."})]})]}),b?i.jsx("div",{className:"mt-8 rounded-2xl border border-emerald-200 bg-emerald-50/70 px-6 py-5 text-sm text-emerald-900",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(hd,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Request queued for review"}),i.jsxs("p",{className:"mt-1 text-emerald-900/80",children:["Your submission #",b," is pending internal moderation. We send approved requests to ",o.labManager,"on the delivery window you selected."]})]})]})}):null,p&&i.jsxs("div",{className:"mt-6 flex items-center gap-3 rounded-2xl border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[i.jsx(Ep,{className:"h-4 w-4"}),i.jsx("span",{children:p})]}),i.jsxs("form",{className:"mt-10 space-y-6",onSubmit:j,children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(Fr,{label:"Your name",required:!0,children:i.jsx("input",{type:"text",value:c.requesterName,onChange:w=>_("requesterName",w.target.value),className:l,placeholder:"Jordan Reyes",required:!0})}),i.jsx(Fr,{label:"Work email",required:!0,children:i.jsx("input",{type:"email",value:c.requesterEmail,onChange:w=>_("requesterEmail",w.target.value),className:l,placeholder:"jordan@teamglass.bio",required:!0})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(Fr,{label:"Organization / team",required:!0,children:i.jsx("input",{type:"text",value:c.organization,onChange:w=>_("organization",w.target.value),className:l,placeholder:"Atlas Applied Biology",required:!0})}),i.jsx(Fr,{label:"Role / title",required:!0,children:i.jsx("input",{type:"text",value:c.roleTitle,onChange:w=>_("roleTitle",w.target.value),className:l,placeholder:"Program Lead",required:!0})})]}),i.jsx(Fr,{label:"Project summary",description:"Help the lab understand why you need space and what success looks like.",required:!0,children:i.jsx("textarea",{value:c.projectSummary,onChange:w=>_("projectSummary",w.target.value),className:`${l} min-h-[140px]`,placeholder:"Outline your experiment goals, team, and safety posture.",required:!0})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(Fr,{label:"Desired start",required:!0,children:i.jsxs("select",{className:l,value:c.workTimeline,onChange:w=>_("workTimeline",w.target.value),required:!0,children:[i.jsx("option",{value:"",disabled:!0,children:"Select timeline"}),i.jsx("option",{value:"next_2_weeks",children:"Within 2 weeks"}),i.jsx("option",{value:"next_month",children:"Within a month"}),i.jsx("option",{value:"next_quarter",children:"Next quarter"}),i.jsx("option",{value:"flexible",children:"Flexible / exploratory"})]})}),i.jsx(Fr,{label:"Weekly hours",required:!0,children:i.jsx("input",{type:"text",className:l,value:c.weeklyHoursNeeded,onChange:w=>_("weeklyHoursNeeded",w.target.value),placeholder:"20 bench hours",required:!0})}),i.jsx(Fr,{label:"Team size",required:!0,children:i.jsx("input",{type:"text",className:l,value:c.teamSize,onChange:w=>_("teamSize",w.target.value),placeholder:"3 researchers",required:!0})})]}),i.jsx(Fr,{label:"Equipment & process needs",description:"List any instruments, cleanroom access, or SOP support you expect.",children:i.jsx("textarea",{className:`${l} min-h-[100px]`,value:c.equipmentNeeds,onChange:w=>_("equipmentNeeds",w.target.value),placeholder:"BSL-2 hood, sequencing core time, GMP-aligned QA support..."})}),i.jsx(Fr,{label:"Compliance or special requirements",description:"Share certifications, biosafety requirements, or onboarding needs.",children:i.jsx("textarea",{className:l,value:c.complianceNotes,onChange:w=>_("complianceNotes",w.target.value),placeholder:"BSL-2+ handling, cleanroom training, DEA registration..."})}),i.jsx(Fr,{label:"Special requests",description:"Optional context for lab operations, security, or scheduling.",children:i.jsx("textarea",{className:l,value:c.specialRequirements,onChange:w=>_("specialRequirements",w.target.value),placeholder:"Preferred shift, shipping logistics, storage requirements..."})}),i.jsx(Fr,{label:"References, decks, or links",children:i.jsx("textarea",{className:l,value:c.referencesOrLinks,onChange:w=>_("referencesOrLinks",w.target.value),placeholder:"Paste Notion docs, pitch decks, public updates, etc."})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Fr,{label:"Contact preferences",description:"We coordinate intros after your request is approved.",required:!0,children:[i.jsx("div",{className:"space-y-2 rounded-2xl border border-border p-3",children:[{value:"email",label:"Email digest"},{value:"video_call",label:"Schedule a call"},{value:"phone",label:"Phone call"}].map(w=>i.jsxs("label",{className:"flex items-center gap-2 text-sm text-foreground",children:[i.jsx("input",{type:"radio",name:"contact",value:w.value,checked:c.preferredContactMethod===w.value,onChange:()=>_("preferredContactMethod",w.value)}),w.label]},w.value))}),i.jsxs("select",{className:`${l} mt-3`,value:c.preferredDeliveryWindow,onChange:w=>_("preferredDeliveryWindow",w.target.value),children:[i.jsx("option",{value:"weekly_digest",children:"Send with the weekly digest"}),i.jsx("option",{value:"biweekly_digest",children:"Hold for bi-weekly summary"}),i.jsx("option",{value:"immediate",children:"Send immediately after review"})]})]}),i.jsx(Fr,{label:"References or proof of work",description:"Share anything that helps the lab trust your request (optional).",children:i.jsx("input",{type:"text",className:l,value:c.verificationProof,onChange:w=>_("verificationProof",w.target.value),placeholder:"Link to a deck, partner reference, or update thread"})})]}),i.jsxs("label",{className:"flex items-start gap-3 rounded-2xl border border-border p-4 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",checked:c.agreeToReview,onChange:w=>_("agreeToReview",w.target.checked)}),i.jsxs("span",{children:["I agree that Glass can review this submission for spam and will only send it to ",o.name," once it passes moderation."]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:[h&&i.jsx(wm,{className:"h-4 w-4 animate-spin"}),"Submit request"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We queue requests once a week (or on demand if you selected immediate delivery)."})]})]})]})]})}):i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),i.jsx("p",{className:"text-muted-foreground",children:"The lab you selected doesnt exist or has been removed. Head back to the directory to choose another partner."}),i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Browse labs"})})]})})}function Fr({label:t,description:e,required:r,children:n}){return i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:i.jsxs("span",{children:[t,r?" *":""]})}),e?i.jsx("p",{className:"text-xs text-muted-foreground",children:e}):null,n]})}function B$({params:t}){const e=Number(t.id),{labs:r}=ri(),n=r.find(G=>G.id===e),{user:o}=ur(),[l,c]=y.useState(""),[d,h]=y.useState(""),[m,p]=y.useState(""),[x,b]=y.useState(""),[N,_]=y.useState(""),[j,w]=y.useState(""),[k,C]=y.useState(""),[E,R]=y.useState("email"),[I,U]=y.useState(null),[K,Z]=y.useState(!1);y.useEffect(()=>{n&&!m&&p(n.name)},[n]),y.useEffect(()=>{o?.email&&!d&&h(o.email);const G=o?.user_metadata?.display_name||o?.user_metadata?.full_name||o?.user_metadata?.name||"";G&&!l&&c(G)},[o?.email,o?.user_metadata,d,l]);const O=async G=>{G.preventDefault(),Z(!0),U(null);try{const ce={labId:e,contactName:l.trim(),contactEmail:d.trim(),targetLabs:m.trim(),collaborationFocus:x.trim(),resourcesOffered:N.trim(),desiredTimeline:j.trim(),additionalNotes:k.trim(),preferredContact:E},Q=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(!Q.ok){const ne=(await Q.json().catch(()=>({})))?.message||"Submission failed";throw new Error(ne)}U("Submitted. We'll notify the lab team."),c(""),h(""),p(""),b(""),_(""),w(""),C(""),R("email")}catch(ce){U(ce instanceof Error?ce.message:"Submission failed")}finally{Z(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 max-w-2xl",children:[i.jsx(Se,{href:`/labs/${e}`,className:"text-sm text-muted-foreground hover:text-primary",children:"Back to lab"}),i.jsx("h1",{className:"mt-4 text-2xl font-semibold text-foreground",children:"Propose a collaboration"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:n?i.jsxs(i.Fragment,{children:["Youre collaborating with ",i.jsx("span",{className:"font-medium text-foreground",children:n.name}),"."]}):i.jsx(i.Fragment,{children:"Share a brief overview so the lab can assess fit quickly."})}),i.jsxs("form",{className:"mt-6 grid gap-4",onSubmit:O,children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:l,onChange:G=>c(G.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:d,onChange:G=>h(G.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs (optional)"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:m,onChange:G=>p(G.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),i.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:x,onChange:G=>b(G.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered (optional)"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:N,onChange:G=>_(G.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Desired timeline (optional)"}),i.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:j,onChange:G=>w(G.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact method"}),i.jsxs("select",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:E,onChange:G=>R(G.target.value),children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"video_call",children:"Video call"}),i.jsx("option",{value:"in_person",children:"In person"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes (optional)"}),i.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:k,onChange:G=>C(G.target.value)})]}),I&&i.jsx("p",{className:"text-sm text-muted-foreground",children:I}),i.jsx("button",{disabled:K,className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground",children:K?"Submitting":"Submit proposal"})]})]})})}const Ld=["Monthly rent","Hourly rate","Equipment use rate","Day rate"],um=kd({name:jt().min(1,"Asset name is required"),url:jt().min(1,"Asset URL is required")}),Z1=kd({name:jt().min(1,"Lab name is required"),location:jt().min(1,"Location is required"),labManager:jt().min(1,"Lab manager name is required"),contactEmail:jt().email("Valid contact email is required"),ownerUserId:jt().uuid().optional().nullable(),description:jt().max(5e3).optional().nullable(),offersLabSpace:Ti().default(!1),addressLine1:jt().min(1).optional().nullable(),addressLine2:jt().min(1).optional().nullable(),city:jt().min(1).optional().nullable(),state:jt().min(1).optional().nullable(),postalCode:jt().min(1).optional().nullable(),country:jt().min(1).optional().nullable(),siretNumber:jt().min(4).optional().nullable(),logoUrl:jt().url("Logo must be a valid URL").optional().nullable(),website:jt().url("Website must be a valid URL").optional().nullable(),linkedin:jt().url("LinkedIn must be a valid URL").optional().nullable(),partnerLogos:Un(um).default([]),compliance:Un(jt().min(1)).default([]),complianceDocs:Un(um).default([]),isVerified:Ti().default(!1),isVisible:Ti().default(!0),equipment:Un(jt().min(1)).default([]),focusAreas:Un(jt().min(1)).default([]),offers:Un(ap(Ld)).default([]),pricePrivacy:Ti().default(!1),minimumStay:jt().optional().default(""),rating:zl().min(0).max(5).default(0),subscriptionTier:ap(["base","verified","premier"]).default("base"),photos:Un(um).min(0),field:jt().min(1).optional().nullable()}),q$=Z1.extend({id:zl().int().positive()});Z1.partial().refine(t=>Object.keys(t).length>0,{message:"At least one field must be provided for an update"});Un(q$);const dm={name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",description:"",offersLabSpace:"no",siretNumber:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],compliance:"",verification:"no",pricePrivacy:"no",equipment:"",focusAreas:"",offers:[],minimumStay:"",rating:"",photoUrlInput:"",complianceDocUrlInput:"",isVisible:"yes"};function z$(t){return{name:t.name,location:t.location,labManager:t.labManager,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",description:t.description||"",offersLabSpace:t.offersLabSpace?"yes":"no",siretNumber:t.siretNumber||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",country:t.country||"",website:t.website||"",linkedin:t.linkedin||"",partnerLogos:t.partnerLogos||[],compliance:t.compliance.join(", "),verification:t.isVerified?"yes":"no",pricePrivacy:t.pricePrivacy?"yes":"no",equipment:t.equipment.join(", "),focusAreas:t.focusAreas.join(", "),offers:[...t.offers],minimumStay:t.minimumStay,rating:t.rating.toString(),photoUrlInput:"",complianceDocUrlInput:"",isVisible:t.isVisible===!1?"no":"yes"}}function fm(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}function W$(t){const e=Array.from(t);return Promise.all(e.map(r=>new Promise((n,o)=>{const l=new FileReader;l.onload=()=>{if(typeof l.result!="string"){o(new Error("Unsupported file format"));return}n({name:r.name,url:l.result})},l.onerror=()=>{o(l.error??new Error("Failed to read file"))},l.readAsDataURL(r)})))}function K$(t,e,r,n){const o=t.rating.trim()===""?0:Number(t.rating);if(t.rating.trim()!==""&&(Number.isNaN(o)||o<0||o>5))throw new Error("Rating must be a number between 0 and 5");return{name:t.name.trim(),location:t.location.trim(),labManager:t.labManager.trim(),contactEmail:t.contactEmail.trim(),logoUrl:t.logoUrl.trim()||null,description:t.description.trim()||null,offersLabSpace:t.offersLabSpace==="yes",siretNumber:t.siretNumber.trim()||null,addressLine1:t.addressLine1.trim()||null,addressLine2:t.addressLine2.trim()||null,city:t.city.trim()||null,state:t.state.trim()||null,postalCode:t.postalCode.trim()||null,country:t.country.trim()||null,website:t.website.trim()||null,linkedin:t.linkedin.trim()||null,partnerLogos:n,compliance:fm(t.compliance),isVerified:t.verification==="yes",equipment:fm(t.equipment),focusAreas:fm(t.focusAreas),offers:t.offers,pricePrivacy:t.pricePrivacy==="yes",minimumStay:t.minimumStay.trim(),rating:t.rating.trim()===""?0:o,photos:e,complianceDocs:r,isVisible:t.isVisible==="yes"}}function H$(){const{labs:t,addLab:e,updateLab:r,removeLab:n,isLoading:o,error:l,refresh:c}=ri(),[d,h]=y.useState(null),[m,p]=y.useState(dm),[x,b]=y.useState(null),[N,_]=y.useState([]),[j,w]=y.useState([]),[k,C]=y.useState([]),[E,R]=y.useState(!1),[I,U]=y.useState(null),[K,Z]=y.useState(!1),[O,G]=y.useState(null),[ce,Q]=y.useState("");y.useEffect(()=>{c(!0).catch(()=>{})},[c]);const ne=y.useMemo(()=>{const B=ce.trim().toLowerCase();return B?t.filter(Ce=>[Ce.name,Ce.location,Ce.labManager,Ce.contactEmail].filter(Boolean).join(" ").toLowerCase().includes(B)):t},[t,ce]),te=()=>{h("new"),p(dm),b(null),_([]),w([]),C([]),G(null)},ke=B=>{h(B.id),p(z$(B)),b(null),_(B.photos),w(B.complianceDocs),C(B.partnerLogos||[]),G(null)},we=()=>{h(null),p(dm),_([]),w([]),C([])},re=(B,Ce)=>{p(z=>({...z,[B]:Ce}))},ee=async B=>{try{b(null),await r(B.id,{isVisible:!(B.isVisible??!0)}),await c(!0),b({type:"success",text:`Marked ${B.name} as ${B.isVisible===!1?"visible":"hidden"}`})}catch(Ce){b({type:"error",text:Ce instanceof Error?Ce.message:"Unable to update visibility"})}},de=B=>{p(Ce=>{const z=Ce.offers.includes(B)?Ce.offers.filter(Ee=>Ee!==B):[...Ce.offers,B];return{...Ce,offers:z}})},M=async B=>{const Ce=B.target.files?.[0];if(Ce){G(null),Z(!0);try{const z=Ce.name.split(".").pop()||"png",ye=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${z}`}`,{error:xe}=await We.storage.from("lab-logos").upload(ye,Ce,{upsert:!0,contentType:Ce.type});if(xe)throw xe;const{data:lt}=We.storage.from("lab-logos").getPublicUrl(ye),ot=lt.publicUrl;p(A=>({...A,logoUrl:ot})),b({type:"success",text:"Logo uploaded"})}catch(z){G(z?.message||"Unable to upload logo")}finally{Z(!1)}}},T=async B=>{const Ce=B.target.files?.[0];if(Ce){b(null);try{const z=Ce.name.split(".").pop()||"png",Ee=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${z}`,xe=`${typeof d=="number"?`labs/${d}/partners`:"partners"}/${Ee}`,{error:lt}=await We.storage.from("lab-logos").upload(xe,Ce,{upsert:!0,contentType:Ce.type});if(lt)throw lt;const{data:ot}=We.storage.from("lab-logos").getPublicUrl(xe),A=ot.publicUrl;C(F=>[...F,{name:Ce.name,url:A}]),b({type:"success",text:"Partner logo uploaded"})}catch(z){b({type:"error",text:z?.message||"Unable to upload partner logo"})}}},Y=()=>{const B=m.photoUrlInput.trim();B&&(_(Ce=>[...Ce,{name:B.split("/").pop()??`Photo ${Ce.length+1}`,url:B}]),p(Ce=>({...Ce,photoUrlInput:""})))},fe=()=>{const B=m.complianceDocUrlInput.trim();B&&(w(Ce=>[...Ce,{name:B.split("/").pop()??`Document ${Ce.length+1}`,url:B}]),p(Ce=>({...Ce,complianceDocUrlInput:""})))},Re=async B=>{const Ce=B.target.files;if(!(!Ce||Ce.length===0))try{const z=await W$(Ce);_(Ee=>[...Ee,...z]),b(null)}catch(z){b({type:"error",text:z instanceof Error?z.message:"Unable to process photo uploads"})}finally{B.target.value=""}},Te=async B=>{const Ce=B.target.files;if(!Ce||Ce.length===0)return;const z=typeof d=="number"?`labs/${d}/docs`:"docs",Ee=[];try{for(const ye of Array.from(Ce)){const xe=ye.name.split(".").pop()||"pdf",lt=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${xe}`,ot=`${z}/${lt}`,{error:A}=await We.storage.from("lab-pdfs").upload(ot,ye,{upsert:!0,contentType:ye.type});if(A)throw A;const{data:F}=We.storage.from("lab-pdfs").getPublicUrl(ot);Ee.push({name:ye.name,url:F.publicUrl})}Ee.length&&(w(ye=>[...ye,...Ee]),b({type:"success",text:"Documents uploaded"}))}catch(ye){b({type:"error",text:ye instanceof Error?ye.message:"Unable to upload documents"})}finally{B.target.value=""}},V=B=>{_(Ce=>Ce.filter(z=>z.url!==B.url))},ve=B=>{w(Ce=>Ce.filter(z=>z.url!==B.url))},be=B=>{C(Ce=>Ce.filter(z=>z.url!==B.url))},$e=()=>{if(!m.name.trim())throw new Error("Lab name is required");if(!m.location.trim())throw new Error("Location is required");if(!m.contactEmail.trim())throw new Error("Contact email is required");if(N.length===0)throw new Error("Please upload or link at least one lab photo.")},Xe=async B=>{B.preventDefault();try{R(!0),$e();const Ce=K$(m,N,j,k);if(d==="new"){const z=await e(Ce);b({type:"success",text:`Created ${z.name}`})}else typeof d=="number"&&(await r(d,Ce),b({type:"success",text:"Lab details updated"}));we(),await c(!0)}catch(Ce){b({type:"error",text:Ce instanceof Error?Ce.message:"Unable to save lab details"})}finally{R(!1)}},sr=async B=>{try{U(B),await n(B),d===B&&we(),b({type:"success",text:"Lab removed from the directory"})}catch(Ce){b({type:"error",text:Ce instanceof Error?Ce.message:"Unable to remove lab"})}finally{U(null)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab directory"}),i.jsx("h1",{className:"mt-3 text-4xl font-semibold text-foreground",children:"Admin: manage partner labs"}),i.jsx("p",{className:"mt-2 max-w-2xl text-muted-foreground",children:"Keep the lab rental directory current by updating contacts, compliance, and equipment details. Edits go live instantly for the lab browsing experience."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"relative w-full sm:w-64",children:[i.jsx("input",{type:"search",value:ce,onChange:B=>Q(B.target.value),placeholder:"Search labs",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx(Ks,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),i.jsx(Se,{href:"/lab-profile",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Lab profile guide"})}),i.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(_j,{className:"h-4 w-4"}),"Add lab"]})]})]}),x&&i.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:`mt-6 rounded-2xl border p-4 text-sm ${x.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":"border-red-300 bg-red-50 text-red-900"}`,children:x.text}),l&&i.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[i.jsx("span",{children:l}),i.jsx("button",{type:"button",onClick:c,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.2em]",children:"Retry"})]}),i.jsxs("div",{className:"mt-10 grid gap-8 lg:grid-cols-[1.05fr_1fr]",children:[i.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4",children:t.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:o?"Loading lab directory":l?"Unable to load the lab directory right now.":"No labs in the directory yet. Use Add lab to create your first listing."}):ne.length===0?i.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:"No labs match that search."}):ne.map(B=>i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:B.name}),i.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ks,{className:"h-4 w-4 text-primary"}),B.location]})]}),i.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${B.isVerified?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:B.isVerified?i.jsxs(i.Fragment,{children:[i.jsx(hd,{className:"h-3.5 w-3.5"}),"Verified"]}):i.jsxs(i.Fragment,{children:[i.jsx(Mu,{className:"h-3.5 w-3.5"}),"Pending"]})}),i.jsx("button",{type:"button",onClick:()=>ee(B),className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition ${B.isVisible===!1?"bg-slate-200 text-slate-800 hover:bg-slate-300":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,title:B.isVisible===!1?"Currently hidden. Click to show.":"Currently visible. Click to hide.",children:B.isVisible===!1?"Hidden  click to show":"Visible  click to hide"})]})]}),i.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kj,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:B.labManager})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kp,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"break-all",children:B.contactEmail})]})]}),i.jsxs("dl",{className:"mt-4 grid gap-3 text-xs text-muted-foreground md:grid-cols-2",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Compliance"}),i.jsx("span",{children:B.compliance.join(", ")||""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Focus areas"}),i.jsx("span",{children:B.focusAreas.join(", ")||""})]}),i.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Equipment"}),i.jsx("span",{children:B.equipment.join(", ")||""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Minimum stay"}),i.jsx("span",{children:B.minimumStay||""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Pricing"}),i.jsx("span",{children:B.pricePrivacy?"Quotes required":"Rates published"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Photos"}),i.jsx("span",{children:B.photos.length?`${B.photos.length} supplied`:""})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Compliance docs"}),i.jsx("span",{children:B.complianceDocs.length?`${B.complianceDocs.length} uploaded`:""})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsxs("button",{type:"button",onClick:()=>ke(B),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground transition hover:border-primary hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(S2,{className:"h-3.5 w-3.5"}),"Edit"]}),i.jsxs("button",{type:"button",onClick:()=>sr(B.id),disabled:I===B.id,className:"inline-flex items-center gap-2 rounded-full border border-destructive/40 px-3 py-1.5 text-xs font-medium text-destructive transition hover:bg-destructive/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-destructive disabled:cursor-not-allowed disabled:opacity-60",children:[i.jsx(E2,{className:"h-3.5 w-3.5"}),I===B.id?"Removing":"Remove"]})]})]},B.id))}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:d==="new"?"Add a lab partner":d?"Edit lab details":"Select a lab"}),d&&i.jsxs("button",{type:"button",onClick:()=>{we(),b(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:text-primary hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(Ws,{className:"h-3.5 w-3.5"}),"Cancel"]})]}),d?i.jsxs("form",{className:"mt-6 space-y-5",onSubmit:Xe,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-name",children:"Lab name"}),i.jsx("input",{id:"lab-name",type:"text",value:m.name,onChange:B=>re("name",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Atlas Applied Biology",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-location",children:"Location"}),i.jsx("input",{id:"lab-location",type:"text",value:m.location,onChange:B=>re("location",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston, MA",required:!0})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-manager",children:"Lab manager"}),i.jsx("input",{id:"lab-manager",type:"text",value:m.labManager,onChange:B=>re("labManager",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Naomi Chen"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-email",children:"Contact email"}),i.jsx("input",{id:"lab-email",type:"email",value:m.contactEmail,onChange:B=>re("contactEmail",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"labs+atlas@glass.demo",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-logo",children:"Logo (stored in Supabase)"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{id:"lab-logo",type:"file",accept:"image/*",onChange:M,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),m.logoUrl&&i.jsxs("button",{type:"button",onClick:()=>p(B=>({...B,logoUrl:""})),className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:border-destructive hover:text-destructive",children:[i.jsx(Ws,{className:"h-3 w-3"}),"Remove"]})]}),K&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),O&&i.jsx("p",{className:"text-xs text-destructive",children:O}),m.logoUrl&&i.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("img",{src:m.logoUrl,alt:`${m.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),i.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:m.logoUrl})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload saves to the `lab-logos` bucket. Keep files small (e.g., 300x300)."})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom feature)"}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders."}),k.length>0&&i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:k.map(B=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[i.jsx("img",{src:B.url,alt:B.name,className:"h-10 w-10 rounded object-cover"}),i.jsx("button",{type:"button",onClick:()=>be(B),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},B.url))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-description",children:"Lab description"}),i.jsx("textarea",{id:"lab-description",value:m.description,onChange:B=>re("description",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Short intro to the lab (shown on Lab Details)",rows:4}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional intro that appears on the lab detail page."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-offers-space",children:"Offers lab space?"}),i.jsxs("select",{id:"lab-offers-space",value:m.offersLabSpace,onChange:B=>re("offersLabSpace",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"yes",children:"Yes, accepting bench/space requests"}),i.jsx("option",{value:"no",children:"No, visibility only"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls whether pricing/offers show on the lab page."})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address1",children:"Address line 1 (internal)"}),i.jsx("input",{id:"lab-address1",type:"text",value:m.addressLine1,onChange:B=>re("addressLine1",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"123 Bio Ave"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address2",children:"Address line 2 (internal)"}),i.jsx("input",{id:"lab-address2",type:"text",value:m.addressLine2,onChange:B=>re("addressLine2",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Suite, floor, etc."})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-city",children:"City (internal)"}),i.jsx("input",{id:"lab-city",type:"text",value:m.city,onChange:B=>re("city",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-state",children:"State/Region (internal)"}),i.jsx("input",{id:"lab-state",type:"text",value:m.state,onChange:B=>re("state",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"MA"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-postal",children:"Postal code (internal)"}),i.jsx("input",{id:"lab-postal",type:"text",value:m.postalCode,onChange:B=>re("postalCode",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"02118"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-country",children:"Country (internal)"}),i.jsx("input",{id:"lab-country",type:"text",value:m.country,onChange:B=>re("country",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"United States"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-website",children:"Website (optional)"}),i.jsx("input",{id:"lab-website",type:"url",value:m.website,onChange:B=>re("website",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://labs.example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-linkedin",children:"LinkedIn (optional)"}),i.jsx("input",{id:"lab-linkedin",type:"url",value:m.linkedin,onChange:B=>re("linkedin",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://www.linkedin.com/company/example"})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-siret",children:"SIRET (internal)"}),i.jsx("input",{id:"lab-siret",type:"text",value:m.siretNumber,onChange:B=>re("siretNumber",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"14-digit SIRET"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal use only; not shown publicly."})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-verification",children:"Verification status"}),i.jsxs("select",{id:"lab-verification",value:m.verification,onChange:B=>re("verification",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"yes",children:"Verified"}),i.jsx("option",{value:"no",children:"Pending verification"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-visibility",children:"Visibility"}),i.jsxs("select",{id:"lab-visibility",value:m.isVisible,onChange:B=>re("isVisible",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"yes",children:"Visible in directory"}),i.jsx("option",{value:"no",children:"Hidden (admin only)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-pricePrivacy",children:"Price privacy"}),i.jsxs("select",{id:"lab-pricePrivacy",value:m.pricePrivacy,onChange:B=>re("pricePrivacy",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[i.jsx("option",{value:"no",children:"Rates published"}),i.jsx("option",{value:"yes",children:"Quotes required"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-compliance",children:"Compliance (comma separated)"}),i.jsx("input",{id:"lab-compliance",type:"text",value:m.compliance,onChange:B=>re("compliance",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"BSL-2, ISO 7 Cleanroom"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: BSL-2, ISO 7 Cleanroom, GMP-aligned SOPs."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-complianceDocs",children:"Compliance certificates (PDF)"}),i.jsx("input",{id:"lab-complianceDocs",type:"file",accept:"application/pdf",multiple:!0,onChange:Te,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploads are stored in the Supabase bucket `lab-pdfs`."}),i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:j.map(B=>i.jsxs("button",{type:"button",onClick:()=>ve(B),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 transition hover:border-destructive hover:text-destructive",children:[i.jsx(w2,{className:"h-3 w-3 text-primary"}),B.name,i.jsx(Ws,{className:"h-3 w-3"})]},B.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",value:m.complianceDocUrlInput,onChange:B=>re("complianceDocUrlInput",B.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/certificate.pdf"}),i.jsxs("button",{type:"button",onClick:fe,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(T2,{className:"h-4 w-4"}),"Add URL"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload or link to safety certifications. These appear alongside compliance notes for researchers."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-focusAreas",children:"Focus areas (comma separated)"}),i.jsx("input",{id:"lab-focusAreas",type:"text",value:m.focusAreas,onChange:B=>re("focusAreas",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Cell therapy, Process development"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Offers"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:Ld.map(B=>i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",checked:m.offers.includes(B),onChange:()=>de(B),className:"h-4 w-4 rounded border-border text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary"}),B]},B))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-equipment",children:"Equipment (comma separated)"}),i.jsx("textarea",{id:"lab-equipment",value:m.equipment,onChange:B=>re("equipment",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Single-use bioreactors, Cryostorage, Sequencing core",rows:3}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"List flagship instrumentation available to teams."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-minimumStay",children:"Minimum stay / commitment"}),i.jsx("input",{id:"lab-minimumStay",type:"text",value:m.minimumStay,onChange:B=>re("minimumStay",B.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"20 lab hours per month"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-photos",children:"Lab photos"}),i.jsx("input",{id:"lab-photos",type:"file",accept:"image/*",multiple:!0,onChange:Re,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:N.map(B=>i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-border",children:[i.jsx("img",{src:B.url,alt:B.name,className:"h-24 w-full object-cover"}),i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-muted-foreground bg-background/80",children:[i.jsx("span",{className:"truncate",children:B.name}),i.jsx("button",{type:"button",onClick:()=>V(B),className:"rounded-full border border-border px-2 py-0.5 text-[10px] uppercase tracking-[0.2em] transition hover:border-destructive hover:text-destructive",children:"Remove"})]})]},B.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",value:m.photoUrlInput,onChange:B=>re("photoUrlInput",B.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/photo.jpg"}),i.jsxs("button",{type:"button",onClick:Y,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[i.jsx(j2,{className:"h-4 w-4"}),"Add URL"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload photos directly or link to hosted images. The first photo is used for the public thumbnail."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[i.jsxs("button",{type:"submit",disabled:E,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary disabled:opacity-60 disabled:cursor-not-allowed",children:[i.jsx(_2,{className:"h-4 w-4"}),E?"Saving":"Save changes"]}),i.jsxs("button",{type:"button",onClick:()=>{we(),b(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[i.jsx(Ws,{className:"h-4 w-4"}),"Cancel"]})]})]}):i.jsx("div",{className:"mt-16 text-center text-sm text-muted-foreground",children:"Select a lab from the list or choose Add lab to create a new listing."})]})]})]})})}const G$=[{name:"Base",monthly_price:0,description:"Launch on GLASS-Connect with the essentials.",highlights:["Profile page","Equipment showcase","Inbound contact form"],featured:!1},{name:"Verified",monthly_price:99,description:"Add the badge researchers trust.",highlights:["Remote/on-site verification","Badge on listing","Priority placement"],featured:!1},{name:"Premier",monthly_price:199,description:"Flagship placement plus media support.",highlights:["Free verification","Direct collaboration management","Seminar access"],featured:!0},{name:"Custom",monthly_price:null,description:"For networks or operators managing multiple labs.",highlights:["Central billing","Dedicated partner manager","API & tooling access"],featured:!1}];function Y1(){const[t,e]=y.useState(G$),[r,n]=y.useState(!1);return y.useEffect(()=>{let o=!0;async function l(){n(!0);try{const c=await fetch("/api/pricing"),d=c.headers.get("content-type")||"";if(!c.ok||!d.includes("application/json")){await c.text();return}const h=await c.json();o&&Array.isArray(h?.tiers)&&h.tiers.length&&e(h.tiers.map(m=>({name:m.name,monthly_price:m.monthly_price===void 0?null:m.monthly_price,description:m.description,highlights:Array.isArray(m.highlights)?m.highlights:[],featured:!!m.featured})))}catch{}finally{o&&n(!1)}}return l(),()=>{o=!1}},[]),{tiers:t,loading:r}}function Q$(){const{tiers:t}=Y1();return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl space-y-6",children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.3em] text-muted-foreground",children:"GLASS-Connect pricing"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground leading-tight",children:"Simple plans to showcase your lab. No hidden fees."}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose how visible you want to be on GLASS-Connect. Switch tiers anytime; your listing stays live."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Se,{href:"/admin/labs",children:i.jsx("a",{className:"inline-flex items-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"List your lab"})}),i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs on GLASS-Connect"})})]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-14 grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.name.toLowerCase(),n=e.name==="Custom"?`/payments?plan=${r}#custom`:`/payments?plan=${r}`,o=e.monthly_price??e.monthlyPrice,l=o===0||o==="0",c=o!=null&&!l,d=l?"Free":c?`${o}`:"Custom";return i.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${e.featured?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),i.jsxs("p",{className:"mt-3 text-4xl font-semibold text-foreground",children:[d,c&&i.jsx("span",{className:"text-base text-muted-foreground",children:" / month"})]})]}),e.featured&&i.jsx(Cp,{className:"h-6 w-6 text-primary"})]}),i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:e.description}),i.jsx("ul",{className:"mt-6 space-y-3 text-sm text-muted-foreground",children:e.highlights.map(h=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx(m2,{className:"h-4 w-4 text-primary"}),h]},h))}),e.name==="Custom"?i.jsx(Se,{href:n,children:i.jsxs("a",{className:"mt-6 inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Talk to partnerships",i.jsx(Ch,{className:"ml-2 h-4 w-4"})]})}):i.jsx(Se,{href:n,children:i.jsx("a",{className:"mt-6 inline-flex items-center rounded-full bg-foreground px-4 py-2 text-sm font-medium text-background transition hover:bg-foreground/90",children:"Get started"})})]},e.name)})}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-12 grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Add-ons"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification visits: 250500 depending on geography. Remote verifications are available if you already have documented SOPs."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Need ACH, wire, or invoices? Use the Custom intake on the plan details page and well send tailored options."})]}),i.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"After you subscribe"}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsx("li",{children:"Stripe emails a receipt instantly and your listing stays live as you edit."}),i.jsx("li",{children:"GLASS-Connect activates your listing within one business day and schedules verification if needed."}),i.jsx("li",{children:"Weekly Fridays: we highlight new labs and route qualified requests right to your inbox."})]}),i.jsx(Se,{href:"/payments?plan=base",children:i.jsxs("a",{className:"inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["View plan details",i.jsx(Ch,{className:"ml-2 h-4 w-4"})]})})]})]}),i.jsxs("div",{className:"mt-12 flex flex-wrap gap-3",children:[i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs"})}),i.jsx(Se,{href:"/admin/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage my lab profile"})}),i.jsxs("a",{href:"mailto:contact@glass-funding.com",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Contact support",i.jsx(Ch,{className:"ml-2 h-4 w-4"})]})]})]})})}function J$(){return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28 max-w-4xl",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[i.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab profile setup"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-semibold leading-tight text-foreground",children:"Share the essentials about your lab before it appears in listings."}),i.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Lab managers can use this guide to collect everything needed for the public listing and verification badge. Once you have the details and documents ready, jump into the editor to publish or update your profile."})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-12 grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(p2,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"What to prepare"})]}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[i.jsx("li",{children:"Core lab details: location, lab manager, contact email, and equipment list."}),i.jsx("li",{children:"Focus areas and booking offers (monthly, hourly, day rates, or equipment-only access)."}),i.jsx("li",{children:"Minimum stay expectations and any special onboarding notes for new teams."})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(x2,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Upload requirements"})]}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[i.jsx("li",{children:"High-quality photos of the facility and key equipment (at least one required)."}),i.jsx("li",{children:"Optional hosted photo URLs if your lab already has imagery online."}),i.jsx("li",{children:"Safety/compliance certificates (PDF) to display alongside credential summaries."})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Verification badge checklist"})]}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"After you submit your profile, Glass coordinates a location-based site visit. A representative will confirm the equipment, access controls, and safety documentation on file. Keep digital copies handy for the visit and make sure the listed contact can host the walkthrough."}),i.jsx("div",{className:"mt-4 rounded-2xl border border-border bg-background/60 p-5 text-sm text-muted-foreground",children:i.jsx("p",{children:"Remember: rental agreements, insurance coverage, and day-to-day operations stay between your team and the researchers. Glass provides the marketplace and verification layer, but does not intermediate leases or liability."})})]})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-12 flex flex-wrap gap-3",children:[i.jsx(Se,{href:"/lab/manage",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Open lab editor"})}),i.jsx(Se,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Review listing pricing"})}),i.jsx("a",{href:"mailto:support@glass.demo",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact the Glass team"})]})]})})}function Z$(){return E0.useSyncExternalStore(Y$,()=>!0,()=>!1)}function Y$(){return()=>{}}var $g="Avatar",[X$]=Qo($g),[eB,X1]=X$($g),ek=y.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[o,l]=y.useState("idle");return i.jsx(eB,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:i.jsx(Ct.span,{...n,ref:e})})});ek.displayName=$g;var tk="AvatarImage",rk=y.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...l}=t,c=X1(tk,r),d=tB(n,l),h=zn(m=>{o(m),c.onImageLoadingStatusChange(m)});return Wn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?i.jsx(Ct.img,{...l,ref:e,src:n}):null});rk.displayName=tk;var nk="AvatarFallback",sk=y.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...o}=t,l=X1(nk,r),[c,d]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?i.jsx(Ct.span,{...o,ref:e}):null});sk.displayName=nk;function w0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tB(t,{referrerPolicy:e,crossOrigin:r}){const n=Z$(),o=y.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[c,d]=y.useState(()=>w0(l,t));return Wn(()=>{d(w0(l,t))},[l,t]),Wn(()=>{const h=x=>()=>{d(x)};if(!l)return;const m=h("loaded"),p=h("error");return l.addEventListener("load",m),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",p)}},[l,r,e]),c}var ik=ek,ok=rk,ak=sk;const Bg=y.forwardRef(({className:t,...e},r)=>i.jsx(ik,{ref:r,className:pt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bg.displayName=ik.displayName;const qg=y.forwardRef(({className:t,...e},r)=>i.jsx(ok,{ref:r,className:pt("aspect-square h-full w-full",t),...e}));qg.displayName=ok.displayName;const zg=y.forwardRef(({className:t,...e},r)=>i.jsx(ak,{ref:r,className:pt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));zg.displayName=ak.displayName;function rB(){const t="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",{user:e,loading:r,signOut:n}=ur(),[o,l]=y.useState(null),[c,d]=y.useState(!0),[h,m]=y.useState(!1),[p,x]=y.useState(null),[b,N]=y.useState(""),[_,j]=y.useState(""),[w,k]=y.useState(""),[C,E]=y.useState(""),[R,I]=y.useState(null),[U,K]=y.useState(!1),[Z,O]=y.useState(""),[G,ce]=y.useState(""),[Q,ne]=y.useState(""),[te,ke]=y.useState(""),[we,re]=y.useState(""),[ee,de]=y.useState("France");y.useEffect(()=>{async function fe(){if(!e){l(null),d(!1);return}const{data:Te,error:V}=await We.from("profiles").select("user_id,email,display_name,role,subscription_status,name,avatar_url,created_at,updated_at,legal_full_name,address_line1,address_line2,city,postal_code,country").eq("user_id",e.id).maybeSingle();V?(console.error("Error fetching profile:",V.message),l(null)):(l(Te||null),Te?(N(Te.name??""),j(Te.display_name??""),k(Te.role??""),E(Te.subscription_status??""),I(Te.avatar_url??null),O(Te.legal_full_name??""),ce(Te.address_line1??""),ne(Te.address_line2??""),ke(Te.city??""),re(Te.postal_code??""),de(Te.country??ee)):(k("user"),E("none"))),d(!1)}r||fe();const{data:Re}=We.auth.onAuthStateChange((Te,V)=>{V?.user?fe():l(null)});return()=>{try{Re?.subscription?.unsubscribe?.(),Re?.unsubscribe?.()}catch{}}},[r,e?.id]);const M=async()=>{await n()},T=async()=>{if(x(null),m(!0),!e){x("You must be logged in to save your profile."),m(!1);return}try{const fe={user_id:e.id,email:e.email,name:b||null,display_name:_||null,avatar_url:R||null,legal_full_name:Z||null,address_line1:G||null,address_line2:Q||null,city:te||null,postal_code:we||null,country:ee||null},{error:Re}=await We.from("profiles").upsert(fe,{onConflict:"user_id"});if(Re)throw Re;l(Te=>({...Te??{},...fe}))}catch(fe){console.error(fe),x(fe.message||"Failed to save profile.")}finally{m(!1)}};async function Y(fe){const Re=fe.target.files?.[0];if(!(!Re||!e)){K(!0),x(null);try{const Te=Re.name.split(".").pop()?.toLowerCase()||"png",V=`${e.id}/avatar.${Te}`,{error:ve}=await We.storage.from("avatars").upload(V,Re,{cacheControl:"3600",upsert:!0,contentType:Re.type});if(ve)throw ve;const{data:be}=We.storage.from("avatars").getPublicUrl(V),$e=be.publicUrl;I($e);const{error:Xe}=await We.from("profiles").upsert({user_id:e.id,email:e.email,avatar_url:$e},{onConflict:"user_id"});if(Xe)throw Xe}catch(Te){console.error(Te),x(Te.message||"Failed to upload avatar.")}finally{K(!1)}}}return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"max-w-2xl space-y-4",children:[i.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Account preview"}),i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Your Glass profile"}),i.jsx("p",{className:"text-muted-foreground",children:"This page will eventually show your verified status, saved labs, requests, and billing."})]}),i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Browse labs"})})]}),i.jsxs("div",{className:"mt-12 grid gap-8 lg:grid-cols-2",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Profile Info"}),c||r?i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading profile..."}):o?i.jsxs("div",{className:"mt-4 space-y-2 text-sm text-foreground",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",o.name||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Display name:"})," ",o.display_name||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",e?.email||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Role:"})," ",o.role||w||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Subscription:"})," ",o.subscription_status||C||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Legal name:"})," ",o.legal_full_name||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Company:"})," ",o.company_name||""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Address:"})," ",o.address_line1||o.address_line2||o.city||o.postal_code||o.country?`${o.address_line1??""} ${o.address_line2??""} ${o.postal_code??""} ${o.city??""} ${o.country??""}`:""]}),i.jsx("button",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",onClick:M,children:"Sign out"})]}):i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"You are not signed in or profile not created yet."})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:o?"Edit your profile":"Create your profile"}),p&&i.jsx("p",{className:"text-sm text-destructive mt-2",children:p}),i.jsxs("form",{className:"mt-6 space-y-4",onSubmit:fe=>fe.preventDefault(),children:[i.jsx(un,{label:"Avatar",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Bg,{className:"h-14 w-14",children:[i.jsx(qg,{src:R??void 0,alt:_||b||"Avatar"}),i.jsx(zg,{className:"text-base font-semibold bg-muted",children:(_||b||e?.email||"?").slice(0,2).toUpperCase()})]}),i.jsxs("label",{className:"inline-flex items-center rounded-full border px-3 py-2 text-xs font-medium cursor-pointer hover:border-primary hover:text-primary",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Y}),U?"Uploading":"Upload photo"]})]})}),i.jsx(un,{label:"Full name",children:i.jsx("input",{className:t,value:b,onChange:fe=>N(fe.target.value)})}),i.jsx(un,{label:"Display name",children:i.jsx("input",{className:t,value:_,onChange:fe=>j(fe.target.value)})}),i.jsx(un,{label:"Legal full name (for receipts)",children:i.jsx("input",{className:t,value:Z,onChange:fe=>O(fe.target.value),placeholder:"Legal name for individual receipts"})}),i.jsx(un,{label:"Address line 1",children:i.jsx("input",{className:t,value:G,onChange:fe=>ce(fe.target.value),placeholder:"Street and number"})}),i.jsx(un,{label:"Address line 2 (optional)",children:i.jsx("input",{className:t,value:Q,onChange:fe=>ne(fe.target.value),placeholder:"Apartment, suite, etc."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(un,{label:"City",children:i.jsx("input",{className:t,value:te,onChange:fe=>ke(fe.target.value)})}),i.jsx(un,{label:"Postal code",children:i.jsx("input",{className:t,value:we,onChange:fe=>re(fe.target.value)})})]}),i.jsx(un,{label:"Country",children:i.jsx("input",{className:t,value:ee,onChange:fe=>de(fe.target.value)})}),i.jsx(un,{label:"Email",children:i.jsx("input",{className:t,value:e?.email??"",disabled:!0})}),i.jsx(un,{label:"Role",children:i.jsx("input",{className:t,value:w,disabled:!0})}),i.jsx(un,{label:"Subscription status",children:i.jsx("input",{className:t,value:C,disabled:!0})}),i.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",onClick:T,disabled:h,children:h?"Saving...":"Save profile"})]})]})]})]})})}function un({label:t,children:e}){return i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:t}),e]})}function nB(){const{user:t,loading:e}=ur(),{labs:r}=ri(),[n,o]=y.useState(null),[l,c]=y.useState(!0),[d,h]=y.useState(null),[m,p]=y.useState(!1),[x,b]=y.useState([]),[N,_]=y.useState(null),[j,w]=y.useState(0),[k,C]=y.useState(0),[E,R]=y.useState([]),[I,U]=y.useState(!1),[K,Z]=y.useState(!1),[O,G]=y.useState(null),[ce,Q]=y.useState(null),[ne,te]=y.useState(""),[ke,we]=y.useState(""),[re,ee]=y.useState("update"),[de,M]=y.useState(null),[T,Y]=y.useState([]),[fe,Re]=y.useState(!1),[Te,V]=y.useState(!0),[ve,be]=y.useState([]),[$e,Xe]=y.useState(!1),[sr,B]=y.useState(null),[Ce,z]=y.useState(!1),[Ee,ye]=y.useState(null),[xe,lt]=y.useState(!1),[ot,A]=y.useState(null),[F,H]=y.useState(null),[he,me]=y.useState({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""}),[ue,je]=y.useState(!1),[Je,at]=y.useState(""),[Ut,_r]=y.useState(""),[Xt,X]=y.useState(null),[ge,Ht]=y.useState(null),[ir,It]=y.useState(null),[kr,en]=y.useState(!1),ni=y.useMemo(()=>n?.display_name||n?.name||t?.email||"Your Account",[n?.display_name,n?.name,t?.email]),ra=y.useMemo(()=>{const Oe=(n?.display_name||n?.name||t?.email||"?").replace(/@.*/,"").trim().split(/\s+/);return(Oe.length>=2?Oe[0][0]+Oe[1][0]:Oe[0][0]).toUpperCase()},[n?.display_name,n?.name,t?.email]);y.useEffect(()=>{async function J(){if(!t){o(null),c(!1);return}const{data:Oe,error:ut}=await We.from("profiles").select("user_id,email,display_name,name,role,subscription_status,subscription_tier,avatar_url,created_at,updated_at").eq("user_id",t.id).maybeSingle();ut?(h(ut.message),o(null)):o(Oe??null),c(!1)}e||J()},[e,t?.id]),y.useEffect(()=>{async function J(){if(!t){b([]);return}p(!0);try{const{data:Oe}=await We.auth.getSession(),ut=Oe.session?.access_token,mt=ut?{Authorization:`Bearer ${ut}`}:{},vt=await fetch("/api/my-labs/analytics",{headers:mt});if(vt.ok){const or=await vt.json();b(or?.labs??[]),_(null)}else{const or=await vt.text();_(or||"Unable to load analytics")}try{const or=await fetch("/api/my-labs/requests",{headers:mt}),tn=or.headers.get("content-type")||"";if(or.ok&&tn.includes("application/json")){const Ur=await or.json();w(Array.isArray(Ur?.collaborations)?Ur.collaborations.length:0),C(Array.isArray(Ur?.contacts)?Ur.contacts.length:0)}}catch{}try{const or=await fetch("/api/favorites",{headers:mt}),tn=or.headers.get("content-type")||"";if(or.ok&&tn.includes("application/json")){const Ur=await or.json(),Jl=Array.isArray(Ur?.labIds)?Ur.labIds:[];R(Jl.map($i=>Number($i)).filter($i=>!Number.isNaN($i)))}}catch{}}catch(Oe){_(Oe.message||"Unable to load dashboard data")}finally{p(!1)}}e||J()},[e,t?.id]);const Qn=(()=>{const J=n?.subscription_tier?.toLowerCase?.()??"base";return J==="premier"?"Premier":J==="verified"?"Verified":J==="custom"?"Custom":"Base"})();x.filter(J=>J.isVisible!==!1).length;const Jn=x.filter(J=>J.isVisible===!1).length,Wl=x.filter(J=>(J.subscriptionTier||"").toLowerCase()==="premier"),Kl=x.reduce((J,Oe)=>J+(Oe.views7d||0),0),Hl=x.reduce((J,Oe)=>J+(Oe.views30d||0),0),Gl=x.reduce((J,Oe)=>J+(Oe.favorites||0),0),si=x.reduce((J,Oe)=>Oe.views30d>(J?.views30d??-1)?Oe:J,x.length?x[0]:null),ps=x.reduce((J,Oe)=>Oe.favorites>(J?.favorites??-1)?Oe:J,x.length?x[0]:null),Ql=E.length?r.filter(J=>E.includes(J.id)):[],gs=n&&(n.role==="admin"||n.role==="multi-lab"||Wl.length>0),na=gs,xs=J=>{const Oe=x.find(vt=>vt.id===J);if(Oe&&Oe.isVerified!==void 0){const vt=Oe.isVerified;return vt===!0||vt==="true"||vt===1||vt==="1"}const ut=r.find(vt=>vt.id===J),mt=ut?.isVerified??ut?.is_verified;return mt===!0||mt==="true"||mt===1||mt==="1"},Vi=y.useMemo(()=>x.filter(J=>(J.subscriptionTier||"").toLowerCase()==="premier"),[x]),ys=y.useMemo(()=>r.filter(J=>J.ownerUserId===t?.id||J.owner_user_id===t?.id||x.some(Oe=>Oe.id===J.id)),[r,x,t?.id]),vs=y.useMemo(()=>ys.filter(J=>!xs(J.id)),[ys]);y.useEffect(()=>{Vi.length&&!de&&M(Vi[0].id)},[Vi,de]);async function Ui(J){if(!(!J||!J.length)){G(null),Re(!0);try{const Oe=Array.from(J).slice(0,4-T.length),ut=[];for(const mt of Oe){const vt=mt.name.replace(/\s+/g,"-").toLowerCase(),or=`news/${t?.id??"anon"}/${Date.now()}-${vt}`,{error:tn}=await We.storage.from("lab-news").upload(or,mt,{upsert:!0,contentType:mt.type});if(tn)throw tn;const{data:Ur}=We.storage.from("lab-news").getPublicUrl(or);Ur?.publicUrl&&ut.push({url:Ur.publicUrl,name:mt.name})}Y(mt=>[...mt,...ut].slice(0,4))}catch(Oe){G(Oe?.message||"Unable to upload photos")}finally{Re(!1)}}}async function sa(){if(!de){G("Select a lab to post this update.");return}if(!ne.trim()||!ke.trim()){G("Title and summary are required.");return}Z(!0),G(null),Q(null);try{const{data:J}=await We.auth.getSession(),Oe=J.session?.access_token,ut={"Content-Type":"application/json",...Oe?{Authorization:`Bearer ${Oe}`}:{}},mt=await fetch("/api/news",{method:"POST",headers:ut,body:JSON.stringify({labId:de,title:ne.trim(),summary:ke.trim(),category:re,images:T,authorId:t?.id??null})});if(!mt.ok){const vt=await mt.text();throw new Error(vt||"Unable to post news")}Q("Sent! We'll review and publish it soon."),te(""),we(""),Y([]),U(!1)}catch(J){G(J?.message||"Unable to post news")}finally{Z(!1)}}async function Id(){if(!Ee){A("Select a lab to verify.");return}if(xs(Ee)){lt(!1),A("This lab is already verified by GLASS."),typeof window<"u"&&alert("This lab is already verified by GLASS.");return}lt(!0),A(null),H(null);try{const{data:J}=await We.auth.getSession(),Oe=J.session?.access_token,ut={"Content-Type":"application/json",...Oe?{Authorization:`Bearer ${Oe}`}:{}},mt=await fetch("/api/verification-requests",{method:"POST",headers:ut,body:JSON.stringify({labId:Ee,...he})});if(!mt.ok){const vt=await mt.text();throw new Error(vt||"Unable to submit verification request")}H("Request received! We will reach out to schedule verification (additional cost applies)."),z(!1),me({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""})}catch(J){A(J?.message||"Unable to submit verification request")}finally{lt(!1)}}return y.useEffect(()=>{async function J(){if(t){Xe(!0),B(null);try{const{data:Oe}=await We.auth.getSession(),ut=Oe.session?.access_token,mt=ut?{Authorization:`Bearer ${ut}`}:{},vt=await fetch("/api/news/mine",{headers:mt}),or=vt.headers.get("content-type")||"";if(!vt.ok||!or.includes("application/json"))throw await vt.text(),new Error("Unable to load news");const tn=await vt.json();be(Array.isArray(tn?.news)?tn.news:[])}catch(Oe){B(Oe?.message||"Unable to load news"),be([])}finally{Xe(!1)}}}e||J()},[e,t?.id]),i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Bg,{className:"h-14 w-14",children:[i.jsx(qg,{src:n?.avatar_url??void 0,alt:ni}),i.jsx(zg,{className:"text-base font-semibold bg-gradient-to-br from-indigo-500/20 to-pink-500/20 text-foreground",children:ra})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:ni}),i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:Qn})]}),i.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Your Glass profile overview."})]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx(Se,{href:"/account/edit",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Edit account"}),n&&n.role!=="user"&&i.jsx(Se,{href:"/requests",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Requests"}),n&&(n.role==="lab"||n.role==="admin"||n.role==="multi-lab")&&i.jsx(Se,{href:"/lab/manage",className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage lab"}),n&&n.role==="admin"&&i.jsx(Se,{href:"/admin/labs",className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10",children:"Admin labs"}),vs.length>0&&i.jsx("button",{type:"button",onClick:()=>{ye(vs[0]?.id??null),z(!0),A(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Get Verified by GLASS"}),i.jsxs(Se,{href:"/favorites",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:[i.jsx("span",{className:"mr-2 flex h-7 w-7 items-center justify-center rounded-full border border-border text-muted-foreground",children:""}),"Favorites (",Ql.length,")"]}),i.jsx(Se,{href:"/subscriptions",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Change plan"}),n&&(n.role==="lab"||n.role==="multi-lab"||n.role==="admin")&&i.jsx("button",{type:"button",onClick:()=>{je(!0),Ht(null),It(null),X(x[0]?.id??null)},className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Legal assistance"})]})]}),I&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>U(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Post a lab update"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"For premier/custom labs. Well review and feature these on the main page."}),i.jsxs("div",{className:"mt-4 grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),i.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:de??"",onChange:J=>M(Number(J.target.value)),children:Vi.map(J=>i.jsx("option",{value:J.id,children:J.name},J.id))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Title"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"New equipment, collaboration call, milestone",value:ne,onChange:J=>te(J.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Summary"}),i.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Quick blurb for the homepage ticker.",value:ke,onChange:J=>we(J.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Category"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:re,onChange:J=>ee(J.target.value),children:[i.jsx("option",{value:"update",children:"Update"}),i.jsx("option",{value:"equipment",children:"New equipment"}),i.jsx("option",{value:"project",children:"New project"}),i.jsx("option",{value:"collaboration",children:"Collaboration request"}),i.jsx("option",{value:"announcement",children:"Announcement"})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Photos (up to 4)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(J=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[160px] truncate",children:J.name}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>Y(Oe=>Oe.filter(ut=>ut.url!==J.url)),children:"Remove"})]},J.url))}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3",children:[i.jsx("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Upload photos"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:async J=>{await Ui(J.target.files),J.target&&(J.target.value="")},disabled:T.length>=4||fe})]}),fe&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Uploading"})]})]}),O&&i.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:O}),ce&&i.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:ce}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>U(!1),disabled:K,children:"Cancel"}),i.jsx("button",{type:"button",onClick:sa,disabled:K,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:K?"Sending":"Send update"})]})]})]})}),Ce&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>z(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Get verified by GLASS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification includes an on-site visit and carries an additional cost. Choose a lab and provide an address if missing."}),i.jsxs("div",{className:"mt-4 grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),i.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Ee??"",onChange:J=>ye(Number(J.target.value)),children:vs.map(J=>i.jsx("option",{value:J.id,children:J.name},J.id))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 1"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Street address",value:he.addressLine1,onChange:J=>me(Oe=>({...Oe,addressLine1:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 2"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Suite / Unit (optional)",value:he.addressLine2,onChange:J=>me(Oe=>({...Oe,addressLine2:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:he.city,onChange:J=>me(Oe=>({...Oe,city:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"State/Region"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:he.state,onChange:J=>me(Oe=>({...Oe,state:J.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Postal code"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:he.postalCode,onChange:J=>me(Oe=>({...Oe,postalCode:J.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Country"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:he.country,onChange:J=>me(Oe=>({...Oe,country:J.target.value}))})]})]}),ot&&i.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:ot}),F&&i.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:F}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>z(!1),disabled:xe,children:"Cancel"}),i.jsx("button",{type:"button",onClick:Id,disabled:xe,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:xe?"Sending":"Submit request"})]})]})]})}),ue&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>je(!1),children:""}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Connect with legal support"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Well connect you with our legal expert for contract help."}),i.jsxs("div",{className:"mt-4 grid gap-3",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Topic"}),i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Je,onChange:J=>at(J.target.value)})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Details"}),i.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Ut,onChange:J=>_r(J.target.value),placeholder:"Share context and any timelines."})]}),x.length>0&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Related lab"}),i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Xt??"",onChange:J=>X(Number(J.target.value)),children:[i.jsx("option",{value:"",children:"Select lab (optional)"}),x.map(J=>i.jsx("option",{value:J.id,children:J.name},J.id))]})]}),ge&&i.jsx("p",{className:"text-sm text-destructive",children:ge}),ir&&i.jsx("p",{className:"text-sm text-emerald-600",children:ir}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>je(!1),disabled:kr,children:"Cancel"}),i.jsx("button",{type:"button",onClick:async()=>{if(!Je.trim()||!Ut.trim()){Ht("Topic and details are required.");return}en(!0),Ht(null),It(null);try{const J=await fetch("/api/legal-assist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:Je.trim(),details:Ut.trim(),labId:Xt||void 0,name:ni,email:n?.email||t?.email||""})});if(!J.ok){const Oe=await J.text();throw new Error(Oe||"Unable to send request")}It("Sent! Well connect you with our legal contact shortly."),at(""),_r(""),X(x[0]?.id??null),je(!1)}catch(J){Ht(J?.message||"Unable to send request")}finally{en(!1)}},className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",disabled:kr,children:kr?"Sending":"Send"})]})]})]})}),na&&i.jsxs("div",{className:"mt-10 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[i.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent updates from your labs"})]})}),$e&&i.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),sr&&i.jsxs("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:[sr,". You can still post a new update below."]}),!$e&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-4 min-w-full",children:[i.jsxs("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground mb-1",children:"Share an update"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Post equipment arrivals, collaborations, or milestones."})]}),i.jsx("button",{type:"button",onClick:()=>{U(!0),G(null)},className:"mt-3 inline-flex items-center justify-center rounded-full bg-primary px-3 py-2 text-xs font-medium text-primary-foreground transition hover:bg-primary/90",children:"Create post"})]}),ve.length>0&&ve.map(J=>{const Oe=J.labs?.name||`Lab ${J.lab_id}`,ut=J.created_at?new Date(J.created_at).toLocaleDateString():"";return i.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[i.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:i.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:J.category||"update"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:J.title}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:J.summary})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{className:"truncate",children:Oe}),i.jsx("span",{className:"text-[11px]",children:ut})]}),i.jsx("div",{className:"flex items-center gap-2",children:J.images?.slice(0,2).map(mt=>i.jsx("img",{src:mt.url,alt:mt.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},mt.url))})]},J.id)})]})})]}),gs&&i.jsx("div",{className:"mt-8 flex flex-col gap-6 lg:flex-row",children:i.jsxs(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 cursor-pointer select-none",onClick:()=>V(J=>!J),children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Dashboard"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Your activity at a glance"})]}),i.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:Te?"Collapse":"Expand"})]}),Te&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsx(bi,{label:"Tier",value:Qn,hint:n?.subscription_status||""}),i.jsx(bi,{label:"Labs linked",value:x.length.toString(),hint:Jn?`${Jn} hidden`:""}),i.jsx(bi,{label:"Views (7d total)",value:Kl.toString()}),i.jsx(bi,{label:"Views (30d total)",value:Hl.toString()}),i.jsx(bi,{label:"Favorites total",value:Gl.toString()}),i.jsx(bi,{label:"Collab requests",value:j.toString()}),i.jsx(bi,{label:"Rent/contact requests",value:k.toString()}),N&&i.jsx("div",{className:"col-span-full rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:N})]}),x.length>0&&i.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[si&&i.jsx(j0,{title:"Best performing",subtitle:"Most views (30d)",primary:`${si.views30d} views`,secondary:si.name,badge:(si.subscriptionTier||"").toLowerCase()==="premier"?"Premium":void 0}),ps&&i.jsx(j0,{title:"Most favorited",subtitle:"Total favorites",primary:`${ps.favorites} favorites`,secondary:ps.name,badge:(ps.subscriptionTier||"").toLowerCase()==="premier"?"Premium":void 0})]}),x.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Linked labs"}),i.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:x.map(J=>{const Oe=(J.subscriptionTier||"").toLowerCase(),ut=Oe==="premier"||Oe==="custom";return i.jsxs("div",{className:"rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:J.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[ut?"Premier/Custom":Oe||"Base","  ",J.isVisible===!1?"Hidden":"Visible"]})]}),i.jsx(Se,{href:`/lab/manage/${J.id}`,className:"text-xs font-medium text-primary hover:underline",children:"Manage"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["7d views: ",J.views7d]}),i.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["30d views: ",J.views30d]}),i.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["Favorites: ",J.favorites]})]})]},J.id)})})]})]})]})})]})})}function bi({label:t,value:e,hint:r}){return i.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),i.jsx("p",{className:"mt-1 text-2xl font-semibold text-foreground",children:e}),r?i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:r}):null]})}function j0({title:t,subtitle:e,primary:r,secondary:n,badge:o}){return i.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),o?i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:o}):null]}),i.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:r}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n})]})}function sB(){const{user:t}=ur(),[e,r]=y.useState({labs:[],collaborations:[],contacts:[]}),[n,o]=y.useState(!0),[l,c]=y.useState(null),[d,h]=y.useState("collaboration"),[m,p]=y.useState(new Set),[x,b]=y.useState(new Set);y.useEffect(()=>{(async()=>{c(null),o(!0);try{const{data:w}=await We.auth.getSession(),k=w.session?.access_token,C=await fetch("/api/my-labs/requests",{headers:k?{Authorization:`Bearer ${k}`}:{}}),E=C.headers.get("content-type")||"";if(!C.ok||!E.includes("application/json")){const I=await C.text();throw new Error(I||"Unable to load requests")}const R=await C.json();r(R)}catch(w){c(w.message||"Unable to load requests")}finally{o(!1)}})()},[t?.id]);const N=async(w,k)=>{let C=!0;if(p(E=>{const R=new Set(E);return R.has(w)?(R.delete(w),C=!1):(R.add(w),C=!0),R}),C&&k.contact_email&&!x.has(w))try{const{data:E}=await We.auth.getSession(),R=E.session?.access_token;await fetch("/api/my-labs/requests/viewed",{method:"POST",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}},body:JSON.stringify({contactEmail:k.contact_email,labName:k.lab_name,type:d==="collaboration"?"collaboration":"rental"})}),b(I=>{const U=new Set(I);return U.add(w),U})}catch{}},_=w=>{const k=w.id??`${w.lab_id??""}-${w.lab_name??""}-${w.contact_email??""}-${w.created_at??""}`,C=w.created_at?new Date(w.created_at).toLocaleString():null,E=m.has(k);return i.jsxs("div",{className:"rounded-2xl border border-border bg-card/70",children:[i.jsxs("button",{type:"button",onClick:()=>N(k,w),className:"flex w-full items-center justify-between gap-4 px-4 py-3 text-left hover:bg-muted/50 transition",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:w.lab_name||"Unknown lab"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_name||"Unknown contact"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[C&&i.jsx("p",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:C}),i.jsx("span",{className:"text-xs text-primary",children:E?"Hide":"View"})]})]}),E&&i.jsxs("div",{className:"border-t border-border px-4 py-4 space-y-4 text-sm text-foreground",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Contact"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_email||"No email provided"}),w.preferred_contact&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Preferred: ",w.preferred_contact==="video_call"?"Video call":w.preferred_contact==="in_person"?"In person":"Email"]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Request"}),w.collaboration_focus&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Focus:"})," ",w.collaboration_focus]}),w.desired_timeline&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Timeline:"})," ",w.desired_timeline]}),w.target_labs&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Target labs:"})," ",w.target_labs]}),w.resources_offered&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Resources offered:"})," ",w.resources_offered]})]}),w.additional_notes&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Notes"}),i.jsx("p",{children:w.additional_notes})]}),w.message&&!w.collaboration_focus&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Message"}),i.jsx("p",{children:w.message})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[w.contact_email&&i.jsx("a",{href:`mailto:${encodeURIComponent(w.contact_email)}?subject=Re:%20${encodeURIComponent(w.lab_name||"your request")}`,className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-primary hover:border-primary",children:"Reply via email"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const R=`Video call with ${w.contact_name??"contact"} (${w.contact_email})`;navigator.clipboard?.writeText(R)}},children:"Schedule call"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const R=`${w.contact_name??"Contact"} <${w.contact_email}>`;navigator.clipboard?.writeText(R)}},children:"Copy contact"})]})]})]},k)},j=d==="collaboration"?e.collaborations:e.contacts;return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[i.jsx(Se,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Requests"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Inbox"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Collaboration or rental requests linked to your labs."})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[i.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="collaboration"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("collaboration"),children:["Collaboration (",e.collaborations.length,")"]}),i.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="contact"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("contact"),children:["Renting / contact (",e.contacts.length,")"]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-6 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:n?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests"}):l?i.jsx("p",{className:"text-sm text-destructive",children:l}):e.labs.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No labs linked to your account yet."}):j.length===0?i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",d," requests yet."]}):i.jsx("div",{className:"grid gap-3",children:j.map(_)})})]})})}function iB({params:t}){const e=Number(t?.id),{user:r}=ur(),[n,o]=y.useState(!0),[l,c]=y.useState(!1),[d,h]=y.useState(null),[m,p]=y.useState(null),[x,b]=y.useState("base"),[N,_]=y.useState(null),[j,w]=y.useState(null),[k,C]=y.useState(Number.isNaN(e)?null:e),[E,R]=y.useState(!0),[I,U]=y.useState([]),[K,Z]=y.useState(""),[O,G]=y.useState({name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",siretNumber:"",offersLabSpace:!1,description:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],complianceTags:[],equipmentTags:[],focusTags:[],offers:[],minimumStay:"",pricePrivacy:!1}),[ce,Q]=y.useState(!1),[ne,te]=y.useState(null),[ke,we]=y.useState([]),[re,ee]=y.useState({field:"complianceTags",value:""}),[de,M]=y.useState(!1),[T,Y]=y.useState(null);y.useEffect(()=>{(async()=>{h(null),p(null);try{if(!k)throw new Error("No lab selected. Go back and choose a lab.");const{data:z}=await We.auth.getSession(),Ee=z.session?.access_token;await B(k,Ee)}catch(z){h(z.message||"Unable to load your lab")}finally{o(!1)}})()},[r?.id,k]);async function fe(z){const Ee=z.target.files?.[0];if(Ee){te(null),Q(!0);try{const ye=Ee.name.split(".").pop()||"png",lt=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ye}`}`,{error:ot}=await We.storage.from("lab-logos").upload(lt,Ee,{upsert:!0,contentType:Ee.type});if(ot)throw ot;const{data:A}=We.storage.from("lab-logos").getPublicUrl(lt),F=A.publicUrl;G(H=>({...H,logoUrl:F})),p("Logo uploaded")}catch(ye){te(ye?.message||"Unable to upload logo")}finally{Q(!1)}}}async function Re(z){const Ee=z.target.files?.[0];if(Ee){p(null);try{const ye=Ee.name.split(".").pop()||"png",xe=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ye}`,ot=`${k?`labs/${k}/partners`:"partners"}/${xe}`,{error:A}=await We.storage.from("lab-logos").upload(ot,Ee,{upsert:!0,contentType:Ee.type});if(A)throw A;const{data:F}=We.storage.from("lab-logos").getPublicUrl(ot),H=F.publicUrl;we(he=>[...he,{name:Ee.name,url:H}]),G(he=>({...he,partnerLogos:[...he.partnerLogos,{name:Ee.name,url:H}]})),p("Partner logo uploaded")}catch(ye){p(ye?.message||"Unable to upload partner logo")}}}const Te=z=>{we(Ee=>Ee.filter(ye=>ye.url!==z)),G(Ee=>({...Ee,partnerLogos:Ee.partnerLogos.filter(ye=>ye.url!==z)}))},V=()=>{const z=K.trim();z&&(U(Ee=>[...Ee,{name:z.split("/").pop()??`Photo ${Ee.length+1}`,url:z}]),Z(""))},ve=z=>{U(Ee=>Ee.filter(ye=>ye.url!==z.url))};async function be(z){const Ee=z.target.files?.[0];if(!(!Ee||!k)){Y(null),M(!0);try{const ye=Ee.name.split(".").pop()||"jpg",xe=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${ye}`,lt=`labs/${k}/photos/${xe}`,{error:ot}=await We.storage.from("lab-photos").upload(lt,Ee,{upsert:!0,contentType:Ee.type});if(ot)throw ot;const{data:A}=We.storage.from("lab-photos").getPublicUrl(lt),F=A.publicUrl,H={name:Ee.name,url:F};U(he=>[...he,H]),p("Photo uploaded")}catch(ye){Y(ye?.message||"Unable to upload photo")}finally{M(!1),z.target&&(z.target.value="")}}}const $e=(z,Ee)=>{const ye=Ee.trim();ye&&G(xe=>xe[z].includes(ye)?xe:{...xe,[z]:[...xe[z],ye]})},Xe=(z,Ee)=>{G(ye=>({...ye,[z]:ye[z].filter(xe=>xe!==Ee)}))},sr=z=>Ee=>{Ee.key==="Enter"&&(Ee.preventDefault(),$e(z,re.value||Ee.target.value),ee({field:z,value:""}))};async function B(z,Ee){try{o(!0),h(null);const ye=await fetch(`/api/my-lab/${z}`,{headers:Ee?{Authorization:`Bearer ${Ee}`}:{}});if(!ye.ok){const lt=await ye.text();throw new Error(lt||"Unable to load lab")}const xe=await ye.json();C(xe.id),b((xe.subscriptionTier||"base").toLowerCase()),R(xe.isVisible!==!1),G({name:xe.name||"",location:xe.location||"",labManager:xe.labManager||"",contactEmail:xe.contactEmail||r?.email||"",logoUrl:xe.logoUrl||"",siretNumber:xe.siretNumber||"",offersLabSpace:xe.offersLabSpace??!0,description:xe.description||"",addressLine1:xe.addressLine1||"",addressLine2:xe.addressLine2||"",city:xe.city||"",state:xe.state||"",postalCode:xe.postalCode||"",country:xe.country||"",website:xe.website||"",linkedin:xe.linkedin||"",partnerLogos:xe.partnerLogos||[],complianceTags:xe.compliance||[],equipmentTags:xe.equipment||[],focusTags:xe.focusAreas||[],offers:xe.offers||[],minimumStay:xe.minimumStay||"",pricePrivacy:!!xe.pricePrivacy}),we(xe.partnerLogos||[]),U(xe.photos||[]),_(null),w(null);try{const lt=await fetch("/api/my-lab/analytics",{headers:Ee?{Authorization:`Bearer ${Ee}`}:{}});if(lt.ok){const ot=await lt.json();_({views7d:ot.views7d??0,views30d:ot.views30d??0,favorites:ot.favorites??0,recentFavorites:(ot.recentFavorites??[]).map(A=>({userId:A.userId,createdAt:A.createdAt}))})}else if(lt.status!==403){const ot=await lt.text();w(ot||"Unable to load analytics")}}catch(lt){w(lt.message||"Unable to load analytics")}}catch(ye){h(ye.message||"Unable to load your lab")}finally{o(!1)}}async function Ce(){c(!0),h(null),p(null);try{const{data:z}=await We.auth.getSession(),Ee=z.session?.access_token;if(!k)throw new Error("Select a lab first");const ye=await fetch(`/api/my-lab/${k}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ee?{Authorization:`Bearer ${Ee}`}:{}},body:JSON.stringify({name:O.name,location:O.location,labManager:O.labManager,contactEmail:O.contactEmail,logoUrl:O.logoUrl||null,siretNumber:O.siretNumber||null,offersLabSpace:O.offersLabSpace,description:O.description||null,ownerUserId:r?.id||null,addressLine1:O.addressLine1||null,addressLine2:O.addressLine2||null,city:O.city||null,state:O.state||null,postalCode:O.postalCode||null,country:O.country||null,website:O.website||null,linkedin:O.linkedin||null,photos:I,partnerLogos:O.partnerLogos,compliance:O.complianceTags,equipment:O.equipmentTags,focusAreas:O.focusTags,offers:O.offers,minimumStay:O.minimumStay,pricePrivacy:O.pricePrivacy})});if(!ye.ok){let xe="Failed to save";if((ye.headers.get("content-type")||"").includes("application/json"))try{xe=(await ye.json()).message||xe}catch{}else try{xe=await ye.text()}catch{}throw new Error(xe)}p("Saved")}catch(z){h(z.message||"Failed to save")}finally{c(!1)}}return i.jsxs("section",{className:"bg-background min-h-screen",children:[i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[i.jsx(Se,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage my lab"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Update basic details for your lab."}),k&&E===!1&&i.jsx("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-medium text-amber-800",children:"This lab is hidden from the public directory"}),!k&&i.jsxs("p",{className:"mt-4 text-sm text-destructive",children:["No lab selected. Go back and choose a lab to manage.",i.jsx(Se,{href:"/lab/manage",children:i.jsx("a",{className:"ml-2 underline text-primary",children:"Back to lab selection"})})]}),N&&i.jsxs("div",{className:"mt-4 rounded-2xl border border-border bg-card/70 p-4 text-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Premier / Custom analytics"}),i.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (7d)"}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.views7d})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (30d)"}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.views30d})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:N.favorites})]})]}),N.recentFavorites.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Recent favorites"}),i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:N.recentFavorites.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",title:new Date(z.createdAt).toLocaleString(),children:["User ",z.userId.slice(0,6)," favorited"]},`${z.userId}-${z.createdAt}`))})]}),j&&i.jsx("p",{className:"mt-2 text-xs text-destructive",children:j})]}),n?i.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading"}):d?i.jsx("p",{className:"mt-6 text-sm text-destructive",children:d}):i.jsxs(Ye.form,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-8 space-y-8",onSubmit:z=>{z.preventDefault(),Ce()},children:[i.jsxs(bo,{title:"Basics",children:[i.jsx(Mt,{label:"Lab name",children:i.jsx("input",{className:"input",value:O.name,onChange:z=>G({...O,name:z.target.value})})}),i.jsx(Mt,{label:"Location",children:i.jsx("input",{className:"input",value:O.location,onChange:z=>G({...O,location:z.target.value})})}),i.jsx(Mt,{label:"Lab manager",children:i.jsx("input",{className:"input",value:O.labManager,onChange:z=>G({...O,labManager:z.target.value})})}),i.jsx(Mt,{label:"Contact email",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{className:"input",value:O.contactEmail,disabled:!0}),i.jsx("span",{className:"text-muted-foreground","aria-hidden":"true",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[i.jsx("rect",{x:"5",y:"11",width:"14",height:"9",rx:"2"}),i.jsx("path",{d:"M8 11v-2a4 4 0 0 1 8 0v2"})]})})]})}),i.jsx(Mt,{label:"Lab description",children:i.jsx("textarea",{className:"input",rows:4,value:O.description,onChange:z=>G({...O,description:z.target.value}),placeholder:"Short intro to your lab (shown on Lab Details)"})}),i.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",checked:O.offersLabSpace,onChange:z=>G({...O,offersLabSpace:z.target.checked})}),"Offers lab space (enables pricing/offers on your page)"]})]}),i.jsxs(bo,{title:"Branding & Links",children:[(x==="premier"||x==="custom")&&i.jsx(Mt,{label:"Logo",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("label",{className:"inline-flex items-center gap-3",children:[i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",onChange:fe,className:"hidden"})]}),O.logoUrl&&i.jsx("button",{type:"button",onClick:()=>G({...O,logoUrl:""}),className:"rounded-full border border-border px-3 py-1 text-xs text-muted-foreground hover:border-destructive hover:text-destructive",children:"Remove"})]}),ce&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),ne&&i.jsx("p",{className:"text-xs text-destructive",children:ne}),O.logoUrl&&i.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("img",{src:O.logoUrl,alt:`${O.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),i.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:O.logoUrl})]})]})}),x==="premier"?i.jsx(Mt,{label:"Partner logos (premier feature)",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",onChange:Re,className:"hidden"})]})}),ke.length>0&&i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:ke.map(z=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[i.jsx("img",{src:z.url,alt:z.name,className:"h-10 w-10 rounded object-cover"}),i.jsx("button",{type:"button",onClick:()=>Te(z.url),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},z.url))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders. Shown for premier labs."})]})}):i.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are available on the premier plan."}),i.jsx(Mt,{label:"Website (optional)",children:i.jsx("input",{className:"input",value:O.website,onChange:z=>G({...O,website:z.target.value}),placeholder:"https://labs.example.com"})}),i.jsx(Mt,{label:"LinkedIn (optional)",children:i.jsx("input",{className:"input",value:O.linkedin,onChange:z=>G({...O,linkedin:z.target.value}),placeholder:"https://www.linkedin.com/company/example"})})]}),i.jsxs(bo,{title:"Company details",children:[i.jsx(Mt,{label:"Address line 1",children:i.jsx("input",{className:"input",value:O.addressLine1,onChange:z=>G({...O,addressLine1:z.target.value})})}),i.jsx(Mt,{label:"Address line 2",children:i.jsx("input",{className:"input",value:O.addressLine2,onChange:z=>G({...O,addressLine2:z.target.value})})}),i.jsx(Mt,{label:"SIRET",children:i.jsx("input",{className:"input",value:O.siretNumber,onChange:z=>G({...O,siretNumber:z.target.value})})}),i.jsx(Mt,{label:"City",children:i.jsx("input",{className:"input",value:O.city,onChange:z=>G({...O,city:z.target.value})})}),i.jsx(Mt,{label:"State/Region",children:i.jsx("input",{className:"input",value:O.state,onChange:z=>G({...O,state:z.target.value})})}),i.jsx(Mt,{label:"Postal code",children:i.jsx("input",{className:"input",value:O.postalCode,onChange:z=>G({...O,postalCode:z.target.value})})}),i.jsx(Mt,{label:"Country",children:i.jsx("input",{className:"input",value:O.country,onChange:z=>G({...O,country:z.target.value})})})]}),i.jsxs(bo,{title:"Compliance & capabilities",children:[i.jsx(Mt,{label:"Compliance",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"input",placeholder:"Add compliance and press Enter",value:re.field==="complianceTags"?re.value:"",onChange:z=>ee({field:"complianceTags",value:z.target.value}),onKeyDown:sr("complianceTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.complianceTags.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,i.jsx("button",{type:"button",onClick:()=>Xe("complianceTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})}),i.jsx(Mt,{label:"Equipment",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"input",placeholder:"Add equipment and press Enter",value:re.field==="equipmentTags"?re.value:"",onChange:z=>ee({field:"equipmentTags",value:z.target.value}),onKeyDown:sr("equipmentTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.equipmentTags.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,i.jsx("button",{type:"button",onClick:()=>Xe("equipmentTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})}),i.jsx(Mt,{label:"Focus areas",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"input",placeholder:"Add focus area and press Enter",value:re.field==="focusTags"?re.value:"",onChange:z=>ee({field:"focusTags",value:z.target.value}),onKeyDown:sr("focusTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.focusTags.map(z=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,i.jsx("button",{type:"button",onClick:()=>Xe("focusTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})})]}),i.jsxs(bo,{title:"Photos",children:[i.jsx(Mt,{label:"Add photo",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Upload file",i.jsx("input",{type:"file",accept:"image/*",onChange:be,className:"hidden"})]})}),i.jsxs("div",{className:"flex flex-1 gap-2",children:[i.jsx("input",{className:"input flex-1",value:K,onChange:z=>Z(z.target.value),placeholder:"https://images.example.com/photo.jpg"}),i.jsx("button",{type:"button",onClick:V,className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add"})]})]}),de&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading photo"}),T&&i.jsx("p",{className:"text-xs text-destructive",children:T})]})}),I.length>0&&i.jsx("div",{className:"flex flex-wrap gap-3",children:I.map(z=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("img",{src:z.url,alt:z.name,className:"h-14 w-20 rounded object-cover"}),i.jsx("button",{type:"button",onClick:()=>ve(z),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},z.url))})]}),i.jsxs(bo,{title:"Offers & pricing",children:[i.jsx(Mt,{label:"Offers",children:i.jsx("div",{className:"flex flex-wrap gap-3",children:Ld.map(z=>i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:O.offers.includes(z),onChange:Ee=>{G(ye=>{const xe=Ee.target.checked?[...ye.offers,z]:ye.offers.filter(lt=>lt!==z);return{...ye,offers:xe}})}}),z]},z))})}),i.jsx(Mt,{label:"Minimum stay",children:i.jsx("input",{className:"input",value:O.minimumStay,onChange:z=>G({...O,minimumStay:z.target.value})})}),i.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",checked:O.pricePrivacy,onChange:z=>G({...O,pricePrivacy:z.target.checked})}),"Pricing shared privately"]})]}),m&&i.jsx("p",{className:"text-sm text-emerald-600",children:m}),i.jsx("div",{className:"flex gap-3",children:l?i.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",disabled:!0,children:"Saving"}):i.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",type:"submit",children:"Save"})})]})]}),i.jsx("style",{children:".input{width:100%;border:1px solid var(--border);background:var(--background);padding:.5rem .75rem;border-radius:12px;}"})]})}function bo({title:t,children:e}){return i.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-5 space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:t}),i.jsx("div",{className:"grid gap-4",children:e})]})}function Mt({label:t,children:e}){return i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:t}),e]})}function oB(){return y.useEffect(()=>{(async()=>{try{await We.auth.signOut()}finally{window.location.replace("/")}})()},[]),null}const N0={ownerName:"",organization:"",labsManaged:"",email:"",phone:"",message:""};function aB(){const{user:t,loading:e}=ur(),[r,n]=Gn(),[o,l]=y.useState(N0),[c,d]=y.useState("idle"),[h,m]=y.useState(null),[p,x]=y.useState("idle"),[b,N]=y.useState(null),[_,j]=y.useState(null),w=typeof window<"u"?window.location.search:"",k=y.useMemo(()=>{try{return new URLSearchParams(w).get("plan")}catch{return null}},[w]),C=(k??"").toLowerCase(),E=C==="base"||C==="free",R=C==="verified"||C==="premier"||C==="custom",I=C==="custom"||C==="enterprise",U=t?.user_metadata?.full_name||t?.user_metadata?.name||t?.user_metadata?.fullName||t?.user_metadata?.display_name||t?.user_metadata?.displayName||"",K=`/api/stripe/checkout?plan=${C||"base"}`;y.useEffect(()=>{if(e)return;if(!k||!["base","free","verified","premier","custom","enterprise"].includes(C)){n("/pricing");return}if(!t){const ne=encodeURIComponent(`/payments?plan=${C}`);n(`/login?next=${ne}`);return}},[t,k,C,e,n]),y.useEffect(()=>{if(!t)return;async function Q(){const{data:ne,error:te}=await We.from("profiles").select("name").eq("user_id",t.id).maybeSingle();!te&&ne?.name?(j(ne.name),l(ke=>({...ke,ownerName:ke.ownerName||ne.name}))):j(null)}Q(),l(ne=>({...ne,ownerName:ne.ownerName||U||t?.email?.split("@")[0]||"",email:ne.email||t.email||"",phone:ne.phone||t.user_metadata?.phone||t.phone||""}))},[t,U]);const Z=Q=>ne=>{l(te=>({...te,[Q]:ne.target.value}))},O=async Q=>{Q.preventDefault(),d("loading"),m(null);try{const ne=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.ownerName||o.organization,email:o.email,message:[`Organization: ${o.organization}`,`Labs managed: ${o.labsManaged}`,"",o.message||"No additional context provided."].join(`
`)})});if(!ne.ok){const te=await ne.json().catch(()=>({message:"Unable to send request"}));throw new Error(te?.message??"Unable to send request")}d("success"),l(N0)}catch(ne){d("error"),m(ne instanceof Error?ne.message:"Unable to send request")}},G=async()=>{x("loading"),N(null);try{if(!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.ownerName||U||t?.email||"GLASS-Connect user",email:t?.email,message:`Confirming free plan signup for ${t?.email||"unknown"} on GLASS-Connect.`})})).ok)throw new Error("Unable to send confirmation");x("success")}catch(Q){x("error"),N(Q instanceof Error?Q.message:"Unable to send confirmation")}},ce="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary";return e||!t||!k?null:i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl space-y-12",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Payment flow"}),i.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:E?"Your GLASS-Connect free listing":"Stripe-first billing built for labs"}),i.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:E?"Confirm your free plan so your listing stays live while you edit. You can upgrade anytime.":"We keep billing transparent: standard plans go through Stripe Checkout (with optional SEPA transfer), and multi-lab operators can request a custom agreement."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Se,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Review plans"})}),i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Explore live listings"})})]})]}),E&&i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Free plan confirmation"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirm your free GLASS-Connect listing. Well email a confirmation and keep your profile live while you edit."}),i.jsx("button",{onClick:G,disabled:p==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:p==="loading"?"Sending confirmation":"Confirm free plan"}),p==="success"&&i.jsxs("p",{className:"text-sm text-emerald-600",children:["Confirmation sent to ",t?.email??"your email on file",". If you dont see it, check spam or contact support."]}),p==="error"&&i.jsx("p",{className:"text-sm text-destructive",children:b??"We couldnt send the confirmation. Please try again or contact support."})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"What you get"}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Pn,{className:"h-4 w-4 text-primary mt-0.5"}),"Standardised lab profile with capabilities, equipment, and contact prefs."]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Pn,{className:"h-4 w-4 text-primary mt-0.5"}),"Inbound requests routed to your team while you edit and refine details."]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Pn,{className:"h-4 w-4 text-primary mt-0.5"}),"Upgrade anytime to add verification, placement, and media support."]})]})]})]}),R&&i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Stripe Checkout"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Youll be redirected to a Stripe-hosted checkout page for the ",C," plan. Glass never touches raw card numbers."]}),i.jsx("button",{onClick:()=>{window.location.href=K},className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Proceed to Stripe Checkout"}),i.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-sm text-muted-foreground",children:"After payment, well activate your listing within one business day and schedule verification if needed."})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Prefer bank transfer (SEPA)?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank transfer option coming soon. We'll share SEPA details once the Glass account is live."})]})]}),I&&i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Enterprise intake"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tell us about your network and billing needs. Well follow up with the right agreement, procurement details, and onboarding."}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsx("li",{children:"Dedicated partner manager and verification scheduling across sites."}),i.jsx("li",{children:"Custom invoicing (ACH/SEPA/wire), procurement docs, and data exports."}),i.jsx("li",{children:"API access and multi-lab routing preferences."})]})]}),i.jsxs("div",{id:"custom",className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(c2,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Enterprise form"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Well get back to you within one business day."})]})]}),c==="success"&&i.jsx("div",{className:"rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:"Thanks! Weve logged your details and will respond within one business day."}),c==="error"&&i.jsx("div",{className:"rounded-2xl border border-destructive/50 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:h??"We couldnt send your message. Please try again."}),i.jsxs("form",{className:"space-y-4",onSubmit:O,children:[i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Your name"}),i.jsx("input",{className:ce,value:o.ownerName,onChange:Z("ownerName"),placeholder:"Jordan Reyes",required:!0})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Contact email"}),i.jsx("input",{type:"email",className:ce,value:o.email,onChange:Z("email"),placeholder:"you@labs.com",required:!0})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Phone number"}),i.jsx("input",{className:ce,value:o.phone,onChange:Z("phone"),placeholder:"+49 171 2345678",required:!0})]})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Organization"}),i.jsx("input",{className:ce,value:o.organization,onChange:Z("organization"),placeholder:"Atlas Applied Biology",required:!0})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Labs managed (optional)"}),i.jsx("input",{className:ce,value:o.labsManaged,onChange:Z("labsManaged"),placeholder:"e.g. 4 locations"})]}),i.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"What do you need?"}),i.jsx("textarea",{className:`${ce} min-h-[120px]`,value:o.message,onChange:Z("message"),placeholder:"Tell us about your footprint, routing preferences, billing needs, or integrations."})]}),i.jsx("button",{type:"submit",disabled:c==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:c==="loading"?"Sending":"Send to Glass partnerships"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We route this form to our Brevo/email inbox so a real person can follow up with invoices, contracts, or procurement info."})]})]})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Need a direct line?"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email ",i.jsx("a",{className:"text-primary underline",href:"mailto:contact@glass-funding.com",children:"contact@glass-funding.com"})," or drop a note in the custom form. We can accommodate purchase orders, wire transfers, and co-branded partnership agreements."]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Se,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),i.jsx(Se,{href:"/labs",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"See partner labs"})})]})]})]})})}function lB(){const{user:t}=ur(),[e,r]=y.useState([]),[n,o]=y.useState(!0),[l,c]=y.useState(null),[d,h]=y.useState(""),[m,p]=y.useState("base");y.useEffect(()=>{(async()=>{c(null);try{const{data:j}=await We.auth.getSession(),w=j.session?.access_token,k=await fetch("/api/my-labs",{headers:w?{Authorization:`Bearer ${w}`}:{}});if(!k.ok){const I=await k.text();throw new Error(I||"Unable to load labs")}const C=await k.json();r(C??[]);const{data:E}=await We.from("profiles").select("subscription_tier").eq("user_id",t?.id).maybeSingle(),R=(E?.subscription_tier||"base").toLowerCase();p(R)}catch(j){c(j.message||"Unable to load labs")}finally{o(!1)}})()},[t?.id]);const x=y.useMemo(()=>{const j=d.trim().toLowerCase();return j?e.filter(w=>{const k=(w.lab_equipment??[]).map(E=>E.item).join(" ");return[w.name,w.location,k].filter(Boolean).join(" ").toLowerCase().includes(j)}):e},[e,d]),b=m==="custom"||e.length===0,N=j=>{const w=(j.subscription_tier||"").toLowerCase(),k=w==="premier"||w==="custom",C=j.is_visible===!1;return i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[k?i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:w==="custom"?"Custom":"Premier"}):null,C?i.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-[11px] font-medium text-amber-800",children:"Not visible"}):null]})},_=j=>j.logo_url?j.logo_url:j.lab_photos?.[0]?.url||null;return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl",children:[i.jsx(Se,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage your labs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pick a lab to edit. Premier labs keep their analytics and partner features."})]}),i.jsxs("div",{className:"relative w-full sm:w-80",children:[i.jsx("input",{type:"search",value:d,onChange:j=>h(j.target.value),placeholder:"Search labs by name or city",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),i.jsx(Ks,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]})]}),n?i.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading labs"}):l?i.jsx("p",{className:"mt-6 text-sm text-destructive",children:l}):x.length===0?i.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["No labs match that search. ",e.length===0?"No lab is linked to your account yet.":""]}):i.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-dashed border-border bg-card/60 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 p-6 text-center",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:i.jsx(_j,{className:"h-6 w-6"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add a new lab"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b?"Create another lab profile and manage its details.":"Multi-lab management is available on Custom tier."})]}),i.jsx("div",{className:"p-4",children:b?i.jsx(Se,{href:"/lab/manage/new",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add lab"}):i.jsx(Se,{href:"/payments?plan=custom#custom",className:"inline-flex w-full items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Upgrade to Custom"})})]},"add-lab"),x.map(j=>i.jsxs(Ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-border bg-card/80 shadow-sm overflow-hidden",children:[_(j)&&i.jsx("div",{className:"h-36 w-full overflow-hidden border-b border-border/60 bg-background/40",children:i.jsx("img",{src:_(j),alt:j.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"p-4 space-y-2 flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:j.name}),i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Ks,{className:"h-3.5 w-3.5 text-primary"}),i.jsx("span",{children:j.location?.trim()||"Location not set"})]})]}),N(j)]}),j.lab_equipment&&j.lab_equipment.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-muted-foreground",children:j.lab_equipment.slice(0,3).map(w=>i.jsx("span",{className:"rounded-full border border-border px-2 py-1",children:w.item},w.item))}),i.jsx("div",{className:"pt-2",children:i.jsx(Se,{href:`/lab/manage/${j.id}`,children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage"})})})]})]},j.id))]})]})})}function cB(){const{addLab:t}=ri(),{user:e}=ur(),[,r]=Gn(),[n,o]=y.useState({name:"",location:"",labManager:"",contactEmail:e?.email??"",description:"",field:"",offersLabSpace:!0,addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",siretNumber:"",minimumStay:"",pricePrivacy:!1,equipmentTags:[],focusTags:[],complianceTags:[],offers:[],logoUrl:""}),[l,c]=y.useState([]),[d,h]=y.useState([]),[m,p]=y.useState(""),[x,b]=y.useState(""),[N,_]=y.useState(!1),[j,w]=y.useState(!1),[k,C]=y.useState(!1),[E,R]=y.useState(null),[I,U]=y.useState(null),[K,Z]=y.useState(null),[O,G]=y.useState([]),[ce,Q]=y.useState(!1),[ne,te]=y.useState(null),[ke,we]=y.useState({field:"equipmentTags",value:""}),[re,ee]=y.useState(!1),[de,M]=y.useState(null),T=(V,ve)=>{o(be=>({...be,[V]:ve}))},Y=(V,ve)=>{const be=ve.trim();be&&(o($e=>{const Xe=new Set($e[V]);return Xe.add(be),{...$e,[V]:Array.from(Xe)}}),we({field:V,value:""}))},fe=(V,ve)=>{o(be=>({...be,[V]:be[V].filter($e=>$e!==ve)}))},Re=V=>ve=>{ve.key==="Enter"&&(ve.preventDefault(),Y(V,ke.value))},Te=async V=>{V.preventDefault(),ee(!0),M(null);try{const ve=await t({name:n.name.trim(),location:n.location.trim(),labManager:n.labManager.trim(),contactEmail:n.contactEmail.trim(),ownerUserId:e?.id??null,description:n.description.trim()||null,offersLabSpace:n.offersLabSpace,addressLine1:n.addressLine1.trim()||null,addressLine2:n.addressLine2.trim()||null,city:n.city.trim()||null,state:n.state.trim()||null,postalCode:n.postalCode.trim()||null,country:n.country.trim()||null,website:n.website.trim()||null,linkedin:n.linkedin.trim()||null,compliance:n.complianceTags,complianceDocs:O,isVerified:!1,isVisible:!0,equipment:n.equipmentTags,focusAreas:n.focusTags,offers:n.offers,pricePrivacy:n.pricePrivacy,minimumStay:n.minimumStay.trim(),rating:0,photos:l,logoUrl:n.logoUrl.trim()||null,siretNumber:n.siretNumber.trim()||null,partnerLogos:d,field:n.field.trim()||null});r(`/lab/manage/${ve.id}`)}catch(ve){M(ve?.message||"Unable to create lab")}finally{ee(!1)}};return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[i.jsx(Se,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),i.jsxs(Ye.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Create"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mt-1",children:"Add a new lab"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start with the basics. You can add photos, equipment, and pricing later."}),i.jsxs("form",{className:"mt-8 space-y-8",onSubmit:Te,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(qt,{label:"Lab name",required:!0,children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.name,onChange:V=>T("name",V.target.value),required:!0})}),i.jsx(qt,{label:"SIRET (optional)",children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:V=>T("siretNumber",V.target.value)})}),i.jsx(qt,{label:"Location",required:!0,children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.location,onChange:V=>T("location",V.target.value),required:!0})}),i.jsx(qt,{label:"Lab manager",required:!0,children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.labManager,onChange:V=>T("labManager",V.target.value),required:!0})}),i.jsx(qt,{label:"Contact email",required:!0,children:i.jsx("input",{type:"email",className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.contactEmail,onChange:V=>T("contactEmail",V.target.value),required:!0})}),i.jsx(qt,{label:"Description",children:i.jsx("textarea",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary min-h-[96px]",value:n.description,onChange:V=>T("description",V.target.value),placeholder:"Brief overview of your lab"})}),i.jsx(qt,{label:"Science field (optional)",children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.field,onChange:V=>T("field",V.target.value),placeholder:"e.g., immunology, materials science, bioengineering"})}),i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offersLabSpace,onChange:V=>T("offersLabSpace",V.target.checked)}),"Offers lab space"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qt,{label:"Logo (premier/custom only)",children:i.jsx("input",{className:"input",value:n.logoUrl,onChange:V=>T("logoUrl",V.target.value),placeholder:"Available for premier/custom tiers"})}),i.jsxs("label",{className:"inline-flex items-center gap-3",children:[i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async V=>{const ve=V.target.files?.[0];ve&&(R(null),_(!0),await Su("lab-logos",ve,"new/logos",(be,$e)=>o(Xe=>({...Xe,logoUrl:be||Xe.logoUrl||""})),be=>R(be)),_(!1),V.target&&(V.target.value=""))}})]}),N&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),E&&i.jsx("p",{className:"text-xs text-destructive",children:E})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Logo avatars display for premier/custom labs."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Photos (base: up to 2)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(V=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:V.name||V.url}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>c(ve=>ve.filter(be=>be.url!==V.url)),children:"Remove"})]},V.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{className:"input flex-1",value:m,onChange:V=>p(V.target.value),placeholder:"https://example.com/photo.jpg"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const V=m.trim();if(!V||l.length>=2)return;const ve=V.split("/").pop()||`Photo ${l.length+1}`;c(be=>[...be,{name:ve,url:V}]),p("")},disabled:l.length>=2,children:"Add photo"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",disabled:l.length>=2,onChange:async V=>{const ve=V.target.files?.[0];!ve||l.length>=2||(U(null),w(!0),await Su("lab-photos",ve,"new/photos",(be,$e)=>c(Xe=>[...Xe,{name:$e,url:be}]),be=>U(be)),w(!1),V.target&&(V.target.value=""))}})]})}),j&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),I&&i.jsx("p",{className:"text-xs text-destructive",children:I})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Base labs can add 2 photos here; you can add more later in manage."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(V=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:V.name||V.url}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>h(ve=>ve.filter(be=>be.url!==V.url)),children:"Remove"})]},V.url))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{className:"input flex-1",value:x,onChange:V=>b(V.target.value),placeholder:"https://example.com/logo.png"}),i.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const V=x.trim();if(!V)return;const ve=V.split("/").pop()||`Logo ${d.length+1}`;h(be=>[...be,{name:ve,url:V}]),b("")},children:"Add logo"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async V=>{const ve=V.target.files?.[0];ve&&(Z(null),C(!0),await Su("lab-logos",ve,"new/partners",(be,$e)=>h(Xe=>[...Xe,{name:$e,url:be}]),be=>Z(be)),C(!1),V.target&&(V.target.value=""))}})]})}),k&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),K&&i.jsx("p",{className:"text-xs text-destructive",children:K})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are shown for premier/custom labs."})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(qt,{label:"Address line 1",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine1,onChange:V=>T("addressLine1",V.target.value)})}),i.jsx(qt,{label:"Address line 2",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine2,onChange:V=>T("addressLine2",V.target.value)})}),i.jsx(qt,{label:"City",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.city,onChange:V=>T("city",V.target.value)})}),i.jsx(qt,{label:"State/Region",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.state,onChange:V=>T("state",V.target.value)})}),i.jsx(qt,{label:"Postal code",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.postalCode,onChange:V=>T("postalCode",V.target.value)})}),i.jsx(qt,{label:"Country",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.country,onChange:V=>T("country",V.target.value)})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(qt,{label:"Website",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.website,onChange:V=>T("website",V.target.value)})}),i.jsx(qt,{label:"LinkedIn",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.linkedin,onChange:V=>T("linkedin",V.target.value)})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(qt,{label:"Minimum stay",children:i.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.minimumStay,onChange:V=>T("minimumStay",V.target.value)})}),i.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:["Price privacy",i.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.pricePrivacy?"yes":"no",onChange:V=>T("pricePrivacy",V.target.value==="yes"),children:[i.jsx("option",{value:"no",children:"Rates published"}),i.jsx("option",{value:"yes",children:"Quotes required"})]})]})]}),i.jsx(qt,{label:"Equipment",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add equipment and press Enter",value:ke.field==="equipmentTags"?ke.value:"",onChange:V=>we({field:"equipmentTags",value:V.target.value}),onKeyDown:Re("equipmentTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.equipmentTags.map(V=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[V,i.jsx("button",{type:"button",onClick:()=>fe("equipmentTags",V),className:"text-muted-foreground hover:text-destructive",children:""})]},V))})]})}),i.jsx(qt,{label:"Focus areas",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add focus area and press Enter",value:ke.field==="focusTags"?ke.value:"",onChange:V=>we({field:"focusTags",value:V.target.value}),onKeyDown:Re("focusTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.focusTags.map(V=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[V,i.jsx("button",{type:"button",onClick:()=>fe("focusTags",V),className:"text-muted-foreground hover:text-destructive",children:""})]},V))})]})}),i.jsx(qt,{label:"Compliance",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add compliance and press Enter",value:ke.field==="complianceTags"?ke.value:"",onChange:V=>we({field:"complianceTags",value:V.target.value}),onKeyDown:Re("complianceTags")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.complianceTags.map(V=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[V,i.jsx("button",{type:"button",onClick:()=>fe("complianceTags",V),className:"text-muted-foreground hover:text-destructive",children:""})]},V))})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Compliance documents (PDF)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(V=>i.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:V.name||V.url}),i.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>G(ve=>ve.filter(be=>be.url!==V.url)),children:"Remove"})]},V.url))}),i.jsx("label",{className:"inline-flex items-center gap-3",children:i.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",i.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:async V=>{const ve=V.target.files?.[0];ve&&(te(null),Q(!0),await Su("lab-pdfs",ve,"new/compliance",(be,$e)=>G(Xe=>[...Xe,{name:$e,url:be}]),be=>te(be)),Q(!1),V.target&&(V.target.value=""))}})]})}),ce&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),ne&&i.jsx("p",{className:"text-xs text-destructive",children:ne}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload PDF compliance certificates; you can add more later."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Offers"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Ld.map(V=>i.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offers.includes(V),onChange:ve=>{const be=ve.target.checked?[...n.offers,V]:n.offers.filter($e=>$e!==V);T("offers",be)}}),V]},V))})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.jsx(qt,{label:"SIRET (optional)",children:i.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:V=>T("siretNumber",V.target.value)})})}),de&&i.jsx("p",{className:"text-sm text-destructive",children:de}),i.jsx("button",{type:"submit",disabled:re,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:re?"Creating":"Create lab"})]})]})]})})}function qt({label:t,children:e,required:r}){return i.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:[t," ",r?i.jsx("span",{className:"text-destructive",children:"*"}):null,i.jsx("div",{className:"text-foreground font-normal",children:e})]})}const uB=t=>{const e=t.split(".").pop()||"jpg";return typeof crypto<"u"&&crypto.randomUUID?`${crypto.randomUUID()}.${e}`:`${Date.now()}.${e}`},Su=async(t,e,r,n,o)=>{try{const l=`${r}/${uB(e.name)}`,{error:c}=await We.storage.from(t).upload(l,e,{upsert:!0,contentType:e.type});if(c)throw c;const{data:d}=We.storage.from(t).getPublicUrl(l);n(d.publicUrl,e.name)}catch(l){o(l?.message||"Upload failed")}};function dB(){const{user:t}=ur(),{labs:e}=ri(),[r,n]=y.useState([]),[o,l]=y.useState(!0),[c,d]=y.useState(null);y.useEffect(()=>{let m=!0;async function p(){l(!0),d(null);try{const{data:x}=await We.auth.getSession(),b=x.session?.access_token,N=b?{Authorization:`Bearer ${b}`}:{},_=await fetch("/api/favorites",{headers:N}),j=_.headers.get("content-type")||"";if(!_.ok||!j.includes("application/json"))throw new Error("Unable to load favorites");const w=await _.json(),k=Array.isArray(w?.labIds)?w.labIds:[];m&&n(k.map(C=>Number(C)).filter(C=>!Number.isNaN(C)))}catch(x){m&&d(x.message||"Unable to load favorites")}finally{m&&l(!1)}}return t?p():l(!1),()=>{m=!1}},[t]);const h=y.useMemo(()=>r.length?e.filter(m=>r.includes(m.id)):[],[r,e]);return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-16 lg:py-20",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Favorites"}),i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Saved labs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Labs you have favorited for quick access."})]}),i.jsx(Se,{href:"/account",className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:" Back to account"})]}),i.jsxs("div",{className:"mt-8",children:[o&&i.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"Loading favorites"}),c&&i.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:c}),!o&&!c&&h.length===0&&i.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"You have no favorites yet. Browse labs and tap the heart to save them."}),h.length>0&&i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(m=>{const p=(m.subscriptionTier||m.subscription_tier||"").toLowerCase(),x=p==="premier"||p==="custom";return i.jsxs("div",{className:"rounded-2xl border border-border bg-card/80 p-4 shadow-sm flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:m.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.location})]}),x&&i.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:"Premium"})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:m.isVisible===!1?"Hidden":"Visible"}),i.jsx("span",{className:"font-medium text-primary",children:p||"base"})]}),i.jsx(Se,{href:`/labs/${m.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},m.id)})})]})]})})}function fB(){const{tiers:t}=Y1();return i.jsx("section",{className:"bg-background min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-20 lg:py-24 space-y-10",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Subscriptions"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground",children:"Choose your GLASS plan"}),i.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"New accounts start on Base. Upgrade anytime; after payment well switch your subscription tier automatically."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Se,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"View pricing page"})}),i.jsx(Se,{href:"/account",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Back to profile"})})]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.featured,n=e.name.toLowerCase(),o=n==="custom"?"/payments?plan=custom#custom":`/payments?plan=${n}`,l=e.monthly_price??e.monthlyPrice,c=l===0||l==="0",d=l!=null&&!c,h=c?"Free":d?`${l}/mo`:"Talk to us";return i.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${r?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),i.jsx("p",{className:"mt-3 text-3xl font-semibold text-foreground",children:h}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.description??"Choose your plan and switch anytime."})]}),e.name==="Base"&&i.jsx(Pn,{className:"h-6 w-6 text-muted-foreground"}),r&&i.jsx(Cp,{className:"h-6 w-6 text-primary"})]}),i.jsx("ul",{className:"mt-5 space-y-3 text-sm text-muted-foreground",children:e.highlights?.map(m=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx(jj,{className:"h-4 w-4 text-primary"}),m]},m))}),i.jsx(Se,{href:o,children:i.jsx("a",{className:`mt-6 inline-flex items-center rounded-full px-4 py-2 text-sm font-medium transition ${n==="custom"?"border border-border text-muted-foreground hover:border-primary hover:text-primary":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:n==="custom"?"Talk to us":"Subscribe"})})]},n)})})]})})}const hB=[25,50,100,250];function S0(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function mB(){const{user:t}=ur(),[e]=Gn(),[r,n]=y.useState(1),[o,l]=y.useState("individual"),[c,d]=y.useState(""),[h,m]=y.useState(""),[p,x]=y.useState(null),[b,N]=y.useState(null),[_,j]=y.useState(!0),w=.015,[k,C]=y.useState({fullName:"",companyName:"",siret:"",contactName:"",addressLine1:"",addressLine2:"",city:"",postalCode:"",country:"France"}),[E,R]=y.useState([]),[I,U]=y.useState(null),[K,Z]=y.useState(!1),[O,G]=y.useState(null);y.useEffect(()=>{if(typeof window>"u")return;const M=window.localStorage.getItem("glass-demo-email")||window.sessionStorage.getItem("glass-demo-email");M&&x(M)},[]),y.useEffect(()=>{t&&We.from("profiles").select("email, display_name, name, legal_full_name, address_line1, address_line2, city, postal_code, country").eq("user_id",t.id).maybeSingle().then(({data:M})=>{M&&(p||m(M.email||t.email||""),C(T=>({...T,fullName:M.legal_full_name||M.display_name||M.name||T.fullName,addressLine1:M.address_line1||T.addressLine1,addressLine2:M.address_line2||T.addressLine2,city:M.city||T.city,postalCode:M.postal_code||T.postalCode,country:M.country||T.country||"France"})))}).catch(()=>{})},[p,t?.id]),y.useEffect(()=>{t&&We.from("labs").select("id, name, siret_number, lab_manager, contact_email, address_line1, address_line2, city, postal_code, country").or(`owner_user_id.eq.${t.id},contact_email.eq.${t.email}`).then(({data:M})=>{M&&Array.isArray(M)&&(R(M),!I&&M.length>0&&U(M[0].id))}).catch(()=>{})},[t?.id,t?.email]),y.useEffect(()=>{if(o!=="company")return;const M=E.find(T=>T.id===I)||E[0];M&&(U(M.id),C(T=>({...T,companyName:M.name||T.companyName,siret:M.siret_number||T.siret,contactName:M.lab_manager||T.contactName,addressLine1:M.address_line1||T.addressLine1,addressLine2:M.address_line2||T.addressLine2,city:M.city||T.city,postalCode:M.postal_code||T.postalCode,country:M.country||T.country})),!p&&!h&&m(M.contact_email||""))},[o,I,E]),y.useMemo(()=>{const M=e.split("?")[1]??"";return new URLSearchParams(M)},[e]);const ce="Glass Connect (beta)",Q=typeof c=="number"?+(c*w+.25).toFixed(2):0,ne=typeof c=="number"?+(c+Q).toFixed(2):0,te=p??h,ke=p?!0:h!==""&&S0(h),we=typeof c=="number"&&c>0,re=M=>{if(M===""){d("");return}const T=Number(M);Number.isNaN(T)||d(T)},ee=M=>{m(M),M===""||S0(M)?N(null):N("Enter a valid email address.")},de=()=>{if(r===1){if(!we)return;n(2);return}if(r===2){if(!ke){N("Enter a valid email address before continuing.");return}if(o==="individual"&&!k.fullName.trim()){N("Full name is required for receipts.");return}if(o==="company"&&(!k.companyName.trim()||!k.siret.trim())){N("Company name and SIRET are required for company receipts.");return}if(!k.addressLine1.trim()||!k.city.trim()||!k.postalCode.trim()){N("Address, city, and postal code are required for the receipt.");return}N(null),n(3);return}const M=new URLSearchParams;M.set("amount",ne.toFixed(2)),M.set("donation",typeof c=="number"?c.toFixed(2):"0"),M.set("fee",Q.toFixed(2)),M.set("email",te),M.set("recurring",_?"true":"false"),M.set("donorType",o),M.set("fullName",k.fullName),M.set("companyName",k.companyName),M.set("siret",k.siret),M.set("contactName",k.contactName),M.set("addressLine1",k.addressLine1),M.set("addressLine2",k.addressLine2),M.set("city",k.city),M.set("postalCode",k.postalCode),M.set("country",k.country),Z(!0),G(null),fetch("/api/donations/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:ne,email:te,donorType:o,recurring:_,fullName:k.fullName,companyName:k.companyName,siret:k.siret,contactName:k.contactName,addressLine1:k.addressLine1,addressLine2:k.addressLine2,city:k.city,postalCode:k.postalCode,country:k.country})}).then(async T=>{if(!T.ok){const fe=await T.text();throw new Error(fe||"Unable to start checkout")}const Y=await T.json();if(Y?.url)window.location.href=Y.url;else throw new Error("No checkout URL returned")}).catch(T=>{G(T.message||"Unable to start checkout"),Z(!1)})};return i.jsxs("div",{className:"max-w-3xl mx-auto pt-40 px-4 pb-20 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("h1",{className:"text-3xl font-semibold",children:["Support ",ce]}),i.jsx("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:"Your contribution helps us keep the beta free, improve onboarding, and ship the features your team needs."})]}),i.jsxs("div",{id:"donate-form",className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-muted-foreground",children:[i.jsx("span",{className:`rounded-full px-3 py-1 ${r===1?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"1. Amount"}),i.jsx("span",{className:`rounded-full px-3 py-1 ${r===2?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"2. Receipt details"}),i.jsx("span",{className:`rounded-full px-3 py-1 ${r===3?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:"3. Checkout"})]}),r===1&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Payer type"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 text-xs font-semibold border ${o==="individual"?"border-primary text-primary":"border-border text-muted-foreground"}`,onClick:()=>l("individual"),children:"Individual"}),i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 text-xs font-semibold border ${o==="company"?"border-primary text-primary":"border-border text-muted-foreground"}`,onClick:()=>l("company"),children:"Company"})]})]}),i.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Donation amount ()"}),i.jsx("input",{type:"number",inputMode:"decimal",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:c===""?"":c,onChange:M=>re(M.target.value),min:1,step:.01,placeholder:"Enter a custom amount"}),i.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-4",children:hB.map(M=>{const T=c===M;return i.jsxs("button",{type:"button",onClick:()=>{d(M)},className:`rounded-full border px-4 py-2 text-sm font-medium transition ${T?"border-transparent bg-primary text-primary-foreground shadow-md":"border-border bg-background text-muted-foreground hover:text-foreground"}`,children:["",M]},M)})}),i.jsxs("label",{className:"mt-6 flex items-start gap-3 rounded-2xl border border-border bg-muted/30 px-4 py-3 text-sm text-muted-foreground",children:[i.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-border text-primary focus:ring-primary",checked:_,onChange:M=>j(M.target.checked)}),i.jsx("span",{children:"Keep this donation recurring each month. You can pause or adjust at any time inside your profile."})]})]}),r===2&&i.jsxs(i.Fragment,{children:[p?i.jsxs("div",{className:"rounded-2xl border border-primary/40 bg-primary/10 px-4 py-3 text-sm text-primary",children:[i.jsxs("p",{className:"font-medium",children:["Signed in as ",p]}),i.jsx("p",{className:"text-xs text-primary/80",children:"We'll send the receipt and updates to this email."})]}):i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Email"}),i.jsx("input",{type:"email",className:`mt-2 w-full rounded-full border px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary ${b?"border-destructive":"border-border"}`,value:h,onChange:M=>ee(M.target.value),placeholder:"you@example.org","aria-invalid":!!b,"aria-describedby":b?"donation-email-error":void 0}),b&&i.jsx("p",{id:"donation-email-error",className:"mt-2 text-xs text-destructive",children:b})]}),o==="individual"?i.jsx("div",{className:"grid gap-3 mt-4",children:i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Full name"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.fullName,onChange:M=>C(T=>({...T,fullName:M.target.value}))})]})}):i.jsxs("div",{className:"grid gap-3 mt-4",children:[E.length>1&&i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Select lab for receipt"}),i.jsx("select",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:I??"",onChange:M=>U(Number(M.target.value)),children:E.map(M=>i.jsx("option",{value:M.id,children:M.name},M.id))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company name"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.companyName,onChange:M=>C(T=>({...T,companyName:M.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"SIRET"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.siret,onChange:M=>C(T=>({...T,siret:M.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Contact name"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.contactName,onChange:M=>C(T=>({...T,contactName:M.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-3 mt-4",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 1"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.addressLine1,onChange:M=>C(T=>({...T,addressLine1:M.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 2 (optional)"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.addressLine2,onChange:M=>C(T=>({...T,addressLine2:M.target.value}))})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.city,onChange:M=>C(T=>({...T,city:M.target.value}))})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Postal code"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.postalCode,onChange:M=>C(T=>({...T,postalCode:M.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Country"}),i.jsx("input",{className:"rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:k.country,onChange:M=>C(T=>({...T,country:M.target.value}))})]})]})]}),r===3&&i.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Donation"}),i.jsxs("span",{className:"font-medium text-foreground",children:["",typeof c=="number"?c.toFixed(2):"0.00"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Platform fee (1.5% + 0.25)"}),i.jsxs("span",{className:"font-medium text-foreground",children:["",Q.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-foreground font-semibold",children:[i.jsx("span",{children:"Total today"}),i.jsxs("span",{children:["",ne.toFixed(2)]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_?"Recurring donations help us plan ahead. You can cancel any time.":"One-time donation. Well issue a receipt once processed."}),O&&i.jsx("p",{className:"text-xs text-destructive",children:O})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground hover:border-primary hover:text-primary transition",onClick:()=>n(M=>M===1?1:M-1),disabled:r===1,children:"Back"}),i.jsx("button",{type:"button",className:"rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition disabled:cursor-not-allowed disabled:opacity-60",onClick:de,disabled:r===1&&!we||K,children:r<3?"Next":K?"Redirecting":"Proceed to checkout"})]})]})]})}function qa({path:t,component:e}){const{user:r,loading:n}=ur(),[,o]=Gn(),[l,c]=y.useState(!0),[d,h]=y.useState(null);return y.useEffect(()=>{let m=!0;async function p(){c(!0);try{const{data:x}=await We.auth.getSession();if(!m)return;h(!!x.session?.user)}finally{m&&c(!1)}}return r?(h(!0),c(!1)):p(),()=>{m=!1}},[r]),i.jsx(yt,{path:t,component:m=>{if(n||l||d===null)return null;if(r||d)return i.jsx(e,{...m});const p=encodeURIComponent(window.location.pathname+window.location.search);return o(`/login?next=${p}`,{replace:!0}),null}})}function _u({path:t,component:e}){const{user:r,loading:n}=ur(),[o,l]=y.useState(null);return y.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await We.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=h?.role||"user";l(p==="lab"||p==="admin"||p==="multi-lab")}return n||d(),()=>{c=!1}},[n,r?.id]),i.jsx(yt,{path:t,component:c=>{if(n||o===null)return null;if(!r){const d=encodeURIComponent(window.location.pathname);return window.location.replace(`/login?next=${d}`),null}if(!o){const d=c?.params?.id;return window.location.replace(d?`/labs/${d}`:"/"),null}return i.jsx(e,{...c})}})}function pB({path:t,component:e}){const{user:r,loading:n}=ur(),[o,l]=y.useState(null);return y.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await We.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=typeof h?.role=="string"?h.role.toLowerCase().trim():"";l(p==="admin")}return n||d(),()=>{c=!1}},[n,r?.id]),i.jsx(yt,{path:t,component:c=>n||o===null?null:r?o?i.jsx(e,{...c}):(window.location.replace("/"),null):(window.location.replace(`/login?next=${encodeURIComponent(t)}`),null)})}function gB(){const{user:t,loading:e}=ur(),[r,n]=Gn(),[o,l]=y.useState(!1),c=typeof window<"u"?window.location.search:"",d=y.useMemo(()=>{try{return new URLSearchParams(c).get("plan")?.toLowerCase()??null}catch{return null}},[c]),m=d&&["verified","premier","custom"].includes(d);return y.useEffect(()=>{if(!e){if(!m){n("/pricing");return}if(!t){const p=encodeURIComponent(`/stripe?plan=${d}`);n(`/login?next=${p}`);return}l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`}},[t,e,m,d,n]),e||!m?null:i.jsx("section",{className:"bg-background min-h-screen",children:i.jsx("div",{className:"container mx-auto px-4 py-20 max-w-3xl",children:i.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Stripe checkout"})}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Redirecting to Stripe"}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Were opening Stripe for the ",d," plan. If nothing happens, use the button below."]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Ye.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.4,ease:"linear"},children:i.jsx(wm,{className:"h-10 w-10 text-primary"})})}),i.jsxs("button",{onClick:()=>{l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`},className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",disabled:o,children:[i.jsx(y2,{className:"mr-2 h-4 w-4"}),o?"Opening Stripe...":"Open Stripe Checkout"]}),i.jsxs("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-xs text-muted-foreground text-left space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-foreground font-semibold text-sm",children:[i.jsx(Pn,{className:"h-4 w-4 text-primary"}),"What to expect"]}),i.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"We never see or store card numbersStripe handles everything."}),i.jsx("li",{children:"Youll receive a receipt immediately after payment."}),i.jsx("li",{children:"Your listing is activated within one business day."})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[i.jsx(Se,{href:"/pricing",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),i.jsx(Se,{href:"/payments",children:i.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-foreground px-4 py-2 text-background transition hover:bg-foreground/90",children:"View payment options"})})]})]})})})}function xB(){return i.jsx("footer",{className:"bg-muted py-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid md:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-4",children:"Glass"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Connecting labs with collaborators through trusted, verified profiles."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(Se,{href:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),i.jsx("li",{children:i.jsx(Se,{href:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About Us"})}),i.jsx("li",{children:i.jsx(Se,{href:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(Se,{href:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(Se,{href:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Follow Us"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"https://x.com/GlassFunding",className:"text-muted-foreground hover:text-primary transition-colors",children:i.jsx(Ws,{className:"h-5 w-5"})}),i.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:i.jsx(_p,{className:"h-5 w-5"})}),i.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:i.jsx(Sj,{className:"h-5 w-5"})})]})]})]}),i.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," Glass. All rights reserved."]})})]})})}function yB(){const[t]=Gn();return y.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function vB({children:t}){const[e]=Gn(),[r,n]=y.useState(!1);return y.useEffect(()=>{n(!1);const o=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(o)},[e]),y.useEffect(()=>{const o=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(o)},[]),i.jsx("div",{className:`page-transition ${r?"page-transition--active":""}`,children:t})}function bB(){return i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 h-11 bg-primary/10 border-b border-primary/20 text-primary px-4 text-sm text-center flex items-center justify-center",children:["Glass Connect beta is free for early adopters. If its helpful, you can support us with an optional donation.",i.jsx(Se,{href:"/donate",children:i.jsx("a",{className:"ml-2 font-semibold underline",children:"Donate here"})})]})}function wB(){return i.jsxs(kE,{children:[i.jsx(yt,{path:"/labs",component:_$}),i.jsx(yt,{path:"/labs/:id",component:U$}),i.jsx(yt,{path:"/labs/:id/request",component:$$}),i.jsx(_u,{path:"/labs/:id/collaborate",component:B$}),i.jsx(pB,{path:"/admin/labs",component:H$}),i.jsx(yt,{path:"/lab-profile",component:J$}),i.jsx(qa,{path:"/account",component:nB}),i.jsx(qa,{path:"/account/edit",component:rB}),i.jsx(qa,{path:"/requests",component:sB}),i.jsx(qa,{path:"/subscriptions",component:fB}),i.jsx(qa,{path:"/favorites",component:dB}),i.jsx(_u,{path:"/lab/manage",component:lB}),i.jsx(_u,{path:"/lab/manage/new",component:cB}),i.jsx(_u,{path:"/lab/manage/:id",component:iB}),i.jsx(yt,{path:"/payments",component:aB}),i.jsx(yt,{path:"/stripe",component:gB}),i.jsx(yt,{path:"/donate",component:mB}),i.jsx(yt,{path:"/logout",component:oB}),i.jsx(yt,{path:"/login",component:v$}),i.jsx(yt,{path:"/signup",component:b$}),i.jsx(yt,{path:"/forgot-password",component:j$}),i.jsx(yt,{path:"/forgot-password/confirmation",component:N$}),i.jsx(yt,{path:"/",component:OV}),i.jsx(yt,{path:"/about",component:QU}),i.jsx(yt,{path:"/pricing",component:Q$}),i.jsx(yt,{path:"/contact",component:x$}),i.jsx(yt,{path:"/one-pagers",component:P$}),i.jsx(yt,{path:"/roadmap",component:O$}),i.jsx(yt,{path:"/status",component:D$}),i.jsx(yt,{path:"/500",component:M$}),i.jsx(yt,{path:"/maintenance",component:F$}),i.jsx(yt,{path:"/terms",component:k$}),i.jsx(yt,{path:"/privacy",component:C$}),i.jsx(yt,{path:"/Waitlist",component:E$}),i.jsx(yt,{component:y$})]})}function jB(){return i.jsx(rT,{client:iT,children:i.jsx(pD,{children:i.jsxs(S$,{children:[i.jsx(bB,{}),i.jsx(gD,{}),i.jsx(yB,{}),i.jsx("div",{className:"pt-24",children:i.jsx(vB,{children:i.jsx(wB,{})})}),i.jsx(xB,{}),i.jsx(hP,{})]})})})}const NB=document.getElementById("root");sE.createRoot(NB).render(i.jsx(jB,{}));window.requestAnimationFrame(()=>{document.body.classList.add("is-page-loaded")});
