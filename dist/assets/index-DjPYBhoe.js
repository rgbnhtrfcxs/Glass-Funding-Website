function v0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function Xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function b0(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var oh={exports:{}},Aa={},ah={exports:{}},rt={};var dv;function ZC(){if(dv)return rt;dv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function w(R,te,Le){this.props=R,this.context=te,this.refs=j,this.updater=Le||S}w.prototype.isReactComponent={},w.prototype.setState=function(R,te){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,te,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=w.prototype;function k(R,te,Le){this.props=R,this.context=te,this.refs=j,this.updater=Le||S}var E=k.prototype=new C;E.constructor=k,_(E,w.prototype),E.isPureReactComponent=!0;var A=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function J(R,te,Le){var Fe,Qe={},U=null,be=null;if(te!=null)for(Fe in te.ref!==void 0&&(be=te.ref),te.key!==void 0&&(U=""+te.key),te)L.call(te,Fe)&&!G.hasOwnProperty(Fe)&&(Qe[Fe]=te[Fe]);var xe=arguments.length-2;if(xe===1)Qe.children=Le;else if(1<xe){for(var qe=Array(xe),tt=0;tt<xe;tt++)qe[tt]=arguments[tt+2];Qe.children=qe}if(R&&R.defaultProps)for(Fe in xe=R.defaultProps,xe)Qe[Fe]===void 0&&(Qe[Fe]=xe[Fe]);return{$$typeof:t,type:R,key:U,ref:be,props:Qe,_owner:F.current}}function O(R,te){return{$$typeof:t,type:R.type,key:te,ref:R.ref,props:R.props,_owner:R._owner}}function Q(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function q(R){var te={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Le){return te[Le]})}var K=/\/+/g;function Y(R,te){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):te.toString(36)}function Z(R,te,Le,Fe,Qe){var U=typeof R;(U==="undefined"||U==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(U){case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case t:case e:be=!0}}if(be)return be=R,Qe=Qe(be),R=Fe===""?"."+Y(be,0):Fe,A(Qe)?(Le="",R!=null&&(Le=R.replace(K,"$&/")+"/"),Z(Qe,te,Le,"",function(tt){return tt})):Qe!=null&&(Q(Qe)&&(Qe=O(Qe,Le+(!Qe.key||be&&be.key===Qe.key?"":(""+Qe.key).replace(K,"$&/")+"/")+R)),te.push(Qe)),1;if(be=0,Fe=Fe===""?".":Fe+":",A(R))for(var xe=0;xe<R.length;xe++){U=R[xe];var qe=Fe+Y(U,xe);be+=Z(U,te,Le,qe,Qe)}else if(qe=v(R),typeof qe=="function")for(R=qe.call(R),xe=0;!(U=R.next()).done;)U=U.value,qe=Fe+Y(U,xe++),be+=Z(U,te,Le,qe,Qe);else if(U==="object")throw te=String(R),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return be}function me(R,te,Le){if(R==null)return R;var Fe=[],Qe=0;return Z(R,Fe,"","",function(U){return te.call(Le,U,Qe++)}),Fe}function ye(R){if(R._status===-1){var te=R._result;te=te(),te.then(function(Le){(R._status===0||R._status===-1)&&(R._status=1,R._result=Le)},function(Le){(R._status===0||R._status===-1)&&(R._status=2,R._result=Le)}),R._status===-1&&(R._status=0,R._result=te)}if(R._status===1)return R._result.default;throw R._result}var re={current:null},X={transition:null},he={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:X,ReactCurrentOwner:F};function ce(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:me,forEach:function(R,te,Le){me(R,function(){te.apply(this,arguments)},Le)},count:function(R){var te=0;return me(R,function(){te++}),te},toArray:function(R){return me(R,function(te){return te})||[]},only:function(R){if(!Q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},rt.Component=w,rt.Fragment=r,rt.Profiler=i,rt.PureComponent=k,rt.StrictMode=n,rt.Suspense=h,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,rt.act=ce,rt.cloneElement=function(R,te,Le){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Fe=_({},R.props),Qe=R.key,U=R.ref,be=R._owner;if(te!=null){if(te.ref!==void 0&&(U=te.ref,be=F.current),te.key!==void 0&&(Qe=""+te.key),R.type&&R.type.defaultProps)var xe=R.type.defaultProps;for(qe in te)L.call(te,qe)&&!G.hasOwnProperty(qe)&&(Fe[qe]=te[qe]===void 0&&xe!==void 0?xe[qe]:te[qe])}var qe=arguments.length-2;if(qe===1)Fe.children=Le;else if(1<qe){xe=Array(qe);for(var tt=0;tt<qe;tt++)xe[tt]=arguments[tt+2];Fe.children=xe}return{$$typeof:t,type:R.type,key:Qe,ref:U,props:Fe,_owner:be}},rt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},rt.createElement=J,rt.createFactory=function(R){var te=J.bind(null,R);return te.type=R,te},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:d,render:R}},rt.isValidElement=Q,rt.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ye}},rt.memo=function(R,te){return{$$typeof:m,type:R,compare:te===void 0?null:te}},rt.startTransition=function(R){var te=X.transition;X.transition={};try{R()}finally{X.transition=te}},rt.unstable_act=ce,rt.useCallback=function(R,te){return re.current.useCallback(R,te)},rt.useContext=function(R){return re.current.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R){return re.current.useDeferredValue(R)},rt.useEffect=function(R,te){return re.current.useEffect(R,te)},rt.useId=function(){return re.current.useId()},rt.useImperativeHandle=function(R,te,Le){return re.current.useImperativeHandle(R,te,Le)},rt.useInsertionEffect=function(R,te){return re.current.useInsertionEffect(R,te)},rt.useLayoutEffect=function(R,te){return re.current.useLayoutEffect(R,te)},rt.useMemo=function(R,te){return re.current.useMemo(R,te)},rt.useReducer=function(R,te,Le){return re.current.useReducer(R,te,Le)},rt.useRef=function(R){return re.current.useRef(R)},rt.useState=function(R){return re.current.useState(R)},rt.useSyncExternalStore=function(R,te,Le){return re.current.useSyncExternalStore(R,te,Le)},rt.useTransition=function(){return re.current.useTransition()},rt.version="18.3.1",rt}var fv;function Yu(){return fv||(fv=1,ah.exports=ZC()),ah.exports}var hv;function JC(){if(hv)return Aa;hv=1;var t=Yu(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var p,y={},v=null,S=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(S=h.ref);for(p in h)n.call(h,p)&&!l.hasOwnProperty(p)&&(y[p]=h[p]);if(d&&d.defaultProps)for(p in h=d.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:e,type:d,key:v,ref:S,props:y,_owner:i.current}}return Aa.Fragment=r,Aa.jsx=c,Aa.jsxs=c,Aa}var mv;function YC(){return mv||(mv=1,oh.exports=JC()),oh.exports}var o=YC(),Wc={},lh={exports:{}},Pr={},ch={exports:{}},uh={};var pv;function XC(){return pv||(pv=1,(function(t){function e(X,he){var ce=X.length;X.push(he);e:for(;0<ce;){var R=ce-1>>>1,te=X[R];if(0<i(te,he))X[R]=he,X[ce]=te,ce=R;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var he=X[0],ce=X.pop();if(ce!==he){X[0]=ce;e:for(var R=0,te=X.length,Le=te>>>1;R<Le;){var Fe=2*(R+1)-1,Qe=X[Fe],U=Fe+1,be=X[U];if(0>i(Qe,ce))U<te&&0>i(be,Qe)?(X[R]=be,X[U]=ce,R=U):(X[R]=Qe,X[Fe]=ce,R=Fe);else if(U<te&&0>i(be,ce))X[R]=be,X[U]=ce,R=U;else break e}}return he}function i(X,he){var ce=X.sortIndex-he.sortIndex;return ce!==0?ce:X.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,y=null,v=3,S=!1,_=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(X){for(var he=r(m);he!==null;){if(he.callback===null)n(m);else if(he.startTime<=X)n(m),he.sortIndex=he.expirationTime,e(h,he);else break;he=r(m)}}function A(X){if(j=!1,E(X),!_)if(r(h)!==null)_=!0,ye(L);else{var he=r(m);he!==null&&re(A,he.startTime-X)}}function L(X,he){_=!1,j&&(j=!1,C(J),J=-1),S=!0;var ce=v;try{for(E(he),y=r(h);y!==null&&(!(y.expirationTime>he)||X&&!q());){var R=y.callback;if(typeof R=="function"){y.callback=null,v=y.priorityLevel;var te=R(y.expirationTime<=he);he=t.unstable_now(),typeof te=="function"?y.callback=te:y===r(h)&&n(h),E(he)}else n(h);y=r(h)}if(y!==null)var Le=!0;else{var Fe=r(m);Fe!==null&&re(A,Fe.startTime-he),Le=!1}return Le}finally{y=null,v=ce,S=!1}}var F=!1,G=null,J=-1,O=5,Q=-1;function q(){return!(t.unstable_now()-Q<O)}function K(){if(G!==null){var X=t.unstable_now();Q=X;var he=!0;try{he=G(!0,X)}finally{he?Y():(F=!1,G=null)}}else F=!1}var Y;if(typeof k=="function")Y=function(){k(K)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,me=Z.port2;Z.port1.onmessage=K,Y=function(){me.postMessage(null)}}else Y=function(){w(K,0)};function ye(X){G=X,F||(F=!0,Y())}function re(X,he){J=w(function(){X(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){_||S||(_=!0,ye(L))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var ce=v;v=he;try{return X()}finally{v=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=v;v=X;try{return he()}finally{v=ce}},t.unstable_scheduleCallback=function(X,he,ce){var R=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?R+ce:R):ce=R,X){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ce+te,X={id:p++,callback:he,priorityLevel:X,startTime:ce,expirationTime:te,sortIndex:-1},ce>R?(X.sortIndex=ce,e(m,X),r(h)===null&&X===r(m)&&(j?(C(J),J=-1):j=!0,re(A,ce-R))):(X.sortIndex=te,e(h,X),_||S||(_=!0,ye(L))),X},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(X){var he=v;return function(){var ce=v;v=he;try{return X.apply(this,arguments)}finally{v=ce}}}})(uh)),uh}var gv;function eE(){return gv||(gv=1,ch.exports=XC()),ch.exports}var yv;function tE(){if(yv)return Pr;yv=1;var t=Yu(),e=eE();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(s){return h.call(y,s)?!0:h.call(p,s)?!1:m.test(s)?y[s]=!0:(p[s]=!0,!1)}function S(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,a,u,f){if(a===null||typeof a>"u"||S(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(s,a,u,f,g,x,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=N}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new j(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,k);w[a]=new j(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,a,u,f){var g=w.hasOwnProperty(a)?w[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,u,g,f)&&(u=null),f||g===null?v(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),X=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,R;function te(s){if(R===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);R=a&&a[1]||""}return`
`+R+s}var Le=!1;function Fe(s,a){if(!s||Le)return"";Le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var f=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){f=W}s.call(a.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),x=f.stack.split(`
`),N=g.length-1,T=x.length-1;1<=N&&0<=T&&g[N]!==x[T];)T--;for(;1<=N&&0<=T;N--,T--)if(g[N]!==x[T]){if(N!==1||T!==1)do if(N--,T--,0>T||g[N]!==x[T]){var I=`
`+g[N].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=N&&0<=T);break}}}finally{Le=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?te(s):""}function Qe(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=Fe(s.type,!1),s;case 11:return s=Fe(s.type.render,!1),s;case 1:return s=Fe(s.type,!0),s;default:return""}}function U(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case G:return"Fragment";case F:return"Portal";case O:return"Profiler";case J:return"StrictMode";case Y:return"Suspense";case Z:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case q:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case K:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return a=s.displayName||null,a!==null?a:U(s.type)||"Memo";case ye:a=s._payload,s=s._init;try{return U(s(a))}catch{}}return null}function be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function tt(s){var a=qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(N){f=""+N,x.call(this,N)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function vr(s){s._valueTracker||(s._valueTracker=tt(s))}function $(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=qe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function z(s,a){var u=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Se(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=xe(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Pe(s,a){a=a.checked,a!=null&&E(s,"checked",a,!1)}function _e(s,a){Pe(s,a);var u=xe(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?st(s,a.type,u):a.hasOwnProperty("defaultValue")&&st(s,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function pt(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function st(s,a,u){(a!=="number"||je(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var P=Array.isArray;function M(s,a,u,f){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+xe(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function H(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fe(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(P(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:xe(u)}}function ue(s,a){var u=xe(a.value),f=xe(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function le(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ie(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ie(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var it,nr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=it.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Gr(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(s){ls.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ur[a]=ur[s]})});function on(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ur.hasOwnProperty(s)&&ur[s]?(""+a).trim():a+"px"}function cs(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=on(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var Ri=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(s,a){if(a){if(Ri[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function us(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function Go(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qo=null,ds=null,ee=null;function ke(s){if(s=ga(s)){if(typeof Qo!="function")throw Error(r(280));var a=s.stateNode;a&&(a=oc(a),Qo(s.stateNode,s.type,a))}}function mt(s){ds?ee?ee.push(s):ee=[s]:ds=s}function ut(){if(ds){var s=ds,a=ee;if(ee=ds=null,ke(s),a)for(s=0;s<a.length;s++)ke(a[s])}}function yt(s,a){return s(a)}function Gt(){}var Or=!1;function Ir(s,a,u){if(Or)return s(a,u);Or=!0;try{return yt(s,a,u)}finally{Or=!1,(ds!==null||ee!==null)&&(Gt(),ut())}}function Qs(s,a){var u=s.stateNode;if(u===null)return null;var f=oc(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Zs=!1;if(d)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Zs=!1}function rk(s,a,u,f,g,x,N,T,I){var W=Array.prototype.slice.call(arguments,3);try{a.apply(u,W)}catch(ie){this.onError(ie)}}var Jo=!1,Fl=null,Vl=!1,Nd=null,nk={onError:function(s){Jo=!0,Fl=s}};function sk(s,a,u,f,g,x,N,T,I){Jo=!1,Fl=null,rk.apply(nk,arguments)}function ik(s,a,u,f,g,x,N,T,I){if(sk.apply(this,arguments),Jo){if(Jo){var W=Fl;Jo=!1,Fl=null}else throw Error(r(198));Vl||(Vl=!0,Nd=W)}}function Js(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Ig(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Lg(s){if(Js(s)!==s)throw Error(r(188))}function ok(s){var a=s.alternate;if(!a){if(a=Js(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var g=u.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===u)return Lg(g),s;if(x===f)return Lg(g),a;x=x.sibling}throw Error(r(188))}if(u.return!==f.return)u=g,f=x;else{for(var N=!1,T=g.child;T;){if(T===u){N=!0,u=g,f=x;break}if(T===f){N=!0,f=g,u=x;break}T=T.sibling}if(!N){for(T=x.child;T;){if(T===u){N=!0,u=x,f=g;break}if(T===f){N=!0,f=x,u=g;break}T=T.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function Dg(s){return s=ok(s),s!==null?Mg(s):null}function Mg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Mg(s);if(a!==null)return a;s=s.sibling}return null}var Fg=e.unstable_scheduleCallback,Vg=e.unstable_cancelCallback,ak=e.unstable_shouldYield,lk=e.unstable_requestPaint,Mt=e.unstable_now,ck=e.unstable_getCurrentPriorityLevel,_d=e.unstable_ImmediatePriority,Ug=e.unstable_UserBlockingPriority,Ul=e.unstable_NormalPriority,uk=e.unstable_LowPriority,$g=e.unstable_IdlePriority,$l=null,Pn=null;function dk(s){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot($l,s,void 0,(s.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:mk,fk=Math.log,hk=Math.LN2;function mk(s){return s>>>=0,s===0?32:31-(fk(s)/hk|0)|0}var Bl=64,zl=4194304;function Yo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ql(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,x=s.pingedLanes,N=u&268435455;if(N!==0){var T=N&~g;T!==0?f=Yo(T):(x&=N,x!==0&&(f=Yo(x)))}else N=u&~g,N!==0?f=Yo(N):x!==0&&(f=Yo(x));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,x=a&-a,g>=x||g===16&&(x&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-ln(a),g=1<<u,f|=s[u],a&=~g;return f}function pk(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gk(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var N=31-ln(x),T=1<<N,I=g[N];I===-1?((T&u)===0||(T&f)!==0)&&(g[N]=pk(T,a)):I<=a&&(s.expiredLanes|=T),x&=~T}}function kd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Bg(){var s=Bl;return Bl<<=1,(Bl&4194240)===0&&(Bl=64),s}function Cd(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Xo(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ln(a),s[a]=u}function yk(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-ln(u),x=1<<g;a[g]=0,f[g]=-1,s[g]=-1,u&=~x}}function Ed(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-ln(u),g=1<<f;g&a|s[f]&a&&(s[f]|=a),u&=~g}}var ft=0;function zg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qg,Td,Wg,Kg,Hg,Pd=!1,Wl=[],fs=null,hs=null,ms=null,ea=new Map,ta=new Map,ps=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(s,a){switch(s){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":ea.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(a.pointerId)}}function ra(s,a,u,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},a!==null&&(a=ga(a),a!==null&&Td(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function vk(s,a,u,f,g){switch(a){case"focusin":return fs=ra(fs,s,a,u,f,g),!0;case"dragenter":return hs=ra(hs,s,a,u,f,g),!0;case"mouseover":return ms=ra(ms,s,a,u,f,g),!0;case"pointerover":var x=g.pointerId;return ea.set(x,ra(ea.get(x)||null,s,a,u,f,g)),!0;case"gotpointercapture":return x=g.pointerId,ta.set(x,ra(ta.get(x)||null,s,a,u,f,g)),!0}return!1}function Qg(s){var a=Ys(s.target);if(a!==null){var u=Js(a);if(u!==null){if(a=u.tag,a===13){if(a=Ig(u),a!==null){s.blockedOn=a,Hg(s.priority,function(){Wg(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Rd(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Tn=f,u.target.dispatchEvent(f),Tn=null}else return a=ga(u),a!==null&&Td(a),s.blockedOn=u,!1;a.shift()}return!0}function Zg(s,a,u){Kl(s)&&u.delete(a)}function bk(){Pd=!1,fs!==null&&Kl(fs)&&(fs=null),hs!==null&&Kl(hs)&&(hs=null),ms!==null&&Kl(ms)&&(ms=null),ea.forEach(Zg),ta.forEach(Zg)}function na(s,a){s.blockedOn===a&&(s.blockedOn=null,Pd||(Pd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bk)))}function sa(s){function a(g){return na(g,s)}if(0<Wl.length){na(Wl[0],s);for(var u=1;u<Wl.length;u++){var f=Wl[u];f.blockedOn===s&&(f.blockedOn=null)}}for(fs!==null&&na(fs,s),hs!==null&&na(hs,s),ms!==null&&na(ms,s),ea.forEach(a),ta.forEach(a),u=0;u<ps.length;u++)f=ps[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<ps.length&&(u=ps[0],u.blockedOn===null);)Qg(u),u.blockedOn===null&&ps.shift()}var Oi=A.ReactCurrentBatchConfig,Hl=!0;function wk(s,a,u,f){var g=ft,x=Oi.transition;Oi.transition=null;try{ft=1,Ad(s,a,u,f)}finally{ft=g,Oi.transition=x}}function jk(s,a,u,f){var g=ft,x=Oi.transition;Oi.transition=null;try{ft=4,Ad(s,a,u,f)}finally{ft=g,Oi.transition=x}}function Ad(s,a,u,f){if(Hl){var g=Rd(s,a,u,f);if(g===null)Qd(s,a,f,Gl,u),Gg(s,f);else if(vk(g,s,a,u,f))f.stopPropagation();else if(Gg(s,f),a&4&&-1<xk.indexOf(s)){for(;g!==null;){var x=ga(g);if(x!==null&&qg(x),x=Rd(s,a,u,f),x===null&&Qd(s,a,f,Gl,u),x===g)break;g=x}g!==null&&f.stopPropagation()}else Qd(s,a,f,null,u)}}var Gl=null;function Rd(s,a,u,f){if(Gl=null,s=Go(f),s=Ys(s),s!==null)if(a=Js(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Ig(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Gl=s,null}function Jg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ck()){case _d:return 1;case Ug:return 4;case Ul:case uk:return 16;case $g:return 536870912;default:return 16}default:return 16}}var gs=null,Od=null,Ql=null;function Yg(){if(Ql)return Ql;var s,a=Od,u=a.length,f,g="value"in gs?gs.value:gs.textContent,x=g.length;for(s=0;s<u&&a[s]===g[s];s++);var N=u-s;for(f=1;f<=N&&a[u-f]===g[x-f];f++);return Ql=g.slice(s,1<f?1-f:void 0)}function Zl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Jl(){return!0}function Xg(){return!1}function Lr(s){function a(u,f,g,x,N){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(u=s[T],this[T]=u?u(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Jl:Xg,this.isPropagationStopped=Xg,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),a}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=Lr(Ii),ia=ce({},Ii,{view:0,detail:0}),Sk=Lr(ia),Ld,Dd,oa,Yl=ce({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==oa&&(oa&&s.type==="mousemove"?(Ld=s.screenX-oa.screenX,Dd=s.screenY-oa.screenY):Dd=Ld=0,oa=s),Ld)},movementY:function(s){return"movementY"in s?s.movementY:Dd}}),ey=Lr(Yl),Nk=ce({},Yl,{dataTransfer:0}),_k=Lr(Nk),kk=ce({},ia,{relatedTarget:0}),Md=Lr(kk),Ck=ce({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Ek=Lr(Ck),Tk=ce({},Ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pk=Lr(Tk),Ak=ce({},Ii,{data:0}),ty=Lr(Ak),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lk(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ik[s])?!!a[s]:!1}function Fd(){return Lk}var Dk=ce({},ia,{key:function(s){if(s.key){var a=Rk[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Zl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ok[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(s){return s.type==="keypress"?Zl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Mk=Lr(Dk),Fk=ce({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Lr(Fk),Vk=ce({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),Uk=Lr(Vk),$k=ce({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bk=Lr($k),zk=ce({},Yl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qk=Lr(zk),Wk=[9,13,27,32],Vd=d&&"CompositionEvent"in window,aa=null;d&&"documentMode"in document&&(aa=document.documentMode);var Kk=d&&"TextEvent"in window&&!aa,ny=d&&(!Vd||aa&&8<aa&&11>=aa),sy=" ",iy=!1;function oy(s,a){switch(s){case"keyup":return Wk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ay(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Li=!1;function Hk(s,a){switch(s){case"compositionend":return ay(a);case"keypress":return a.which!==32?null:(iy=!0,sy);case"textInput":return s=a.data,s===sy&&iy?null:s;default:return null}}function Gk(s,a){if(Li)return s==="compositionend"||!Vd&&oy(s,a)?(s=Yg(),Ql=Od=gs=null,Li=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ny&&a.locale!=="ko"?null:a.data;default:return null}}var Qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Qk[s.type]:a==="textarea"}function cy(s,a,u,f){mt(f),a=nc(a,"onChange"),0<a.length&&(u=new Id("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var la=null,ca=null;function Zk(s){Cy(s,0)}function Xl(s){var a=Ui(s);if($(a))return s}function Jk(s,a){if(s==="change")return a}var uy=!1;if(d){var Ud;if(d){var $d="oninput"in document;if(!$d){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),$d=typeof dy.oninput=="function"}Ud=$d}else Ud=!1;uy=Ud&&(!document.documentMode||9<document.documentMode)}function fy(){la&&(la.detachEvent("onpropertychange",hy),ca=la=null)}function hy(s){if(s.propertyName==="value"&&Xl(ca)){var a=[];cy(a,ca,s,Go(s)),Ir(Zk,a)}}function Yk(s,a,u){s==="focusin"?(fy(),la=a,ca=u,la.attachEvent("onpropertychange",hy)):s==="focusout"&&fy()}function Xk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xl(ca)}function eC(s,a){if(s==="click")return Xl(a)}function tC(s,a){if(s==="input"||s==="change")return Xl(a)}function rC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var cn=typeof Object.is=="function"?Object.is:rC;function ua(s,a){if(cn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(a,g)||!cn(s[g],a[g]))return!1}return!0}function my(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function py(s,a){var u=my(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=my(u)}}function gy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?gy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function yy(){for(var s=window,a=je();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=je(s.document)}return a}function Bd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function nC(s){var a=yy(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&gy(u.ownerDocument.documentElement,u)){if(f!==null&&Bd(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!s.extend&&x>f&&(g=f,f=x,x=g),g=py(u,x);var N=py(u,f);g&&N&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),x>f?(s.addRange(a),s.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sC=d&&"documentMode"in document&&11>=document.documentMode,Di=null,zd=null,da=null,qd=!1;function xy(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qd||Di==null||Di!==je(f)||(f=Di,"selectionStart"in f&&Bd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),da&&ua(da,f)||(da=f,f=nc(zd,"onSelect"),0<f.length&&(a=new Id("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Di)))}function ec(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Mi={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Wd={},vy={};d&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function tc(s){if(Wd[s])return Wd[s];if(!Mi[s])return s;var a=Mi[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in vy)return Wd[s]=a[u];return s}var by=tc("animationend"),wy=tc("animationiteration"),jy=tc("animationstart"),Sy=tc("transitionend"),Ny=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(s,a){Ny.set(s,a),l(a,[s])}for(var Kd=0;Kd<_y.length;Kd++){var Hd=_y[Kd],iC=Hd.toLowerCase(),oC=Hd[0].toUpperCase()+Hd.slice(1);ys(iC,"on"+oC)}ys(by,"onAnimationEnd"),ys(wy,"onAnimationIteration"),ys(jy,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(Sy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function ky(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,ik(f,a,void 0,s),s.currentTarget=null}function Cy(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var x=void 0;if(a)for(var N=f.length-1;0<=N;N--){var T=f[N],I=T.instance,W=T.currentTarget;if(T=T.listener,I!==x&&g.isPropagationStopped())break e;ky(g,T,W),x=I}else for(N=0;N<f.length;N++){if(T=f[N],I=T.instance,W=T.currentTarget,T=T.listener,I!==x&&g.isPropagationStopped())break e;ky(g,T,W),x=I}}}if(Vl)throw s=Nd,Vl=!1,Nd=null,s}function wt(s,a){var u=a[tf];u===void 0&&(u=a[tf]=new Set);var f=s+"__bubble";u.has(f)||(Ey(a,s,2,!1),u.add(f))}function Gd(s,a,u){var f=0;a&&(f|=4),Ey(u,s,f,a)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ha(s){if(!s[rc]){s[rc]=!0,n.forEach(function(u){u!=="selectionchange"&&(aC.has(u)||Gd(u,!1,s),Gd(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[rc]||(a[rc]=!0,Gd("selectionchange",!1,a))}}function Ey(s,a,u,f){switch(Jg(a)){case 1:var g=wk;break;case 4:g=jk;break;default:g=Ad}u=g.bind(null,a,u,s),g=void 0,!Zs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Qd(s,a,u,f,g){var x=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(N===4)for(N=f.return;N!==null;){var I=N.tag;if((I===3||I===4)&&(I=N.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;N=N.return}for(;T!==null;){if(N=Ys(T),N===null)return;if(I=N.tag,I===5||I===6){f=x=N;continue e}T=T.parentNode}}f=f.return}Ir(function(){var W=x,ie=Go(u),oe=[];e:{var ne=Ny.get(s);if(ne!==void 0){var we=Id,Ee=s;switch(s){case"keypress":if(Zl(u)===0)break e;case"keydown":case"keyup":we=Mk;break;case"focusin":Ee="focus",we=Md;break;case"focusout":Ee="blur",we=Md;break;case"beforeblur":case"afterblur":we=Md;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Uk;break;case by:case wy:case jy:we=Ek;break;case Sy:we=Bk;break;case"scroll":we=Sk;break;case"wheel":we=qk;break;case"copy":case"cut":case"paste":we=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=ry}var Te=(a&4)!==0,Ft=!Te&&s==="scroll",V=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var D=W,B;D!==null;){B=D;var de=B.stateNode;if(B.tag===5&&de!==null&&(B=de,V!==null&&(de=Qs(D,V),de!=null&&Te.push(ma(D,de,B)))),Ft)break;D=D.return}0<Te.length&&(ne=new we(ne,Ee,null,u,ie),oe.push({event:ne,listeners:Te}))}}if((a&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",ne&&u!==Tn&&(Ee=u.relatedTarget||u.fromElement)&&(Ys(Ee)||Ee[zn]))break e;if((we||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,we?(Ee=u.relatedTarget||u.toElement,we=W,Ee=Ee?Ys(Ee):null,Ee!==null&&(Ft=Js(Ee),Ee!==Ft||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(we=null,Ee=W),we!==Ee)){if(Te=ey,de="onMouseLeave",V="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(Te=ry,de="onPointerLeave",V="onPointerEnter",D="pointer"),Ft=we==null?ne:Ui(we),B=Ee==null?ne:Ui(Ee),ne=new Te(de,D+"leave",we,u,ie),ne.target=Ft,ne.relatedTarget=B,de=null,Ys(ie)===W&&(Te=new Te(V,D+"enter",Ee,u,ie),Te.target=B,Te.relatedTarget=Ft,de=Te),Ft=de,we&&Ee)t:{for(Te=we,V=Ee,D=0,B=Te;B;B=Fi(B))D++;for(B=0,de=V;de;de=Fi(de))B++;for(;0<D-B;)Te=Fi(Te),D--;for(;0<B-D;)V=Fi(V),B--;for(;D--;){if(Te===V||V!==null&&Te===V.alternate)break t;Te=Fi(Te),V=Fi(V)}Te=null}else Te=null;we!==null&&Ty(oe,ne,we,Te,!1),Ee!==null&&Ft!==null&&Ty(oe,Ft,Ee,Te,!0)}}e:{if(ne=W?Ui(W):window,we=ne.nodeName&&ne.nodeName.toLowerCase(),we==="select"||we==="input"&&ne.type==="file")var Re=Jk;else if(ly(ne))if(uy)Re=tC;else{Re=Xk;var Ve=Yk}else(we=ne.nodeName)&&we.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Re=eC);if(Re&&(Re=Re(s,W))){cy(oe,Re,u,ie);break e}Ve&&Ve(s,ne,W),s==="focusout"&&(Ve=ne._wrapperState)&&Ve.controlled&&ne.type==="number"&&st(ne,"number",ne.value)}switch(Ve=W?Ui(W):window,s){case"focusin":(ly(Ve)||Ve.contentEditable==="true")&&(Di=Ve,zd=W,da=null);break;case"focusout":da=zd=Di=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,xy(oe,u,ie);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":xy(oe,u,ie)}var Ue;if(Vd)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Li?oy(s,u)&&(He="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(He="onCompositionStart");He&&(ny&&u.locale!=="ko"&&(Li||He!=="onCompositionStart"?He==="onCompositionEnd"&&Li&&(Ue=Yg()):(gs=ie,Od="value"in gs?gs.value:gs.textContent,Li=!0)),Ve=nc(W,He),0<Ve.length&&(He=new ty(He,s,null,u,ie),oe.push({event:He,listeners:Ve}),Ue?He.data=Ue:(Ue=ay(u),Ue!==null&&(He.data=Ue)))),(Ue=Kk?Hk(s,u):Gk(s,u))&&(W=nc(W,"onBeforeInput"),0<W.length&&(ie=new ty("onBeforeInput","beforeinput",null,u,ie),oe.push({event:ie,listeners:W}),ie.data=Ue))}Cy(oe,a)})}function ma(s,a,u){return{instance:s,listener:a,currentTarget:u}}function nc(s,a){for(var u=a+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=Qs(s,u),x!=null&&f.unshift(ma(s,x,g)),x=Qs(s,a),x!=null&&f.push(ma(s,x,g))),s=s.return}return f}function Fi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ty(s,a,u,f,g){for(var x=a._reactName,N=[];u!==null&&u!==f;){var T=u,I=T.alternate,W=T.stateNode;if(I!==null&&I===f)break;T.tag===5&&W!==null&&(T=W,g?(I=Qs(u,x),I!=null&&N.unshift(ma(u,I,T))):g||(I=Qs(u,x),I!=null&&N.push(ma(u,I,T)))),u=u.return}N.length!==0&&s.push({event:a,listeners:N})}var lC=/\r\n?/g,cC=/\u0000|\uFFFD/g;function Py(s){return(typeof s=="string"?s:""+s).replace(lC,`
`).replace(cC,"")}function sc(s,a,u){if(a=Py(a),Py(s)!==a&&u)throw Error(r(425))}function ic(){}var Zd=null,Jd=null;function Yd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xd=typeof setTimeout=="function"?setTimeout:void 0,uC=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(s){return Ay.resolve(null).then(s).catch(fC)}:Xd;function fC(s){setTimeout(function(){throw s})}function ef(s,a){var u=a,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),sa(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);sa(a)}function xs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ry(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),An="__reactFiber$"+Vi,pa="__reactProps$"+Vi,zn="__reactContainer$"+Vi,tf="__reactEvents$"+Vi,hC="__reactListeners$"+Vi,mC="__reactHandles$"+Vi;function Ys(s){var a=s[An];if(a)return a;for(var u=s.parentNode;u;){if(a=u[zn]||u[An]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Ry(s);s!==null;){if(u=s[An])return u;s=Ry(s)}return a}s=u,u=s.parentNode}return null}function ga(s){return s=s[An]||s[zn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ui(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function oc(s){return s[pa]||null}var rf=[],$i=-1;function vs(s){return{current:s}}function jt(s){0>$i||(s.current=rf[$i],rf[$i]=null,$i--)}function xt(s,a){$i++,rf[$i]=s.current,s.current=a}var bs={},dr=vs(bs),_r=vs(!1),Xs=bs;function Bi(s,a){var u=s.type.contextTypes;if(!u)return bs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in u)g[x]=a[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function kr(s){return s=s.childContextTypes,s!=null}function ac(){jt(_r),jt(dr)}function Oy(s,a,u){if(dr.current!==bs)throw Error(r(168));xt(dr,a),xt(_r,u)}function Iy(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(r(108,be(s)||"Unknown",g));return ce({},u,f)}function lc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||bs,Xs=dr.current,xt(dr,s),xt(_r,_r.current),!0}function Ly(s,a,u){var f=s.stateNode;if(!f)throw Error(r(169));u?(s=Iy(s,a,Xs),f.__reactInternalMemoizedMergedChildContext=s,jt(_r),jt(dr),xt(dr,s)):jt(_r),xt(_r,u)}var qn=null,cc=!1,nf=!1;function Dy(s){qn===null?qn=[s]:qn.push(s)}function pC(s){cc=!0,Dy(s)}function ws(){if(!nf&&qn!==null){nf=!0;var s=0,a=ft;try{var u=qn;for(ft=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}qn=null,cc=!1}catch(g){throw qn!==null&&(qn=qn.slice(s+1)),Fg(_d,ws),g}finally{ft=a,nf=!1}}return null}var zi=[],qi=0,uc=null,dc=0,Qr=[],Zr=0,ei=null,Wn=1,Kn="";function ti(s,a){zi[qi++]=dc,zi[qi++]=uc,uc=s,dc=a}function My(s,a,u){Qr[Zr++]=Wn,Qr[Zr++]=Kn,Qr[Zr++]=ei,ei=s;var f=Wn;s=Kn;var g=32-ln(f)-1;f&=~(1<<g),u+=1;var x=32-ln(a)+g;if(30<x){var N=g-g%5;x=(f&(1<<N)-1).toString(32),f>>=N,g-=N,Wn=1<<32-ln(a)+g|u<<g|f,Kn=x+s}else Wn=1<<x|u<<g|f,Kn=s}function sf(s){s.return!==null&&(ti(s,1),My(s,1,0))}function of(s){for(;s===uc;)uc=zi[--qi],zi[qi]=null,dc=zi[--qi],zi[qi]=null;for(;s===ei;)ei=Qr[--Zr],Qr[Zr]=null,Kn=Qr[--Zr],Qr[Zr]=null,Wn=Qr[--Zr],Qr[Zr]=null}var Dr=null,Mr=null,kt=!1,un=null;function Fy(s,a){var u=en(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Vy(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Dr=s,Mr=xs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Dr=s,Mr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ei!==null?{id:Wn,overflow:Kn}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=en(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Dr=s,Mr=null,!0):!1;default:return!1}}function af(s){return(s.mode&1)!==0&&(s.flags&128)===0}function lf(s){if(kt){var a=Mr;if(a){var u=a;if(!Vy(s,a)){if(af(s))throw Error(r(418));a=xs(u.nextSibling);var f=Dr;a&&Vy(s,a)?Fy(f,u):(s.flags=s.flags&-4097|2,kt=!1,Dr=s)}}else{if(af(s))throw Error(r(418));s.flags=s.flags&-4097|2,kt=!1,Dr=s}}}function Uy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Dr=s}function fc(s){if(s!==Dr)return!1;if(!kt)return Uy(s),kt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Yd(s.type,s.memoizedProps)),a&&(a=Mr)){if(af(s))throw $y(),Error(r(418));for(;a;)Fy(s,a),a=xs(a.nextSibling)}if(Uy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Mr=xs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Mr=null}}else Mr=Dr?xs(s.stateNode.nextSibling):null;return!0}function $y(){for(var s=Mr;s;)s=xs(s.nextSibling)}function Wi(){Mr=Dr=null,kt=!1}function cf(s){un===null?un=[s]:un.push(s)}var gC=A.ReactCurrentBatchConfig;function ya(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var f=u.stateNode}if(!f)throw Error(r(147,s));var g=f,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(N){var T=g.refs;N===null?delete T[x]:T[x]=N},a._stringRef=x,a)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function hc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function By(s){var a=s._init;return a(s._payload)}function zy(s){function a(V,D){if(s){var B=V.deletions;B===null?(V.deletions=[D],V.flags|=16):B.push(D)}}function u(V,D){if(!s)return null;for(;D!==null;)a(V,D),D=D.sibling;return null}function f(V,D){for(V=new Map;D!==null;)D.key!==null?V.set(D.key,D):V.set(D.index,D),D=D.sibling;return V}function g(V,D){return V=Ts(V,D),V.index=0,V.sibling=null,V}function x(V,D,B){return V.index=B,s?(B=V.alternate,B!==null?(B=B.index,B<D?(V.flags|=2,D):B):(V.flags|=2,D)):(V.flags|=1048576,D)}function N(V){return s&&V.alternate===null&&(V.flags|=2),V}function T(V,D,B,de){return D===null||D.tag!==6?(D=eh(B,V.mode,de),D.return=V,D):(D=g(D,B),D.return=V,D)}function I(V,D,B,de){var Re=B.type;return Re===G?ie(V,D,B.props.children,de,B.key):D!==null&&(D.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ye&&By(Re)===D.type)?(de=g(D,B.props),de.ref=ya(V,D,B),de.return=V,de):(de=Mc(B.type,B.key,B.props,null,V.mode,de),de.ref=ya(V,D,B),de.return=V,de)}function W(V,D,B,de){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=th(B,V.mode,de),D.return=V,D):(D=g(D,B.children||[]),D.return=V,D)}function ie(V,D,B,de,Re){return D===null||D.tag!==7?(D=ci(B,V.mode,de,Re),D.return=V,D):(D=g(D,B),D.return=V,D)}function oe(V,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=eh(""+D,V.mode,B),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return B=Mc(D.type,D.key,D.props,null,V.mode,B),B.ref=ya(V,null,D),B.return=V,B;case F:return D=th(D,V.mode,B),D.return=V,D;case ye:var de=D._init;return oe(V,de(D._payload),B)}if(P(D)||he(D))return D=ci(D,V.mode,B,null),D.return=V,D;hc(V,D)}return null}function ne(V,D,B,de){var Re=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Re!==null?null:T(V,D,""+B,de);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===Re?I(V,D,B,de):null;case F:return B.key===Re?W(V,D,B,de):null;case ye:return Re=B._init,ne(V,D,Re(B._payload),de)}if(P(B)||he(B))return Re!==null?null:ie(V,D,B,de,null);hc(V,B)}return null}function we(V,D,B,de,Re){if(typeof de=="string"&&de!==""||typeof de=="number")return V=V.get(B)||null,T(D,V,""+de,Re);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case L:return V=V.get(de.key===null?B:de.key)||null,I(D,V,de,Re);case F:return V=V.get(de.key===null?B:de.key)||null,W(D,V,de,Re);case ye:var Ve=de._init;return we(V,D,B,Ve(de._payload),Re)}if(P(de)||he(de))return V=V.get(B)||null,ie(D,V,de,Re,null);hc(D,de)}return null}function Ee(V,D,B,de){for(var Re=null,Ve=null,Ue=D,He=D=0,tr=null;Ue!==null&&He<B.length;He++){Ue.index>He?(tr=Ue,Ue=null):tr=Ue.sibling;var ct=ne(V,Ue,B[He],de);if(ct===null){Ue===null&&(Ue=tr);break}s&&Ue&&ct.alternate===null&&a(V,Ue),D=x(ct,D,He),Ve===null?Re=ct:Ve.sibling=ct,Ve=ct,Ue=tr}if(He===B.length)return u(V,Ue),kt&&ti(V,He),Re;if(Ue===null){for(;He<B.length;He++)Ue=oe(V,B[He],de),Ue!==null&&(D=x(Ue,D,He),Ve===null?Re=Ue:Ve.sibling=Ue,Ve=Ue);return kt&&ti(V,He),Re}for(Ue=f(V,Ue);He<B.length;He++)tr=we(Ue,V,He,B[He],de),tr!==null&&(s&&tr.alternate!==null&&Ue.delete(tr.key===null?He:tr.key),D=x(tr,D,He),Ve===null?Re=tr:Ve.sibling=tr,Ve=tr);return s&&Ue.forEach(function(Ps){return a(V,Ps)}),kt&&ti(V,He),Re}function Te(V,D,B,de){var Re=he(B);if(typeof Re!="function")throw Error(r(150));if(B=Re.call(B),B==null)throw Error(r(151));for(var Ve=Re=null,Ue=D,He=D=0,tr=null,ct=B.next();Ue!==null&&!ct.done;He++,ct=B.next()){Ue.index>He?(tr=Ue,Ue=null):tr=Ue.sibling;var Ps=ne(V,Ue,ct.value,de);if(Ps===null){Ue===null&&(Ue=tr);break}s&&Ue&&Ps.alternate===null&&a(V,Ue),D=x(Ps,D,He),Ve===null?Re=Ps:Ve.sibling=Ps,Ve=Ps,Ue=tr}if(ct.done)return u(V,Ue),kt&&ti(V,He),Re;if(Ue===null){for(;!ct.done;He++,ct=B.next())ct=oe(V,ct.value,de),ct!==null&&(D=x(ct,D,He),Ve===null?Re=ct:Ve.sibling=ct,Ve=ct);return kt&&ti(V,He),Re}for(Ue=f(V,Ue);!ct.done;He++,ct=B.next())ct=we(Ue,V,He,ct.value,de),ct!==null&&(s&&ct.alternate!==null&&Ue.delete(ct.key===null?He:ct.key),D=x(ct,D,He),Ve===null?Re=ct:Ve.sibling=ct,Ve=ct);return s&&Ue.forEach(function(QC){return a(V,QC)}),kt&&ti(V,He),Re}function Ft(V,D,B,de){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var Re=B.key,Ve=D;Ve!==null;){if(Ve.key===Re){if(Re=B.type,Re===G){if(Ve.tag===7){u(V,Ve.sibling),D=g(Ve,B.props.children),D.return=V,V=D;break e}}else if(Ve.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ye&&By(Re)===Ve.type){u(V,Ve.sibling),D=g(Ve,B.props),D.ref=ya(V,Ve,B),D.return=V,V=D;break e}u(V,Ve);break}else a(V,Ve);Ve=Ve.sibling}B.type===G?(D=ci(B.props.children,V.mode,de,B.key),D.return=V,V=D):(de=Mc(B.type,B.key,B.props,null,V.mode,de),de.ref=ya(V,D,B),de.return=V,V=de)}return N(V);case F:e:{for(Ve=B.key;D!==null;){if(D.key===Ve)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){u(V,D.sibling),D=g(D,B.children||[]),D.return=V,V=D;break e}else{u(V,D);break}else a(V,D);D=D.sibling}D=th(B,V.mode,de),D.return=V,V=D}return N(V);case ye:return Ve=B._init,Ft(V,D,Ve(B._payload),de)}if(P(B))return Ee(V,D,B,de);if(he(B))return Te(V,D,B,de);hc(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(u(V,D.sibling),D=g(D,B),D.return=V,V=D):(u(V,D),D=eh(B,V.mode,de),D.return=V,V=D),N(V)):u(V,D)}return Ft}var Ki=zy(!0),qy=zy(!1),mc=vs(null),pc=null,Hi=null,uf=null;function df(){uf=Hi=pc=null}function ff(s){var a=mc.current;jt(mc),s._currentValue=a}function hf(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Gi(s,a){pc=s,uf=Hi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Cr=!0),s.firstContext=null)}function Jr(s){var a=s._currentValue;if(uf!==s)if(s={context:s,memoizedValue:a,next:null},Hi===null){if(pc===null)throw Error(r(308));Hi=s,pc.dependencies={lanes:0,firstContext:s}}else Hi=Hi.next=s;return a}var ri=null;function mf(s){ri===null?ri=[s]:ri.push(s)}function Wy(s,a,u,f){var g=a.interleaved;return g===null?(u.next=u,mf(a)):(u.next=g.next,g.next=u),a.interleaved=u,Hn(s,f)}function Hn(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var js=!1;function pf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ky(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Hn(s,u)}return g=f.interleaved,g===null?(a.next=a,mf(f)):(a.next=g.next,g.next=a),f.interleaved=a,Hn(s,u)}function gc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Ed(s,u)}}function Hy(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var N={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?g=x=N:x=x.next=N,u=u.next}while(u!==null);x===null?g=x=a:x=x.next=a}else g=x=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function yc(s,a,u,f){var g=s.updateQueue;js=!1;var x=g.firstBaseUpdate,N=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var I=T,W=I.next;I.next=null,N===null?x=W:N.next=W,N=I;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==N&&(T===null?ie.firstBaseUpdate=W:T.next=W,ie.lastBaseUpdate=I))}if(x!==null){var oe=g.baseState;N=0,ie=W=I=null,T=x;do{var ne=T.lane,we=T.eventTime;if((f&ne)===ne){ie!==null&&(ie=ie.next={eventTime:we,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Ee=s,Te=T;switch(ne=a,we=u,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){oe=Ee.call(we,oe,ne);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,ne=typeof Ee=="function"?Ee.call(we,oe,ne):Ee,ne==null)break e;oe=ce({},oe,ne);break e;case 2:js=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,ne=g.effects,ne===null?g.effects=[T]:ne.push(T))}else we={eventTime:we,lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(W=ie=we,I=oe):ie=ie.next=we,N|=ne;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;ne=T,T=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(ie===null&&(I=oe),g.baseState=I,g.firstBaseUpdate=W,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do N|=g.lane,g=g.next;while(g!==a)}else x===null&&(g.shared.lanes=0);ii|=N,s.lanes=N,s.memoizedState=oe}}function Gy(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var xa={},Rn=vs(xa),va=vs(xa),ba=vs(xa);function ni(s){if(s===xa)throw Error(r(174));return s}function gf(s,a){switch(xt(ba,a),xt(va,s),xt(Rn,xa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:nt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=nt(a,s)}jt(Rn),xt(Rn,a)}function Qi(){jt(Rn),jt(va),jt(ba)}function Qy(s){ni(ba.current);var a=ni(Rn.current),u=nt(a,s.type);a!==u&&(xt(va,s),xt(Rn,u))}function yf(s){va.current===s&&(jt(Rn),jt(va))}var Ct=vs(0);function xc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xf=[];function vf(){for(var s=0;s<xf.length;s++)xf[s]._workInProgressVersionPrimary=null;xf.length=0}var vc=A.ReactCurrentDispatcher,bf=A.ReactCurrentBatchConfig,si=0,Et=null,Qt=null,Xt=null,bc=!1,wa=!1,ja=0,yC=0;function fr(){throw Error(r(321))}function wf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!cn(s[u],a[u]))return!1;return!0}function jf(s,a,u,f,g,x){if(si=x,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,vc.current=s===null||s.memoizedState===null?wC:jC,s=u(f,g),wa){x=0;do{if(wa=!1,ja=0,25<=x)throw Error(r(301));x+=1,Xt=Qt=null,a.updateQueue=null,vc.current=SC,s=u(f,g)}while(wa)}if(vc.current=Sc,a=Qt!==null&&Qt.next!==null,si=0,Xt=Qt=Et=null,bc=!1,a)throw Error(r(300));return s}function Sf(){var s=ja!==0;return ja=0,s}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Et.memoizedState=Xt=s:Xt=Xt.next=s,Xt}function Yr(){if(Qt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var a=Xt===null?Et.memoizedState:Xt.next;if(a!==null)Xt=a,Qt=s;else{if(s===null)throw Error(r(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Xt===null?Et.memoizedState=Xt=s:Xt=Xt.next=s}return Xt}function Sa(s,a){return typeof a=="function"?a(s):a}function Nf(s){var a=Yr(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=Qt,g=f.baseQueue,x=u.pending;if(x!==null){if(g!==null){var N=g.next;g.next=x.next,x.next=N}f.baseQueue=g=x,u.pending=null}if(g!==null){x=g.next,f=f.baseState;var T=N=null,I=null,W=x;do{var ie=W.lane;if((si&ie)===ie)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var oe={lane:ie,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(T=I=oe,N=f):I=I.next=oe,Et.lanes|=ie,ii|=ie}W=W.next}while(W!==null&&W!==x);I===null?N=f:I.next=T,cn(f,a.memoizedState)||(Cr=!0),a.memoizedState=f,a.baseState=N,a.baseQueue=I,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do x=g.lane,Et.lanes|=x,ii|=x,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function _f(s){var a=Yr(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,x=a.memoizedState;if(g!==null){u.pending=null;var N=g=g.next;do x=s(x,N.action),N=N.next;while(N!==g);cn(x,a.memoizedState)||(Cr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,f]}function Zy(){}function Jy(s,a){var u=Et,f=Yr(),g=a(),x=!cn(f.memoizedState,g);if(x&&(f.memoizedState=g,Cr=!0),f=f.queue,kf(ex.bind(null,u,f,s),[s]),f.getSnapshot!==a||x||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,Na(9,Xy.bind(null,u,f,g,a),void 0,null),er===null)throw Error(r(349));(si&30)!==0||Yy(u,a,g)}return g}function Yy(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Xy(s,a,u,f){a.value=u,a.getSnapshot=f,tx(a)&&rx(s)}function ex(s,a,u){return u(function(){tx(a)&&rx(s)})}function tx(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!cn(s,u)}catch{return!0}}function rx(s){var a=Hn(s,1);a!==null&&mn(a,s,1,-1)}function nx(s){var a=On();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:s},a.queue=s,s=s.dispatch=bC.bind(null,Et,s),[a.memoizedState,s]}function Na(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function sx(){return Yr().memoizedState}function wc(s,a,u,f){var g=On();Et.flags|=s,g.memoizedState=Na(1|a,u,void 0,f===void 0?null:f)}function jc(s,a,u,f){var g=Yr();f=f===void 0?null:f;var x=void 0;if(Qt!==null){var N=Qt.memoizedState;if(x=N.destroy,f!==null&&wf(f,N.deps)){g.memoizedState=Na(a,u,x,f);return}}Et.flags|=s,g.memoizedState=Na(1|a,u,x,f)}function ix(s,a){return wc(8390656,8,s,a)}function kf(s,a){return jc(2048,8,s,a)}function ox(s,a){return jc(4,2,s,a)}function ax(s,a){return jc(4,4,s,a)}function lx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function cx(s,a,u){return u=u!=null?u.concat([s]):null,jc(4,4,lx.bind(null,a,s),u)}function Cf(){}function ux(s,a){var u=Yr();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&wf(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function dx(s,a){var u=Yr();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&wf(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function fx(s,a,u){return(si&21)===0?(s.baseState&&(s.baseState=!1,Cr=!0),s.memoizedState=u):(cn(u,a)||(u=Bg(),Et.lanes|=u,ii|=u,s.baseState=!0),a)}function xC(s,a){var u=ft;ft=u!==0&&4>u?u:4,s(!0);var f=bf.transition;bf.transition={};try{s(!1),a()}finally{ft=u,bf.transition=f}}function hx(){return Yr().memoizedState}function vC(s,a,u){var f=Cs(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},mx(s))px(a,u);else if(u=Wy(s,a,u,f),u!==null){var g=wr();mn(u,s,f,g),gx(u,a,f)}}function bC(s,a,u){var f=Cs(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(mx(s))px(a,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var N=a.lastRenderedState,T=x(N,u);if(g.hasEagerState=!0,g.eagerState=T,cn(T,N)){var I=a.interleaved;I===null?(g.next=g,mf(a)):(g.next=I.next,I.next=g),a.interleaved=g;return}}catch{}finally{}u=Wy(s,a,g,f),u!==null&&(g=wr(),mn(u,s,f,g),gx(u,a,f))}}function mx(s){var a=s.alternate;return s===Et||a!==null&&a===Et}function px(s,a){wa=bc=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function gx(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Ed(s,u)}}var Sc={readContext:Jr,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},wC={readContext:Jr,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:Jr,useEffect:ix,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,wc(4194308,4,lx.bind(null,a,s),u)},useLayoutEffect:function(s,a){return wc(4194308,4,s,a)},useInsertionEffect:function(s,a){return wc(4,2,s,a)},useMemo:function(s,a){var u=On();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=On();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=vC.bind(null,Et,s),[f.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:nx,useDebugValue:Cf,useDeferredValue:function(s){return On().memoizedState=s},useTransition:function(){var s=nx(!1),a=s[0];return s=xC.bind(null,s[1]),On().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=Et,g=On();if(kt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),er===null)throw Error(r(349));(si&30)!==0||Yy(f,a,u)}g.memoizedState=u;var x={value:u,getSnapshot:a};return g.queue=x,ix(ex.bind(null,f,x,s),[s]),f.flags|=2048,Na(9,Xy.bind(null,f,x,u,a),void 0,null),u},useId:function(){var s=On(),a=er.identifierPrefix;if(kt){var u=Kn,f=Wn;u=(f&~(1<<32-ln(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=ja++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=yC++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},jC={readContext:Jr,useCallback:ux,useContext:Jr,useEffect:kf,useImperativeHandle:cx,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:Nf,useRef:sx,useState:function(){return Nf(Sa)},useDebugValue:Cf,useDeferredValue:function(s){var a=Yr();return fx(a,Qt.memoizedState,s)},useTransition:function(){var s=Nf(Sa)[0],a=Yr().memoizedState;return[s,a]},useMutableSource:Zy,useSyncExternalStore:Jy,useId:hx,unstable_isNewReconciler:!1},SC={readContext:Jr,useCallback:ux,useContext:Jr,useEffect:kf,useImperativeHandle:cx,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:_f,useRef:sx,useState:function(){return _f(Sa)},useDebugValue:Cf,useDeferredValue:function(s){var a=Yr();return Qt===null?a.memoizedState=s:fx(a,Qt.memoizedState,s)},useTransition:function(){var s=_f(Sa)[0],a=Yr().memoizedState;return[s,a]},useMutableSource:Zy,useSyncExternalStore:Jy,useId:hx,unstable_isNewReconciler:!1};function dn(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Ef(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:ce({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Nc={isMounted:function(s){return(s=s._reactInternals)?Js(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=wr(),g=Cs(s),x=Gn(f,g);x.payload=a,u!=null&&(x.callback=u),a=Ss(s,x,g),a!==null&&(mn(a,s,g,f),gc(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=wr(),g=Cs(s),x=Gn(f,g);x.tag=1,x.payload=a,u!=null&&(x.callback=u),a=Ss(s,x,g),a!==null&&(mn(a,s,g,f),gc(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=wr(),f=Cs(s),g=Gn(u,f);g.tag=2,a!=null&&(g.callback=a),a=Ss(s,g,f),a!==null&&(mn(a,s,f,u),gc(a,s,f))}};function yx(s,a,u,f,g,x,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,N):a.prototype&&a.prototype.isPureReactComponent?!ua(u,f)||!ua(g,x):!0}function xx(s,a,u){var f=!1,g=bs,x=a.contextType;return typeof x=="object"&&x!==null?x=Jr(x):(g=kr(a)?Xs:dr.current,f=a.contextTypes,x=(f=f!=null)?Bi(s,g):bs),a=new a(u,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nc,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),a}function vx(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Nc.enqueueReplaceState(a,a.state,null)}function Tf(s,a,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},pf(s);var x=a.contextType;typeof x=="object"&&x!==null?g.context=Jr(x):(x=kr(a)?Xs:dr.current,g.context=Bi(s,x)),g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Ef(s,a,x,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Nc.enqueueReplaceState(g,g.state,null),yc(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Zi(s,a){try{var u="",f=a;do u+=Qe(f),f=f.return;while(f);var g=u}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:g,digest:null}}function Pf(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Af(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var NC=typeof WeakMap=="function"?WeakMap:Map;function bx(s,a,u){u=Gn(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Ac||(Ac=!0,Kf=f),Af(s,a)},u}function wx(s,a,u){u=Gn(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){Af(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Af(s,a),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),u}function jx(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new NC;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),s=FC.bind(null,s,a,u),a.then(s,s))}function Sx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Nx(s,a,u,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Gn(-1,1),a.tag=2,Ss(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var _C=A.ReactCurrentOwner,Cr=!1;function br(s,a,u,f){a.child=s===null?qy(a,null,u,f):Ki(a,s.child,u,f)}function _x(s,a,u,f,g){u=u.render;var x=a.ref;return Gi(a,g),f=jf(s,a,u,f,x,g),u=Sf(),s!==null&&!Cr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Qn(s,a,g)):(kt&&u&&sf(a),a.flags|=1,br(s,a,f,g),a.child)}function kx(s,a,u,f,g){if(s===null){var x=u.type;return typeof x=="function"&&!Xf(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=x,Cx(s,a,x,f,g)):(s=Mc(u.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&g)===0){var N=x.memoizedProps;if(u=u.compare,u=u!==null?u:ua,u(N,f)&&s.ref===a.ref)return Qn(s,a,g)}return a.flags|=1,s=Ts(x,f),s.ref=a.ref,s.return=a,a.child=s}function Cx(s,a,u,f,g){if(s!==null){var x=s.memoizedProps;if(ua(x,f)&&s.ref===a.ref)if(Cr=!1,a.pendingProps=f=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Cr=!0);else return a.lanes=s.lanes,Qn(s,a,g)}return Rf(s,a,u,f,g)}function Ex(s,a,u){var f=a.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Yi,Fr),Fr|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,xt(Yi,Fr),Fr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:u,xt(Yi,Fr),Fr|=f}else x!==null?(f=x.baseLanes|u,a.memoizedState=null):f=u,xt(Yi,Fr),Fr|=f;return br(s,a,g,u),a.child}function Tx(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Rf(s,a,u,f,g){var x=kr(u)?Xs:dr.current;return x=Bi(a,x),Gi(a,g),u=jf(s,a,u,f,x,g),f=Sf(),s!==null&&!Cr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Qn(s,a,g)):(kt&&f&&sf(a),a.flags|=1,br(s,a,u,g),a.child)}function Px(s,a,u,f,g){if(kr(u)){var x=!0;lc(a)}else x=!1;if(Gi(a,g),a.stateNode===null)kc(s,a),xx(a,u,f),Tf(a,u,f,g),f=!0;else if(s===null){var N=a.stateNode,T=a.memoizedProps;N.props=T;var I=N.context,W=u.contextType;typeof W=="object"&&W!==null?W=Jr(W):(W=kr(u)?Xs:dr.current,W=Bi(a,W));var ie=u.getDerivedStateFromProps,oe=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==f||I!==W)&&vx(a,N,f,W),js=!1;var ne=a.memoizedState;N.state=ne,yc(a,f,N,g),I=a.memoizedState,T!==f||ne!==I||_r.current||js?(typeof ie=="function"&&(Ef(a,u,ie,f),I=a.memoizedState),(T=js||yx(a,u,T,f,ne,I,W))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=I),N.props=f,N.state=I,N.context=W,f=T):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{N=a.stateNode,Ky(s,a),T=a.memoizedProps,W=a.type===a.elementType?T:dn(a.type,T),N.props=W,oe=a.pendingProps,ne=N.context,I=u.contextType,typeof I=="object"&&I!==null?I=Jr(I):(I=kr(u)?Xs:dr.current,I=Bi(a,I));var we=u.getDerivedStateFromProps;(ie=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==oe||ne!==I)&&vx(a,N,f,I),js=!1,ne=a.memoizedState,N.state=ne,yc(a,f,N,g);var Ee=a.memoizedState;T!==oe||ne!==Ee||_r.current||js?(typeof we=="function"&&(Ef(a,u,we,f),Ee=a.memoizedState),(W=js||yx(a,u,W,f,ne,Ee,I)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,Ee,I),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,Ee,I)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ee),N.props=f,N.state=Ee,N.context=I,f=W):(typeof N.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),f=!1)}return Of(s,a,u,f,x,g)}function Of(s,a,u,f,g,x){Tx(s,a);var N=(a.flags&128)!==0;if(!f&&!N)return g&&Ly(a,u,!1),Qn(s,a,x);f=a.stateNode,_C.current=a;var T=N&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&N?(a.child=Ki(a,s.child,null,x),a.child=Ki(a,null,T,x)):br(s,a,T,x),a.memoizedState=f.state,g&&Ly(a,u,!0),a.child}function Ax(s){var a=s.stateNode;a.pendingContext?Oy(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Oy(s,a.context,!1),gf(s,a.containerInfo)}function Rx(s,a,u,f,g){return Wi(),cf(g),a.flags|=256,br(s,a,u,f),a.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Lf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ox(s,a,u){var f=a.pendingProps,g=Ct.current,x=!1,N=(a.flags&128)!==0,T;if((T=N)||(T=s!==null&&s.memoizedState===null?!1:(g&2)!==0),T?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),xt(Ct,g&1),s===null)return lf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=f.children,s=f.fallback,x?(f=a.mode,x=a.child,N={mode:"hidden",children:N},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=N):x=Fc(N,f,0,null),s=ci(s,f,u,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=Lf(u),a.memoizedState=If,s):Df(a,N));if(g=s.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return kC(s,a,N,f,T,g,u);if(x){x=f.fallback,N=a.mode,g=s.child,T=g.sibling;var I={mode:"hidden",children:f.children};return(N&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=I,a.deletions=null):(f=Ts(g,I),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?x=Ts(T,x):(x=ci(x,N,u,null),x.flags|=2),x.return=a,f.return=a,f.sibling=x,a.child=f,f=x,x=a.child,N=s.child.memoizedState,N=N===null?Lf(u):{baseLanes:N.baseLanes|u,cachePool:null,transitions:N.transitions},x.memoizedState=N,x.childLanes=s.childLanes&~u,a.memoizedState=If,f}return x=s.child,s=x.sibling,f=Ts(x,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Df(s,a){return a=Fc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function _c(s,a,u,f){return f!==null&&cf(f),Ki(a,s.child,null,u),s=Df(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function kC(s,a,u,f,g,x,N){if(u)return a.flags&256?(a.flags&=-257,f=Pf(Error(r(422))),_c(s,a,N,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=f.fallback,g=a.mode,f=Fc({mode:"visible",children:f.children},g,0,null),x=ci(x,g,N,null),x.flags|=2,f.return=a,x.return=a,f.sibling=x,a.child=f,(a.mode&1)!==0&&Ki(a,s.child,null,N),a.child.memoizedState=Lf(N),a.memoizedState=If,x);if((a.mode&1)===0)return _c(s,a,N,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,x=Error(r(419)),f=Pf(x,f,void 0),_c(s,a,N,f)}if(T=(N&s.childLanes)!==0,Cr||T){if(f=er,f!==null){switch(N&-N){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|N))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,Hn(s,g),mn(f,s,g,-1))}return Yf(),f=Pf(Error(r(421))),_c(s,a,N,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=VC.bind(null,s),g._reactRetry=a,null):(s=x.treeContext,Mr=xs(g.nextSibling),Dr=a,kt=!0,un=null,s!==null&&(Qr[Zr++]=Wn,Qr[Zr++]=Kn,Qr[Zr++]=ei,Wn=s.id,Kn=s.overflow,ei=a),a=Df(a,f.children),a.flags|=4096,a)}function Ix(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),hf(s.return,a,u)}function Mf(s,a,u,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=g)}function Lx(s,a,u){var f=a.pendingProps,g=f.revealOrder,x=f.tail;if(br(s,a,f.children,u),f=Ct.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ix(s,u,a);else if(s.tag===19)Ix(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(xt(Ct,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&xc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Mf(a,!1,g,u,x);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&xc(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Mf(a,!0,u,null,x);break;case"together":Mf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function kc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Qn(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),ii|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Ts(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ts(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function CC(s,a,u){switch(a.tag){case 3:Ax(a),Wi();break;case 5:Qy(a);break;case 1:kr(a.type)&&lc(a);break;case 4:gf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;xt(mc,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(xt(Ct,Ct.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Ox(s,a,u):(xt(Ct,Ct.current&1),s=Qn(s,a,u),s!==null?s.sibling:null);xt(Ct,Ct.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Lx(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),xt(Ct,Ct.current),f)break;return null;case 22:case 23:return a.lanes=0,Ex(s,a,u)}return Qn(s,a,u)}var Dx,Ff,Mx,Fx;Dx=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ff=function(){},Mx=function(s,a,u,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,ni(Rn.current);var x=null;switch(u){case"input":g=z(s,g),f=z(s,f),x=[];break;case"select":g=ce({},g,{value:void 0}),f=ce({},f,{value:void 0}),x=[];break;case"textarea":g=H(s,g),f=H(s,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=ic)}an(u,f);var N;u=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var T=g[W];for(N in T)T.hasOwnProperty(N)&&(u||(u={}),u[N]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?x||(x=[]):(x=x||[]).push(W,null));for(W in f){var I=f[W];if(T=g?.[W],f.hasOwnProperty(W)&&I!==T&&(I!=null||T!=null))if(W==="style")if(T){for(N in T)!T.hasOwnProperty(N)||I&&I.hasOwnProperty(N)||(u||(u={}),u[N]="");for(N in I)I.hasOwnProperty(N)&&T[N]!==I[N]&&(u||(u={}),u[N]=I[N])}else u||(x||(x=[]),x.push(W,u)),u=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,T=T?T.__html:void 0,I!=null&&T!==I&&(x=x||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(x=x||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&wt("scroll",s),x||T===I||(x=[])):(x=x||[]).push(W,I))}u&&(x=x||[]).push("style",u);var W=x;(a.updateQueue=W)&&(a.flags|=4)}},Fx=function(s,a,u,f){u!==f&&(a.flags|=4)};function _a(s,a){if(!kt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function hr(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function EC(s,a,u){var f=a.pendingProps;switch(of(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(a),null;case 1:return kr(a.type)&&ac(),hr(a),null;case 3:return f=a.stateNode,Qi(),jt(_r),jt(dr),vf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(fc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,un!==null&&(Qf(un),un=null))),Ff(s,a),hr(a),null;case 5:yf(a);var g=ni(ba.current);if(u=a.type,s!==null&&a.stateNode!=null)Mx(s,a,u,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return hr(a),null}if(s=ni(Rn.current),fc(a)){f=a.stateNode,u=a.type;var x=a.memoizedProps;switch(f[An]=a,f[pa]=x,s=(a.mode&1)!==0,u){case"dialog":wt("cancel",f),wt("close",f);break;case"iframe":case"object":case"embed":wt("load",f);break;case"video":case"audio":for(g=0;g<fa.length;g++)wt(fa[g],f);break;case"source":wt("error",f);break;case"img":case"image":case"link":wt("error",f),wt("load",f);break;case"details":wt("toggle",f);break;case"input":Se(f,x),wt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},wt("invalid",f);break;case"textarea":fe(f,x),wt("invalid",f)}an(u,x),g=null;for(var N in x)if(x.hasOwnProperty(N)){var T=x[N];N==="children"?typeof T=="string"?f.textContent!==T&&(x.suppressHydrationWarning!==!0&&sc(f.textContent,T,s),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&sc(f.textContent,T,s),g=["children",""+T]):i.hasOwnProperty(N)&&T!=null&&N==="onScroll"&&wt("scroll",f)}switch(u){case"input":vr(f),pt(f,x,!0);break;case"textarea":vr(f),le(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=ic)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{N=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ie(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=N.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=N.createElement(u,{is:f.is}):(s=N.createElement(u),u==="select"&&(N=s,f.multiple?N.multiple=!0:f.size&&(N.size=f.size))):s=N.createElementNS(s,u),s[An]=a,s[pa]=f,Dx(s,a,!1,!1),a.stateNode=s;e:{switch(N=us(u,f),u){case"dialog":wt("cancel",s),wt("close",s),g=f;break;case"iframe":case"object":case"embed":wt("load",s),g=f;break;case"video":case"audio":for(g=0;g<fa.length;g++)wt(fa[g],s);g=f;break;case"source":wt("error",s),g=f;break;case"img":case"image":case"link":wt("error",s),wt("load",s),g=f;break;case"details":wt("toggle",s),g=f;break;case"input":Se(s,f),g=z(s,f),wt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ce({},f,{value:void 0}),wt("invalid",s);break;case"textarea":fe(s,f),g=H(s,f),wt("invalid",s);break;default:g=f}an(u,g),T=g;for(x in T)if(T.hasOwnProperty(x)){var I=T[x];x==="style"?cs(s,I):x==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&nr(s,I)):x==="children"?typeof I=="string"?(u!=="textarea"||I!=="")&&Gr(s,I):typeof I=="number"&&Gr(s,""+I):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?I!=null&&x==="onScroll"&&wt("scroll",s):I!=null&&E(s,x,I,N))}switch(u){case"input":vr(s),pt(s,f,!1);break;case"textarea":vr(s),le(s);break;case"option":f.value!=null&&s.setAttribute("value",""+xe(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?M(s,!!f.multiple,x,!1):f.defaultValue!=null&&M(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ic)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return hr(a),null;case 6:if(s&&a.stateNode!=null)Fx(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(u=ni(ba.current),ni(Rn.current),fc(a)){if(f=a.stateNode,u=a.memoizedProps,f[An]=a,(x=f.nodeValue!==u)&&(s=Dr,s!==null))switch(s.tag){case 3:sc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&sc(f.nodeValue,u,(s.mode&1)!==0)}x&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[An]=a,a.stateNode=f}return hr(a),null;case 13:if(jt(Ct),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(kt&&Mr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)$y(),Wi(),a.flags|=98560,x=!1;else if(x=fc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[An]=a}else Wi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;hr(a),x=!1}else un!==null&&(Qf(un),un=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ct.current&1)!==0?Zt===0&&(Zt=3):Yf())),a.updateQueue!==null&&(a.flags|=4),hr(a),null);case 4:return Qi(),Ff(s,a),s===null&&ha(a.stateNode.containerInfo),hr(a),null;case 10:return ff(a.type._context),hr(a),null;case 17:return kr(a.type)&&ac(),hr(a),null;case 19:if(jt(Ct),x=a.memoizedState,x===null)return hr(a),null;if(f=(a.flags&128)!==0,N=x.rendering,N===null)if(f)_a(x,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(N=xc(s),N!==null){for(a.flags|=128,_a(x,!1),f=N.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)x=u,s=f,x.flags&=14680066,N=x.alternate,N===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,s=N.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(Ct,Ct.current&1|2),a.child}s=s.sibling}x.tail!==null&&Mt()>Xi&&(a.flags|=128,f=!0,_a(x,!1),a.lanes=4194304)}else{if(!f)if(s=xc(N),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),_a(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!kt)return hr(a),null}else 2*Mt()-x.renderingStartTime>Xi&&u!==1073741824&&(a.flags|=128,f=!0,_a(x,!1),a.lanes=4194304);x.isBackwards?(N.sibling=a.child,a.child=N):(u=x.last,u!==null?u.sibling=N:a.child=N,x.last=N)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=Mt(),a.sibling=null,u=Ct.current,xt(Ct,f?u&1|2:u&1),a):(hr(a),null);case 22:case 23:return Jf(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Fr&1073741824)!==0&&(hr(a),a.subtreeFlags&6&&(a.flags|=8192)):hr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function TC(s,a){switch(of(a),a.tag){case 1:return kr(a.type)&&ac(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Qi(),jt(_r),jt(dr),vf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return yf(a),null;case 13:if(jt(Ct),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Wi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return jt(Ct),null;case 4:return Qi(),null;case 10:return ff(a.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Cc=!1,mr=!1,PC=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ji(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Ot(s,a,f)}else u.current=null}function Vf(s,a,u){try{u()}catch(f){Ot(s,a,f)}}var Vx=!1;function AC(s,a){if(Zd=Hl,s=yy(),Bd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var N=0,T=-1,I=-1,W=0,ie=0,oe=s,ne=null;t:for(;;){for(var we;oe!==u||g!==0&&oe.nodeType!==3||(T=N+g),oe!==x||f!==0&&oe.nodeType!==3||(I=N+f),oe.nodeType===3&&(N+=oe.nodeValue.length),(we=oe.firstChild)!==null;)ne=oe,oe=we;for(;;){if(oe===s)break t;if(ne===u&&++W===g&&(T=N),ne===x&&++ie===f&&(I=N),(we=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=we}u=T===-1||I===-1?null:{start:T,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jd={focusedElem:s,selectionRange:u},Hl=!1,Ce=a;Ce!==null;)if(a=Ce,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ce=s;else for(;Ce!==null;){a=Ce;try{var Ee=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,Ft=Ee.memoizedState,V=a.stateNode,D=V.getSnapshotBeforeUpdate(a.elementType===a.type?Te:dn(a.type,Te),Ft);V.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=a.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(de){Ot(a,a.return,de)}if(s=a.sibling,s!==null){s.return=a.return,Ce=s;break}Ce=a.return}return Ee=Vx,Vx=!1,Ee}function ka(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&Vf(a,u,x)}g=g.next}while(g!==f)}}function Ec(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Uf(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Ux(s){var a=s.alternate;a!==null&&(s.alternate=null,Ux(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[An],delete a[pa],delete a[tf],delete a[hC],delete a[mC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $x(s){return s.tag===5||s.tag===3||s.tag===4}function Bx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$x(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $f(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ic));else if(f!==4&&(s=s.child,s!==null))for($f(s,a,u),s=s.sibling;s!==null;)$f(s,a,u),s=s.sibling}function Bf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Bf(s,a,u),s=s.sibling;s!==null;)Bf(s,a,u),s=s.sibling}var sr=null,fn=!1;function Ns(s,a,u){for(u=u.child;u!==null;)zx(s,a,u),u=u.sibling}function zx(s,a,u){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount($l,u)}catch{}switch(u.tag){case 5:mr||Ji(u,a);case 6:var f=sr,g=fn;sr=null,Ns(s,a,u),sr=f,fn=g,sr!==null&&(fn?(s=sr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):sr.removeChild(u.stateNode));break;case 18:sr!==null&&(fn?(s=sr,u=u.stateNode,s.nodeType===8?ef(s.parentNode,u):s.nodeType===1&&ef(s,u),sa(s)):ef(sr,u.stateNode));break;case 4:f=sr,g=fn,sr=u.stateNode.containerInfo,fn=!0,Ns(s,a,u),sr=f,fn=g;break;case 0:case 11:case 14:case 15:if(!mr&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,N=x.destroy;x=x.tag,N!==void 0&&((x&2)!==0||(x&4)!==0)&&Vf(u,a,N),g=g.next}while(g!==f)}Ns(s,a,u);break;case 1:if(!mr&&(Ji(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(T){Ot(u,a,T)}Ns(s,a,u);break;case 21:Ns(s,a,u);break;case 22:u.mode&1?(mr=(f=mr)||u.memoizedState!==null,Ns(s,a,u),mr=f):Ns(s,a,u);break;default:Ns(s,a,u)}}function qx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new PC),a.forEach(function(f){var g=UC.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function hn(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var x=s,N=a,T=N;e:for(;T!==null;){switch(T.tag){case 5:sr=T.stateNode,fn=!1;break e;case 3:sr=T.stateNode.containerInfo,fn=!0;break e;case 4:sr=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(sr===null)throw Error(r(160));zx(x,N,g),sr=null,fn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(W){Ot(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Wx(a,s),a=a.sibling}function Wx(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hn(a,s),In(s),f&4){try{ka(3,s,s.return),Ec(3,s)}catch(Te){Ot(s,s.return,Te)}try{ka(5,s,s.return)}catch(Te){Ot(s,s.return,Te)}}break;case 1:hn(a,s),In(s),f&512&&u!==null&&Ji(u,u.return);break;case 5:if(hn(a,s),In(s),f&512&&u!==null&&Ji(u,u.return),s.flags&32){var g=s.stateNode;try{Gr(g,"")}catch(Te){Ot(s,s.return,Te)}}if(f&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,N=u!==null?u.memoizedProps:x,T=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&Pe(g,x),us(T,N);var W=us(T,x);for(N=0;N<I.length;N+=2){var ie=I[N],oe=I[N+1];ie==="style"?cs(g,oe):ie==="dangerouslySetInnerHTML"?nr(g,oe):ie==="children"?Gr(g,oe):E(g,ie,oe,W)}switch(T){case"input":_e(g,x);break;case"textarea":ue(g,x);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var we=x.value;we!=null?M(g,!!x.multiple,we,!1):ne!==!!x.multiple&&(x.defaultValue!=null?M(g,!!x.multiple,x.defaultValue,!0):M(g,!!x.multiple,x.multiple?[]:"",!1))}g[pa]=x}catch(Te){Ot(s,s.return,Te)}}break;case 6:if(hn(a,s),In(s),f&4){if(s.stateNode===null)throw Error(r(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(Te){Ot(s,s.return,Te)}}break;case 3:if(hn(a,s),In(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{sa(a.containerInfo)}catch(Te){Ot(s,s.return,Te)}break;case 4:hn(a,s),In(s);break;case 13:hn(a,s),In(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Wf=Mt())),f&4&&qx(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(mr=(W=mr)||ie,hn(a,s),mr=W):hn(a,s),In(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!ie&&(s.mode&1)!==0)for(Ce=s,ie=s.child;ie!==null;){for(oe=Ce=ie;Ce!==null;){switch(ne=Ce,we=ne.child,ne.tag){case 0:case 11:case 14:case 15:ka(4,ne,ne.return);break;case 1:Ji(ne,ne.return);var Ee=ne.stateNode;if(typeof Ee.componentWillUnmount=="function"){f=ne,u=ne.return;try{a=f,Ee.props=a.memoizedProps,Ee.state=a.memoizedState,Ee.componentWillUnmount()}catch(Te){Ot(f,u,Te)}}break;case 5:Ji(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Gx(oe);continue}}we!==null?(we.return=ne,Ce=we):Gx(oe)}ie=ie.sibling}e:for(ie=null,oe=s;;){if(oe.tag===5){if(ie===null){ie=oe;try{g=oe.stateNode,W?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=oe.stateNode,I=oe.memoizedProps.style,N=I!=null&&I.hasOwnProperty("display")?I.display:null,T.style.display=on("display",N))}catch(Te){Ot(s,s.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=W?"":oe.memoizedProps}catch(Te){Ot(s,s.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:hn(a,s),In(s),f&4&&qx(s);break;case 21:break;default:hn(a,s),In(s)}}function In(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if($x(u)){var f=u;break e}u=u.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Gr(g,""),f.flags&=-33);var x=Bx(s);Bf(s,x,g);break;case 3:case 4:var N=f.stateNode.containerInfo,T=Bx(s);$f(s,T,N);break;default:throw Error(r(161))}}catch(I){Ot(s,s.return,I)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function RC(s,a,u){Ce=s,Kx(s)}function Kx(s,a,u){for(var f=(s.mode&1)!==0;Ce!==null;){var g=Ce,x=g.child;if(g.tag===22&&f){var N=g.memoizedState!==null||Cc;if(!N){var T=g.alternate,I=T!==null&&T.memoizedState!==null||mr;T=Cc;var W=mr;if(Cc=N,(mr=I)&&!W)for(Ce=g;Ce!==null;)N=Ce,I=N.child,N.tag===22&&N.memoizedState!==null?Qx(g):I!==null?(I.return=N,Ce=I):Qx(g);for(;x!==null;)Ce=x,Kx(x),x=x.sibling;Ce=g,Cc=T,mr=W}Hx(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,Ce=x):Hx(s)}}function Hx(s){for(;Ce!==null;){var a=Ce;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:mr||Ec(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!mr)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:dn(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Gy(a,x,f);break;case 3:var N=a.updateQueue;if(N!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Gy(a,N,u)}break;case 5:var T=a.stateNode;if(u===null&&a.flags&4){u=T;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&u.focus();break;case"img":I.src&&(u.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var ie=W.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&sa(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}mr||a.flags&512&&Uf(a)}catch(ne){Ot(a,a.return,ne)}}if(a===s){Ce=null;break}if(u=a.sibling,u!==null){u.return=a.return,Ce=u;break}Ce=a.return}}function Gx(s){for(;Ce!==null;){var a=Ce;if(a===s){Ce=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Ce=u;break}Ce=a.return}}function Qx(s){for(;Ce!==null;){var a=Ce;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Ec(4,a)}catch(I){Ot(a,u,I)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(I){Ot(a,g,I)}}var x=a.return;try{Uf(a)}catch(I){Ot(a,x,I)}break;case 5:var N=a.return;try{Uf(a)}catch(I){Ot(a,N,I)}}}catch(I){Ot(a,a.return,I)}if(a===s){Ce=null;break}var T=a.sibling;if(T!==null){T.return=a.return,Ce=T;break}Ce=a.return}}var OC=Math.ceil,Tc=A.ReactCurrentDispatcher,zf=A.ReactCurrentOwner,Xr=A.ReactCurrentBatchConfig,at=0,er=null,zt=null,ir=0,Fr=0,Yi=vs(0),Zt=0,Ca=null,ii=0,Pc=0,qf=0,Ea=null,Er=null,Wf=0,Xi=1/0,Zn=null,Ac=!1,Kf=null,_s=null,Rc=!1,ks=null,Oc=0,Ta=0,Hf=null,Ic=-1,Lc=0;function wr(){return(at&6)!==0?Mt():Ic!==-1?Ic:Ic=Mt()}function Cs(s){return(s.mode&1)===0?1:(at&2)!==0&&ir!==0?ir&-ir:gC.transition!==null?(Lc===0&&(Lc=Bg()),Lc):(s=ft,s!==0||(s=window.event,s=s===void 0?16:Jg(s.type)),s)}function mn(s,a,u,f){if(50<Ta)throw Ta=0,Hf=null,Error(r(185));Xo(s,u,f),((at&2)===0||s!==er)&&(s===er&&((at&2)===0&&(Pc|=u),Zt===4&&Es(s,ir)),Tr(s,f),u===1&&at===0&&(a.mode&1)===0&&(Xi=Mt()+500,cc&&ws()))}function Tr(s,a){var u=s.callbackNode;gk(s,a);var f=ql(s,s===er?ir:0);if(f===0)u!==null&&Vg(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Vg(u),a===1)s.tag===0?pC(Jx.bind(null,s)):Dy(Jx.bind(null,s)),dC(function(){(at&6)===0&&ws()}),u=null;else{switch(zg(f)){case 1:u=_d;break;case 4:u=Ug;break;case 16:u=Ul;break;case 536870912:u=$g;break;default:u=Ul}u=iv(u,Zx.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Zx(s,a){if(Ic=-1,Lc=0,(at&6)!==0)throw Error(r(327));var u=s.callbackNode;if(eo()&&s.callbackNode!==u)return null;var f=ql(s,s===er?ir:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Dc(s,f);else{a=f;var g=at;at|=2;var x=Xx();(er!==s||ir!==a)&&(Zn=null,Xi=Mt()+500,ai(s,a));do try{DC();break}catch(T){Yx(s,T)}while(!0);df(),Tc.current=x,at=g,zt!==null?a=0:(er=null,ir=0,a=Zt)}if(a!==0){if(a===2&&(g=kd(s),g!==0&&(f=g,a=Gf(s,g))),a===1)throw u=Ca,ai(s,0),Es(s,f),Tr(s,Mt()),u;if(a===6)Es(s,f);else{if(g=s.current.alternate,(f&30)===0&&!IC(g)&&(a=Dc(s,f),a===2&&(x=kd(s),x!==0&&(f=x,a=Gf(s,x))),a===1))throw u=Ca,ai(s,0),Es(s,f),Tr(s,Mt()),u;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:li(s,Er,Zn);break;case 3:if(Es(s,f),(f&130023424)===f&&(a=Wf+500-Mt(),10<a)){if(ql(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){wr(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Xd(li.bind(null,s,Er,Zn),a);break}li(s,Er,Zn);break;case 4:if(Es(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var N=31-ln(f);x=1<<N,N=a[N],N>g&&(g=N),f&=~x}if(f=g,f=Mt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*OC(f/1960))-f,10<f){s.timeoutHandle=Xd(li.bind(null,s,Er,Zn),f);break}li(s,Er,Zn);break;case 5:li(s,Er,Zn);break;default:throw Error(r(329))}}}return Tr(s,Mt()),s.callbackNode===u?Zx.bind(null,s):null}function Gf(s,a){var u=Ea;return s.current.memoizedState.isDehydrated&&(ai(s,a).flags|=256),s=Dc(s,a),s!==2&&(a=Er,Er=u,a!==null&&Qf(a)),s}function Qf(s){Er===null?Er=s:Er.push.apply(Er,s)}function IC(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],x=g.getSnapshot;g=g.value;try{if(!cn(x(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Es(s,a){for(a&=~qf,a&=~Pc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-ln(a),f=1<<u;s[u]=-1,a&=~f}}function Jx(s){if((at&6)!==0)throw Error(r(327));eo();var a=ql(s,0);if((a&1)===0)return Tr(s,Mt()),null;var u=Dc(s,a);if(s.tag!==0&&u===2){var f=kd(s);f!==0&&(a=f,u=Gf(s,f))}if(u===1)throw u=Ca,ai(s,0),Es(s,a),Tr(s,Mt()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,li(s,Er,Zn),Tr(s,Mt()),null}function Zf(s,a){var u=at;at|=1;try{return s(a)}finally{at=u,at===0&&(Xi=Mt()+500,cc&&ws())}}function oi(s){ks!==null&&ks.tag===0&&(at&6)===0&&eo();var a=at;at|=1;var u=Xr.transition,f=ft;try{if(Xr.transition=null,ft=1,s)return s()}finally{ft=f,Xr.transition=u,at=a,(at&6)===0&&ws()}}function Jf(){Fr=Yi.current,jt(Yi)}function ai(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,uC(u)),zt!==null)for(u=zt.return;u!==null;){var f=u;switch(of(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ac();break;case 3:Qi(),jt(_r),jt(dr),vf();break;case 5:yf(f);break;case 4:Qi();break;case 13:jt(Ct);break;case 19:jt(Ct);break;case 10:ff(f.type._context);break;case 22:case 23:Jf()}u=u.return}if(er=s,zt=s=Ts(s.current,null),ir=Fr=a,Zt=0,Ca=null,qf=Pc=ii=0,Er=Ea=null,ri!==null){for(a=0;a<ri.length;a++)if(u=ri[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,x=u.pending;if(x!==null){var N=x.next;x.next=g,f.next=N}u.pending=f}ri=null}return s}function Yx(s,a){do{var u=zt;try{if(df(),vc.current=Sc,bc){for(var f=Et.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}bc=!1}if(si=0,Xt=Qt=Et=null,wa=!1,ja=0,zf.current=null,u===null||u.return===null){Zt=1,Ca=a,zt=null;break}e:{var x=s,N=u.return,T=u,I=a;if(a=ir,T.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,ie=T,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var we=Sx(N);if(we!==null){we.flags&=-257,Nx(we,N,T,x,a),we.mode&1&&jx(x,W,a),a=we,I=W;var Ee=a.updateQueue;if(Ee===null){var Te=new Set;Te.add(I),a.updateQueue=Te}else Ee.add(I);break e}else{if((a&1)===0){jx(x,W,a),Yf();break e}I=Error(r(426))}}else if(kt&&T.mode&1){var Ft=Sx(N);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),Nx(Ft,N,T,x,a),cf(Zi(I,T));break e}}x=I=Zi(I,T),Zt!==4&&(Zt=2),Ea===null?Ea=[x]:Ea.push(x),x=N;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var V=bx(x,I,a);Hy(x,V);break e;case 1:T=I;var D=x.type,B=x.stateNode;if((x.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(_s===null||!_s.has(B)))){x.flags|=65536,a&=-a,x.lanes|=a;var de=wx(x,T,a);Hy(x,de);break e}}x=x.return}while(x!==null)}tv(u)}catch(Re){a=Re,zt===u&&u!==null&&(zt=u=u.return);continue}break}while(!0)}function Xx(){var s=Tc.current;return Tc.current=Sc,s===null?Sc:s}function Yf(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),er===null||(ii&268435455)===0&&(Pc&268435455)===0||Es(er,ir)}function Dc(s,a){var u=at;at|=2;var f=Xx();(er!==s||ir!==a)&&(Zn=null,ai(s,a));do try{LC();break}catch(g){Yx(s,g)}while(!0);if(df(),at=u,Tc.current=f,zt!==null)throw Error(r(261));return er=null,ir=0,Zt}function LC(){for(;zt!==null;)ev(zt)}function DC(){for(;zt!==null&&!ak();)ev(zt)}function ev(s){var a=sv(s.alternate,s,Fr);s.memoizedProps=s.pendingProps,a===null?tv(s):zt=a,zf.current=null}function tv(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=EC(u,a,Fr),u!==null){zt=u;return}}else{if(u=TC(u,a),u!==null){u.flags&=32767,zt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Zt=6,zt=null;return}}if(a=a.sibling,a!==null){zt=a;return}zt=a=s}while(a!==null);Zt===0&&(Zt=5)}function li(s,a,u){var f=ft,g=Xr.transition;try{Xr.transition=null,ft=1,MC(s,a,u,f)}finally{Xr.transition=g,ft=f}return null}function MC(s,a,u,f){do eo();while(ks!==null);if((at&6)!==0)throw Error(r(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(yk(s,x),s===er&&(zt=er=null,ir=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Rc||(Rc=!0,iv(Ul,function(){return eo(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Xr.transition,Xr.transition=null;var N=ft;ft=1;var T=at;at|=4,zf.current=null,AC(s,u),Wx(u,s),nC(Jd),Hl=!!Zd,Jd=Zd=null,s.current=u,RC(u),lk(),at=T,ft=N,Xr.transition=x}else s.current=u;if(Rc&&(Rc=!1,ks=s,Oc=g),x=s.pendingLanes,x===0&&(_s=null),dk(u.stateNode),Tr(s,Mt()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Ac)throw Ac=!1,s=Kf,Kf=null,s;return(Oc&1)!==0&&s.tag!==0&&eo(),x=s.pendingLanes,(x&1)!==0?s===Hf?Ta++:(Ta=0,Hf=s):Ta=0,ws(),null}function eo(){if(ks!==null){var s=zg(Oc),a=Xr.transition,u=ft;try{if(Xr.transition=null,ft=16>s?16:s,ks===null)var f=!1;else{if(s=ks,ks=null,Oc=0,(at&6)!==0)throw Error(r(331));var g=at;for(at|=4,Ce=s.current;Ce!==null;){var x=Ce,N=x.child;if((Ce.flags&16)!==0){var T=x.deletions;if(T!==null){for(var I=0;I<T.length;I++){var W=T[I];for(Ce=W;Ce!==null;){var ie=Ce;switch(ie.tag){case 0:case 11:case 15:ka(8,ie,x)}var oe=ie.child;if(oe!==null)oe.return=ie,Ce=oe;else for(;Ce!==null;){ie=Ce;var ne=ie.sibling,we=ie.return;if(Ux(ie),ie===W){Ce=null;break}if(ne!==null){ne.return=we,Ce=ne;break}Ce=we}}}var Ee=x.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var Ft=Te.sibling;Te.sibling=null,Te=Ft}while(Te!==null)}}Ce=x}}if((x.subtreeFlags&2064)!==0&&N!==null)N.return=x,Ce=N;else e:for(;Ce!==null;){if(x=Ce,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ka(9,x,x.return)}var V=x.sibling;if(V!==null){V.return=x.return,Ce=V;break e}Ce=x.return}}var D=s.current;for(Ce=D;Ce!==null;){N=Ce;var B=N.child;if((N.subtreeFlags&2064)!==0&&B!==null)B.return=N,Ce=B;else e:for(N=D;Ce!==null;){if(T=Ce,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ec(9,T)}}catch(Re){Ot(T,T.return,Re)}if(T===N){Ce=null;break e}var de=T.sibling;if(de!==null){de.return=T.return,Ce=de;break e}Ce=T.return}}if(at=g,ws(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot($l,s)}catch{}f=!0}return f}finally{ft=u,Xr.transition=a}}return!1}function rv(s,a,u){a=Zi(u,a),a=bx(s,a,1),s=Ss(s,a,1),a=wr(),s!==null&&(Xo(s,1,a),Tr(s,a))}function Ot(s,a,u){if(s.tag===3)rv(s,s,u);else for(;a!==null;){if(a.tag===3){rv(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))){s=Zi(u,s),s=wx(a,s,1),a=Ss(a,s,1),s=wr(),a!==null&&(Xo(a,1,s),Tr(a,s));break}}a=a.return}}function FC(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=wr(),s.pingedLanes|=s.suspendedLanes&u,er===s&&(ir&u)===u&&(Zt===4||Zt===3&&(ir&130023424)===ir&&500>Mt()-Wf?ai(s,0):qf|=u),Tr(s,a)}function nv(s,a){a===0&&((s.mode&1)===0?a=1:(a=zl,zl<<=1,(zl&130023424)===0&&(zl=4194304)));var u=wr();s=Hn(s,a),s!==null&&(Xo(s,a,u),Tr(s,u))}function VC(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),nv(s,u)}function UC(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),nv(s,u)}var sv;sv=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||_r.current)Cr=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Cr=!1,CC(s,a,u);Cr=(s.flags&131072)!==0}else Cr=!1,kt&&(a.flags&1048576)!==0&&My(a,dc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;kc(s,a),s=a.pendingProps;var g=Bi(a,dr.current);Gi(a,u),g=jf(null,a,f,s,g,u);var x=Sf();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,kr(f)?(x=!0,lc(a)):x=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,pf(a),g.updater=Nc,a.stateNode=g,g._reactInternals=a,Tf(a,f,s,u),a=Of(null,a,f,!0,x,u)):(a.tag=0,kt&&x&&sf(a),br(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(kc(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=BC(f),s=dn(f,s),g){case 0:a=Rf(null,a,f,s,u);break e;case 1:a=Px(null,a,f,s,u);break e;case 11:a=_x(null,a,f,s,u);break e;case 14:a=kx(null,a,f,dn(f.type,s),u);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:dn(f,g),Rf(s,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:dn(f,g),Px(s,a,f,g,u);case 3:e:{if(Ax(a),s===null)throw Error(r(387));f=a.pendingProps,x=a.memoizedState,g=x.element,Ky(s,a),yc(a,f,null,u);var N=a.memoizedState;if(f=N.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){g=Zi(Error(r(423)),a),a=Rx(s,a,f,u,g);break e}else if(f!==g){g=Zi(Error(r(424)),a),a=Rx(s,a,f,u,g);break e}else for(Mr=xs(a.stateNode.containerInfo.firstChild),Dr=a,kt=!0,un=null,u=qy(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Wi(),f===g){a=Qn(s,a,u);break e}br(s,a,f,u)}a=a.child}return a;case 5:return Qy(a),s===null&&lf(a),f=a.type,g=a.pendingProps,x=s!==null?s.memoizedProps:null,N=g.children,Yd(f,g)?N=null:x!==null&&Yd(f,x)&&(a.flags|=32),Tx(s,a),br(s,a,N,u),a.child;case 6:return s===null&&lf(a),null;case 13:return Ox(s,a,u);case 4:return gf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ki(a,null,f,u):br(s,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:dn(f,g),_x(s,a,f,g,u);case 7:return br(s,a,a.pendingProps,u),a.child;case 8:return br(s,a,a.pendingProps.children,u),a.child;case 12:return br(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,x=a.memoizedProps,N=g.value,xt(mc,f._currentValue),f._currentValue=N,x!==null)if(cn(x.value,N)){if(x.children===g.children&&!_r.current){a=Qn(s,a,u);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var T=x.dependencies;if(T!==null){N=x.child;for(var I=T.firstContext;I!==null;){if(I.context===f){if(x.tag===1){I=Gn(-1,u&-u),I.tag=2;var W=x.updateQueue;if(W!==null){W=W.shared;var ie=W.pending;ie===null?I.next=I:(I.next=ie.next,ie.next=I),W.pending=I}}x.lanes|=u,I=x.alternate,I!==null&&(I.lanes|=u),hf(x.return,u,a),T.lanes|=u;break}I=I.next}}else if(x.tag===10)N=x.type===a.type?null:x.child;else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=u,T=N.alternate,T!==null&&(T.lanes|=u),hf(N,u,a),N=x.sibling}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===a){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}br(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Gi(a,u),g=Jr(g),f=f(g),a.flags|=1,br(s,a,f,u),a.child;case 14:return f=a.type,g=dn(f,a.pendingProps),g=dn(f.type,g),kx(s,a,f,g,u);case 15:return Cx(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:dn(f,g),kc(s,a),a.tag=1,kr(f)?(s=!0,lc(a)):s=!1,Gi(a,u),xx(a,f,g),Tf(a,f,g,u),Of(null,a,f,!0,s,u);case 19:return Lx(s,a,u);case 22:return Ex(s,a,u)}throw Error(r(156,a.tag))};function iv(s,a){return Fg(s,a)}function $C(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(s,a,u,f){return new $C(s,a,u,f)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function BC(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===K)return 11;if(s===me)return 14}return 2}function Ts(s,a){var u=s.alternate;return u===null?(u=en(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Mc(s,a,u,f,g,x){var N=2;if(f=s,typeof s=="function")Xf(s)&&(N=1);else if(typeof s=="string")N=5;else e:switch(s){case G:return ci(u.children,g,x,a);case J:N=8,g|=8;break;case O:return s=en(12,u,a,g|2),s.elementType=O,s.lanes=x,s;case Y:return s=en(13,u,a,g),s.elementType=Y,s.lanes=x,s;case Z:return s=en(19,u,a,g),s.elementType=Z,s.lanes=x,s;case re:return Fc(u,g,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:N=10;break e;case q:N=9;break e;case K:N=11;break e;case me:N=14;break e;case ye:N=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=en(N,u,a,g),a.elementType=s,a.type=f,a.lanes=x,a}function ci(s,a,u,f){return s=en(7,s,f,a),s.lanes=u,s}function Fc(s,a,u,f){return s=en(22,s,f,a),s.elementType=re,s.lanes=u,s.stateNode={isHidden:!1},s}function eh(s,a,u){return s=en(6,s,null,a),s.lanes=u,s}function th(s,a,u){return a=en(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function zC(s,a,u,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function rh(s,a,u,f,g,x,N,T,I){return s=new zC(s,a,u,T,I),a===1?(a=1,x===!0&&(a|=8)):a=0,x=en(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},pf(x),s}function qC(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function ov(s){if(!s)return bs;s=s._reactInternals;e:{if(Js(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(kr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(kr(u))return Iy(s,u,a)}return a}function av(s,a,u,f,g,x,N,T,I){return s=rh(u,f,!0,s,g,x,N,T,I),s.context=ov(null),u=s.current,f=wr(),g=Cs(u),x=Gn(f,g),x.callback=a??null,Ss(u,x,g),s.current.lanes=g,Xo(s,g,f),Tr(s,f),s}function Vc(s,a,u,f){var g=a.current,x=wr(),N=Cs(g);return u=ov(u),a.context===null?a.context=u:a.pendingContext=u,a=Gn(x,N),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ss(g,a,N),s!==null&&(mn(s,g,N,x),gc(s,g,N)),N}function Uc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function lv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function nh(s,a){lv(s,a),(s=s.alternate)&&lv(s,a)}function WC(){return null}var cv=typeof reportError=="function"?reportError:function(s){console.error(s)};function sh(s){this._internalRoot=s}$c.prototype.render=sh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Vc(s,a,null,null)},$c.prototype.unmount=sh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;oi(function(){Vc(null,s,null,null)}),a[zn]=null}};function $c(s){this._internalRoot=s}$c.prototype.unstable_scheduleHydration=function(s){if(s){var a=Kg();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ps.length&&a!==0&&a<ps[u].priority;u++);ps.splice(u,0,s),u===0&&Qg(s)}};function ih(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function uv(){}function KC(s,a,u,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var W=Uc(N);x.call(W)}}var N=av(a,f,s,0,null,!1,!1,"",uv);return s._reactRootContainer=N,s[zn]=N.current,ha(s.nodeType===8?s.parentNode:s),oi(),N}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var W=Uc(I);T.call(W)}}var I=rh(s,0,!1,null,null,!1,!1,"",uv);return s._reactRootContainer=I,s[zn]=I.current,ha(s.nodeType===8?s.parentNode:s),oi(function(){Vc(a,I,u,f)}),I}function zc(s,a,u,f,g){var x=u._reactRootContainer;if(x){var N=x;if(typeof g=="function"){var T=g;g=function(){var I=Uc(N);T.call(I)}}Vc(a,N,s,g)}else N=KC(u,a,s,g,f);return Uc(N)}qg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Yo(a.pendingLanes);u!==0&&(Ed(a,u|1),Tr(a,Mt()),(at&6)===0&&(Xi=Mt()+500,ws()))}break;case 13:oi(function(){var f=Hn(s,1);if(f!==null){var g=wr();mn(f,s,1,g)}}),nh(s,1)}},Td=function(s){if(s.tag===13){var a=Hn(s,134217728);if(a!==null){var u=wr();mn(a,s,134217728,u)}nh(s,134217728)}},Wg=function(s){if(s.tag===13){var a=Cs(s),u=Hn(s,a);if(u!==null){var f=wr();mn(u,s,a,f)}nh(s,a)}},Kg=function(){return ft},Hg=function(s,a){var u=ft;try{return ft=s,a()}finally{ft=u}},Qo=function(s,a,u){switch(a){case"input":if(_e(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var g=oc(f);if(!g)throw Error(r(90));$(f),_e(f,g)}}}break;case"textarea":ue(s,u);break;case"select":a=u.value,a!=null&&M(s,!!u.multiple,a,!1)}},yt=Zf,Gt=oi;var HC={usingClientEntryPoint:!1,Events:[ga,Ui,oc,mt,ut,Zf]},Pa={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Dg(s),s===null?null:s.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{$l=qc.inject(GC),Pn=qc}catch{}}return Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC,Pr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(a))throw Error(r(200));return qC(s,a,null,u)},Pr.createRoot=function(s,a){if(!ih(s))throw Error(r(299));var u=!1,f="",g=cv;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=rh(s,1,!1,null,null,u,!1,f,g),s[zn]=a.current,ha(s.nodeType===8?s.parentNode:s),new sh(a)},Pr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Dg(a),s=s===null?null:s.stateNode,s},Pr.flushSync=function(s){return oi(s)},Pr.hydrate=function(s,a,u){if(!Bc(a))throw Error(r(200));return zc(null,s,a,!0,u)},Pr.hydrateRoot=function(s,a,u){if(!ih(s))throw Error(r(405));var f=u!=null&&u.hydratedSources||null,g=!1,x="",N=cv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),a=av(a,null,s,1,u??null,g,!1,x,N),s[zn]=a.current,ha(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new $c(a)},Pr.render=function(s,a,u){if(!Bc(a))throw Error(r(200));return zc(null,s,a,!1,u)},Pr.unmountComponentAtNode=function(s){if(!Bc(s))throw Error(r(40));return s._reactRootContainer?(oi(function(){zc(null,null,s,!1,function(){s._reactRootContainer=null,s[zn]=null})}),!0):!1},Pr.unstable_batchedUpdates=Zf,Pr.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Bc(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return zc(s,a,u,!1,f)},Pr.version="18.3.1-next-f1338f8080-20240426",Pr}var xv;function w0(){if(xv)return lh.exports;xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lh.exports=tE(),lh.exports}var vv;function rE(){if(vv)return Wc;vv=1;var t=w0();return Wc.createRoot=t.createRoot,Wc.hydrateRoot=t.hydrateRoot,Wc}var nE=rE();function sE(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,l,c=[],d="",h=t.split("/");for(h[0]||h.shift();i=h.shift();)r=i[0],r==="*"?(c.push(r),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),l=i.indexOf(".",1),c.push(i.substring(1,~n?n:~l?l:i.length)),d+=~n&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~n?"?":"")+"\\"+i.substring(l))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var b=Yu();const De=Xm(b),ep=v0({__proto__:null,default:De},[b]);var dh={exports:{}},fh={};var bv;function iE(){if(bv)return fh;bv=1;var t=Yu();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(y,v){var S=v(),_=n({inst:{value:S,getSnapshot:v}}),j=_[0].inst,w=_[1];return l(function(){j.value=S,j.getSnapshot=v,h(j)&&w({inst:j})},[y,S,v]),i(function(){return h(j)&&w({inst:j}),y(function(){h(j)&&w({inst:j})})},[y]),c(S),S}function h(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!r(y,S)}catch{return!0}}function m(y,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return fh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,fh}var wv;function oE(){return wv||(wv=1,dh.exports=iE()),dh.exports}var j0=oE();const aE=ep.useInsertionEffect,lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cE=lE?b.useLayoutEffect:b.useEffect,uE=aE||cE,S0=t=>{const e=b.useRef([t,(...r)=>e[0](...r)]).current;return uE(()=>{e[0]=t}),e[1]},dE="popstate",tp="pushState",rp="replaceState",fE="hashchange",jv=[dE,tp,rp,fE],hE=t=>{for(const e of jv)addEventListener(e,t);return()=>{for(const e of jv)removeEventListener(e,t)}},N0=(t,e)=>j0.useSyncExternalStore(hE,t,e),mE=()=>location.search,pE=({ssrSearch:t=""}={})=>N0(mE,()=>t),Sv=()=>location.pathname,gE=({ssrPath:t}={})=>N0(Sv,t?()=>t:Sv),yE=(t,{replace:e=!1,state:r=null}={})=>history[e?rp:tp](r,"",t),xE=(t={})=>[gE(t),yE],Nv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Nv]>"u"){for(const t of[tp,rp]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Nv,{value:!0})}const vE=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",_0=(t="")=>t==="/"?"":t,bE=(t,e)=>t[0]==="~"?t.slice(1):_0(e)+t,wE=(t="",e)=>vE(_v(_0(t)),_v(e)),_v=t=>{try{return decodeURI(t)}catch{return t}},k0={hook:xE,searchHook:pE,parser:sE,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},C0=b.createContext(k0),_l=()=>b.useContext(C0),E0={},T0=b.createContext(E0),jE=()=>b.useContext(T0),Xu=t=>{const[e,r]=t.hook(t);return[wE(t.base,e),S0((n,i)=>r(bE(n,t.base),i))]},as=()=>Xu(_l()),P0=(t,e,r,n)=>{const{pattern:i,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),c=i.exec(r)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((y,v)=>[y,h[v]])):c.groups;let p={...h};return m&&Object.assign(p,m),p})(),...n?[d]:[]]:[!1,null]},SE=({children:t,...e})=>{const r=_l(),n=e.hook?k0:r;let i=n;const[l,c]=e.ssrPath?.split("?")??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??e.hook?.hrefs;let d=b.useRef({}),h=d.current,m=h;for(let p in n){const y=p==="base"?n[p]+(e[p]||""):e[p]||n[p];h===m&&y!==m[p]&&(d.current=m={...m}),m[p]=y,(y!==n[p]||y!==i[p])&&(i=m)}return b.createElement(C0.Provider,{value:i,children:t})},kv=({children:t,component:e},r)=>e?b.createElement(e,{params:r}):typeof t=="function"?t(r):t,NE=t=>{let e=b.useRef(E0);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},gt=({path:t,nest:e,match:r,...n})=>{const i=_l(),[l]=Xu(i),[c,d,h]=r??P0(i.parser,t,l,e),m=NE({...jE(),...d});if(!c)return null;const p=h?b.createElement(SE,{base:h},kv(n,m)):kv(n,m);return b.createElement(T0.Provider,{value:m,children:p})},pe=b.forwardRef((t,e)=>{const r=_l(),[n,i]=Xu(r),{to:l="",href:c=l,onClick:d,asChild:h,children:m,className:p,replace:y,state:v,...S}=t,_=S0(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),i(c,t)))}),j=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return h&&b.isValidElement(m)?b.cloneElement(m,{onClick:_,href:j}):b.createElement("a",{...S,onClick:_,href:j,className:p?.call?p(n===c):p,children:m,ref:e})}),A0=t=>Array.isArray(t)?t.flatMap(e=>A0(e&&e.type===b.Fragment?e.props.children:e)):[t],_E=({children:t,location:e})=>{const r=_l(),[n]=Xu(r);for(const i of A0(t)){let l=0;if(b.isValidElement(i)&&(l=P0(r.parser,i.props.path,e||n,i.props.nest))[0])return b.cloneElement(i,{match:l})}return null};var kl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},CE=class{#e=kE;#r=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},rm=new CE;function EE(t){setTimeout(t,0)}var ed=typeof window>"u"||"Deno"in globalThis;function nn(){}function TE(t,e){return typeof t=="function"?t(e):t}function PE(t){return typeof t=="number"&&t>=0&&t!==1/0}function AE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nm(t,e){return typeof t=="function"?t(e):t}function RE(t,e){return typeof t=="function"?t(e):t}function Cv(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(n){if(e.queryHash!==np(c,e.options))return!1}else if(!Xa(e.queryKey,c))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function Ev(t,e){const{exact:r,status:n,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(_i(e.options.mutationKey)!==_i(l))return!1}else if(!Xa(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function np(t,e){return(e?.queryKeyHashFn||_i)(t)}function _i(t){return JSON.stringify(t,(e,r)=>sm(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Xa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Xa(t[r],e[r])):!1}var OE=Object.prototype.hasOwnProperty;function R0(t,e){if(t===e)return t;const r=Tv(t)&&Tv(e);if(!r&&!(sm(t)&&sm(e)))return e;const i=(r?t:Object.keys(t)).length,l=r?e:Object.keys(e),c=l.length,d=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const p=r?m:l[m],y=t[p],v=e[p];if(y===v){d[p]=y,(r?m<i:OE.call(t,p))&&h++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){d[p]=v;continue}const S=R0(y,v);d[p]=S,S===y&&h++}return i===c&&h===i?t:d}function IE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Tv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sm(t){if(!Pv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Pv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Pv(t){return Object.prototype.toString.call(t)==="[object Object]"}function LE(t){return new Promise(e=>{rm.setTimeout(e,t)})}function DE(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?R0(t,e):e}function ME(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function FE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var sp=Symbol();function O0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===sp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function VE(t,e){return typeof t=="function"?t(...e):!!t}var UE=class extends kl{#e;#r;#t;constructor(){super(),this.#t=t=>{if(!ed&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},I0=new UE;function $E(){let t,e;const r=new Promise((i,l)=>{t=i,e=l});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var BE=EE;function zE(){let t=[],e=0,r=d=>{d()},n=d=>{d()},i=BE;const l=d=>{e?t.push(d):i(()=>{r(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{i=d}}}var lr=zE(),qE=class extends kl{#e=!0;#r;#t;constructor(){super(),this.#t=t=>{if(!ed&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#t=t,this.#r?.(),this.#r=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},_u=new qE;function WE(t){return Math.min(1e3*2**t,3e4)}function L0(t){return(t??"online")==="online"?_u.isOnline():!0}var im=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function D0(t){let e=!1,r=0,n;const i=$E(),l=()=>i.status!=="pending",c=j=>{if(!l()){const w=new im(j);v(w),t.onCancel?.(w)}},d=()=>{e=!0},h=()=>{e=!1},m=()=>I0.isFocused()&&(t.networkMode==="always"||_u.isOnline())&&t.canRun(),p=()=>L0(t.networkMode)&&t.canRun(),y=j=>{l()||(n?.(),i.resolve(j))},v=j=>{l()||(n?.(),i.reject(j))},S=()=>new Promise(j=>{n=w=>{(l()||m())&&j(w)},t.onPause?.()}).then(()=>{n=void 0,l()||t.onContinue?.()}),_=()=>{if(l())return;let j;const w=r===0?t.initialPromise:void 0;try{j=w??t.fn()}catch(C){j=Promise.reject(C)}Promise.resolve(j).then(y).catch(C=>{if(l())return;const k=t.retry??(ed?0:3),E=t.retryDelay??WE,A=typeof E=="function"?E(r,C):E,L=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,C);if(e||!L){v(C);return}r++,t.onFail?.(r,C),LE(A).then(()=>m()?void 0:S()).then(()=>{e?v(C):_()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(n?.(),i),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?_():S().then(_),i)}}var M0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PE(this.gcTime)&&(this.#e=rm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ed?1/0:300*1e3))}clearGcTimeout(){this.#e&&(rm.clearTimeout(this.#e),this.#e=void 0)}},KE=class extends M0{#e;#r;#t;#s;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#t=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Av(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Av(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const r=DE(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>RE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>nm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!AE(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{const d=O0(this.options,e),m=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#r=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=D0({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof im&&d.revert&&this.setState({...this.#r,fetchStatus:"idle"}),r.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#t.config.onSuccess?.(d,this),this.#t.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof im){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#t.config.onError?.(d,this),this.#t.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HE(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#r=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),lr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function HE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Av(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Rv(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let p=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},v=O0(e.options,e.fetchOptions),S=async(_,j,w)=>{if(p)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:j,direction:w?"backward":"forward",meta:e.options.meta};return y(F),F})(),E=await v(k),{maxPages:A}=e.options,L=w?FE:ME;return{pages:L(_.pages,E,A),pageParams:L(_.pageParams,j,A)}};if(i&&l.length){const _=i==="backward",j=_?GE:Ov,w={pages:l,pageParams:c},C=j(n,w);d=await S(w,C,_)}else{const _=t??l.length;do{const j=h===0?c[0]??n.initialPageParam:Ov(n,d);if(h>0&&j==null)break;d=await S(d,j),h++}while(h<_)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function Ov(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function GE(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var QE=class extends M0{#e;#r;#t;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#r=[],this.state=t.state||F0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#r.includes(t)||(this.#r.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#r=this.#r.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#r.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=D0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",i=!this.#s.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:i}),await this.#t.config.onMutate?.(t,this,r);const c=await this.options.onMutate?.(t,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:t,isPaused:i})}const l=await this.#s.start();return await this.#t.config.onSuccess?.(l,t,this.state.context,this,r),await this.options.onSuccess?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,t,this.state.context,r),this.#n({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,t,this.state.context,this,r),await this.options.onError?.(l,t,this.state.context,r),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,t,this.state.context,r),l}finally{this.#n({type:"error",error:l})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),lr.batch(()=>{this.#r.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function F0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ZE=class extends kl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#r=new Map,this.#t=0}#e;#r;#t;build(t,e,r){const n=new QE({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=Kc(t);if(typeof e=="string"){const r=this.#r.get(e);r?r.push(t):this.#r.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Kc(t);if(typeof e=="string"){const r=this.#r.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#r.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Kc(t);if(typeof e=="string"){const n=this.#r.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Kc(t);return typeof e=="string"?this.#r.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#r.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Ev(e,r))}findAll(t={}){return this.getAll().filter(e=>Ev(t,e))}notify(t){lr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return lr.batch(()=>Promise.all(t.map(e=>e.continue().catch(nn))))}};function Kc(t){return t.options.scope?.id}var JE=class extends kl{#e;#r=void 0;#t;#s;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),IE(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),r?.mutationKey&&this.options.mutationKey&&_i(r.mutationKey)!==_i(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#o(e)}getCurrentResult(){return this.#r}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#n(),this.#o()}mutate(e,r){return this.#s=r,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#n(){const e=this.#t?.state??F0();this.#r={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){lr.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#r.variables,n=this.#r.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,r,n,i),this.#s.onSettled?.(e.data,null,r,n,i)):e?.type==="error"&&(this.#s.onError?.(e.error,r,n,i),this.#s.onSettled?.(void 0,e.error,r,n,i))}this.listeners.forEach(r=>{r(this.#r)})})}},YE=class extends kl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??np(n,e);let l=this.get(i);return l||(l=new KE({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Cv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Cv(t,r)):e}notify(t){lr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},XE=class{#e;#r;#t;#s;#n;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new YE,this.#r=t.mutationCache||new ZE,this.#t=t.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=I0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=_u.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#r.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(nm(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(n.queryHash)?.state.data,c=TE(e,l);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return lr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;lr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return lr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=lr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(nn).catch(nn)}invalidateQueries(t,e={}){return lr.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=lr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,r);return r.throwOnError||(l=l.catch(nn)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(nn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(nm(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nn).catch(nn)}fetchInfiniteQuery(t){return t.behavior=Rv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nn).catch(nn)}ensureInfiniteQueryData(t){return t.behavior=Rv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _u.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#r}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#s.set(_i(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{Xa(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(_i(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Xa(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=np(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#r.clear()}},V0=b.createContext(void 0),eT=t=>{const e=b.useContext(V0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tT=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(V0.Provider,{value:t,children:e}));function U0(t,e){const r=eT(),[n]=b.useState(()=>new JE(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const i=b.useSyncExternalStore(b.useCallback(c=>n.subscribe(lr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=b.useCallback((c,d)=>{n.mutate(c,d).catch(nn)},[n]);if(i.error&&VE(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}async function rT(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const nT=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e[0],{credentials:"include"});return await rT(r),await r.json()},sT=new XE({defaultOptions:{queries:{queryFn:nT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),iT=1,oT=1e6;let hh=0;function aT(){return hh=(hh+1)%Number.MAX_SAFE_INTEGER,hh.toString()}const mh=new Map,Iv=t=>{if(mh.has(t))return;const e=setTimeout(()=>{mh.delete(t),$a({type:"REMOVE_TOAST",toastId:t})},oT);mh.set(t,e)},lT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,iT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Iv(r):t.toasts.forEach(n=>{Iv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},pu=[];let gu={toasts:[]};function $a(t){gu=lT(gu,t),pu.forEach(e=>{e(gu)})}function cT({...t}){const e=aT(),r=i=>$a({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>$a({type:"DISMISS_TOAST",toastId:e});return $a({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function ip(){const[t,e]=b.useState(gu);return b.useEffect(()=>(pu.push(e),()=>{const r=pu.indexOf(e);r>-1&&pu.splice(r,1)}),[t]),{...t,toast:cT,dismiss:r=>$a({type:"DISMISS_TOAST",toastId:r})}}var op=w0();const uT=Xm(op);function Kt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Lv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $0(...t){return e=>{let r=!1;const n=t.map(i=>{const l=Lv(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():Lv(t[i],null)}}}}function Kr(...t){return b.useCallback($0(...t),t)}function dT(t,e){const r=b.createContext(e),n=l=>{const{children:c,...d}=l,h=b.useMemo(()=>d,Object.values(d));return o.jsx(r.Provider,{value:h,children:c})};n.displayName=t+"Provider";function i(l){const c=b.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,i]}function $o(t,e=[]){let r=[];function n(l,c){const d=b.createContext(c),h=r.length;r=[...r,c];const m=y=>{const{scope:v,children:S,..._}=y,j=v?.[t]?.[h]||d,w=b.useMemo(()=>_,Object.values(_));return o.jsx(j.Provider,{value:w,children:S})};m.displayName=l+"Provider";function p(y,v){const S=v?.[t]?.[h]||d,_=b.useContext(S);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,p]}const i=()=>{const l=r.map(c=>b.createContext(c));return function(d){const h=d?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[n,fT(i,...e)]}function fT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((d,{useScope:h,scopeName:m})=>{const y=h(l)[`__scope${m}`];return{...d,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function el(t){const e=hT(t),r=b.forwardRef((n,i)=>{const{children:l,...c}=n,d=b.Children.toArray(l),h=d.find(pT);if(h){const m=h.props.children,p=d.map(y=>y===h?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return o.jsx(e,{...c,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,p):null})}return o.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var B0=el("Slot");function hT(t){const e=b.forwardRef((r,n)=>{const{children:i,...l}=r;if(b.isValidElement(i)){const c=yT(i),d=gT(l,i.props);return i.type!==b.Fragment&&(d.ref=n?$0(n,c):c),b.cloneElement(i,d)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mT=Symbol("radix.slottable");function pT(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mT}function gT(t,e){const r={...e};for(const n in e){const i=t[n],l=e[n];/^on[A-Z]/.test(n)?i&&l?r[n]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[n]=i):n==="style"?r[n]={...i,...l}:n==="className"&&(r[n]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function yT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function z0(t){const e=t+"CollectionProvider",[r,n]=$o(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:w,children:C}=j,k=De.useRef(null),E=De.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:E,collectionRef:k,children:C})};c.displayName=e;const d=t+"CollectionSlot",h=el(d),m=De.forwardRef((j,w)=>{const{scope:C,children:k}=j,E=l(d,C),A=Kr(w,E.collectionRef);return o.jsx(h,{ref:A,children:k})});m.displayName=d;const p=t+"CollectionItemSlot",y="data-radix-collection-item",v=el(p),S=De.forwardRef((j,w)=>{const{scope:C,children:k,...E}=j,A=De.useRef(null),L=Kr(w,A),F=l(p,C);return De.useEffect(()=>(F.itemMap.set(A,{ref:A,...E}),()=>void F.itemMap.delete(A))),o.jsx(v,{[y]:"",ref:L,children:k})});S.displayName=p;function _(j){const w=l(t+"CollectionConsumer",j);return De.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const E=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(w.itemMap.values()).sort((F,G)=>E.indexOf(F.ref.current)-E.indexOf(G.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:S},_,n]}var xT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=xT.reduce((t,e)=>{const r=el(`Primitive.${e}`),n=b.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function q0(t,e){t&&op.flushSync(()=>t.dispatchEvent(e))}function Vn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>e.current?.(...r),[])}function vT(t,e=globalThis?.document){const r=Vn(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var bT="DismissableLayer",om="dismissableLayer.update",wT="dismissableLayer.pointerDownOutside",jT="dismissableLayer.focusOutside",Dv,W0=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ap=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,m=b.useContext(W0),[p,y]=b.useState(null),v=p?.ownerDocument??globalThis?.document,[,S]=b.useState({}),_=Kr(e,G=>y(G)),j=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(w),k=p?j.indexOf(p):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,L=NT(G=>{const J=G.target,O=[...m.branches].some(Q=>Q.contains(J));!A||O||(i?.(G),c?.(G),G.defaultPrevented||d?.())},v),F=_T(G=>{const J=G.target;[...m.branches].some(Q=>Q.contains(J))||(l?.(G),c?.(G),G.defaultPrevented||d?.())},v);return vT(G=>{k===m.layers.size-1&&(n?.(G),!G.defaultPrevented&&d&&(G.preventDefault(),d()))},v),b.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Dv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Mv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Dv)}},[p,v,r,m]),b.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Mv())},[p,m]),b.useEffect(()=>{const G=()=>S({});return document.addEventListener(om,G),()=>document.removeEventListener(om,G)},[]),o.jsx(_t.div,{...h,ref:_,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:Kt(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Kt(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Kt(t.onPointerDownCapture,L.onPointerDownCapture)})});ap.displayName=bT;var ST="DismissableLayerBranch",K0=b.forwardRef((t,e)=>{const r=b.useContext(W0),n=b.useRef(null),i=Kr(e,n);return b.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),o.jsx(_t.div,{...t,ref:i})});K0.displayName=ST;function NT(t,e=globalThis?.document){const r=Vn(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let h=function(){H0(wT,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function _T(t,e=globalThis?.document){const r=Vn(t),n=b.useRef(!1);return b.useEffect(()=>{const i=l=>{l.target&&!n.current&&H0(jT,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Mv(){const t=new CustomEvent(om);document.dispatchEvent(t)}function H0(t,e,r,{discrete:n}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?q0(i,l):i.dispatchEvent(l)}var kT=ap,CT=K0,Un=globalThis?.document?b.useLayoutEffect:()=>{},ET="Portal",lp=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,l]=b.useState(!1);Un(()=>l(!0),[]);const c=r||i&&globalThis?.document?.body;return c?uT.createPortal(o.jsx(_t.div,{...n,ref:e}),c):null});lp.displayName=ET;function TT(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var Bo=t=>{const{present:e,children:r}=t,n=PT(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),l=Kr(n.ref,AT(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:l}):null};Bo.displayName="Presence";function PT(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),l=b.useRef("none"),c=t?"mounted":"unmounted",[d,h]=TT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=Hc(n.current);l.current=d==="mounted"?m:"none"},[d]),Un(()=>{const m=n.current,p=i.current;if(p!==t){const v=l.current,S=Hc(m);t?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&v!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),Un(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,y=S=>{const j=Hc(n.current).includes(CSS.escape(S.animationName));if(S.target===e&&j&&(h("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},v=S=>{S.target===e&&(l.current=Hc(n.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function Hc(t){return t?.animationName||"none"}function AT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var RT=ep[" useInsertionEffect ".trim().toString()]||Un;function Cl({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,l,c]=OT({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:i;{const p=b.useRef(t!==void 0);b.useEffect(()=>{const y=p.current;y!==d&&console.warn(`${n} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const m=b.useCallback(p=>{if(d){const y=IT(p)?p(t):p;y!==t&&c.current?.(y)}else l(p)},[d,t,l,c]);return[h,m]}function OT({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),i=b.useRef(r),l=b.useRef(e);return RT(()=>{l.current=e},[e]),b.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,n,l]}function IT(t){return typeof t=="function"}var LT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DT="VisuallyHidden",cp=b.forwardRef((t,e)=>o.jsx(_t.span,{...t,ref:e,style:{...LT,...t.style}}));cp.displayName=DT;var up="ToastProvider",[dp,MT,FT]=z0("Toast"),[G0]=$o("Toast",[FT]),[VT,td]=G0(up),Q0=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=t,[d,h]=b.useState(null),[m,p]=b.useState(0),y=b.useRef(!1),v=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${up}\`. Expected non-empty \`string\`.`),o.jsx(dp.Provider,{scope:e,children:o.jsx(VT,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:b.useCallback(()=>p(S=>S+1),[]),onToastRemove:b.useCallback(()=>p(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:v,children:c})})};Q0.displayName=up;var Z0="ToastViewport",UT=["F8"],am="toast.viewportPause",lm="toast.viewportResume",J0=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=UT,label:i="Notifications ({hotkey})",...l}=t,c=td(Z0,r),d=MT(r),h=b.useRef(null),m=b.useRef(null),p=b.useRef(null),y=b.useRef(null),v=Kr(e,y,c.onViewportChange),S=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=c.toastCount>0;b.useEffect(()=>{const w=C=>{n.length!==0&&n.every(E=>C[E]||C.code===E)&&y.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),b.useEffect(()=>{const w=h.current,C=y.current;if(_&&w&&C){const k=()=>{if(!c.isClosePausedRef.current){const F=new CustomEvent(am);C.dispatchEvent(F),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const F=new CustomEvent(lm);C.dispatchEvent(F),c.isClosePausedRef.current=!1}},A=F=>{!w.contains(F.relatedTarget)&&E()},L=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",k),w.addEventListener("focusout",A),w.addEventListener("pointermove",k),w.addEventListener("pointerleave",L),window.addEventListener("blur",k),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",k),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",k),w.removeEventListener("pointerleave",L),window.removeEventListener("blur",k),window.removeEventListener("focus",E)}}},[_,c.isClosePausedRef]);const j=b.useCallback(({tabbingDirection:w})=>{const k=d().map(E=>{const A=E.ref.current,L=[A,...XT(A)];return w==="forwards"?L:L.reverse()});return(w==="forwards"?k.reverse():k).flat()},[d]);return b.useEffect(()=>{const w=y.current;if(w){const C=k=>{const E=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!E){const L=document.activeElement,F=k.shiftKey;if(k.target===w&&F){m.current?.focus();return}const O=j({tabbingDirection:F?"backwards":"forwards"}),Q=O.findIndex(q=>q===L);ph(O.slice(Q+1))?k.preventDefault():F?m.current?.focus():p.current?.focus()}};return w.addEventListener("keydown",C),()=>w.removeEventListener("keydown",C)}},[d,j]),o.jsxs(CT,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&o.jsx(cm,{ref:m,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"forwards"});ph(w)}}),o.jsx(dp.Slot,{scope:r,children:o.jsx(_t.ol,{tabIndex:-1,...l,ref:v})}),_&&o.jsx(cm,{ref:p,onFocusFromOutsideViewport:()=>{const w=j({tabbingDirection:"backwards"});ph(w)}})]})});J0.displayName=Z0;var Y0="ToastFocusProxy",cm=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,l=td(Y0,r);return o.jsx(cp,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&n()}})});cm.displayName=Y0;var El="Toast",$T="toast.swipeStart",BT="toast.swipeMove",zT="toast.swipeCancel",qT="toast.swipeEnd",X0=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:l,...c}=t,[d,h]=Cl({prop:n,defaultProp:i??!0,onChange:l,caller:El});return o.jsx(Bo,{present:r||d,children:o.jsx(HT,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:Vn(t.onPause),onResume:Vn(t.onResume),onSwipeStart:Kt(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Kt(t.onSwipeMove,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Kt(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Kt(t.onSwipeEnd,m=>{const{x:p,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});X0.displayName=El;var[WT,KT]=G0(El,{onClose(){}}),HT=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:y,onSwipeCancel:v,onSwipeEnd:S,..._}=t,j=td(El,r),[w,C]=b.useState(null),k=Kr(e,Z=>C(Z)),E=b.useRef(null),A=b.useRef(null),L=i||j.duration,F=b.useRef(0),G=b.useRef(L),J=b.useRef(0),{onToastAdd:O,onToastRemove:Q}=j,q=Vn(()=>{w?.contains(document.activeElement)&&j.viewport?.focus(),c()}),K=b.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(J.current),F.current=new Date().getTime(),J.current=window.setTimeout(q,Z))},[q]);b.useEffect(()=>{const Z=j.viewport;if(Z){const me=()=>{K(G.current),m?.()},ye=()=>{const re=new Date().getTime()-F.current;G.current=G.current-re,window.clearTimeout(J.current),h?.()};return Z.addEventListener(am,ye),Z.addEventListener(lm,me),()=>{Z.removeEventListener(am,ye),Z.removeEventListener(lm,me)}}},[j.viewport,L,h,m,K]),b.useEffect(()=>{l&&!j.isClosePausedRef.current&&K(L)},[l,L,j.isClosePausedRef,K]),b.useEffect(()=>(O(),()=>Q()),[O,Q]);const Y=b.useMemo(()=>w?oj(w):null,[w]);return j.viewport?o.jsxs(o.Fragment,{children:[Y&&o.jsx(GT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:Y}),o.jsx(WT,{scope:r,onClose:q,children:op.createPortal(o.jsx(dp.ItemSlot,{scope:r,children:o.jsx(kT,{asChild:!0,onEscapeKeyDown:Kt(d,()=>{j.isFocusedToastEscapeKeyDownRef.current||q(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(_t.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,..._,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Kt(t.onKeyDown,Z=>{Z.key==="Escape"&&(d?.(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Kt(t.onPointerDown,Z=>{Z.button===0&&(E.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:Kt(t.onPointerMove,Z=>{if(!E.current)return;const me=Z.clientX-E.current.x,ye=Z.clientY-E.current.y,re=!!A.current,X=["left","right"].includes(j.swipeDirection),he=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ce=X?he(0,me):0,R=X?0:he(0,ye),te=Z.pointerType==="touch"?10:2,Le={x:ce,y:R},Fe={originalEvent:Z,delta:Le};re?(A.current=Le,Gc(BT,y,Fe,{discrete:!1})):Fv(Le,j.swipeDirection,te)?(A.current=Le,Gc($T,p,Fe,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(me)>te||Math.abs(ye)>te)&&(E.current=null)}),onPointerUp:Kt(t.onPointerUp,Z=>{const me=A.current,ye=Z.target;if(ye.hasPointerCapture(Z.pointerId)&&ye.releasePointerCapture(Z.pointerId),A.current=null,E.current=null,me){const re=Z.currentTarget,X={originalEvent:Z,delta:me};Fv(me,j.swipeDirection,j.swipeThreshold)?Gc(qT,S,X,{discrete:!0}):Gc(zT,v,X,{discrete:!0}),re.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),GT=t=>{const{__scopeToast:e,children:r,...n}=t,i=td(El,e),[l,c]=b.useState(!1),[d,h]=b.useState(!1);return JT(()=>c(!0)),b.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:o.jsx(lp,{asChild:!0,children:o.jsx(cp,{...n,children:l&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},QT="ToastTitle",ej=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(_t.div,{...n,ref:e})});ej.displayName=QT;var ZT="ToastDescription",tj=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(_t.div,{...n,ref:e})});tj.displayName=ZT;var rj="ToastAction",nj=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(ij,{altText:r,asChild:!0,children:o.jsx(fp,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rj}\`. Expected non-empty \`string\`.`),null)});nj.displayName=rj;var sj="ToastClose",fp=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=KT(sj,r);return o.jsx(ij,{asChild:!0,children:o.jsx(_t.button,{type:"button",...n,ref:e,onClick:Kt(t.onClick,i.onClose)})})});fp.displayName=sj;var ij=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return o.jsx(_t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function oj(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),YT(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...oj(n))}}),e}function Gc(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?q0(i,l):i.dispatchEvent(l)}var Fv=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),l=n>i;return e==="left"||e==="right"?l&&n>r:!l&&i>r};function JT(t=()=>{}){const e=Vn(t);Un(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function YT(t){return t.nodeType===t.ELEMENT_NODE}function XT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ph(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var eP=Q0,aj=J0,lj=X0,cj=ej,uj=tj,dj=nj,fj=fp;function hj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=hj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function mj(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=hj(t))&&(n&&(n+=" "),n+=e);return n}const Vv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Uv=mj,hp=(t,e)=>r=>{var n;if(e?.variants==null)return Uv(t,r?.class,r?.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(m=>{const p=r?.[m],y=l?.[m];if(p===null)return null;const v=Vv(p)||Vv(y);return i[m][v]}),d=r&&Object.entries(r).reduce((m,p)=>{let[y,v]=p;return v===void 0||(m[y]=v),m},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,p)=>{let{class:y,className:v,...S}=p;return Object.entries(S).every(_=>{let[j,w]=_;return Array.isArray(w)?w.includes({...l,...d}[j]):{...l,...d}[j]===w})?[...m,y,v]:m},[]);return Uv(t,c,h,r?.class,r?.className)};const tP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pj=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var rP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nP=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...d},h)=>b.createElement("svg",{ref:h,...rP,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:pj("lucide",i),...d},[...c.map(([m,p])=>b.createElement(m,p)),...Array.isArray(l)?l:[l]]));const Ze=(t,e)=>{const r=b.forwardRef(({className:n,...i},l)=>b.createElement(nP,{ref:l,iconNode:e,className:pj(`lucide-${tP(t)}`,n),...i}));return r.displayName=`${t}`,r};const sP=Ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const iP=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const $v=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const gh=Ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const oP=Ze("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const aP=Ze("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const lP=Ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const cP=Ze("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const uP=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const dP=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const fP=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const gj=Ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const rd=Ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const hP=Ze("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const mP=Ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const pP=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const gP=Ze("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const yP=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const xP=Ze("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const vP=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const bP=Ze("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const wP=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const yj=Ze("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);const xj=Ze("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const mp=Ze("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const um=Ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const jP=Ze("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const pp=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Fs=Ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const SP=Ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const vj=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const NP=Ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const _P=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ku=Ze("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Nn=Ze("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const gp=Ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const kP=Ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const CP=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const yp=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const EP=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const bj=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const TP=Ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const Ms=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const PP=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),xp="-",AP=t=>{const e=OP(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const d=c.split(xp);return d[0]===""&&d.length!==1&&d.shift(),wj(d,e)||RP(c)},getConflictingClassGroupIds:(c,d)=>{const h=r[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},wj=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?wj(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(xp);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Bv=/^\[(.+)\]$/,RP=t=>{if(Bv.test(t)){const e=Bv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},OP=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return LP(Object.entries(t.classGroups),r).forEach(([l,c])=>{dm(c,n,l,e)}),n},dm=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:zv(e,i);l.classGroupId=r;return}if(typeof i=="function"){if(IP(i)){dm(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,c])=>{dm(c,zv(e,l),r,n)})})},zv=(t,e)=>{let r=t;return e.split(xp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IP=t=>t.isThemeGetter,LP=(t,e)=>e?t.map(([r,n])=>{const i=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[r,i]}):t,DP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){r.has(l)?r.set(l,c):i(l,c)}}},jj="!",MP=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],l=e.length,c=d=>{const h=[];let m=0,p=0,y;for(let w=0;w<d.length;w++){let C=d[w];if(m===0){if(C===i&&(n||d.slice(w,w+l)===e)){h.push(d.slice(p,w)),p=w+l;continue}if(C==="/"){y=w;continue}}C==="["?m++:C==="]"&&m--}const v=h.length===0?d:d.substring(p),S=v.startsWith(jj),_=S?v.substring(1):v,j=y&&y>p?y-p:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:_,maybePostfixModifierPosition:j}};return r?d=>r({className:d,parseClassName:c}):c},FP=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},VP=t=>({cache:DP(t.cacheSize),parseClassName:MP(t),...AP(t)}),UP=/\s+/,$P=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,l=[],c=t.trim().split(UP);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{modifiers:p,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:S}=r(m);let _=!!S,j=n(_?v.substring(0,S):v);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(v),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const w=FP(p).join(":"),C=y?w+jj:w,k=C+j;if(l.includes(k))continue;l.push(k);const E=i(j,_);for(let A=0;A<E.length;++A){const L=E[A];l.push(C+L)}d=m+(d.length>0?" "+d:d)}return d};function BP(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Sj(e))&&(n&&(n+=" "),n+=r);return n}const Sj=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Sj(t[n]))&&(r&&(r+=" "),r+=e);return r};function zP(t,...e){let r,n,i,l=c;function c(h){const m=e.reduce((p,y)=>y(p),t());return r=VP(m),n=r.cache.get,i=r.cache.set,l=d,d(h)}function d(h){const m=n(h);if(m)return m;const p=$P(h,r);return i(h,p),p}return function(){return l(BP.apply(null,arguments))}}const St=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Nj=/^\[(?:([a-z-]+):)?(.+)\]$/i,qP=/^\d+\/\d+$/,WP=new Set(["px","full","screen"]),KP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=t=>So(t)||WP.has(t)||qP.test(t),As=t=>zo(t,"length",s2),So=t=>!!t&&!Number.isNaN(Number(t)),yh=t=>zo(t,"number",So),Ra=t=>!!t&&Number.isInteger(Number(t)),JP=t=>t.endsWith("%")&&So(t.slice(0,-1)),Ye=t=>Nj.test(t),Rs=t=>KP.test(t),YP=new Set(["length","size","percentage"]),XP=t=>zo(t,YP,_j),e2=t=>zo(t,"position",_j),t2=new Set(["image","url"]),r2=t=>zo(t,t2,o2),n2=t=>zo(t,"",i2),Oa=()=>!0,zo=(t,e,r)=>{const n=Nj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},s2=t=>HP.test(t)&&!GP.test(t),_j=()=>!1,i2=t=>QP.test(t),o2=t=>ZP.test(t),a2=()=>{const t=St("colors"),e=St("spacing"),r=St("blur"),n=St("brightness"),i=St("borderColor"),l=St("borderRadius"),c=St("borderSpacing"),d=St("borderWidth"),h=St("contrast"),m=St("grayscale"),p=St("hueRotate"),y=St("invert"),v=St("gap"),S=St("gradientColorStops"),_=St("gradientColorStopPositions"),j=St("inset"),w=St("margin"),C=St("opacity"),k=St("padding"),E=St("saturate"),A=St("scale"),L=St("sepia"),F=St("skew"),G=St("space"),J=St("translate"),O=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Ye,e],K=()=>[Ye,e],Y=()=>["",Jn,As],Z=()=>["auto",So,Ye],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ye=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",Ye],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[So,Ye];return{cacheSize:500,separator:":",theme:{colors:[Oa],spacing:[Jn,As],blur:["none","",Rs,Ye],brightness:R(),borderColor:[t],borderRadius:["none","","full",Rs,Ye],borderSpacing:K(),borderWidth:Y(),contrast:R(),grayscale:he(),hueRotate:R(),invert:he(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[JP,As],inset:q(),margin:q(),opacity:R(),padding:K(),saturate:R(),scale:R(),sepia:he(),skew:R(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),Ye]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ra,Ye]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",Ra,Ye]}],"grid-cols":[{"grid-cols":[Oa]}],"col-start-end":[{col:["auto",{span:["full",Ra,Ye]},Ye]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Oa]}],"row-start-end":[{row:["auto",{span:[Ra,Ye]},Ye]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yh]}],"font-family":[{font:[Oa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",So,yh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,As]}],"underline-offset":[{"underline-offset":["auto",Jn,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),e2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ye(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ye()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ye()]}],"outline-offset":[{"outline-offset":[Jn,Ye]}],"outline-w":[{outline:[Jn,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Jn,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rs,n2]}],"shadow-color":[{shadow:[Oa]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Rs,Ye]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[y]}],saturate:[{saturate:[E]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ra,Ye]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jn,As,yh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l2=zP(a2);function dt(...t){return l2(mj(t))}const c2=eP,kj=b.forwardRef(({className:t,...e},r)=>o.jsx(aj,{ref:r,className:dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kj.displayName=aj.displayName;const u2=hp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cj=b.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(lj,{ref:n,className:dt(u2({variant:e}),t),...r}));Cj.displayName=lj.displayName;const d2=b.forwardRef(({className:t,...e},r)=>o.jsx(dj,{ref:r,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));d2.displayName=dj.displayName;const Ej=b.forwardRef(({className:t,...e},r)=>o.jsx(fj,{ref:r,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Ms,{className:"h-4 w-4"})}));Ej.displayName=fj.displayName;const Tj=b.forwardRef(({className:t,...e},r)=>o.jsx(cj,{ref:r,className:dt("text-sm font-semibold",t),...e}));Tj.displayName=cj.displayName;const Pj=b.forwardRef(({className:t,...e},r)=>o.jsx(uj,{ref:r,className:dt("text-sm opacity-90",t),...e}));Pj.displayName=uj.displayName;function f2(){const{toasts:t}=ip();return o.jsxs(c2,{children:[t.map(function({id:e,title:r,description:n,action:i,...l}){return o.jsxs(Cj,{...l,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Tj,{children:r}),n&&o.jsx(Pj,{children:n})]}),i,o.jsx(Ej,{})]},e)}),o.jsx(kj,{})]})}const vp=b.createContext({});function bp(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const nd=b.createContext(null),wp=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class h2 extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function m2({children:t,isPresent:e}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=b.useContext(wp);return b.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m}=i.current;if(e||!n.current||!c||!d)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return l&&(p.nonce=l),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),o.jsx(h2,{isPresent:e,childRef:n,sizeRef:i,children:b.cloneElement(t,{ref:n})})}const p2=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:l,mode:c})=>{const d=bp(g2),h=b.useId(),m=b.useCallback(y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},[d,n]),p=b.useMemo(()=>({id:h,initial:e,isPresent:r,custom:i,onExitComplete:m,register:y=>(d.set(y,!1),()=>d.delete(y))}),l?[Math.random(),m]:[r,m]);return b.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),b.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),c==="popLayout"&&(t=o.jsx(m2,{isPresent:r,children:t})),o.jsx(nd.Provider,{value:p,children:t})};function g2(){return new Map}function Aj(t=!0){const e=b.useContext(nd);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,l=b.useId();b.useEffect(()=>{t&&i(l)},[t]);const c=b.useCallback(()=>t&&n&&n(l),[l,n,t]);return!r&&n?[!1,c]:[!0]}const Qc=t=>t.key||"";function qv(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const jp=typeof window<"u",Rj=jp?b.useLayoutEffect:b.useEffect,y2=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:l="sync",propagate:c=!1})=>{const[d,h]=Aj(c),m=b.useMemo(()=>qv(t),[t]),p=c&&!d?[]:m.map(Qc),y=b.useRef(!0),v=b.useRef(m),S=bp(()=>new Map),[_,j]=b.useState(m),[w,C]=b.useState(m);Rj(()=>{y.current=!1,v.current=m;for(let A=0;A<w.length;A++){const L=Qc(w[A]);p.includes(L)?S.delete(L):S.get(L)!==!0&&S.set(L,!1)}},[w,p.length,p.join("-")]);const k=[];if(m!==_){let A=[...m];for(let L=0;L<w.length;L++){const F=w[L],G=Qc(F);p.includes(G)||(A.splice(L,0,F),k.push(F))}l==="wait"&&k.length&&(A=k),C(qv(A)),j(m);return}const{forceRender:E}=b.useContext(vp);return o.jsx(o.Fragment,{children:w.map(A=>{const L=Qc(A),F=c&&!d?!1:m===w||p.includes(L),G=()=>{if(S.has(L))S.set(L,!0);else return;let J=!0;S.forEach(O=>{O||(J=!1)}),J&&(E?.(),C(v.current),c&&h?.(),n&&n())};return o.jsx(p2,{isPresent:F,initial:!y.current||r?void 0:!1,custom:F?void 0:e,presenceAffectsLayout:i,mode:l,onExitComplete:F?void 0:G,children:A},L)})})},qr=t=>t;let Oj=qr;function Sp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Oo=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},ns=t=>t*1e3,ss=t=>t/1e3,x2={useManualTiming:!1};function v2(t){let e=new Set,r=new Set,n=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,p=!1,y=!1)=>{const S=y&&n?e:r;return p&&l.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(d),e.clear(),n=!1,i&&(i=!1,h.process(m))}};return h}const Zc=["read","resolveKeyframes","update","preRender","render","postRender"],b2=40;function Ij(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=Zc.reduce((C,k)=>(C[k]=v2(l),C),{}),{read:d,resolveKeyframes:h,update:m,preRender:p,render:y,postRender:v}=c,S=()=>{const C=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(C-i.timestamp,b2),1),i.timestamp=C,i.isProcessing=!0,d.process(i),h.process(i),m.process(i),p.process(i),y.process(i),v.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(S))},_=()=>{r=!0,n=!0,i.isProcessing||t(S)};return{schedule:Zc.reduce((C,k)=>{const E=c[k];return C[k]=(A,L=!1,F=!1)=>(r||_(),E.schedule(A,L,F)),C},{}),cancel:C=>{for(let k=0;k<Zc.length;k++)c[Zc[k]].cancel(C)},state:i,steps:c}}const{schedule:Nt,cancel:Vs,state:ar,steps:xh}=Ij(typeof requestAnimationFrame<"u"?requestAnimationFrame:qr,!0),Lj=b.createContext({strict:!1}),Wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Io={};for(const t in Wv)Io[t]={isEnabled:e=>Wv[t].some(r=>!!e[r])};function w2(t){for(const e in t)Io[e]={...Io[e],...t[e]}}const j2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||j2.has(t)}let Dj=t=>!Cu(t);function S2(t){t&&(Dj=e=>e.startsWith("on")?!Cu(e):t(e))}try{S2(require("@emotion/is-prop-valid").default)}catch{}function N2(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Dj(i)||r===!0&&Cu(i)||!e&&!Cu(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function _2(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const sd=b.createContext({});function tl(t){return typeof t=="string"||Array.isArray(t)}function id(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Np=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_p=["initial",...Np];function od(t){return id(t.animate)||_p.some(e=>tl(t[e]))}function Mj(t){return!!(od(t)||t.variants)}function k2(t,e){if(od(t)){const{initial:r,animate:n}=t;return{initial:r===!1||tl(r)?r:void 0,animate:tl(n)?n:void 0}}return t.inherit!==!1?e:{}}function C2(t){const{initial:e,animate:r}=k2(t,b.useContext(sd));return b.useMemo(()=>({initial:e,animate:r}),[Kv(e),Kv(r)])}function Kv(t){return Array.isArray(t)?t.join(" "):t}const E2=Symbol.for("motionComponentSymbol");function yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function T2(t,e,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):yo(r)&&(r.current=n))},[e])}const kp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P2="framerAppearId",Fj="data-"+kp(P2),{schedule:Cp}=Ij(queueMicrotask,!1),Vj=b.createContext({});function A2(t,e,r,n,i){var l,c;const{visualElement:d}=b.useContext(sd),h=b.useContext(Lj),m=b.useContext(nd),p=b.useContext(wp).reducedMotion,y=b.useRef(null);n=n||h.renderer,!y.current&&n&&(y.current=n(t,{visualState:e,parent:d,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=y.current,S=b.useContext(Vj);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&R2(y.current,r,i,S);const _=b.useRef(!1);b.useInsertionEffect(()=>{v&&_.current&&v.update(r,m)});const j=r[Fj],w=b.useRef(!!j&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,j))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,j)));return Rj(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Cp.render(v.render),w.current&&v.animationState&&v.animationState.animateChanges())}),b.useEffect(()=>{v&&(!w.current&&v.animationState&&v.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,j)}),w.current=!1))}),v}function R2(t,e,r,n){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Uj(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&yo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,layoutScroll:h,layoutRoot:m})}function Uj(t){if(t)return t.options.allowProjection!==!1?t.projection:Uj(t.parent)}function O2({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var l,c;t&&w2(t);function d(m,p){let y;const v={...b.useContext(wp),...m,layoutId:I2(m)},{isStatic:S}=v,_=C2(m),j=n(m,S);if(!S&&jp){L2();const w=D2(v);y=w.MeasureLayout,_.visualElement=A2(i,j,v,e,w.ProjectionNode)}return o.jsxs(sd.Provider,{value:_,children:[y&&_.visualElement?o.jsx(y,{visualElement:_.visualElement,...v}):null,r(i,m,T2(j,_.visualElement,p),j,S,_.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const h=b.forwardRef(d);return h[E2]=i,h}function I2({layoutId:t}){const e=b.useContext(vp).id;return e&&t!==void 0?e+"-"+t:t}function L2(t,e){b.useContext(Lj).strict}function D2(t){const{drag:e,layout:r}=Io;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const M2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ep(t){return typeof t!="string"||t.includes("-")?!1:!!(M2.indexOf(t)>-1||/[A-Z]/u.test(t))}function Hv(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Tp(t,e,r,n){if(typeof e=="function"){const[i,l]=Hv(n);e=e(r!==void 0?r:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=Hv(n);e=e(r!==void 0?r:t.custom,i,l)}return e}const fm=t=>Array.isArray(t),F2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),V2=t=>fm(t)?t[t.length-1]||0:t,yr=t=>!!(t&&t.getVelocity);function yu(t){const e=yr(t)?t.get():t;return F2(e)?e.toValue():e}function U2({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,l){const c={latestValues:$2(n,i,l,t),renderState:e()};return r&&(c.onMount=d=>r({props:n,current:d,...c}),c.onUpdate=d=>r(d)),c}const $j=t=>(e,r)=>{const n=b.useContext(sd),i=b.useContext(nd),l=()=>U2(t,e,n,i);return r?l():bp(l)};function $2(t,e,r,n){const i={},l=n(t,{});for(const v in l)i[v]=yu(l[v]);let{initial:c,animate:d}=t;const h=od(t),m=Mj(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const y=p?d:c;if(y&&typeof y!="boolean"&&!id(y)){const v=Array.isArray(y)?y:[y];for(let S=0;S<v.length;S++){const _=Tp(t,v[S]);if(_){const{transitionEnd:j,transition:w,...C}=_;for(const k in C){let E=C[k];if(Array.isArray(E)){const A=p?E.length-1:0;E=E[A]}E!==null&&(i[k]=E)}for(const k in j)i[k]=j[k]}}}return i}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pi=new Set(qo),Bj=t=>e=>typeof e=="string"&&e.startsWith(t),zj=Bj("--"),B2=Bj("var(--"),Pp=t=>B2(t)?z2.test(t.split("/*")[0].trim()):!1,z2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,is=(t,e,r)=>r>e?e:r<t?t:r,Wo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...Wo,transform:t=>is(0,1,t)},Jc={...Wo,default:1},Tl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Is=Tl("deg"),Dn=Tl("%"),$e=Tl("px"),q2=Tl("vh"),W2=Tl("vw"),Gv={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},K2={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},H2={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:Jc,scaleX:Jc,scaleY:Jc,scaleZ:Jc,skew:Is,skewX:Is,skewY:Is,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:rl,originX:Gv,originY:Gv,originZ:$e},Qv={...Wo,transform:Math.round},Ap={...K2,...H2,zIndex:Qv,size:$e,fillOpacity:rl,strokeOpacity:rl,numOctaves:Qv},G2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q2=qo.length;function Z2(t,e,r){let n="",i=!0;for(let l=0;l<Q2;l++){const c=qo[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const m=qj(d,Ap[c]);if(!h){i=!1;const p=G2[c]||c;n+=`${p}(${m}) `}r&&(e[c]=m)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Rp(t,e,r){const{style:n,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(Pi.has(h)){c=!0;continue}else if(zj(h)){i[h]=m;continue}else{const p=qj(m,Ap[h]);h.startsWith("origin")?(d=!0,l[h]=p):n[h]=p}}if(e.transform||(c||r?n.transform=Z2(e,t.transform,r):n.transform&&(n.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;n.transformOrigin=`${h} ${m} ${p}`}}const J2={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y2={offset:"strokeDashoffset",array:"strokeDasharray"};function X2(t,e,r=1,n=0,i=!0){t.pathLength=1;const l=i?J2:Y2;t[l.offset]=$e.transform(-n);const c=$e.transform(e),d=$e.transform(r);t[l.array]=`${c} ${d}`}function Zv(t,e,r){return typeof t=="string"?t:$e.transform(e+r*t)}function eA(t,e,r){const n=Zv(e,t.x,t.width),i=Zv(r,t.y,t.height);return`${n} ${i}`}function Op(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...m},p,y){if(Rp(t,m,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:S,dimensions:_}=t;v.transform&&(_&&(S.transform=v.transform),delete v.transform),_&&(i!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=eA(_,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),n!==void 0&&(v.scale=n),c!==void 0&&X2(v,c,d,h,!1)}const Ip=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Wj=()=>({...Ip(),attrs:{}}),Lp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Kj(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const l in r)t.style.setProperty(l,r[l])}const Hj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gj(t,e,r,n){Kj(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Hj.has(i)?i:kp(i),e.attrs[i])}const Eu={};function tA(t){Object.assign(Eu,t)}function Qj(t,{layout:e,layoutId:r}){return Pi.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Eu[t]||t==="opacity")}function Dp(t,e,r){var n;const{style:i}=t,l={};for(const c in i)(yr(i[c])||e.style&&yr(e.style[c])||Qj(c,t)||((n=r?.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function Zj(t,e,r){const n=Dp(t,e,r);for(const i in t)if(yr(t[i])||yr(e[i])){const l=qo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[l]=t[i]}return n}function rA(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Jv=["x","y","width","height","cx","cy","r"],nA={useVisualState:$j({scrapeMotionValuesFromProps:Zj,createRenderState:Wj,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let l=!!t.drag;if(!l){for(const d in i)if(Pi.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<Jv.length;d++){const h=Jv[d];t[h]!==e[h]&&(c=!0)}c&&Nt.read(()=>{rA(r,n),Nt.render(()=>{Op(n,i,Lp(r.tagName),t.transformTemplate),Gj(r,n)})})}})},sA={useVisualState:$j({scrapeMotionValuesFromProps:Dp,createRenderState:Ip})};function Jj(t,e,r){for(const n in e)!yr(e[n])&&!Qj(n,r)&&(t[n]=e[n])}function iA({transformTemplate:t},e){return b.useMemo(()=>{const r=Ip();return Rp(r,e,t),Object.assign({},r.vars,r.style)},[e])}function oA(t,e){const r=t.style||{},n={};return Jj(n,r,t),Object.assign(n,iA(t,e)),n}function aA(t,e){const r={},n=oA(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function lA(t,e,r,n){const i=b.useMemo(()=>{const l=Wj();return Op(l,e,Lp(n),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Jj(l,t.style,t),i.style={...l,...i.style}}return i}function cA(t=!1){return(r,n,i,{latestValues:l},c)=>{const h=(Ep(r)?lA:aA)(n,l,c,r),m=N2(n,typeof r=="string",t),p=r!==b.Fragment?{...m,...h,ref:i}:{},{children:y}=n,v=b.useMemo(()=>yr(y)?y.get():y,[y]);return b.createElement(r,{...p,children:v})}}function uA(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Ep(n)?nA:sA,preloadedFeatures:t,useRender:cA(i),createVisualElement:e,Component:n};return O2(c)}}function Yj(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ad(t,e,r){const n=t.getProps();return Tp(n,e,r!==void 0?r:n.custom,t)}const dA=Sp(()=>window.ScrollTimeline!==void 0);class fA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(dA()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hA extends fA{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Mp(t,e){return t?t[e]||t.default||t:void 0}const hm=2e4;function Xj(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<hm;)e+=r,n=t.next(e);return e>=hm?1/0:e}function Fp(t){return typeof t=="function"}function Yv(t,e){t.timeline=e,t.onfinish=null}const Vp=t=>Array.isArray(t)&&typeof t[0]=="number",mA={linearEasing:void 0};function pA(t,e){const r=Sp(t);return()=>{var n;return(n=mA[e])!==null&&n!==void 0?n:r()}}const Tu=pA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eS=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let l=0;l<i;l++)n+=t(Oo(0,i-1,l))+", ";return`linear(${n.substring(0,n.length-2)})`};function tS(t){return!!(typeof t=="function"&&Tu()||!t||typeof t=="string"&&(t in mm||Tu())||Vp(t)||Array.isArray(t)&&t.every(tS))}const Ma=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,mm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ma([0,.65,.55,1]),circOut:Ma([.55,0,1,.45]),backIn:Ma([.31,.01,.66,-.59]),backOut:Ma([.33,1.53,.69,.99])};function rS(t,e){if(t)return typeof t=="function"&&Tu()?eS(t,e):Vp(t)?Ma(t):Array.isArray(t)?t.map(r=>rS(r,e)||mm.easeOut):mm[t]}const yn={x:!1,y:!1};function nS(){return yn.x||yn.y}function gA(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function sS(t,e){const r=gA(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function Xv(t){return e=>{e.pointerType==="touch"||nS()||t(e)}}function yA(t,e,r={}){const[n,i,l]=sS(t,r),c=Xv(d=>{const{target:h}=d,m=e(d);if(typeof m!="function"||!h)return;const p=Xv(y=>{m(y),h.removeEventListener("pointerleave",p)});h.addEventListener("pointerleave",p,i)});return n.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const iS=(t,e)=>e?t===e?!0:iS(t,e.parentElement):!1,Up=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vA(t){return xA.has(t.tagName)||t.tabIndex!==-1}const Fa=new WeakSet;function eb(t){return e=>{e.key==="Enter"&&t(e)}}function vh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bA=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=eb(()=>{if(Fa.has(r))return;vh(r,"down");const i=eb(()=>{vh(r,"up")}),l=()=>vh(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function tb(t){return Up(t)&&!nS()}function wA(t,e,r={}){const[n,i,l]=sS(t,r),c=d=>{const h=d.currentTarget;if(!tb(d)||Fa.has(h))return;Fa.add(h);const m=e(d),p=(S,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!tb(S)||!Fa.has(h))&&(Fa.delete(h),typeof m=="function"&&m(S,{success:_}))},y=S=>{p(S,r.useGlobalTarget||iS(h,S.target))},v=S=>{p(S,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return n.forEach(d=>{!vA(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",m=>bA(m,i),i)}),l}function jA(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const oS=new Set(["width","height","top","left","right","bottom",...qo]);let xu;function SA(){xu=void 0}const Mn={now:()=>(xu===void 0&&Mn.set(ar.isProcessing||x2.useManualTiming?ar.timestamp:performance.now()),xu),set:t=>{xu=t,queueMicrotask(SA)}};function $p(t,e){t.indexOf(e)===-1&&t.push(e)}function Bp(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class zp{constructor(){this.subscriptions=[]}add(e){return $p(this.subscriptions,e),()=>Bp(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aS(t,e){return e?t*(1e3/e):0}const rb=30,NA=t=>!isNaN(parseFloat(t));class _A{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const l=Mn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new zp);const n=this.events[e].add(r);return e==="change"?()=>{n(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,rb);return aS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(t,e){return new _A(t,e)}function kA(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,nl(r))}function CA(t,e){const r=ad(t,e);let{transitionEnd:n={},transition:i={},...l}=r||{};l={...l,...n};for(const c in l){const d=V2(l[c]);kA(t,c,d)}}function EA(t){return!!(yr(t)&&t.add)}function pm(t,e){const r=t.getValue("willChange");if(EA(r))return r.add(e)}function lS(t){return t.props[Fj]}const cS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,TA=1e-7,PA=12;function AA(t,e,r,n,i){let l,c,d=0;do c=e+(r-e)/2,l=cS(c,n,i)-t,l>0?r=c:e=c;while(Math.abs(l)>TA&&++d<PA);return c}function Pl(t,e,r,n){if(t===e&&r===n)return qr;const i=l=>AA(l,0,1,t,r);return l=>l===0||l===1?l:cS(i(l),e,n)}const uS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dS=t=>e=>1-t(1-e),fS=Pl(.33,1.53,.69,.99),qp=dS(fS),hS=uS(qp),mS=t=>(t*=2)<1?.5*qp(t):.5*(2-Math.pow(2,-10*(t-1))),Wp=t=>1-Math.sin(Math.acos(t)),pS=dS(Wp),gS=uS(Wp),yS=t=>/^0[^.\s]+$/u.test(t);function RA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yS(t):!0}const Ba=t=>Math.round(t*1e5)/1e5,Kp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OA(t){return t==null}const IA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hp=(t,e)=>r=>!!(typeof r=="string"&&IA.test(r)&&r.startsWith(t)||e&&!OA(r)&&Object.prototype.hasOwnProperty.call(r,e)),xS=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,l,c,d]=n.match(Kp);return{[t]:parseFloat(i),[e]:parseFloat(l),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},LA=t=>is(0,255,t),bh={...Wo,transform:t=>Math.round(LA(t))},vi={test:Hp("rgb","red"),parse:xS("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+bh.transform(t)+", "+bh.transform(e)+", "+bh.transform(r)+", "+Ba(rl.transform(n))+")"};function DA(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const gm={test:Hp("#"),parse:DA,transform:vi.transform},xo={test:Hp("hsl","hue"),parse:xS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Dn.transform(Ba(e))+", "+Dn.transform(Ba(r))+", "+Ba(rl.transform(n))+")"},gr={test:t=>vi.test(t)||gm.test(t)||xo.test(t),parse:t=>vi.test(t)?vi.parse(t):xo.test(t)?xo.parse(t):gm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vi.transform(t):xo.transform(t)},MA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FA(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Kp))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(MA))===null||r===void 0?void 0:r.length)||0)>0}const vS="number",bS="color",VA="var",UA="var(",nb="${}",$A=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sl(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace($A,h=>(gr.test(h)?(n.color.push(l),i.push(bS),r.push(gr.parse(h))):h.startsWith(UA)?(n.var.push(l),i.push(VA),r.push(h)):(n.number.push(l),i.push(vS),r.push(parseFloat(h))),++l,nb)).split(nb);return{values:r,split:d,indexes:n,types:i}}function wS(t){return sl(t).values}function jS(t){const{split:e,types:r}=sl(t),n=e.length;return i=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],i[c]!==void 0){const d=r[c];d===vS?l+=Ba(i[c]):d===bS?l+=gr.transform(i[c]):l+=i[c]}return l}}const BA=t=>typeof t=="number"?0:t;function zA(t){const e=wS(t);return jS(t)(e.map(BA))}const Us={test:FA,parse:wS,createTransformer:jS,getAnimatableNone:zA},qA=new Set(["brightness","contrast","saturate","opacity"]);function WA(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Kp)||[];if(!n)return t;const i=r.replace(n,"");let l=qA.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+i+")"}const KA=/\b([a-z-]*)\(.*?\)/gu,ym={...Us,getAnimatableNone:t=>{const e=t.match(KA);return e?e.map(WA).join(" "):t}},HA={...Ap,color:gr,backgroundColor:gr,outlineColor:gr,fill:gr,stroke:gr,borderColor:gr,borderTopColor:gr,borderRightColor:gr,borderBottomColor:gr,borderLeftColor:gr,filter:ym,WebkitFilter:ym},Gp=t=>HA[t];function SS(t,e){let r=Gp(t);return r!==ym&&(r=Us),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const GA=new Set(["auto","none","0"]);function QA(t,e,r){let n=0,i;for(;n<t.length&&!i;){const l=t[n];typeof l=="string"&&!GA.has(l)&&sl(l).values.length&&(i=t[n]),n++}if(i&&r)for(const l of e)t[l]=SS(r,i)}const sb=t=>t===Wo||t===$e,ib=(t,e)=>parseFloat(t.split(", ")[e]),ob=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return ib(i[1],e);{const l=n.match(/^matrix\((.+)\)$/u);return l?ib(l[1],t):0}},ZA=new Set(["x","y","z"]),JA=qo.filter(t=>!ZA.has(t));function YA(t){const e=[];return JA.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ob(4,13),y:ob(5,14)};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const Si=new Set;let xm=!1,vm=!1;function NS(){if(vm){const t=Array.from(Si).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=YA(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([l,c])=>{var d;(d=n.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}vm=!1,xm=!1,Si.forEach(t=>t.complete()),Si.clear()}function _S(){Si.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vm=!0)})}function XA(){_S(),NS()}class Qp{constructor(e,r,n,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Si.add(this),xm||(xm=!0,Nt.read(_S),Nt.resolveKeyframes(NS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&r){const h=n.readValue(r,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Si.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Si.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tR(t){const e=eR.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function CS(t,e,r=1){const[n,i]=tR(t);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return kS(c)?parseFloat(c):c}return Pp(i)?CS(i,e,r+1):i}const ES=t=>e=>e.test(t),rR={test:t=>t==="auto",parse:t=>t},TS=[Wo,$e,Dn,Is,W2,q2,rR],ab=t=>TS.find(ES(t));class PS extends Qp{constructor(e,r,n,i,l){super(e,r,n,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Pp(m))){const p=CS(m,r.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!oS.has(n)||e.length!==2)return;const[i,l]=e,c=ab(i),d=ab(l);if(c!==d)if(sb(c)&&sb(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)RA(e[i])&&n.push(i);n.length&&QA(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const l=r.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Lo[n](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{r.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const lb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Us.test(t)||t==="0")&&!t.startsWith("url("));function nR(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function sR(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=lb(i,e),d=lb(l,e);return!c||!d?!1:nR(t)||(r==="spring"||Fp(r))&&n}const iR=t=>t!==null;function ld(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(iR),l=e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const oR=40;class AS{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mn.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XA(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Mn.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:m}=this.options;if(!m&&!sR(e,n,i,l))if(c)this.options.duration=0;else{h&&h(ld(e,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,r);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Rt=(t,e,r)=>t+(e-t)*r;function wh(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function aR({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,l=0,c=0;if(!e)i=l=c=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;i=wh(h,d,t+1/3),l=wh(h,d,t),c=wh(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function Pu(t,e){return r=>r>0?e:t}const jh=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},lR=[gm,vi,xo],cR=t=>lR.find(e=>e.test(t));function cb(t){const e=cR(t);if(!e)return!1;let r=e.parse(t);return e===xo&&(r=aR(r)),r}const ub=(t,e)=>{const r=cb(t),n=cb(e);if(!r||!n)return Pu(t,e);const i={...r};return l=>(i.red=jh(r.red,n.red,l),i.green=jh(r.green,n.green,l),i.blue=jh(r.blue,n.blue,l),i.alpha=Rt(r.alpha,n.alpha,l),vi.transform(i))},uR=(t,e)=>r=>e(t(r)),Al=(...t)=>t.reduce(uR),bm=new Set(["none","hidden"]);function dR(t,e){return bm.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function fR(t,e){return r=>Rt(t,e,r)}function Zp(t){return typeof t=="number"?fR:typeof t=="string"?Pp(t)?Pu:gr.test(t)?ub:pR:Array.isArray(t)?RS:typeof t=="object"?gr.test(t)?ub:hR:Pu}function RS(t,e){const r=[...t],n=r.length,i=t.map((l,c)=>Zp(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=i[c](l);return r}}function hR(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Zp(t[i])(t[i],e[i]));return i=>{for(const l in n)r[l]=n[l](i);return r}}function mR(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],h=(r=t.values[d])!==null&&r!==void 0?r:0;n[l]=h,i[c]++}return n}const pR=(t,e)=>{const r=Us.createTransformer(e),n=sl(t),i=sl(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?bm.has(t)&&!i.values.length||bm.has(e)&&!n.values.length?dR(t,e):Al(RS(mR(n,i),i.values),r):Pu(t,e)};function OS(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Rt(t,e,r):Zp(t)(t,e)}const gR=5;function IS(t,e,r){const n=Math.max(e-gR,0);return aS(r-t(n),e-n)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sh=.001;function yR({duration:t=Lt.duration,bounce:e=Lt.bounce,velocity:r=Lt.velocity,mass:n=Lt.mass}){let i,l,c=1-e;c=is(Lt.minDamping,Lt.maxDamping,c),t=is(Lt.minDuration,Lt.maxDuration,ss(t)),c<1?(i=m=>{const p=m*c,y=p*t,v=p-r,S=wm(m,c),_=Math.exp(-y);return Sh-v/S*_},l=m=>{const y=m*c*t,v=y*r+r,S=Math.pow(c,2)*Math.pow(m,2)*t,_=Math.exp(-y),j=wm(Math.pow(m,2),c);return(-i(m)+Sh>0?-1:1)*((v-S)*_)/j}):(i=m=>{const p=Math.exp(-m*t),y=(m-r)*t+1;return-Sh+p*y},l=m=>{const p=Math.exp(-m*t),y=(r-m)*(t*t);return p*y});const d=5/t,h=vR(i,l,d);if(t=ns(t),isNaN(h))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:t};{const m=Math.pow(h,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const xR=12;function vR(t,e,r){let n=r;for(let i=1;i<xR;i++)n=n-t(n)/e(n);return n}function wm(t,e){return t*Math.sqrt(1-e*e)}const bR=["duration","bounce"],wR=["stiffness","damping","mass"];function db(t,e){return e.some(r=>t[r]!==void 0)}function jR(t){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...t};if(!db(t,wR)&&db(t,bR))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,l=2*is(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Lt.mass,stiffness:i,damping:l}}else{const r=yR(t);e={...e,...r,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function LS(t=Lt.visualDuration,e=Lt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:p,duration:y,velocity:v,isResolvedFromDuration:S}=jR({...r,velocity:-ss(r.velocity||0)}),_=v||0,j=m/(2*Math.sqrt(h*p)),w=c-l,C=ss(Math.sqrt(h/p)),k=Math.abs(w)<5;n||(n=k?Lt.restSpeed.granular:Lt.restSpeed.default),i||(i=k?Lt.restDelta.granular:Lt.restDelta.default);let E;if(j<1){const L=wm(C,j);E=F=>{const G=Math.exp(-j*C*F);return c-G*((_+j*C*w)/L*Math.sin(L*F)+w*Math.cos(L*F))}}else if(j===1)E=L=>c-Math.exp(-C*L)*(w+(_+C*w)*L);else{const L=C*Math.sqrt(j*j-1);E=F=>{const G=Math.exp(-j*C*F),J=Math.min(L*F,300);return c-G*((_+j*C*w)*Math.sinh(J)+L*w*Math.cosh(J))/L}}const A={calculatedDuration:S&&y||null,next:L=>{const F=E(L);if(S)d.done=L>=y;else{let G=0;j<1&&(G=L===0?ns(_):IS(E,L,F));const J=Math.abs(G)<=n,O=Math.abs(c-F)<=i;d.done=J&&O}return d.value=d.done?c:F,d},toString:()=>{const L=Math.min(Xj(A),hm),F=eS(G=>A.next(L*G).value,L,30);return L+"ms "+F}};return A}function fb({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:p}){const y=t[0],v={done:!1,value:y},S=J=>d!==void 0&&J<d||h!==void 0&&J>h,_=J=>d===void 0?h:h===void 0||Math.abs(d-J)<Math.abs(h-J)?d:h;let j=r*e;const w=y+j,C=c===void 0?w:c(w);C!==w&&(j=C-y);const k=J=>-j*Math.exp(-J/n),E=J=>C+k(J),A=J=>{const O=k(J),Q=E(J);v.done=Math.abs(O)<=m,v.value=v.done?C:Q};let L,F;const G=J=>{S(v.value)&&(L=J,F=LS({keyframes:[v.value,_(v.value)],velocity:IS(E,J,v.value),damping:i,stiffness:l,restDelta:m,restSpeed:p}))};return G(0),{calculatedDuration:null,next:J=>{let O=!1;return!F&&L===void 0&&(O=!0,A(J),G(J)),L!==void 0&&J>=L?F.next(J-L):(!O&&A(J),v)}}}const SR=Pl(.42,0,1,1),NR=Pl(0,0,.58,1),DS=Pl(.42,0,.58,1),_R=t=>Array.isArray(t)&&typeof t[0]!="number",kR={linear:qr,easeIn:SR,easeInOut:DS,easeOut:NR,circIn:Wp,circInOut:gS,circOut:pS,backIn:qp,backInOut:hS,backOut:fS,anticipate:mS},hb=t=>{if(Vp(t)){Oj(t.length===4);const[e,r,n,i]=t;return Pl(e,r,n,i)}else if(typeof t=="string")return kR[t];return t};function CR(t,e,r){const n=[],i=r||OS,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||qr:e;d=Al(h,d)}n.push(d)}return n}function ER(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const l=t.length;if(Oj(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=CR(e,n,i),h=d.length,m=p=>{if(c&&p<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const v=Oo(t[y],t[y+1],p);return d[y](v)};return r?p=>m(is(t[0],t[l-1],p)):m}function TR(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Oo(0,e,n);t.push(Rt(r,1,i))}}function PR(t){const e=[0];return TR(e,t.length-1),e}function AR(t,e){return t.map(r=>r*e)}function RR(t,e){return t.map(()=>e||DS).splice(0,t.length-1)}function Au({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=_R(n)?n.map(hb):hb(n),l={done:!1,value:e[0]},c=AR(r&&r.length===e.length?r:PR(e),t),d=ER(c,e,{ease:Array.isArray(i)?i:RR(e,i)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const OR=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Nt.update(e,!0),stop:()=>Vs(e),now:()=>ar.isProcessing?ar.timestamp:Mn.now()}},IR={decay:fb,inertia:fb,tween:Au,keyframes:Au,spring:LS},LR=t=>t/100;class Jp extends AS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:n,element:i,keyframes:l}=this.options,c=i?.KeyframeResolver||Qp,d=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(l,d,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,d=Fp(r)?r:IR[r]||Au;let h,m;d!==Au&&typeof e[0]!="number"&&(h=Al(LR,OS(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Xj(p));const{calculatedDuration:y}=p,v=y+i,S=v*(n+1)-i;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:v,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:J}=this.options;return{done:!0,value:J[J.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:m,totalDuration:p,resolvedDuration:y}=n;if(this.startTime===null)return l.next(0);const{delay:v,repeat:S,repeatType:_,repeatDelay:j,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const C=this.currentTime-v*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,A=l;if(S){const J=Math.min(this.currentTime,p)/y;let O=Math.floor(J),Q=J%1;!Q&&J>=1&&(Q=1),Q===1&&O--,O=Math.min(O,S+1),!!(O%2)&&(_==="reverse"?(Q=1-Q,j&&(Q-=j/y)):_==="mirror"&&(A=c)),E=is(0,1,Q)*y}const L=k?{done:!1,value:h[0]}:A.next(E);d&&(L.value=d(L.value));let{done:F}=L;!k&&m!==null&&(F=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return G&&i!==void 0&&(L.value=ld(h,this.options,i)),w&&w(L.value),G&&this.finish(),L}get duration(){const{resolved:e}=this;return e?ss(e.calculatedDuration):0}get time(){return ss(this.currentTime)}set time(e){e=ns(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ss(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OR,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const DR=new Set(["opacity","clipPath","filter","transform"]);function MR(t,e,r,{delay:n=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const m={[e]:r};h&&(m.offset=h);const p=rS(d,i);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const FR=Sp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ru=10,VR=2e4;function UR(t){return Fp(t.type)||t.type==="spring"||!tS(t.ease)}function $R(t,e){const r=new Jp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let l=0;for(;!n.done&&l<VR;)n=r.sample(l),i.push(n.value),l+=Ru;return{times:void 0,keyframes:i,duration:l-Ru,ease:"linear"}}const MS={anticipate:mS,backInOut:hS,circInOut:gS};function BR(t){return t in MS}class mb extends AS{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:l}=this.options;this.resolver=new PS(l,(c,d)=>this.onKeyframesResolved(c,d),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:l,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Tu()&&BR(l)&&(l=MS[l]),UR(this.options)){const{onComplete:y,onUpdate:v,motionValue:S,element:_,...j}=this.options,w=$R(e,j);e=w.keyframes,e.length===1&&(e[1]=e[0]),n=w.duration,i=w.times,l=w.ease,c="keyframes"}const p=MR(d.owner.current,h,e,{...this.options,duration:n,times:i,ease:l});return p.startTime=m??this.calcStartTime(),this.pendingTimeline?(Yv(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:y}=this.options;d.set(ld(e,this.options,r)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return ss(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return ss(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=ns(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return qr;const{animation:n}=r;Yv(n,e)}return qr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:l,ease:c,times:d}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:y,element:v,...S}=this.options,_=new Jp({...S,keyframes:n,duration:i,type:l,ease:c,times:d,isGenerator:!0}),j=ns(this.time);m.setWithVelocity(_.sample(j-Ru).value,_.sample(j).value,Ru)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:l,damping:c,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=r.owner.getProps();return FR()&&n&&DR.has(n)&&!h&&!m&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}}const zR={type:"spring",stiffness:500,damping:25,restSpeed:10},qR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WR={type:"keyframes",duration:.8},KR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HR=(t,{keyframes:e})=>e.length>2?WR:Pi.has(t)?t.startsWith("scale")?qR(e[1]):zR:KR;function GR({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const Yp=(t,e,r,n={},i,l)=>c=>{const d=Mp(n,t)||{},h=d.delay||n.delay||0;let{elapsed:m=0}=n;m=m-ns(h);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};GR(d)||(p={...p,...HR(t,p)}),p.duration&&(p.duration=ns(p.duration)),p.repeatDelay&&(p.repeatDelay=ns(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=ld(p.keyframes,d);if(v!==void 0)return Nt.update(()=>{p.onUpdate(v),p.onComplete()}),new hA([])}return!l&&mb.supports(p)?new mb(p):new Jp(p)};function QR({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function FS(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;n&&(c=n);const m=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),S=h[y];if(S===void 0||p&&QR(p,y))continue;const _={delay:r,...Mp(c||{},y)};let j=!1;if(window.MotionHandoffAnimation){const C=lS(t);if(C){const k=window.MotionHandoffAnimation(C,y,Nt);k!==null&&(_.startTime=k,j=!0)}}pm(t,y),v.start(Yp(y,v,S,t.shouldReduceMotion&&oS.has(y)?{type:!1}:_,t,j));const w=v.animation;w&&m.push(w)}return d&&Promise.all(m).then(()=>{Nt.update(()=>{d&&CA(t,d)})}),m}function jm(t,e,r={}){var n;const i=ad(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(l=r.transitionOverride);const c=i?()=>Promise.all(FS(t,i,r)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=l;return ZR(t,e,p+m,y,v,r)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(r.delay)])}function ZR(t,e,r=0,n=0,i=1,l){const c=[],d=(t.variantChildren.size-1)*n,h=i===1?(m=0)=>m*n:(m=0)=>d-m*n;return Array.from(t.variantChildren).sort(JR).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(jm(m,e,{...l,delay:r+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function JR(t,e){return t.sortNodePosition(e)}function YR(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(l=>jm(t,l,r));n=Promise.all(i)}else if(typeof e=="string")n=jm(t,e,r);else{const i=typeof e=="function"?ad(t,e,r.custom):e;n=Promise.all(FS(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const XR=_p.length;function VS(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?VS(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<XR;r++){const n=_p[r],i=t.props[n];(tl(i)||i===!1)&&(e[n]=i)}return e}const eO=[...Np].reverse(),tO=Np.length;function rO(t){return e=>Promise.all(e.map(({animation:r,options:n})=>YR(t,r,n)))}function nO(t){let e=rO(t),r=pb(),n=!0;const i=h=>(m,p)=>{var y;const v=ad(t,p,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:S,transitionEnd:_,...j}=v;m={...m,...j,..._}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,p=VS(t.parent)||{},y=[],v=new Set;let S={},_=1/0;for(let w=0;w<tO;w++){const C=eO[w],k=r[C],E=m[C]!==void 0?m[C]:p[C],A=tl(E),L=C===h?k.isActive:null;L===!1&&(_=w);let F=E===p[C]&&E!==m[C]&&A;if(F&&n&&t.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...S},!k.isActive&&L===null||!E&&!k.prevProp||id(E)||typeof E=="boolean")continue;const G=sO(k.prevProp,E);let J=G||C===h&&k.isActive&&!F&&A||w>_&&A,O=!1;const Q=Array.isArray(E)?E:[E];let q=Q.reduce(i(C),{});L===!1&&(q={});const{prevResolvedValues:K={}}=k,Y={...K,...q},Z=re=>{J=!0,v.has(re)&&(O=!0,v.delete(re)),k.needsAnimating[re]=!0;const X=t.getValue(re);X&&(X.liveStyle=!1)};for(const re in Y){const X=q[re],he=K[re];if(S.hasOwnProperty(re))continue;let ce=!1;fm(X)&&fm(he)?ce=!Yj(X,he):ce=X!==he,ce?X!=null?Z(re):v.add(re):X!==void 0&&v.has(re)?Z(re):k.protectedKeys[re]=!0}k.prevProp=E,k.prevResolvedValues=q,k.isActive&&(S={...S,...q}),n&&t.blockInitialAnimation&&(J=!1),J&&(!(F&&G)||O)&&y.push(...Q.map(re=>({animation:re,options:{type:C}})))}if(v.size){const w={};v.forEach(C=>{const k=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),w[C]=k??null}),y.push({animation:w})}let j=!!y.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(y):Promise.resolve()}function d(h,m){var p;if(r[h].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var S;return(S=v.animationState)===null||S===void 0?void 0:S.setActive(h,m)}),r[h].isActive=m;const y=c(h);for(const v in r)r[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=pb(),n=!0}}}function sO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yj(e,t):!1}function ui(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pb(){return{animate:ui(!0),whileInView:ui(),whileHover:ui(),whileTap:ui(),whileDrag:ui(),whileFocus:ui(),exit:ui()}}class Ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iO extends Ws{constructor(e){super(e),e.animationState||(e.animationState=nO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();id(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oO=0;class aO extends Ws{constructor(){super(...arguments),this.id=oO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lO={animation:{Feature:iO},exit:{Feature:aO}};function il(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Rl(t){return{point:{x:t.pageX,y:t.pageY}}}const cO=t=>e=>Up(e)&&t(e,Rl(e));function za(t,e,r,n){return il(t,e,cO(r),n)}const gb=(t,e)=>Math.abs(t-e);function uO(t,e){const r=gb(t.x,e.x),n=gb(t.y,e.y);return Math.sqrt(r**2+n**2)}class US{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_h(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=uO(y.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:_}=y,{timestamp:j}=ar;this.history.push({..._,timestamp:j});const{onStart:w,onMove:C}=this.handlers;v||(w&&w(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Nh(v,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_h(y.type==="pointercancel"?this.lastMoveEventInfo:Nh(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,w),_&&_(y,w)},!Up(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const c=Rl(e),d=Nh(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=ar;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=r;p&&p(e,_h(d,this.history)),this.removeListeners=Al(za(this.contextWindow,"pointermove",this.handlePointerMove),za(this.contextWindow,"pointerup",this.handlePointerUp),za(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function Nh(t,e){return e?{point:e(t.point)}:t}function yb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _h({point:t},e){return{point:t,delta:yb(t,$S(e)),offset:yb(t,dO(e)),velocity:fO(e,.1)}}function dO(t){return t[0]}function $S(t){return t[t.length-1]}function fO(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=$S(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>ns(e)));)r--;if(!n)return{x:0,y:0};const l=ss(i.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-n.x)/l,y:(i.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const BS=1e-4,hO=1-BS,mO=1+BS,zS=.01,pO=0-zS,gO=0+zS;function Hr(t){return t.max-t.min}function yO(t,e,r){return Math.abs(t-e)<=r}function xb(t,e,r,n=.5){t.origin=n,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Hr(r)/Hr(e),t.translate=Rt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=hO&&t.scale<=mO||isNaN(t.scale))&&(t.scale=1),(t.translate>=pO&&t.translate<=gO||isNaN(t.translate))&&(t.translate=0)}function qa(t,e,r,n){xb(t.x,e.x,r.x,n?n.originX:void 0),xb(t.y,e.y,r.y,n?n.originY:void 0)}function vb(t,e,r){t.min=r.min+e.min,t.max=t.min+Hr(e)}function xO(t,e,r){vb(t.x,e.x,r.x),vb(t.y,e.y,r.y)}function bb(t,e,r){t.min=e.min-r.min,t.max=t.min+Hr(e)}function Wa(t,e,r){bb(t.x,e.x,r.x),bb(t.y,e.y,r.y)}function vO(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Rt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Rt(r,t,n.max):Math.min(t,r)),t}function wb(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function bO(t,{top:e,left:r,bottom:n,right:i}){return{x:wb(t.x,r,i),y:wb(t.y,e,n)}}function jb(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function wO(t,e){return{x:jb(t.x,e.x),y:jb(t.y,e.y)}}function jO(t,e){let r=.5;const n=Hr(t),i=Hr(e);return i>n?r=Oo(e.min,e.max-n,t.min):n>i&&(r=Oo(t.min,t.max-i,e.min)),is(0,1,r)}function SO(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Sm=.35;function NO(t=Sm){return t===!1?t=0:t===!0&&(t=Sm),{x:Sb(t,"left","right"),y:Sb(t,"top","bottom")}}function Sb(t,e,r){return{min:Nb(t,e),max:Nb(t,r)}}function Nb(t,e){return typeof t=="number"?t:t[e]||0}const _b=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:_b(),y:_b()}),kb=()=>({min:0,max:0}),Ut=()=>({x:kb(),y:kb()});function rn(t){return[t("x"),t("y")]}function qS({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function _O({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kO(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function kh(t){return t===void 0||t===1}function Nm({scale:t,scaleX:e,scaleY:r}){return!kh(t)||!kh(e)||!kh(r)}function mi(t){return Nm(t)||WS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WS(t){return Cb(t.x)||Cb(t.y)}function Cb(t){return t&&t!=="0%"}function Ou(t,e,r){const n=t-r,i=e*n;return r+i}function Eb(t,e,r,n,i){return i!==void 0&&(t=Ou(t,i,n)),Ou(t,r,n)+e}function _m(t,e=0,r=1,n,i){t.min=Eb(t.min,e,r,n,i),t.max=Eb(t.max,e,r,n,i)}function KS(t,{x:e,y:r}){_m(t.x,e.translate,e.scale,e.originPoint),_m(t.y,r.translate,r.scale,r.originPoint)}const Tb=.999999999999,Pb=1.0000000000001;function CO(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=r[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,KS(t,c)),n&&mi(l.latestValues)&&wo(t,l.latestValues))}e.x<Pb&&e.x>Tb&&(e.x=1),e.y<Pb&&e.y>Tb&&(e.y=1)}function bo(t,e){t.min=t.min+e,t.max=t.max+e}function Ab(t,e,r,n,i=.5){const l=Rt(t.min,t.max,i);_m(t,e,r,l,n)}function wo(t,e){Ab(t.x,e.x,e.scaleX,e.scale,e.originX),Ab(t.y,e.y,e.scaleY,e.scale,e.originY)}function HS(t,e){return qS(kO(t.getBoundingClientRect(),e))}function EO(t,e,r){const n=HS(t,r),{scroll:i}=e;return i&&(bo(n.x,i.offset.x),bo(n.y,i.offset.y)),n}const GS=({current:t})=>t?t.ownerDocument.defaultView:null,TO=new WeakMap;class PO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Rl(p).point)},l=(p,y)=>{const{drag:v,dragPropagation:S,onDragStart:_}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jA(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(w=>{let C=this.getAxisMotionValue(w).get()||0;if(Dn.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[w];E&&(C=Hr(E)*(parseFloat(C)/100))}}this.originPoint[w]=C}),_&&Nt.postRender(()=>_(p,y)),pm(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,y)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:_,onDrag:j}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=y;if(S&&this.currentDirection===null){this.currentDirection=AO(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",y.point,w),this.updateAxis("y",y.point,w),this.visualElement.render(),j&&j(p,y)},d=(p,y)=>this.stop(p,y),h=()=>rn(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new US(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:GS(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Nt.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Yc(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=vO(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&yo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=bO(i.layoutBox,r):this.constraints=!1,this.elastic=NO(n),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=SO(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!yo(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=EO(n,i.root,this.visualElement.getTransformPagePoint());let c=wO(i.layout.layoutBox,l);if(r){const d=r(_O(c));this.hasMutatedConstraints=!!d,d&&(c=qS(d))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=rn(p=>{if(!Yc(p,r,this.currentDirection))return;let y=h&&h[p]||{};c&&(y={min:0,max:0});const v=i?200:1e6,S=i?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(p,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return pm(this.visualElement,e),n.start(Yp(e,n,0,r,this.visualElement,!1))}stopAnimation(){rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){rn(r=>{const{drag:n}=this.getProps();if(!Yc(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(r);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[r];l.set(e[r]-Rt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!yo(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};rn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=jO({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),rn(c=>{if(!Yc(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(Rt(h,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;TO.set(this.visualElement,this);const e=this.visualElement.current,r=za(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();yo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Nt.read(n);const c=il(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(rn(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=Sm,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Yc(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function AO(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class RO extends Ws{constructor(e){super(e),this.removeGroupControls=qr,this.removeListeners=qr,this.controls=new PO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rb=t=>(e,r)=>{t&&Nt.postRender(()=>t(e,r))};class OO extends Ws{constructor(){super(...arguments),this.removePointerDownListener=qr}onPointerDown(e){this.session=new US(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Rb(e),onStart:Rb(r),onMove:n,onEnd:(l,c)=>{delete this.session,i&&Nt.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=za(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ob(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const r=Ob(t,e.target.x),n=Ob(t,e.target.y);return`${r}% ${n}%`}},IO={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Us.parse(t);if(i.length>5)return n;const l=Us.createTransformer(t),c=typeof i[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const m=Rt(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),l(i)}};class LO extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:l}=e;tA(DO),l&&(r.group&&r.group.add(l),n&&n.register&&i&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),vu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Nt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QS(t){const[e,r]=Aj(),n=b.useContext(vp);return o.jsx(LO,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(Vj),isPresent:e,safeToRemove:r})}const DO={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:IO};function MO(t,e,r){const n=yr(t)?t:nl(t);return n.start(Yp("",n,e,r)),n.animation}function FO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const VO=(t,e)=>t.depth-e.depth;class UO{constructor(){this.children=[],this.isDirty=!1}add(e){$p(this.children,e),this.isDirty=!0}remove(e){Bp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VO),this.isDirty=!1,this.children.forEach(e)}}function $O(t,e){const r=Mn.now(),n=({timestamp:i})=>{const l=i-r;l>=e&&(Vs(n),t(l-e))};return Nt.read(n,!0),()=>Vs(n)}const ZS=["TopLeft","TopRight","BottomLeft","BottomRight"],BO=ZS.length,Ib=t=>typeof t=="string"?parseFloat(t):t,Lb=t=>typeof t=="number"||$e.test(t);function zO(t,e,r,n,i,l){i?(t.opacity=Rt(0,r.opacity!==void 0?r.opacity:1,qO(n)),t.opacityExit=Rt(e.opacity!==void 0?e.opacity:1,0,WO(n))):l&&(t.opacity=Rt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<BO;c++){const d=`border${ZS[c]}Radius`;let h=Db(e,d),m=Db(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Lb(h)===Lb(m)?(t[d]=Math.max(Rt(Ib(h),Ib(m),n),0),(Dn.test(m)||Dn.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=Rt(e.rotate||0,r.rotate||0,n))}function Db(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qO=JS(0,.5,pS),WO=JS(.5,.95,qr);function JS(t,e,r){return n=>n<t?0:n>e?1:r(Oo(t,e,n))}function Mb(t,e){t.min=e.min,t.max=e.max}function tn(t,e){Mb(t.x,e.x),Mb(t.y,e.y)}function Fb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vb(t,e,r,n,i){return t-=e,t=Ou(t,1/r,n),i!==void 0&&(t=Ou(t,1/i,n)),t}function KO(t,e=0,r=1,n=.5,i,l=t,c=t){if(Dn.test(e)&&(e=parseFloat(e),e=Rt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Rt(l.min,l.max,n);t===l&&(d-=e),t.min=Vb(t.min,e,r,d,i),t.max=Vb(t.max,e,r,d,i)}function Ub(t,e,[r,n,i],l,c){KO(t,e[r],e[n],e[i],e.scale,l,c)}const HO=["x","scaleX","originX"],GO=["y","scaleY","originY"];function $b(t,e,r,n){Ub(t.x,e,HO,r?r.x:void 0,n?n.x:void 0),Ub(t.y,e,GO,r?r.y:void 0,n?n.y:void 0)}function Bb(t){return t.translate===0&&t.scale===1}function YS(t){return Bb(t.x)&&Bb(t.y)}function zb(t,e){return t.min===e.min&&t.max===e.max}function QO(t,e){return zb(t.x,e.x)&&zb(t.y,e.y)}function qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XS(t,e){return qb(t.x,e.x)&&qb(t.y,e.y)}function Wb(t){return Hr(t.x)/Hr(t.y)}function Kb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZO{constructor(){this.members=[]}add(e){$p(this.members,e),e.scheduleRender()}remove(e){if(Bp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JO(t,e,r){let n="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=r?.z||0;if((i||l||c)&&(n=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:v,skewX:S,skewY:_}=r;m&&(n=`perspective(${m}px) ${n}`),p&&(n+=`rotate(${p}deg) `),y&&(n+=`rotateX(${y}deg) `),v&&(n+=`rotateY(${v}deg) `),S&&(n+=`skewX(${S}deg) `),_&&(n+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(n+=`scale(${d}, ${h})`),n||"none"}const pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Va=typeof window<"u"&&window.MotionDebug!==void 0,Ch=["","X","Y","Z"],YO={visibility:"hidden"},Hb=1e3;let XO=0;function Eh(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function eN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=lS(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Nt,!(i||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&eN(n)}function tN({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(c={},d=e?.()){this.id=XO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Va&&(pi.totalNodes=pi.resolvedTargetDeltas=pi.recalculatedProjection=0),this.nodes.forEach(rI),this.nodes.forEach(aI),this.nodes.forEach(lI),this.nodes.forEach(nI),Va&&window.MotionDebug.record(pi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new UO)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new zp),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=$O(v,250),vu.hasAnimatedSinceResize&&(vu.hasAnimatedSinceResize=!1,this.nodes.forEach(Qb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:S,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||hI,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=p.getProps(),k=!this.targetLayout||!XS(this.targetLayout,_)||S,E=!v&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,E);const A={...Mp(j,"layout"),onPlay:w,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else v||Qb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cI),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gb);return}this.isUpdating||this.nodes.forEach(iI),this.isUpdating=!1,this.nodes.forEach(oI),this.nodes.forEach(eI),this.nodes.forEach(tI),this.clearAllSnapshots();const d=Mn.now();ar.delta=is(0,1e3/60,d-ar.timestamp),ar.timestamp=d,ar.isProcessing=!0,xh.update.process(ar),xh.preRender.process(ar),xh.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sI),this.sharedNodes.forEach(uI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!YS(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||mi(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),mI(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Ut();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(pI))){const{scroll:p}=this.root;p&&(bo(h.x,p.offset.x),bo(h.y,p.offset.y))}return h}removeElementScroll(c){var d;const h=Ut();if(tn(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&tn(h,c),bo(h.x,y.offset.x),bo(h.y,y.offset.y))}return h}applyTransform(c,d=!1){const h=Ut();tn(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&wo(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),mi(p.latestValues)&&wo(h,p.latestValues)}return mi(this.latestValues)&&wo(h,this.latestValues),h}removeTransform(c){const d=Ut();tn(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!mi(m.latestValues))continue;Nm(m.latestValues)&&m.updateSnapshot();const p=Ut(),y=m.measurePageBox();tn(p,y),$b(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return mi(this.latestValues)&&$b(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Wa(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),KS(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Wa(this.relativeTargetOrigin,this.target,S.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Va&&pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nm(this.parent.latestValues)||WS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;tn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;CO(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ut());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fb(this.prevProjectionDelta.x,this.projectionDelta.x),Fb(this.prevProjectionDelta.y,this.projectionDelta.y)),qa(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!Kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Va&&pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=Ut(),S=h?h.source:void 0,_=this.layout?this.layout.source:void 0,j=S!==_,w=this.getStack(),C=!w||w.members.length<=1,k=!!(j&&!C&&this.options.crossfade===!0&&!this.path.some(fI));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const L=A/1e3;Zb(y.x,c.x,L),Zb(y.y,c.y,L),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wa(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dI(this.relativeTarget,this.relativeTargetOrigin,v,L),E&&QO(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ut()),tn(E,this.relativeTarget)),j&&(this.animationValues=p,zO(p,m,this.latestValues,L,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{vu.hasAnimatedSinceResize=!0,this.currentAnimation=MO(0,Hb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&rN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Ut();const y=Hr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=Hr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}tn(d,h),wo(d,p),qa(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ZO),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Eh("z",c,m,this.animationValues);for(let p=0;p<Ch.length;p++)Eh(`rotate${Ch[p]}`,c,m,this.animationValues),Eh(`skew${Ch[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YO;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=yu(c?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=yu(c?.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(j.transform=p?p({},""):"none",this.hasProjected=!1),j}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=JO(this.projectionDeltaWithTransform,this.treeScale,v),p&&(m.transform=p(v,m.transform));const{x:S,y:_}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${_.origin*100}% 0`,y.animationValues?m.opacity=y===this?(h=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in Eu){if(v[j]===void 0)continue;const{correct:w,applyTo:C}=Eu[j],k=m.transform==="none"?v[j]:w(v[j],y);if(C){const E=C.length;for(let A=0;A<E;A++)m[C[A]]=k}else m[j]=k}return this.options.layoutId&&(m.pointerEvents=y===this?yu(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Gb),this.root.sharedNodes.clear()}}}function eI(t){t.updateLayout()}function tI(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:l}=t.options,c=r.source!==t.layout.source;l==="size"?rn(y=>{const v=c?r.measuredBox[y]:r.layoutBox[y],S=Hr(v);v.min=n[y].min,v.max=v.min+S}):rN(l,r.layoutBox,n)&&rn(y=>{const v=c?r.measuredBox[y]:r.layoutBox[y],S=Hr(n[y]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const d=vo();qa(d,n,r.layoutBox);const h=vo();c?qa(h,t.applyTransform(i,!0),r.measuredBox):qa(h,n,r.layoutBox);const m=!YS(d);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const _=Ut();Wa(_,r.layoutBox,v.layoutBox);const j=Ut();Wa(j,n,S.layoutBox),XS(_,j)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=_,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function rI(t){Va&&pi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sI(t){t.clearSnapshot()}function Gb(t){t.clearMeasurements()}function iI(t){t.isLayoutDirty=!1}function oI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aI(t){t.resolveTargetDelta()}function lI(t){t.calcProjection()}function cI(t){t.resetSkewAndRotation()}function uI(t){t.removeLeadSnapshot()}function Zb(t,e,r){t.translate=Rt(e.translate,0,r),t.scale=Rt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Jb(t,e,r,n){t.min=Rt(e.min,r.min,n),t.max=Rt(e.max,r.max,n)}function dI(t,e,r,n){Jb(t.x,e.x,r.x,n),Jb(t.y,e.y,r.y,n)}function fI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hI={duration:.45,ease:[.4,0,.1,1]},Yb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xb=Yb("applewebkit/")&&!Yb("chrome/")?Math.round:qr;function ew(t){t.min=Xb(t.min),t.max=Xb(t.max)}function mI(t){ew(t.x),ew(t.y)}function rN(t,e,r){return t==="position"||t==="preserve-aspect"&&!yO(Wb(e),Wb(r),.2)}function pI(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gI=tN({attachResizeListener:(t,e)=>il(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Th={current:void 0},nN=tN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Th.current){const t=new gI({});t.mount(window),t.setOptions({layoutScroll:!0}),Th.current=t}return Th.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yI={pan:{Feature:OO},drag:{Feature:RO,ProjectionNode:nN,MeasureLayout:QS}};function tw(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,l=n[i];l&&Nt.postRender(()=>l(e,Rl(e)))}class xI extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=yA(e,r=>(tw(this.node,r,"Start"),n=>tw(this.node,n,"End"))))}unmount(){}}class vI extends Ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Al(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rw(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),l=n[i];l&&Nt.postRender(()=>l(e,Rl(e)))}class bI extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=wA(e,r=>(rw(this.node,r,"Start"),(n,{success:i})=>rw(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,Ph=new WeakMap,wI=t=>{const e=km.get(t.target);e&&e(t)},jI=t=>{t.forEach(wI)};function SI({root:t,...e}){const r=t||document;Ph.has(r)||Ph.set(r,{});const n=Ph.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jI,{root:t,...e})),n[i]}function NI(t,e,r){const n=SI(e);return km.set(t,r),n.observe(t),()=>{km.delete(t),n.unobserve(t)}}const _I={some:0,all:1};class kI extends Ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_I[i]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),v=m?p:y;v&&v(h)};return NI(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(CI(e,r))&&this.startObserver()}unmount(){}}function CI({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const EI={inView:{Feature:kI},tap:{Feature:bI},focus:{Feature:vI},hover:{Feature:xI}},TI={layout:{ProjectionNode:nN,MeasureLayout:QS}},Cm={current:null},sN={current:!1};function PI(){if(sN.current=!0,!!jp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cm.current=t.matches;t.addListener(e),e()}else Cm.current=!1}const AI=[...TS,gr,Us],RI=t=>AI.find(ES(t)),nw=new WeakMap;function OI(t,e,r){for(const n in e){const i=e[n],l=r[n];if(yr(i))t.addValue(n,i);else if(yr(l))t.addValue(n,nl(i,{owner:t}));else if(l!==i)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(n);t.addValue(n,nl(c!==void 0?c:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const sw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class II{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Mn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Nt.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=od(r),this.isVariantNode=Mj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const S in v){const _=v[S];h[S]!==void 0&&yr(_)&&_.set(h[S],!1)}}mount(e){this.current=e,nw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),sN.current||PI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nw.delete(this.current),this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Pi.has(e),i=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Io){const r=Io[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<sw.length;n++){const i=sw[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=OI(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=nl(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(kS(i)||yS(i))?i=parseFloat(i):!RI(i)&&Us.test(r)&&(i=SS(e,r)),this.setBaseTarget(e,yr(i)?i.get():i)),yr(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=Tp(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!yr(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new zp),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class iN extends II{constructor(){super(...arguments),this.KeyframeResolver=PS}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function LI(t){return window.getComputedStyle(t)}class DI extends iN{constructor(){super(...arguments),this.type="html",this.renderInstance=Kj}readValueFromInstance(e,r){if(Pi.has(r)){const n=Gp(r);return n&&n.default||0}else{const n=LI(e),i=(zj(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return HS(e,r)}build(e,r,n){Rp(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Dp(e,r,n)}}class MI extends iN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Pi.has(r)){const n=Gp(r);return n&&n.default||0}return r=Hj.has(r)?r:kp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Zj(e,r,n)}build(e,r,n){Op(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){Gj(e,r,n,i)}mount(e){this.isSVGTag=Lp(e.tagName),super.mount(e)}}const FI=(t,e)=>Ep(t)?new MI(e):new DI(e,{allowProjection:t!==b.Fragment}),VI=uA({...lO,...EI,...yI,...TI},FI),Ge=_2(VI);var Em=function(t,e){return Em=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Em(t,e)};function oN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Em(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sn=function(){return sn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},sn.apply(this,arguments)};function Ks(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aN(t,e,r,n){var i=arguments.length,l=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,n);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(i<3?c(l):i>3?c(e,r,l):c(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function lN(t,e){return function(r,n){e(r,n,t)}}function cN(t,e,r,n,i,l){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=n.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?n.static?t:t.prototype:null,p=e||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),y,v=!1,S=r.length-1;S>=0;S--){var _={};for(var j in n)_[j]=j==="access"?{}:n[j];for(var j in n.access)_.access[j]=n.access[j];_.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(C||null))};var w=(0,r[S])(d==="accessor"?{get:p.get,set:p.set}:p[h],_);if(d==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(y=c(w.get))&&(p.get=y),(y=c(w.set))&&(p.set=y),(y=c(w.init))&&i.unshift(y)}else(y=c(w))&&(d==="field"?i.unshift(y):p[h]=y)}m&&Object.defineProperty(m,n.name,p),v=!0}function uN(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function dN(t){return typeof t=="symbol"?t:"".concat(t)}function fN(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function hN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ae(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(y){c(y)}}function h(p){try{m(n.throw(p))}catch(y){c(y)}}function m(p){p.done?l(p.value):i(p.value).then(d,h)}m((n=n.apply(t,e||[])).next())})}function mN(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,i,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(p){return h([m,p])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(p){m=[6,p],i=0}finally{n=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var cd=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function pN(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cd(e,t,r)}function Iu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xp(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,l=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)l.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return l}function gN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xp(arguments[e]));return t}function yN(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,i++)n[i]=l[c];return n}function eg(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,l;n<i;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}function Do(t){return this instanceof Do?(this.v=t,this):new Do(t)}function xN(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(S){return function(_){return Promise.resolve(_).then(S,y)}}function d(S,_){n[S]&&(i[S]=function(j){return new Promise(function(w,C){l.push([S,j,w,C])>1||h(S,j)})},_&&(i[S]=_(i[S])))}function h(S,_){try{m(n[S](_))}catch(j){v(l[0][3],j)}}function m(S){S.value instanceof Do?Promise.resolve(S.value.v).then(p,y):v(l[0][2],S)}function p(S){h("next",S)}function y(S){h("throw",S)}function v(S,_){S(_),l.shift(),l.length&&h(l[0][0],l[0][1])}}function vN(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,l){e[i]=t[i]?function(c){return(r=!r)?{value:Do(t[i](c)),done:!1}:l?l(c):c}:l}}function bN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Iu=="function"?Iu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),i(d,h,c.done,c.value)})}}function i(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}function wN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var UI=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Tm=function(t){return Tm=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Tm(t)};function jN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Tm(t),n=0;n<r.length;n++)r[n]!=="default"&&cd(e,t,r[n]);return UI(e,t),e}function SN(t){return t&&t.__esModule?t:{default:t}}function NN(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function _N(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function kN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function CN(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var $I=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function EN(t){function e(l){t.error=t.hasError?new $I(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(i,function(c){return e(c),i()})}else n|=1}catch(c){e(c)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function TN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,l,c){return n?e?".jsx":".js":i&&(!l||!c)?r:i+l+"."+c.toLowerCase()+"js"}):t}const BI={__extends:oN,__assign:sn,__rest:Ks,__decorate:aN,__param:lN,__esDecorate:cN,__runInitializers:uN,__propKey:dN,__setFunctionName:fN,__metadata:hN,__awaiter:Ae,__generator:mN,__createBinding:cd,__exportStar:pN,__values:Iu,__read:Xp,__spread:gN,__spreadArrays:yN,__spreadArray:eg,__await:Do,__asyncGenerator:xN,__asyncDelegator:vN,__asyncValues:bN,__makeTemplateObject:wN,__importStar:jN,__importDefault:SN,__classPrivateFieldGet:NN,__classPrivateFieldSet:_N,__classPrivateFieldIn:kN,__addDisposableResource:CN,__disposeResources:EN,__rewriteRelativeImportExtension:TN},zI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CN,get __assign(){return sn},__asyncDelegator:vN,__asyncGenerator:xN,__asyncValues:bN,__await:Do,__awaiter:Ae,__classPrivateFieldGet:NN,__classPrivateFieldIn:kN,__classPrivateFieldSet:_N,__createBinding:cd,__decorate:aN,__disposeResources:EN,__esDecorate:cN,__exportStar:pN,__extends:oN,__generator:mN,__importDefault:SN,__importStar:jN,__makeTemplateObject:wN,__metadata:hN,__param:lN,__propKey:dN,__read:Xp,__rest:Ks,__rewriteRelativeImportExtension:TN,__runInitializers:uN,__setFunctionName:fN,__spread:gN,__spreadArray:eg,__spreadArrays:yN,__values:Iu,default:BI},Symbol.toStringTag,{value:"Module"})),qI="modulepreload",WI=function(t){return"/"+t},iw={},Ko=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=m(r.map(p=>{if(p=WI(p),p in iw)return;iw[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":qI,y||(S.as="script"),S.crossOrigin="",S.href=p,h&&S.setAttribute("nonce",h),document.head.appendChild(S),y)return new Promise((_,j)=>{S.addEventListener("load",_),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return i.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},KI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class tg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ow extends tg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aw extends tg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lw extends tg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pm||(Pm={}));class HI{constructor(e,{headers:r={},customFetch:n,region:i=Pm.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=KI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ae(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:l,method:c,body:d,signal:h}=n;let m={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let v;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(m["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(m["Content-Type"]="application/json",v=JSON.stringify(d)):v=d;const S=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:v,signal:h}).catch(C=>{throw C.name==="AbortError"?C:new ow(C)}),_=S.headers.get("x-relay-error");if(_&&_==="true")throw new aw(S);if(!S.ok)throw new lw(S);let j=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return j==="application/json"?w=yield S.json():j==="application/octet-stream"||j==="application/pdf"?w=yield S.blob():j==="text/event-stream"?w=S:j==="multipart/form-data"?w=yield S.formData():w=yield S.text(),{data:w,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new ow(l)}:{data:null,error:l,response:l instanceof lw||l instanceof aw?l.context:void 0}}})}}var pr={};const Ho=b0(zI);var Xc={},eu={},tu={},ru={},nu={},GI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mo=GI();const QI=Mo.fetch,PN=Mo.fetch.bind(Mo),AN=Mo.Headers,ZI=Mo.Request,JI=Mo.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:AN,Request:ZI,Response:JI,default:PN,fetch:QI},Symbol.toStringTag,{value:"Module"})),YI=b0(Ai);var su={},cw;function RN(){if(cw)return su;cw=1,Object.defineProperty(su,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return su.default=t,su}var uw;function ON(){if(uw)return nu;uw=1,Object.defineProperty(nu,"__esModule",{value:!0});const t=Ho,e=t.__importDefault(YI),r=t.__importDefault(RN());class n{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,v,S;let _=null,j=null,w=null,C=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const F=await m.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=F:j=JSON.parse(F))}const A=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),L=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&L&&L.length>1&&(w=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,w=null,C=406,k="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const A=await m.text();try{_=JSON.parse(A),Array.isArray(_)&&m.status===404&&(j=[],_=null,C=200,k="OK")}catch{m.status===404&&A===""?(C=204,k="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((S=_?.details)===null||S===void 0)&&S.includes("0 rows"))&&(_=null,C=200,k="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:j,count:w,status:C,statusText:k}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,v;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return nu.default=n,nu}var dw;function IN(){if(dw)return ru;dw=1,Object.defineProperty(ru,"__esModule",{value:!0});const e=Ho.__importDefault(ON());class r extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const y=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ru.default=r,ru}var fw;function rg(){if(fw)return tu;fw=1,Object.defineProperty(tu,"__esModule",{value:!0});const e=Ho.__importDefault(IN()),r=new RegExp("[,()]");class n extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return tu.default=n,tu}var hw;function LN(){if(hw)return eu;hw=1,Object.defineProperty(eu,"__esModule",{value:!0});const e=Ho.__importDefault(rg());class r{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let m=!1;const p=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((v,S)=>v.concat(Object.keys(S)),[]);if(y.length>0){const v=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return eu.default=r,eu}var mw;function XI(){if(mw)return Xc;mw=1,Object.defineProperty(Xc,"__esModule",{value:!0});const t=Ho,e=t.__importDefault(LN()),r=t.__importDefault(rg());class n{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new n(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var p;let y;const v=new URL(`${this.url}/rpc/${l}`);let S;d||h?(y=d?"HEAD":"GET",Object.entries(c).filter(([j,w])=>w!==void 0).map(([j,w])=>[j,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([j,w])=>{v.searchParams.append(j,w)})):(y="POST",S=c);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:y,url:v,headers:_,schema:this.schemaName,body:S,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Xc.default=n,Xc}var pw;function eL(){if(pw)return pr;pw=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.PostgrestError=pr.PostgrestBuilder=pr.PostgrestTransformBuilder=pr.PostgrestFilterBuilder=pr.PostgrestQueryBuilder=pr.PostgrestClient=void 0;const t=Ho,e=t.__importDefault(XI());pr.PostgrestClient=e.default;const r=t.__importDefault(LN());pr.PostgrestQueryBuilder=r.default;const n=t.__importDefault(rg());pr.PostgrestFilterBuilder=n.default;const i=t.__importDefault(IN());pr.PostgrestTransformBuilder=i.default;const l=t.__importDefault(ON());pr.PostgrestBuilder=l.default;const c=t.__importDefault(RN());return pr.PostgrestError=c.default,pr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},pr}var DN=eL();const MN=Xm(DN),tL=v0({__proto__:null,default:MN},[DN]),{PostgrestClient:rL,PostgrestQueryBuilder:jB,PostgrestFilterBuilder:SB,PostgrestTransformBuilder:NB,PostgrestBuilder:_B,PostgrestError:kB}=MN||tL;class nL{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sL="2.78.0",iL=`realtime-js/${sL}`,oL="1.0.0",Am=1e4,aL=1e3,lL=100;var Ka;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ka||(Ka={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bn||(bn={}));var Rm;(function(t){t.websocket="websocket"})(Rm||(Rm={}));var yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yi||(yi={}));class cL{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class FN{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(vt||(vt={}));const gw=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=uL(c,t,e,i),l),{}):{}},uL=(t,e,r,n)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!n.includes(l)?VN(l,c):Om(c)},VN=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mL(e,r)}switch(t){case vt.bool:return dL(e);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return fL(e);case vt.json:case vt.jsonb:return hL(e);case vt.timestamp:return pL(e);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return Om(e);default:return Om(e)}},Om=t=>t,dL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mL=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>VN(e,d))}return t},pL=t=>typeof t=="string"?t.replace(" ","T"):t,UN=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ah{constructor(e,r,n={},i=Am){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yw||(yw={}));class Ha{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ha.syncState(this.state,i,l,c),this.pendingDiffs.forEach(h=>{this.state=Ha.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ha.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,p)=>{c[m]||(h[m]=p)}),this.map(c,(m,p)=>{const y=l[m];if(y){const v=p.map(w=>w.presence_ref),S=y.map(w=>w.presence_ref),_=p.filter(w=>S.indexOf(w.presence_ref)<0),j=y.filter(w=>v.indexOf(w.presence_ref)<0);_.length>0&&(d[m]=_),j.length>0&&(h[m]=j)}else d[m]=p}),this.syncDiff(l,{joins:d,leaves:h},n,i)}static syncDiff(e,r,n,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const p=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),p.length>0){const y=e[d].map(S=>S.presence_ref),v=p.filter(S=>y.indexOf(S.presence_ref)<0);e[d].unshift(...v)}n(d,p,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const p=h.map(y=>y.presence_ref);m=m.filter(y=>p.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xw||(xw={}));var Ga;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ga||(Ga={}));var es;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class ng{constructor(e,r={config:{}},n){var i,l;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ah(this,bn.join,this.params,this.timeout),this.rejoinTimer=new FN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Ha(this),this.broadcastEndpointURL=UN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(S=>S.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Ga.PRESENCE]&&this.bindings[Ga.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},v={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(es.CHANNEL_ERROR,S)),this._onClose(()=>e?.(es.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var _;if(this.socket.setAuth(),S===void 0){e?.(es.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,w=(_=j?.length)!==null&&_!==void 0?_:0,C=[];for(let k=0;k<w;k++){const E=j[k],{filter:{event:A,schema:L,table:F,filter:G}}=E,J=S&&S[k];if(J&&J.event===A&&J.schema===L&&J.table===F&&J.filter===G)C.push(Object.assign(Object.assign({},E),{id:J.id}));else{this.unsubscribe(),this.state=Jt.errored,e?.(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(es.SUBSCRIBED);return}}).receive("error",S=>{this.state=Jt.errored,e?.(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Jt.joined&&e===Ga.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ah(this,bn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ah(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=bn;if(n&&[d,h,m,p].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(S=>{var _,j,w;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(j=S.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(S=>S.callback(v,n)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var _,j,w,C,k,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const A=S.id,L=(_=S.filter)===null||_===void 0?void 0:_.event;return A&&((j=r.ids)===null||j===void 0?void 0:j.includes(A))&&(L==="*"||L?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(k=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return A==="*"||A===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:j,table:w,commit_timestamp:C,type:k,errors:E}=_;v=Object.assign(Object.assign({},{schema:j,table:w,commit_timestamp:C,eventType:k,new:{},old:{},errors:E}),this._getPayloadRecords(_))}S.callback(v,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&ng.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bn.close,{},e)}_onError(e){this._on(bn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gw(e.columns,e.old_record)),r}}const Rh=()=>{},iu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gL=[1e3,2e3,5e3,1e4],yL=1e4,xL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Am,this.transport=null,this.heartbeatIntervalMs=iu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rh,this.ref=0,this.reconnectTimer=null,this.logger=Rh,this.conn=null,this.sendBuffer=[],this.serializer=new cL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...c)=>Ko(async()=>{const{default:d}=await Promise.resolve().then(()=>Ai);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Rm.websocket}`,this.httpEndpoint=UN(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oL}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ka.connecting:return yi.Connecting;case Ka.open:return yi.Open;case Ka.closing:return yi.Closing;default:return yi.Closed}}isConnected(){return this.connectionState()===yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new ng(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(aL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},iu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([xL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:iL};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new FN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},iu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,l,c,d,h,m,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Am,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:iu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Rh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>gL[y-1]||yL),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((y,v)=>v(JSON.stringify(y))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class sg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bL extends sg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Im extends sg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const ig=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wL=()=>Ae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ko(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response}),Lm=t=>{if(Array.isArray(t))return t.map(r=>Lm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Lm(n)}),e},jL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Oh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SL=(t,e,r)=>Ae(void 0,void 0,void 0,function*(){const n=yield wL();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,c=i?.statusCode||l+"";e(new bL(Oh(i),l,c))}).catch(i=>{e(new Im(Oh(i),i))}):e(new Im(Oh(t),t))}),NL=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(jL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ol(t,e,r,n,i,l){return Ae(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,NL(e,n,i,l)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>SL(h,d,n))})})}function ol(t,e,r,n){return Ae(this,void 0,void 0,function*(){return Ol(t,"GET",e,r,n)})}function xn(t,e,r,n,i){return Ae(this,void 0,void 0,function*(){return Ol(t,"POST",e,n,i,r)})}function Dm(t,e,r,n,i){return Ae(this,void 0,void 0,function*(){return Ol(t,"PUT",e,n,i,r)})}function _L(t,e,r,n){return Ae(this,void 0,void 0,function*(){return Ol(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function og(t,e,r,n,i){return Ae(this,void 0,void 0,function*(){return Ol(t,"DELETE",e,n,i,r)})}class kL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pt(e))return{data:null,error:e};throw e}})}}var $N;class CL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[$N]="BlobDownloadBuilder",this.promise=null}asStream(){return new kL(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pt(e))return{data:null,error:e};throw e}})}}$N=Symbol.toStringTag;const EL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TL{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=ig(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Ae(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},vw),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),y=yield(e=="PUT"?Dm:xn)(this.fetch,`${this.url}/object/${p}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pt(l))return{data:null,error:l};throw l}})}upload(e,r,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ae(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:vw.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const y=yield Dm(this.fetch,d.toString(),h,{headers:p});return{data:{path:l,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Pt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield xn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new sg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ae(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield xn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ae(this,void 0,void 0,function*(){try{const i=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>ol(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new CL(h,this.shouldThrowOnError)}info(e){return Ae(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ol(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}exists(e){return Ae(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield _L(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n)&&n instanceof Im){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ae(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EL),r),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Ae(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const BN="2.78.0",zN={"X-Client-Info":`storage-js/${BN}`};class PL{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zN),r),this.fetch=ig(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ae(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ol(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}getBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}createBucket(e){return Ae(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class AL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zN),r),this.fetch=ig(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ae(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ol(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}}const ag={"X-Client-Info":`storage-js/${BN}`,"Content-Type":"application/json"};class qN extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $r(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ih extends qN{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RL extends qN{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var bw;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bw||(bw={}));const lg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},OL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ww=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IL=(t,e,r)=>Ae(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new Ih(ww(c),i,d))}).catch(()=>{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Ih(d,i,c))});else{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Ih(d,i,c))}}else e(new RL(ww(t),t))}),LL=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(OL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function DL(t,e,r,n,i,l){return Ae(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,LL(e,n,i,l)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>IL(h,d,n))})})}function Br(t,e,r,n,i){return Ae(this,void 0,void 0,function*(){return DL(t,"POST",e,n,i,r)})}class ML{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ag),r),this.fetch=lg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ae(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ae(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}}class FL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ag),r),this.fetch=lg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}getVectors(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}listVectors(e){return Ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Br(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}}class VL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ag),r),this.fetch=lg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}getBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}listBuckets(){return Ae(this,arguments,void 0,function*(e={}){try{return{data:yield Br(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ae(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}}class UL extends VL{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new $L(this.url,this.headers,e,this.fetch)}}class $L extends ML{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ae(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ae(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ae(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ae(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new BL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class BL extends FL{constructor(e,r,n,i,l){super(e,r,l),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ae(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ae(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ae(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ae(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ae(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zL extends PL{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new TL(this.url,this.headers,e,this.fetch)}get vectors(){return new UL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AL(this.url+"/iceberg",this.headers,this.fetch)}}const qL="2.78.0";let Ua="";typeof Deno<"u"?Ua="deno":typeof document<"u"?Ua="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ua="react-native":Ua="node";const WL={"X-Client-Info":`supabase-js-${Ua}/${qL}`},KL={headers:WL},HL={schema:"public"},GL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QL={},ZL=t=>{let e;return t?e=t:typeof fetch>"u"?e=PN:e=fetch,(...r)=>e(...r)},JL=()=>typeof Headers>"u"?AN:Headers,YL=(t,e,r)=>{const n=ZL(r),i=JL();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,Object.assign(Object.assign({},c),{headers:m}))}};function XL(t){return t.endsWith("/")?t:t+"/"}function eD(t,e){var r,n;const{db:i,auth:l,realtime:c,global:d}=t,{db:h,auth:m,realtime:p,global:y}=e,v={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function tD(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const WN="2.78.0",ho=30*1e3,Mm=3,Lh=Mm*ho,rD="http://localhost:9999",nD="supabase.auth.token",sD={"X-Client-Info":`gotrue-js/${WN}`},Fm="X-Supabase-Api-Version",KN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oD=600*1e3;class al extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aD extends al{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function lD(t){return Me(t)&&t.name==="AuthApiError"}class xi extends al{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Hs extends al{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class pn extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cD(t){return Me(t)&&t.name==="AuthSessionMissingError"}class to extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ou extends Hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class au extends Hs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uD(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}class jw extends Hs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vm extends Hs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Dh(t){return Me(t)&&t.name==="AuthRetryableFetchError"}class Sw extends Hs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Um extends Hs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nw=` 	
\r=`.split(""),dD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Nw.length;e+=1)t[Nw[e].charCodeAt(0)]=-2;for(let e=0;e<Lu.length;e+=1)t[Lu[e].charCodeAt(0)]=e;return t})();function _w(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lu[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lu[n]),e.queuedBits-=6}}function HN(t,e,r){const n=dD[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kw(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{mD(c,n,r)};for(let c=0;c<t.length;c+=1)HN(t.charCodeAt(c),i,l);return e.join("")}function fD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hD(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}fD(n,e)}}function mD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function No(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)HN(t.charCodeAt(i),r,n);return new Uint8Array(e)}function pD(t){const e=[];return hD(t,r=>e.push(r)),new Uint8Array(e)}function bi(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>_w(i,r,n)),_w(null,r,n),e.join("")}function gD(t){return Math.round(Date.now()/1e3)+t}function yD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const jr=()=>typeof window<"u"&&typeof document<"u",di={tested:!1,writable:!1},GN=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(di.tested)return di.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),di.tested=!0,di.writable=!0}catch{di.tested=!0,di.writable=!1}return di.writable};function xD(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const QN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},vD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Os=async(t,e)=>{await t.removeItem(e)};class ud{constructor(){this.promise=new ud.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ud.promiseConstructor=Promise;function Mh(t){const e=t.split(".");if(e.length!==3)throw new Um("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iD.test(e[n]))throw new Um("JWT not in base64url format");return{header:JSON.parse(kw(e[0])),payload:JSON.parse(kw(e[1])),signature:No(e[2]),raw:{header:e[0],payload:e[1]}}}async function bD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wD(t,e){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){n(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function jD(t){return("0"+t.toString(16)).substr(-2)}function SD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,jD).join("")}async function ND(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function _D(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ND(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(t,e,r=!1){const n=SD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await mo(t,`${e}-code-verifier`,i);const l=await _D(n);return[l,n===l?"plain":"s256"]}const kD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CD(t){const e=t.headers.get(Fm);if(!e||!e.match(kD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ED(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function no(t){if(!PD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AD(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Cw(t){return JSON.parse(JSON.stringify(t))}const gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RD=[502,503,504];async function Ew(t){var e;if(!vD(t))throw new Vm(gi(t),0);if(RD.includes(t.status))throw new Vm(gi(t),t.status);let r;try{r=await t.json()}catch(l){throw new xi(gi(l),l)}let n;const i=CD(t);if(i&&i.getTime()>=KN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sw(gi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new pn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Sw(gi(r),t.status,r.weak_password.reasons);throw new aD(gi(r),t.status||500,n)}const OD=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ke(t,e,r,n){var i;const l=Object.assign({},n?.headers);l[Fm]||(l[Fm]=KN["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await ID(t,e,r+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function ID(t,e,r,n,i,l){const c=OD(e,n,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new Vm(gi(h),0)}if(d.ok||await Ew(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await Ew(h)}}function gn(t){var e;let r=null;MD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=gD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Tw(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ds(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LD(t){return{data:t,error:null}}function DD(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l}=t,c=Ks(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Pw(t){return t}function MD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vh=["global","local","others"];class FD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=QN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Vh[0]){if(Vh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vh.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ds})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ks(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DD,redirectTo:r?.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ds})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Pw});if(p.error)throw p.error;const y=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Me(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){no(e);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ds})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){no(e);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ds})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){no(e);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ds})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){no(e.userId);try{const{data:r,error:n}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){no(e.userId),no(e.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Pw});if(p.error)throw p.error;const y=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);m[`${w}Page`]=j}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Me(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function Aw(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const so={debug:!!(globalThis&&GN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VD extends ZN{}async function UD(t,e,r){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(so.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $D(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JN(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BD(t){return parseInt(t,16)}function zD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function qD(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:p,uri:y,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=JN(t.address),_=p?`${p}://${n}`:n,j=t.statement?`${t.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${S}

${j}`;let C=`URI: ${y}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let k=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);k+=`
- ${E}`}C+=k}return`${w}
${C}`}class Wt extends Error{constructor({message:e,code:r,cause:n,name:i}){var l;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=i??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Du extends Wt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function WD({error:t,options:e}){var r,n,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(YN(c)){if(l.rp.id!==c)return new Wt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KD({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(YN(n)){if(r.rpId!==n)return new Wt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class HD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const GD=new HD;function QD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Ks(t,["challenge","user","excludeCredentials"]),l=No(e).buffer,c=Object.assign(Object.assign({},r),{id:No(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:No(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function ZD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ks(t,["challenge","allowCredentials"]),i=No(e).buffer,l=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:No(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function JD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:bi(new Uint8Array(t.response.attestationObject)),clientDataJSON:bi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function YD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bi(new Uint8Array(i.authenticatorData)),clientDataJSON:bi(new Uint8Array(i.clientDataJSON)),signature:bi(new Uint8Array(i.signature)),userHandle:i.userHandle?bi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function YN(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rw(){var t,e;return!!(jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function XD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Du("Browser returned unexpected credential type",e)}:{data:null,error:new Du("Empty credential response",e)}}catch(e){return{data:null,error:WD({error:e,options:t})}}}async function e4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Du("Browser returned unexpected credential type",e)}:{data:null,error:new Du("Empty credential response",e)}}catch(e){return{data:null,error:KD({error:e,options:t})}}}const t4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},r4={userVerification:"preferred",hints:["security-key"]};function Mu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(e(c)){const d=n[l];e(d)?n[l]=Mu(d,c):n[l]=Mu(c)}else n[l]=c}return n}function n4(t,e){return Mu(t4,t,e||{})}function s4(t,e){return Mu(r4,t,e||{})}class i4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const h=i??GD.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=n4(c.webauthn.credential_options.publicKey,l?.create),{data:p,error:y}=await XD({publicKey:m,signal:h});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const m=s4(c.webauthn.credential_options.publicKey,l?.request),{data:p,error:y}=await e4(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(c){return Me(c)?{data:null,error:c}:{data:null,error:new xi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},l){if(!r)return{data:null,error:new al("rpId is required for WebAuthn authentication")};try{if(!Rw())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return Me(c)?{data:null,error:c}:{data:null,error:new xi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},l){if(!r)return{data:null,error:new al("rpId is required for WebAuthn registration")};try{if(!Rw())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Me(c)?{data:null,error:c}:{data:null,error:new xi("Unexpected error in register",c)}}}}$D();const o4={url:rD,storageKey:nD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ow(t,e,r){return await r()}const io={};class ll{get jwks(){var e,r;return(r=(e=io[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=io[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ll.nextInstanceID,ll.nextInstanceID+=1,this.instanceID>0&&jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},o4),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=QN(i.fetch),this.lock=i.lock||Ow,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:jr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=UD:this.lock=Ow,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new i4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:GN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Aw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Aw(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=xD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),jr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),uD(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?{error:r}:{error:new xi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const l=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:gn}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,n,i;try{let l;if("email"in e){const{email:p,password:y,options:v}=e;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await ro(this.storage,this.storageKey)),l=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:y,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:S,code_challenge_method:_},xform:gn})}else if("phone"in e){const{phone:p,password:y,options:v}=e;l=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:gn})}else throw new ou("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Tw})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Tw})}else throw new ou("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new to}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,l,c,d,h,m,p,y,v;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:j,wallet:w,statement:C,options:k}=e;let E;if(jr())if(typeof w=="object")E=w;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")E=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const A=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),L=await E.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=JN(L[0]);let G=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!G){const O=await E.request({method:"eth_chainId"});G=BD(O)}const J={domain:A.host,address:F,statement:C,uri:A.href,version:"1",chainId:G,nonce:(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.resources};S=qD(J),_=await E.request({method:"personal_sign",params:[zD(S),F]})}try{const{data:j,error:w}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gn});if(w)throw w;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new to}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:w})}catch(j){if(Me(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var r,n,i,l,c,d,h,m,p,y,v,S;let _,j;if("message"in e)_=e.message,j=e.signature;else{const{chain:w,wallet:C,statement:k,options:E}=e;let A;if(jr())if(typeof C=="object")A=C;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))A=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const L=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const F=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),k?{statement:k}:null));let G;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")G=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)G=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)_=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),j=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const F=await A.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=F}}try{const{data:w,error:C}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:bi(j)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:gn});if(C)throw C;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new to}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:C})}catch(w){if(Me(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await fi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:l,error:c}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gn});if(await Os(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new to}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(Me(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:l,nonce:c}=e,d=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new to}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ro(this.storage,this.storageKey));const{error:y}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:p}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new ou("You must provide either an email or phone number.")}catch(d){if(Me(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,n;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:gn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await ro(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:LD})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new pn;const{error:i}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:l}=e,{error:c}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:i,options:l}=e,{data:c,error:d}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new ou("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Lh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await fi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Fh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=AD(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ds}):await this._useSession(async r=>{var n,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Ds})})}catch(r){if(Me(r))return cD(r)&&(await this._removeSession(),await Os(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new pn;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ro(this.storage,this.storageKey));const{data:m,error:p}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Ds});if(p)throw p;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const r=Date.now()/1e3;let n=r,i=!0,l=null;const{payload:c}=Mh(e.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new pn;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!jr())throw new au("No browser detected.");if(e.error||e.error_description||e.error_code)throw new au(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jw("No code detected.");const{data:k,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new au("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(d);let v=p+y;h&&(v=parseInt(h));const S=v-p;S*1e3<=ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const _=v-y;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,p);const{data:j,error:w}=await this._getUser(l);if(w)throw w;const C={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{error:l};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(lD(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Os(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=yD(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ro(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async l=>{var c,d,h,m,p;const{data:y,error:v}=l;if(v)throw v;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",S,{headers:this.headers,jwt:(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return jr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:h,access_token:m,nonce:p}=e,y=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:h,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:gn}),{data:v,error:S}=y;return S?{data:{user:null,session:null},error:S}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new to}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:S})}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:c}=r;if(c)throw c;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wD(async i=>(i>0&&await bD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Dh(l)&&Date.now()+c-n<ho})}catch(n){if(this._debug(r,"error",n),Me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await fi(this.storage,this.storageKey);if(i&&this.userStorage){let c=await fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await mo(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Fh()}else if(i&&!i.user&&!i.user){const c=await fi(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Os(this.storage,this.storageKey+"-user"),await mo(this.storage,this.storageKey,i)):i.user=Fh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lh;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Lh}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Dh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ud;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new pn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),Me(l)){const c={data:null,error:l};return Dh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=Cw(i);await mo(this.storage,this.storageKey,l)}else{const i=Cw(r);await mo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Os(this.storage,this.storageKey),await Os(this.storage,this.storageKey+"-code-verifier"),await Os(this.storage,this.storageKey+"-user"),this.userStorage&&await Os(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ho);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ho}ms, refresh threshold is ${Mm} ticks`),i<=Mm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ZN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await ro(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?{data:null,error:l}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:l,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JD(e.webauthn.credential_response):YD(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{data:null,error:l};const c=await Ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:QD(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ZD(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Mh(n.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await Ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new pn}})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return{data:null,error:l};if(!i)return{data:null,error:new pn};const c=await Ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&jr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return{data:null,error:l};if(!i)return{data:null,error:new pn};const c=await Ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&jr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+oD>i)return n;const{data:l,error:c}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:S,error:_}=await this.getSession();if(_||!S.session)return{data:null,error:_};n=S.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:h}}=Mh(n);r?.allowExpired||ED(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(n);if(S)throw S;return{data:{claims:l,header:i,signature:c},error:null}}const p=TD(i.alg),y=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,c,pD(`${d}.${h}`)))throw new Um("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}ll.nextInstanceID=0;const a4=ll;class l4 extends a4{constructor(e){super(e)}}class c4{constructor(e,r,n){var i,l,c;this.supabaseUrl=e,this.supabaseKey=r;const d=tD(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:HL,realtime:QL,auth:Object.assign(Object.assign({},GL),{storageKey:h}),global:KL},p=eD(n??{},m);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=YL(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new rL(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new zL(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new HI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:l,storageKey:c,flowType:d,lock:h,debug:m},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l4({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:l,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u4=(t,e,r)=>new c4(t,e,r);function d4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}d4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f4="https://irugmulvyqbhajkfrpmg.supabase.co",h4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlydWdtdWx2eXFiaGFqa2ZycG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzODU1NDAsImV4cCI6MjA3Njk2MTU0MH0.PufMRgRQ__c5zxCzhO3n90laj1sY7HSTIIfLOzTh-hE",Be=u4(f4,h4,{auth:{persistSession:!1,autoRefreshToken:!1}}),XN=b.createContext(void 0);function m4({children:t}){const[e,r]=b.useState(null),[n,i]=b.useState(!0);b.useEffect(()=>{let c=!0;async function d(){const{data:m}=await Be.auth.getSession();c&&(r(m.session?.user??null),i(!1))}d();const{data:h}=Be.auth.onAuthStateChange((m,p)=>{r(p?.user??null)});return()=>{try{h?.subscription?.unsubscribe?.(),h?.unsubscribe?.()}catch{}c=!1}},[]);const l=async()=>{await Be.auth.signOut()};return o.jsx(XN.Provider,{value:{user:e,loading:n,signOut:l},children:t})}function cr(){const t=b.useContext(XN);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function p4(){const[t,e]=b.useState(!1),r=[{href:"/",label:"Home"},{href:"/labs",label:"Labs"},{href:"/pricing",label:"Pricing"},{href:"/contact",label:"Contact"}],n=()=>e(d=>!d),i=()=>e(!1),{user:l,signOut:c}=cr();return o.jsxs(Ge.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-sm border-b",children:[o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(pe,{href:"/",children:o.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-12 w-auto"})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs("button",{type:"button",onClick:n,className:"inline-flex h-10 w-10 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","aria-expanded":t,"aria-controls":"mobile-nav",children:[o.jsx("span",{className:"sr-only",children:"Toggle navigation menu"}),o.jsxs("div",{className:"flex flex-col items-center justify-center gap-1.5",children:[o.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),o.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"}),o.jsx("span",{className:"block h-0.5 w-6 rounded bg-current"})]})]})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[r.map(d=>o.jsx(pe,{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.href)),l?o.jsxs(o.Fragment,{children:[o.jsx(pe,{href:"/account",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"My profile"}),o.jsx("button",{onClick:()=>c(),className:"inline-flex items-center rounded-full border px-4 py-2 text-sm font-semibold text-muted-foreground transition hover:border-primary hover:text-primary",children:"Sign out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(pe,{href:"/login",className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Sign in"}),o.jsx(pe,{href:"/signup",className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90",children:"Create account"})]})]})]})}),o.jsx(y2,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",onClick:i},"overlay"),o.jsxs(Ge.aside,{id:"mobile-nav",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed top-0 right-0 z-50 flex h-screen w-64 flex-col bg-background shadow-lg md:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[o.jsx(pe,{href:"/",onClick:i,children:o.jsx("img",{src:"/GlassLogo5.png",alt:"Glass",className:"h-10 w-auto"})}),o.jsxs("button",{type:"button",onClick:i,className:"inline-flex h-9 w-9 items-center justify-center rounded-md border text-muted-foreground transition hover:border-primary/40 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[o.jsx("span",{className:"sr-only",children:"Close navigation menu"}),o.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:o.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]})]}),o.jsxs("nav",{className:"flex flex-1 flex-col gap-2 px-4 py-6",children:[[...r,...l?[{href:"/account",label:"My profile"}]:[{href:"/login",label:"Sign in"},{href:"/signup",label:"Create account"}]].map(d=>o.jsx(pe,{href:d.href,onClick:i,className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:d.label},d.href)),l&&o.jsx("button",{onClick:()=>{c(),i()},className:"rounded-md px-3 py-2 text-lg font-medium text-muted-foreground transition hover:bg-muted hover:text-primary text-left",children:"Sign out"})]})]},"panel")]})})]})}const g4=hp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_o=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},l)=>{const c=n?B0:"button";return o.jsx(c,{className:dt(g4({variant:e,size:r,className:t})),ref:l,...i})});_o.displayName="Button";function y4(){const t=()=>{const e=document.querySelector("#about-section");e&&e.scrollIntoView({behavior:"smooth"})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center px-4 py-20",children:[o.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-gradient-to-br from-blue-400 to-pink-400"}),o.jsx("div",{className:"container mx-auto relative z-10",children:o.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-pink-600",children:"Infrastructure for scientific collaboration."}),o.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-12",children:"GLASS-Connect gives labs a standard profile, trusted verification, and direct routing so innovation moves faster."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsx(_o,{size:"lg",className:"text-lg px-8",asChild:!0,children:o.jsx(pe,{href:"/admin/labs",children:"List your lab"})}),o.jsx(_o,{size:"lg",variant:"outline",className:"text-lg px-8",asChild:!0,children:o.jsx(pe,{href:"/labs",children:"Browse labs"})}),o.jsx(_o,{size:"lg",variant:"outline",className:"text-lg px-8 bg-pink-500 text-white border-none hover:bg-pink-500/90",onClick:t,children:"How it works"})]})]})})]})}const e_=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:dt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));e_.displayName="Card";const x4=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));x4.displayName="CardHeader";const v4=b.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));v4.displayName="CardTitle";const b4=b.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));b4.displayName="CardDescription";const t_=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:dt("p-6 pt-0",t),...e}));t_.displayName="CardContent";const w4=b.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:dt("flex items-center p-6 pt-0",t),...e}));w4.displayName="CardFooter";function j4(){return o.jsx("section",{id:"about-section",className:"py-20 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"About GLASS-Connect"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"GLASS-Connect is the structured directory for research labs. We standardise how teams present capabilities, verify key details once, and route collaboration requests to real humans without endless back-and-forth."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:[{icon:o.jsx(oP,{className:"h-10 w-10 text-primary"}),title:"Trusted details",description:"Light remote/on-site verification so partners know the information and equipment are current."},{icon:o.jsx(PP,{className:"h-10 w-10 text-primary"}),title:"Structured profiles",description:"Clear capabilities, equipment, and collaboration preferences in a consistent, comparable format."},{icon:o.jsx(vP,{className:"h-10 w-10 text-primary"}),title:"Fast routing",description:"Qualified requests go straight to the right contact so labs spend more time collaborating."}].map((t,e)=>o.jsx(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.2},children:o.jsx(e_,{children:o.jsxs(t_,{className:"pt-6 text-center",children:[o.jsx("div",{className:"mb-4 flex justify-center",children:t.icon}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),o.jsx("p",{className:"text-muted-foreground",children:t.description})]})})},e))})]})})}var Il=t=>t.type==="checkbox",wi=t=>t instanceof Date,Sr=t=>t==null;const r_=t=>typeof t=="object";var Ht=t=>!Sr(t)&&!Array.isArray(t)&&r_(t)&&!wi(t),n_=t=>Ht(t)&&t.target?Il(t.target)?t.target.checked:t.target.value:t,S4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,s_=(t,e)=>t.has(S4(e)),N4=t=>{const e=t.constructor&&t.constructor.prototype;return Ht(e)&&e.hasOwnProperty("isPrototypeOf")},cg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(cg&&(t instanceof Blob||n))&&(r||Ht(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!N4(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Yt(t[i]));else return t;return e}var dd=t=>/^\w*$/.test(t),Bt=t=>t===void 0,ug=t=>Array.isArray(t)?t.filter(Boolean):[],dg=t=>ug(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(t,e,r)=>{if(!e||!Ht(t))return r;const n=(dd(e)?[e]:dg(e)).reduce((i,l)=>Sr(i)?i:i[l],t);return Bt(n)||n===t?Bt(t[e])?r:t[e]:n},Vr=t=>typeof t=="boolean",ht=(t,e,r)=>{let n=-1;const i=dd(e)?[e]:dg(e),l=i.length,c=l-1;for(;++n<l;){const d=i[n];let h=r;if(n!==c){const m=t[d];h=Ht(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Fu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fg=De.createContext(null);fg.displayName="HookFormContext";const fd=()=>De.useContext(fg),_4=t=>{const{children:e,...r}=t;return De.createElement(fg.Provider,{value:r},e)};var i_=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(i,l,{get:()=>{const c=l;return e._proxyFormState[c]!==wn.all&&(e._proxyFormState[c]=!n||wn.all),r&&(r[c]=!0),t[c]}});return i};const hg=typeof window<"u"?De.useLayoutEffect:De.useEffect;function k4(t){const e=fd(),{control:r=e.control,disabled:n,name:i,exact:l}=t||{},[c,d]=De.useState(r._formState),h=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hg(()=>r._subscribe({name:i,formState:h.current,exact:l,callback:m=>{!n&&d({...r._formState,...m})}}),[i,n,l]),De.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),De.useMemo(()=>i_(c,r,h.current,!1),[c,r])}var zr=t=>typeof t=="string",o_=(t,e,r,n,i)=>zr(t)?(n&&e.watch.add(t),ge(r,t,i)):Array.isArray(t)?t.map(l=>(n&&e.watch.add(l),ge(r,l))):(n&&(e.watchAll=!0),r),$m=t=>Sr(t)||!r_(t);function rs(t,e,r=new WeakSet){if($m(t)||$m(e))return t===e;if(wi(t)&&wi(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const l of n){const c=t[l];if(!i.includes(l))return!1;if(l!=="ref"){const d=e[l];if(wi(c)&&wi(d)||Ht(c)&&Ht(d)||Array.isArray(c)&&Array.isArray(d)?!rs(c,d,r):c!==d)return!1}}return!0}function C4(t){const e=fd(),{control:r=e.control,name:n,defaultValue:i,disabled:l,exact:c,compute:d}=t||{},h=De.useRef(i),m=De.useRef(d),p=De.useRef(void 0);m.current=d;const y=De.useMemo(()=>r._getWatch(n,h.current),[r,n]),[v,S]=De.useState(m.current?m.current(y):y);return hg(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:_=>{if(!l){const j=o_(n,r._names,_.values||r._formValues,!1,h.current);if(m.current){const w=m.current(j);rs(w,p.current)||(S(w),p.current=w)}else S(j)}}}),[r,l,n,c]),De.useEffect(()=>r._removeUnmounted()),v}function E4(t){const e=fd(),{name:r,disabled:n,control:i=e.control,shouldUnregister:l,defaultValue:c}=t,d=s_(i._names.array,r),h=De.useMemo(()=>ge(i._formValues,r,ge(i._defaultValues,r,c)),[i,r,c]),m=C4({control:i,name:r,defaultValue:h,exact:!0}),p=k4({control:i,name:r,exact:!0}),y=De.useRef(t),v=De.useRef(void 0),S=De.useRef(i.register(r,{...t.rules,value:m,...Vr(t.disabled)?{disabled:t.disabled}:{}}));y.current=t;const _=De.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ge(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!ge(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ge(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ge(p.validatingFields,r)},error:{enumerable:!0,get:()=>ge(p.errors,r)}}),[p,r]),j=De.useCallback(E=>S.current.onChange({target:{value:n_(E),name:r},type:Fu.CHANGE}),[r]),w=De.useCallback(()=>S.current.onBlur({target:{value:ge(i._formValues,r),name:r},type:Fu.BLUR}),[r,i._formValues]),C=De.useCallback(E=>{const A=ge(i._fields,r);A&&E&&(A._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:L=>E.setCustomValidity(L),reportValidity:()=>E.reportValidity()})},[i._fields,r]),k=De.useMemo(()=>({name:r,value:m,...Vr(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:j,onBlur:w,ref:C}),[r,n,p.disabled,j,w,C,m]);return De.useEffect(()=>{const E=i._options.shouldUnregister||l,A=v.current;A&&A!==r&&!d&&i.unregister(A),i.register(r,{...y.current.rules,...Vr(y.current.disabled)?{disabled:y.current.disabled}:{}});const L=(F,G)=>{const J=ge(i._fields,F);J&&J._f&&(J._f.mount=G)};if(L(r,!0),E){const F=Yt(ge(i._options.defaultValues,r));ht(i._defaultValues,r,F),Bt(ge(i._formValues,r))&&ht(i._formValues,r,F)}return!d&&i.register(r),v.current=r,()=>{(d?E&&!i._state.action:E)?i.unregister(r):L(r,!1)}},[r,i,d,l]),De.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),De.useMemo(()=>({field:k,formState:p,fieldState:_}),[k,p,_])}const T4=t=>t.render(E4(t));var a_=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Qa=t=>Array.isArray(t)?t:[t],Iw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const l of t)l.next&&l.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(l=>l!==i)}}),unsubscribe:()=>{t=[]}}};function l_(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],l=e[n];if(i&&Ht(i)&&l){const c=l_(i,l);Ht(c)&&(r[n]=c)}else t[n]&&(r[n]=l)}return r}var Rr=t=>Ht(t)&&!Object.keys(t).length,mg=t=>t.type==="file",jn=t=>typeof t=="function",Vu=t=>{if(!cg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},c_=t=>t.type==="select-multiple",pg=t=>t.type==="radio",P4=t=>pg(t)||Il(t),Uh=t=>Vu(t)&&t.isConnected;function A4(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Bt(t)?n++:t[e[n++]];return t}function R4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Bt(t[e]))return!1;return!0}function qt(t,e){const r=Array.isArray(e)?e:dd(e)?[e]:dg(e),n=r.length===1?t:A4(t,r),i=r.length-1,l=r[i];return n&&delete n[l],i!==0&&(Ht(n)&&Rr(n)||Array.isArray(n)&&R4(n))&&qt(t,r.slice(0,-1)),t}var O4=t=>{for(const e in t)if(jn(t[e]))return!0;return!1};function u_(t){return Array.isArray(t)||Ht(t)&&!O4(t)}function Bm(t,e={}){for(const r in t)u_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Bm(t[r],e[r])):Sr(t[r])||(e[r]=!0);return e}function po(t,e,r){r||(r=Bm(e));for(const n in t)u_(t[n])?Bt(e)||$m(r[n])?r[n]=Bm(t[n],Array.isArray(t[n])?[]:{}):po(t[n],Sr(e)?{}:e[n],r[n]):r[n]=!rs(t[n],e[n]);return r}const Lw={value:!1,isValid:!1},Dw={value:!0,isValid:!0};var d_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Bt(t[0].attributes.value)?Bt(t[0].value)||t[0].value===""?Dw:{value:t[0].value,isValid:!0}:Dw:Lw}return Lw},f_=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Bt(t)?t:e?t===""?NaN:t&&+t:r&&zr(t)?new Date(t):n?n(t):t;const Mw={isValid:!1,value:null};var h_=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Mw):Mw;function Fw(t){const e=t.ref;return mg(e)?e.files:pg(e)?h_(t.refs).value:c_(e)?[...e.selectedOptions].map(({value:r})=>r):Il(e)?d_(t.refs).value:f_(Bt(e.value)?t.ref.value:e.value,t)}var I4=(t,e,r,n)=>{const i={};for(const l of t){const c=ge(e,l);c&&ht(i,l,c._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Uu=t=>t instanceof RegExp,La=t=>Bt(t)?t:Uu(t)?t.source:Ht(t)?Uu(t.value)?t.value.source:t.value:t,Vw=t=>({isOnSubmit:!t||t===wn.onSubmit,isOnBlur:t===wn.onBlur,isOnChange:t===wn.onChange,isOnAll:t===wn.all,isOnTouch:t===wn.onTouched});const Uw="AsyncFunction";var L4=t=>!!t&&!!t.validate&&!!(jn(t.validate)&&t.validate.constructor.name===Uw||Ht(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Uw)),D4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),$w=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Za=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const l=ge(t,i);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],i)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(Za(d,e))break}else if(Ht(d)&&Za(d,e))break}}};function Bw(t,e,r){const n=ge(t,r);if(n||dd(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const l=i.join("."),c=ge(e,l),d=ge(t,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};i.pop()}return{name:r}}var M4=(t,e,r,n)=>{r(t);const{name:i,...l}=t;return Rr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||wn.all))},F4=(t,e,r)=>!t||!e||t===e||Qa(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),V4=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,U4=(t,e)=>!ug(ge(t,e)).length&&qt(t,e),$4=(t,e,r)=>{const n=Qa(ge(t,r));return ht(n,"root",e[r]),ht(t,r,n),t};function zw(t,e,r="validate"){if(zr(t)||Array.isArray(t)&&t.every(zr)||Vr(t)&&!t)return{type:r,message:zr(t)?t:"",ref:e}}var oo=t=>Ht(t)&&!Uu(t)?t:{value:t,message:""},qw=async(t,e,r,n,i,l)=>{const{ref:c,refs:d,required:h,maxLength:m,minLength:p,min:y,max:v,pattern:S,validate:_,name:j,valueAsNumber:w,mount:C}=t._f,k=ge(r,j);if(!C||e.has(j))return{};const E=d?d[0]:c,A=K=>{i&&E.reportValidity&&(E.setCustomValidity(Vr(K)?"":K||""),E.reportValidity())},L={},F=pg(c),G=Il(c),J=F||G,O=(w||mg(c))&&Bt(c.value)&&Bt(k)||Vu(c)&&c.value===""||k===""||Array.isArray(k)&&!k.length,Q=a_.bind(null,j,n,L),q=(K,Y,Z,me=Yn.maxLength,ye=Yn.minLength)=>{const re=K?Y:Z;L[j]={type:K?me:ye,message:re,ref:c,...Q(K?me:ye,re)}};if(l?!Array.isArray(k)||!k.length:h&&(!J&&(O||Sr(k))||Vr(k)&&!k||G&&!d_(d).isValid||F&&!h_(d).isValid)){const{value:K,message:Y}=zr(h)?{value:!!h,message:h}:oo(h);if(K&&(L[j]={type:Yn.required,message:Y,ref:E,...Q(Yn.required,Y)},!n))return A(Y),L}if(!O&&(!Sr(y)||!Sr(v))){let K,Y;const Z=oo(v),me=oo(y);if(!Sr(k)&&!isNaN(k)){const ye=c.valueAsNumber||k&&+k;Sr(Z.value)||(K=ye>Z.value),Sr(me.value)||(Y=ye<me.value)}else{const ye=c.valueAsDate||new Date(k),re=ce=>new Date(new Date().toDateString()+" "+ce),X=c.type=="time",he=c.type=="week";zr(Z.value)&&k&&(K=X?re(k)>re(Z.value):he?k>Z.value:ye>new Date(Z.value)),zr(me.value)&&k&&(Y=X?re(k)<re(me.value):he?k<me.value:ye<new Date(me.value))}if((K||Y)&&(q(!!K,Z.message,me.message,Yn.max,Yn.min),!n))return A(L[j].message),L}if((m||p)&&!O&&(zr(k)||l&&Array.isArray(k))){const K=oo(m),Y=oo(p),Z=!Sr(K.value)&&k.length>+K.value,me=!Sr(Y.value)&&k.length<+Y.value;if((Z||me)&&(q(Z,K.message,Y.message),!n))return A(L[j].message),L}if(S&&!O&&zr(k)){const{value:K,message:Y}=oo(S);if(Uu(K)&&!k.match(K)&&(L[j]={type:Yn.pattern,message:Y,ref:c,...Q(Yn.pattern,Y)},!n))return A(Y),L}if(_){if(jn(_)){const K=await _(k,r),Y=zw(K,E);if(Y&&(L[j]={...Y,...Q(Yn.validate,Y.message)},!n))return A(Y.message),L}else if(Ht(_)){let K={};for(const Y in _){if(!Rr(K)&&!n)break;const Z=zw(await _[Y](k,r),E,Y);Z&&(K={...Z,...Q(Y,Z.message)},A(Z.message),n&&(L[j]=K))}if(!Rr(K)&&(L[j]={ref:E,...K},!n))return L}}return A(!0),L};const B4={mode:wn.onSubmit,reValidateMode:wn.onChange,shouldFocusError:!0};function z4(t={}){let e={...B4,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:jn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ht(e.defaultValues)||Ht(e.values)?Yt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Yt(i),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...p};const v={array:Iw(),state:Iw()},S=e.criteriaMode===wn.all,_=P=>M=>{clearTimeout(m),m=setTimeout(P,M)},j=async P=>{if(!e.disabled&&(p.isValid||y.isValid||P)){const M=e.resolver?Rr((await G()).errors):await O(n,!0);M!==r.isValid&&v.state.next({isValid:M})}},w=(P,M)=>{!e.disabled&&(p.isValidating||p.validatingFields||y.isValidating||y.validatingFields)&&((P||Array.from(d.mount)).forEach(H=>{H&&(M?ht(r.validatingFields,H,M):qt(r.validatingFields,H))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Rr(r.validatingFields)}))},C=(P,M=[],H,fe,ue=!0,le=!0)=>{if(fe&&H&&!e.disabled){if(c.action=!0,le&&Array.isArray(ge(n,P))){const Ie=H(ge(n,P),fe.argA,fe.argB);ue&&ht(n,P,Ie)}if(le&&Array.isArray(ge(r.errors,P))){const Ie=H(ge(r.errors,P),fe.argA,fe.argB);ue&&ht(r.errors,P,Ie),U4(r.errors,P)}if((p.touchedFields||y.touchedFields)&&le&&Array.isArray(ge(r.touchedFields,P))){const Ie=H(ge(r.touchedFields,P),fe.argA,fe.argB);ue&&ht(r.touchedFields,P,Ie)}(p.dirtyFields||y.dirtyFields)&&(r.dirtyFields=po(i,l)),v.state.next({name:P,isDirty:q(P,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ht(l,P,M)},k=(P,M)=>{ht(r.errors,P,M),v.state.next({errors:r.errors})},E=P=>{r.errors=P,v.state.next({errors:r.errors,isValid:!1})},A=(P,M,H,fe)=>{const ue=ge(n,P);if(ue){const le=ge(l,P,Bt(H)?ge(i,P):H);Bt(le)||fe&&fe.defaultChecked||M?ht(l,P,M?le:Fw(ue._f)):Z(P,le),c.mount&&j()}},L=(P,M,H,fe,ue)=>{let le=!1,Ie=!1;const nt={name:P};if(!e.disabled){if(!H||fe){(p.isDirty||y.isDirty)&&(Ie=r.isDirty,r.isDirty=nt.isDirty=q(),le=Ie!==nt.isDirty);const it=rs(ge(i,P),M);Ie=!!ge(r.dirtyFields,P),it?qt(r.dirtyFields,P):ht(r.dirtyFields,P,!0),nt.dirtyFields=r.dirtyFields,le=le||(p.dirtyFields||y.dirtyFields)&&Ie!==!it}if(H){const it=ge(r.touchedFields,P);it||(ht(r.touchedFields,P,H),nt.touchedFields=r.touchedFields,le=le||(p.touchedFields||y.touchedFields)&&it!==H)}le&&ue&&v.state.next(nt)}return le?nt:{}},F=(P,M,H,fe)=>{const ue=ge(r.errors,P),le=(p.isValid||y.isValid)&&Vr(M)&&r.isValid!==M;if(e.delayError&&H?(h=_(()=>k(P,H)),h(e.delayError)):(clearTimeout(m),h=null,H?ht(r.errors,P,H):qt(r.errors,P)),(H?!rs(ue,H):ue)||!Rr(fe)||le){const Ie={...fe,...le&&Vr(M)?{isValid:M}:{},errors:r.errors,name:P};r={...r,...Ie},v.state.next(Ie)}},G=async P=>{w(P,!0);const M=await e.resolver(l,e.context,I4(P||d.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(P),M},J=async P=>{const{errors:M}=await G(P);if(P)for(const H of P){const fe=ge(M,H);fe?ht(r.errors,H,fe):qt(r.errors,H)}else r.errors=M;return M},O=async(P,M,H={valid:!0})=>{for(const fe in P){const ue=P[fe];if(ue){const{_f:le,...Ie}=ue;if(le){const nt=d.array.has(le.name),it=ue._f&&L4(ue._f);it&&p.validatingFields&&w([le.name],!0);const nr=await qw(ue,d.disabled,l,S,e.shouldUseNativeValidation&&!M,nt);if(it&&p.validatingFields&&w([le.name]),nr[le.name]&&(H.valid=!1,M))break;!M&&(ge(nr,le.name)?nt?$4(r.errors,nr,le.name):ht(r.errors,le.name,nr[le.name]):qt(r.errors,le.name))}!Rr(Ie)&&await O(Ie,M,H)}}return H.valid},Q=()=>{for(const P of d.unMount){const M=ge(n,P);M&&(M._f.refs?M._f.refs.every(H=>!Uh(H)):!Uh(M._f.ref))&&be(P)}d.unMount=new Set},q=(P,M)=>!e.disabled&&(P&&M&&ht(l,P,M),!rs(ce(),i)),K=(P,M,H)=>o_(P,d,{...c.mount?l:Bt(M)?i:zr(P)?{[P]:M}:M},H,M),Y=P=>ug(ge(c.mount?l:i,P,e.shouldUnregister?ge(i,P,[]):[])),Z=(P,M,H={})=>{const fe=ge(n,P);let ue=M;if(fe){const le=fe._f;le&&(!le.disabled&&ht(l,P,f_(M,le)),ue=Vu(le.ref)&&Sr(M)?"":M,c_(le.ref)?[...le.ref.options].forEach(Ie=>Ie.selected=ue.includes(Ie.value)):le.refs?Il(le.ref)?le.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(ue)?Ie.checked=!!ue.find(nt=>nt===Ie.value):Ie.checked=ue===Ie.value||!!ue)}):le.refs.forEach(Ie=>Ie.checked=Ie.value===ue):mg(le.ref)?le.ref.value="":(le.ref.value=ue,le.ref.type||v.state.next({name:P,values:Yt(l)})))}(H.shouldDirty||H.shouldTouch)&&L(P,ue,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&he(P)},me=(P,M,H)=>{for(const fe in M){if(!M.hasOwnProperty(fe))return;const ue=M[fe],le=P+"."+fe,Ie=ge(n,le);(d.array.has(P)||Ht(ue)||Ie&&!Ie._f)&&!wi(ue)?me(le,ue,H):Z(le,ue,H)}},ye=(P,M,H={})=>{const fe=ge(n,P),ue=d.array.has(P),le=Yt(M);ht(l,P,le),ue?(v.array.next({name:P,values:Yt(l)}),(p.isDirty||p.dirtyFields||y.isDirty||y.dirtyFields)&&H.shouldDirty&&v.state.next({name:P,dirtyFields:po(i,l),isDirty:q(P,le)})):fe&&!fe._f&&!Sr(le)?me(P,le,H):Z(P,le,H),$w(P,d)&&v.state.next({...r,name:P}),v.state.next({name:c.mount?P:void 0,values:Yt(l)})},re=async P=>{c.mount=!0;const M=P.target;let H=M.name,fe=!0;const ue=ge(n,H),le=it=>{fe=Number.isNaN(it)||wi(it)&&isNaN(it.getTime())||rs(it,ge(l,H,it))},Ie=Vw(e.mode),nt=Vw(e.reValidateMode);if(ue){let it,nr;const Gr=M.type?Fw(ue._f):n_(P),ur=P.type===Fu.BLUR||P.type===Fu.FOCUS_OUT,ls=!D4(ue._f)&&!e.resolver&&!ge(r.errors,H)&&!ue._f.deps||V4(ur,ge(r.touchedFields,H),r.isSubmitted,nt,Ie),on=$w(H,d,ur);ht(l,H,Gr),ur?(!M||!M.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(P),h&&h(0)):ue._f.onChange&&ue._f.onChange(P);const cs=L(H,Gr,ur),Ri=!Rr(cs)||on;if(!ur&&v.state.next({name:H,type:P.type,values:Yt(l)}),ls)return(p.isValid||y.isValid)&&(e.mode==="onBlur"?ur&&j():ur||j()),Ri&&v.state.next({name:H,...on?{}:cs});if(!ur&&on&&v.state.next({...r}),e.resolver){const{errors:an}=await G([H]);if(le(Gr),fe){const us=Bw(r.errors,n,H),Tn=Bw(an,n,us.name||H);it=Tn.error,H=Tn.name,nr=Rr(an)}}else w([H],!0),it=(await qw(ue,d.disabled,l,S,e.shouldUseNativeValidation))[H],w([H]),le(Gr),fe&&(it?nr=!1:(p.isValid||y.isValid)&&(nr=await O(n,!0)));fe&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&he(ue._f.deps),F(H,nr,it,cs))}},X=(P,M)=>{if(ge(r.errors,M)&&P.focus)return P.focus(),1},he=async(P,M={})=>{let H,fe;const ue=Qa(P);if(e.resolver){const le=await J(Bt(P)?P:ue);H=Rr(le),fe=P?!ue.some(Ie=>ge(le,Ie)):H}else P?(fe=(await Promise.all(ue.map(async le=>{const Ie=ge(n,le);return await O(Ie&&Ie._f?{[le]:Ie}:Ie)}))).every(Boolean),!(!fe&&!r.isValid)&&j()):fe=H=await O(n);return v.state.next({...!zr(P)||(p.isValid||y.isValid)&&H!==r.isValid?{}:{name:P},...e.resolver||!P?{isValid:H}:{},errors:r.errors}),M.shouldFocus&&!fe&&Za(n,X,P?ue:d.mount),fe},ce=(P,M)=>{let H={...c.mount?l:i};return M&&(H=l_(M.dirtyFields?r.dirtyFields:r.touchedFields,H)),Bt(P)?H:zr(P)?ge(H,P):P.map(fe=>ge(H,fe))},R=(P,M)=>({invalid:!!ge((M||r).errors,P),isDirty:!!ge((M||r).dirtyFields,P),error:ge((M||r).errors,P),isValidating:!!ge(r.validatingFields,P),isTouched:!!ge((M||r).touchedFields,P)}),te=P=>{P&&Qa(P).forEach(M=>qt(r.errors,M)),v.state.next({errors:P?r.errors:{}})},Le=(P,M,H)=>{const fe=(ge(n,P,{_f:{}})._f||{}).ref,ue=ge(r.errors,P)||{},{ref:le,message:Ie,type:nt,...it}=ue;ht(r.errors,P,{...it,...M,ref:fe}),v.state.next({name:P,errors:r.errors,isValid:!1}),H&&H.shouldFocus&&fe&&fe.focus&&fe.focus()},Fe=(P,M)=>jn(P)?v.state.subscribe({next:H=>"values"in H&&P(K(void 0,M),H)}):K(P,M,!0),Qe=P=>v.state.subscribe({next:M=>{F4(P.name,M.name,P.exact)&&M4(M,P.formState||p,_e,P.reRenderRoot)&&P.callback({values:{...l},...r,...M,defaultValues:i})}}).unsubscribe,U=P=>(c.mount=!0,y={...y,...P.formState},Qe({...P,formState:y})),be=(P,M={})=>{for(const H of P?Qa(P):d.mount)d.mount.delete(H),d.array.delete(H),M.keepValue||(qt(n,H),qt(l,H)),!M.keepError&&qt(r.errors,H),!M.keepDirty&&qt(r.dirtyFields,H),!M.keepTouched&&qt(r.touchedFields,H),!M.keepIsValidating&&qt(r.validatingFields,H),!e.shouldUnregister&&!M.keepDefaultValue&&qt(i,H);v.state.next({values:Yt(l)}),v.state.next({...r,...M.keepDirty?{isDirty:q()}:{}}),!M.keepIsValid&&j()},xe=({disabled:P,name:M})=>{(Vr(P)&&c.mount||P||d.disabled.has(M))&&(P?d.disabled.add(M):d.disabled.delete(M))},qe=(P,M={})=>{let H=ge(n,P);const fe=Vr(M.disabled)||Vr(e.disabled);return ht(n,P,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:P}},name:P,mount:!0,...M}}),d.mount.add(P),H?xe({disabled:Vr(M.disabled)?M.disabled:e.disabled,name:P}):A(P,!0,M.value),{...fe?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:La(M.min),max:La(M.max),minLength:La(M.minLength),maxLength:La(M.maxLength),pattern:La(M.pattern)}:{},name:P,onChange:re,onBlur:re,ref:ue=>{if(ue){qe(P,M),H=ge(n,P);const le=Bt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,Ie=P4(le),nt=H._f.refs||[];if(Ie?nt.find(it=>it===le):le===H._f.ref)return;ht(n,P,{_f:{...H._f,...Ie?{refs:[...nt.filter(Uh),le,...Array.isArray(ge(i,P))?[{}]:[]],ref:{type:le.type,name:P}}:{ref:le}}}),A(P,!1,void 0,le)}else H=ge(n,P,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(s_(d.array,P)&&c.action)&&d.unMount.add(P)}}},tt=()=>e.shouldFocusError&&Za(n,X,d.mount),vr=P=>{Vr(P)&&(v.state.next({disabled:P}),Za(n,(M,H)=>{const fe=ge(n,H);fe&&(M.disabled=fe._f.disabled||P,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(ue=>{ue.disabled=fe._f.disabled||P}))},0,!1))},$=(P,M)=>async H=>{let fe;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let ue=Yt(l);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:Ie}=await G();r.errors=le,ue=Yt(Ie)}else await O(n);if(d.disabled.size)for(const le of d.disabled)qt(ue,le);if(qt(r.errors,"root"),Rr(r.errors)){v.state.next({errors:{}});try{await P(ue,H)}catch(le){fe=le}}else M&&await M({...r.errors},H),tt(),setTimeout(tt);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rr(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},je=(P,M={})=>{ge(n,P)&&(Bt(M.defaultValue)?ye(P,Yt(ge(i,P))):(ye(P,M.defaultValue),ht(i,P,Yt(M.defaultValue))),M.keepTouched||qt(r.touchedFields,P),M.keepDirty||(qt(r.dirtyFields,P),r.isDirty=M.defaultValue?q(P,Yt(ge(i,P))):q()),M.keepError||(qt(r.errors,P),p.isValid&&j()),v.state.next({...r}))},z=(P,M={})=>{const H=P?Yt(P):i,fe=Yt(H),ue=Rr(P),le=ue?i:fe;if(M.keepDefaultValues||(i=H),!M.keepValues){if(M.keepDirtyValues){const Ie=new Set([...d.mount,...Object.keys(po(i,l))]);for(const nt of Array.from(Ie))ge(r.dirtyFields,nt)?ht(le,nt,ge(l,nt)):ye(nt,ge(le,nt))}else{if(cg&&Bt(P))for(const Ie of d.mount){const nt=ge(n,Ie);if(nt&&nt._f){const it=Array.isArray(nt._f.refs)?nt._f.refs[0]:nt._f.ref;if(Vu(it)){const nr=it.closest("form");if(nr){nr.reset();break}}}}if(M.keepFieldsRef)for(const Ie of d.mount)ye(Ie,ge(le,Ie));else n={}}l=e.shouldUnregister?M.keepDefaultValues?Yt(i):{}:Yt(le),v.array.next({values:{...le}}),v.state.next({values:{...le}})}d={mount:M.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!M.keepIsValid||!!M.keepDirtyValues,c.watch=!!e.shouldUnregister,v.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!rs(P,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:M.keepDirtyValues?M.keepDefaultValues&&l?po(i,l):r.dirtyFields:M.keepDefaultValues&&P?po(i,P):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Se=(P,M)=>z(jn(P)?P(l):P,M),Pe=(P,M={})=>{const H=ge(n,P),fe=H&&H._f;if(fe){const ue=fe.refs?fe.refs[0]:fe.ref;ue.focus&&(ue.focus(),M.shouldSelect&&jn(ue.select)&&ue.select())}},_e=P=>{r={...r,...P}},st={control:{register:qe,unregister:be,getFieldState:R,handleSubmit:$,setError:Le,_subscribe:Qe,_runSchema:G,_focusError:tt,_getWatch:K,_getDirty:q,_setValid:j,_setFieldArray:C,_setDisabledField:xe,_setErrors:E,_getFieldArray:Y,_reset:z,_resetDefaultValues:()=>jn(e.defaultValues)&&e.defaultValues().then(P=>{Se(P,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:vr,_subjects:v,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(P){c=P},get _defaultValues(){return i},get _names(){return d},set _names(P){d=P},get _formState(){return r},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:U,trigger:he,register:qe,handleSubmit:$,watch:Fe,setValue:ye,getValues:ce,reset:Se,resetField:je,clearErrors:te,unregister:be,setError:Le,setFocus:Pe,getFieldState:R};return{...st,formControl:st}}function m_(t={}){const e=De.useRef(void 0),r=De.useRef(void 0),[n,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:jn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:jn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!jn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=z4(t);e.current={...d,formState:n}}const l=e.current.control;return l._options=t,hg(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),De.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),De.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),De.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),De.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),De.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),De.useEffect(()=>{t.values&&!rs(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=t.values,i(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),De.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=i_(n,l),e.current}const Ww=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ge(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},p_=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Ww(n.ref,r,t):n.refs&&n.refs.forEach(i=>Ww(i,r,t))}},q4=(t,e)=>{e.shouldUseNativeValidation&&p_(t,e);const r={};for(const n in t){const i=ge(e.fields,n),l=Object.assign(t[n]||{},{ref:i&&i.ref});if(W4(e.names||Object.keys(t),n)){const c=Object.assign({},ge(r,n));ht(c,"root",l),ht(r,n,c)}else ht(r,n,l)}return r},W4=(t,e)=>t.some(r=>r.startsWith(e+"."));var K4=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[c]={message:d.message,type:d.code}}else r[c]={message:l,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(y){return t.push(y)})}),e){var h=r[c].types,m=h&&h[n.code];r[c]=a_(c,e,r,i,m?[].concat(m,n.message):n.message)}t.shift()}return r},g_=function(t,e,r){return r===void 0&&(r={}),function(n,i,l){try{return Promise.resolve((function(c,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return l.shouldUseNativeValidation&&p_({},l),{errors:{},values:r.raw?n:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(c){if((function(d){return Array.isArray(d?.errors)})(c))return{values:{},errors:q4(K4(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}};const se=Symbol.for("drizzle:entityKind");function or(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,se))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(se in r&&r[se]===e[se])return!0;r=Object.getPrototypeOf(r)}return!1}class cl{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[se]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class H4{static[se]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const ko=Symbol.for("drizzle:Name");class G4{static[se]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:i,foreignColumns:l}=e();return{name:n,columns:i,foreignTable:l[0].table,foreignColumns:l}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Q4(e,this)}}class Q4{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[se]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(d=>d.name),l=n.map(d=>d.name),c=[this.table[ko],...i,n[0].table[ko],...l];return e??`${c.join("_")}_fk`}}function Z4(t,...e){return t(...e)}function J4(t,e){return`${t[ko]}_${e.join("_")}_unique`}function Kw(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function y_(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const l=t[n];if(l===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,l==="\\"){n+=2;continue}if(l==='"'){const[h,m]=Kw(t,n+1,!0);r.push(h),n=m;continue}if(l==="}")return[r,n+1];if(l==="{"){const[h,m]=y_(t,n+1);r.push(h),n=m;continue}const[c,d]=Kw(t,n,!1);r.push(c),n=d}return[r,n]}function Y4(t){const[e]=y_(t,1);return e}function x_(t){return`{${t.map(e=>Array.isArray(e)?x_(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class lt extends H4{foreignKeyConfigs=[];static[se]="PgColumnBuilder";array(e){return new e3(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>Z4((l,c)=>{const d=new G4(()=>{const h=l();return{columns:[e],foreignColumns:[h]}});return c.onUpdate&&d.onUpdate(c.onUpdate),c.onDelete&&d.onDelete(c.onDelete),d.build(r)},n,i))}buildExtraConfigColumn(e){return new X4(e,this.config)}}class Xe extends cl{constructor(e,r){r.uniqueName||(r.uniqueName=J4(e,[r.name])),super(e,r),this.table=e}static[se]="PgColumn"}class X4 extends Xe{static[se]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class e3 extends lt{static[se]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new gg(e,this.config,r)}}class gg extends Xe{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[se]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=Y4(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(i=>i===null?null:or(this.baseColumn,gg)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:x_(n)}}const Hw=Symbol.for("drizzle:isPgEnum");function t3(t){return!!t&&typeof t=="function"&&Hw in t&&t[Hw]===!0}class v_{static[se]="Subquery";constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}const r3={startActiveSpan(t,e){return e()}},Co=Symbol.for("drizzle:ViewBaseConfig"),$h=Symbol.for("drizzle:Schema"),Gw=Symbol.for("drizzle:Columns"),Qw=Symbol.for("drizzle:ExtraConfigColumns"),Bh=Symbol.for("drizzle:OriginalName"),zh=Symbol.for("drizzle:BaseName"),$u=Symbol.for("drizzle:IsAlias"),Zw=Symbol.for("drizzle:ExtraConfigBuilder"),b_=Symbol.for("drizzle:IsDrizzleTable");class Ur{static[se]="Table";static Symbol={Name:ko,Schema:$h,OriginalName:Bh,Columns:Gw,ExtraConfigColumns:Qw,BaseName:zh,IsAlias:$u,ExtraConfigBuilder:Zw};[ko];[Bh];[$h];[Gw];[Qw];[zh];[$u]=!1;[b_]=!0;[Zw]=void 0;constructor(e,r,n){this[ko]=this[Bh]=e,this[$h]=r,this[zh]=n}}function w_(t){return typeof t=="object"&&t!==null&&b_ in t}function n3(t){return t!=null&&typeof t.getSQL=="function"}function s3(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class vn{static[se]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Dt([this])}}class Dt{constructor(e){this.queryChunks=e}static[se]="SQL";decoder=j_;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return r3.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:l,escapeParam:c,prepareTyping:d,inlineParams:h,paramStartIndex:m}=n;return s3(e.map(p=>{if(or(p,vn))return{sql:p.value.join(""),params:[]};if(or(p,zm))return{sql:l(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){const y=[new vn("(")];for(const[v,S]of p.entries())y.push(S),v<p.length-1&&y.push(new vn(", "));return y.push(new vn(")")),this.buildQueryFromSourceParams(y,n)}if(or(p,Dt))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:h||p.shouldInlineParams});if(or(p,Ur)){const y=p[Ur.Symbol.Schema],v=p[Ur.Symbol.Name];return{sql:y===void 0||p[$u]?l(v):l(y)+"."+l(v),params:[]}}if(or(p,cl)){const y=i.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:l(y),params:[]};const v=p.table[Ur.Symbol.Schema];return{sql:p.table[$u]||v===void 0?l(p.table[Ur.Symbol.Name])+"."+l(y):l(v)+"."+l(p.table[Ur.Symbol.Name])+"."+l(y),params:[]}}if(or(p,i3)){const y=p[Co].schema,v=p[Co].name;return{sql:y===void 0||p[Co].isAlias?l(v):l(y)+"."+l(v),params:[]}}if(or(p,N_)){if(or(p.value,qm))return{sql:c(m.value++,p),params:[p],typings:["none"]};const y=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(or(y,Dt))return this.buildQueryFromSourceParams([y],n);if(h)return{sql:this.mapInlineParam(y,n),params:[]};let v=["none"];return d&&(v=[d(p.encoder)]),{sql:c(m.value++,y),params:[y],typings:v}}return or(p,qm)?{sql:c(m.value++,p),params:[p],typings:["none"]}:or(p,Dt.Aliased)&&p.fieldAlias!==void 0?{sql:l(p.fieldAlias),params:[]}:or(p,v_)?p._.isWith?{sql:l(p._.alias),params:[]}:this.buildQueryFromSourceParams([new vn("("),p._.sql,new vn(") "),new zm(p._.alias)],n):t3(p)?p.schema?{sql:l(p.schema)+"."+l(p.enumName),params:[]}:{sql:l(p.enumName),params:[]}:n3(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new vn("("),p.getSQL(),new vn(")")],n):h?{sql:this.mapInlineParam(p,n),params:[]}:{sql:c(m.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Dt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class zm{constructor(e){this.value=e}static[se]="Name";brand;getSQL(){return new Dt([this])}}const j_={mapFromDriverValue:t=>t},S_={mapToDriverValue:t=>t};({...j_,...S_});class N_{constructor(e,r=S_){this.value=e,this.encoder=r}static[se]="Param";brand;getSQL(){return new Dt([this])}}function Bu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new vn(t[0]));for(const[n,i]of e.entries())r.push(i,new vn(t[n+1]));return new Dt(r)}(t=>{function e(){return new Dt([])}t.empty=e;function r(h){return new Dt(h)}t.fromList=r;function n(h){return new Dt([new vn(h)])}t.raw=n;function i(h,m){const p=[];for(const[y,v]of h.entries())y>0&&m!==void 0&&p.push(m),p.push(v);return new Dt(p)}t.join=i;function l(h){return new zm(h)}t.identifier=l;function c(h){return new qm(h)}t.placeholder=c;function d(h,m){return new N_(h,m)}t.param=d})(Bu||(Bu={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[se]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Dt||(Dt={}));class qm{constructor(e){this.name=e}static[se]="Placeholder";getSQL(){return new Dt([this])}}const __=Symbol.for("drizzle:IsDrizzleView");class i3{static[se]="View";[Co];[__]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[Co]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Dt([this])}}function o3(t){return typeof t=="object"&&t!==null&&__ in t}cl.prototype.getSQL=function(){return new Dt([this])};Ur.prototype.getSQL=function(){return new Dt([this])};v_.prototype.getSQL=function(){return new Dt([this])};function a3(t){return t[Ur.Symbol.Columns]}function l3(t){return t[Co].selectedFields}function rr(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class hd extends lt{static[se]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class c3 extends hd{static[se]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new u3(e,this.config)}}class u3 extends Xe{static[se]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class d3 extends hd{static[se]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new f3(e,this.config)}}class f3 extends Xe{static[se]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function h3(t,e){const{name:r,config:n}=rr(t,e);return n.mode==="number"?new c3(r):new d3(r)}class m3 extends lt{static[se]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new p3(e,this.config)}}class p3 extends Xe{static[se]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class g3 extends lt{static[se]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new y3(e,this.config)}}class y3 extends Xe{static[se]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function x3(t,e){const{name:r,config:n}=rr(t,e);return n.mode==="number"?new m3(r):new g3(r)}class v3 extends lt{static[se]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new b3(e,this.config)}}class b3 extends Xe{static[se]="PgBoolean";getSQLType(){return"boolean"}}function w3(t){return new v3(t??"")}class j3 extends lt{static[se]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new S3(e,this.config)}}class S3 extends Xe{static[se]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function N3(t,e={}){const{name:r,config:n}=rr(t,e);return new j3(r,n)}class _3 extends lt{static[se]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new k3(e,this.config)}}class k3 extends Xe{static[se]="PgCidr";getSQLType(){return"cidr"}}function C3(t){return new _3(t??"")}class E3 extends lt{static[se]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new T3(e,this.config)}}class T3 extends Xe{static[se]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function P3(t){return(e,r)=>{const{name:n,config:i}=rr(e,r);return new E3(n,i,t)}}class Ll extends lt{static[se]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Bu`now()`)}}class A3 extends Ll{static[se]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new R3(e,this.config)}}class R3 extends Xe{static[se]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class O3 extends Ll{static[se]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new I3(e,this.config)}}class I3 extends Xe{static[se]="PgDateString";getSQLType(){return"date"}}function L3(t,e){const{name:r,config:n}=rr(t,e);return n?.mode==="date"?new A3(r):new O3(r)}class D3 extends lt{static[se]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new M3(e,this.config)}}class M3 extends Xe{static[se]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function F3(t){return new D3(t??"")}class V3 extends lt{static[se]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new U3(e,this.config)}}class U3 extends Xe{static[se]="PgInet";getSQLType(){return"inet"}}function $3(t){return new V3(t??"")}class B3 extends hd{static[se]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new z3(e,this.config)}}class z3 extends Xe{static[se]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function q3(t){return new B3(t??"")}class W3 extends lt{static[se]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new K3(e,this.config)}}class K3 extends Xe{static[se]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function H3(t,e={}){const{name:r,config:n}=rr(t,e);return new W3(r,n)}class G3 extends lt{static[se]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new Q3(e,this.config)}}class Q3 extends Xe{static[se]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Z3(t){return new G3(t??"")}class J3 extends lt{static[se]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new Y3(e,this.config)}}class Y3 extends Xe{static[se]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function X3(t){return new J3(t??"")}class eM extends lt{static[se]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new tM(e,this.config)}}class tM extends Xe{static[se]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class rM extends lt{static[se]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new nM(e,this.config)}}class nM extends Xe{static[se]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function sM(t,e){const{name:r,config:n}=rr(t,e);return!n?.mode||n.mode==="tuple"?new eM(r):new rM(r)}class iM extends lt{static[se]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new oM(e,this.config)}}class oM extends Xe{static[se]="PgMacaddr";getSQLType(){return"macaddr"}}function aM(t){return new iM(t??"")}class lM extends lt{static[se]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new cM(e,this.config)}}class cM extends Xe{static[se]="PgMacaddr8";getSQLType(){return"macaddr8"}}function uM(t){return new lM(t??"")}class dM extends lt{static[se]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new fM(e,this.config)}}class fM extends Xe{static[se]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function hM(t,e){const{name:r,config:n}=rr(t,e);return new dM(r,n?.precision,n?.scale)}class mM extends lt{static[se]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new pM(e,this.config)}}class pM extends Xe{static[se]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class gM extends lt{static[se]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new yM(e,this.config)}}class yM extends Xe{static[se]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function xM(t,e){const{name:r,config:n}=rr(t,e);return!n?.mode||n.mode==="tuple"?new mM(r):new gM(r)}function vM(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function Jw(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function k_(t){const e=vM(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),l=i.getUint32(r,n===1);if(r+=4,l&536870912&&(i.getUint32(r,n===1),r+=4),(l&65535)===1){const c=Jw(e,r);r+=8;const d=Jw(e,r);return r+=8,[c,d]}throw new Error("Unsupported geometry type")}class bM extends lt{static[se]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new wM(e,this.config)}}class wM extends Xe{static[se]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return k_(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class jM extends lt{static[se]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new SM(e,this.config)}}class SM extends Xe{static[se]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=k_(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function NM(t,e){const{name:r,config:n}=rr(t,e);return!n?.mode||n.mode==="tuple"?new bM(r):new jM(r)}class _M extends lt{static[se]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new kM(e,this.config)}}class kM extends Xe{static[se]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function CM(t){return new _M(t??"")}class EM extends lt{static[se]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new TM(e,this.config)}}class TM extends Xe{static[se]="PgSerial";getSQLType(){return"serial"}}function yg(t){return new EM(t??"")}class PM extends hd{static[se]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new AM(e,this.config)}}class AM extends Xe{static[se]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function RM(t){return new PM(t??"")}class OM extends lt{static[se]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new IM(e,this.config)}}class IM extends Xe{static[se]="PgSmallSerial";getSQLType(){return"smallserial"}}function LM(t){return new OM(t??"")}class DM extends lt{static[se]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new MM(e,this.config)}}class MM extends Xe{static[se]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function C_(t,e={}){const{name:r,config:n}=rr(t,e);return new DM(r,n)}class FM extends Ll{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[se]="PgTimeBuilder";build(e){return new VM(e,this.config)}}class VM extends Xe{static[se]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function UM(t,e={}){const{name:r,config:n}=rr(t,e);return new FM(r,n.withTimezone??!1,n.precision)}class $M extends Ll{static[se]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new BM(e,this.config)}}class BM extends Xe{static[se]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class zM extends Ll{static[se]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new qM(e,this.config)}}class qM extends Xe{static[se]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function WM(t,e={}){const{name:r,config:n}=rr(t,e);return n?.mode==="string"?new zM(r,n.withTimezone??!1,n.precision):new $M(r,n?.withTimezone??!1,n?.precision)}class KM extends lt{static[se]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Bu`gen_random_uuid()`)}build(e){return new HM(e,this.config)}}class HM extends Xe{static[se]="PgUUID";getSQLType(){return"uuid"}}function GM(t){return new KM(t??"")}class QM extends lt{static[se]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new ZM(e,this.config)}}class ZM extends Xe{static[se]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function ul(t,e={}){const{name:r,config:n}=rr(t,e);return new QM(r,n)}class JM extends lt{static[se]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new YM(e,this.config)}}class YM extends Xe{static[se]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function XM(t,e){const{name:r,config:n}=rr(t,e);return new JM(r,n)}class eF extends lt{static[se]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new tF(e,this.config)}}class tF extends Xe{static[se]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function rF(t,e){const{name:r,config:n}=rr(t,e);return new eF(r,n)}class nF extends lt{static[se]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new sF(e,this.config)}}class sF extends Xe{static[se]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function iF(t,e){const{name:r,config:n}=rr(t,e);return new nF(r,n)}class oF extends lt{static[se]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new aF(e,this.config)}}class aF extends Xe{static[se]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function lF(t,e){const{name:r,config:n}=rr(t,e);return new oF(r,n)}function cF(){return{bigint:h3,bigserial:x3,boolean:w3,char:N3,cidr:C3,customType:P3,date:L3,doublePrecision:F3,inet:$3,integer:q3,interval:H3,json:Z3,jsonb:X3,line:sM,macaddr:aM,macaddr8:uM,numeric:hM,point:xM,geometry:NM,real:CM,serial:yg,smallint:RM,smallserial:LM,text:C_,time:UM,timestamp:WM,uuid:GM,varchar:ul,bit:XM,halfvec:rF,sparsevec:iF,vector:lF}}const Wm=Symbol.for("drizzle:PgInlineForeignKeys"),Yw=Symbol.for("drizzle:EnableRLS");class Xw extends Ur{static[se]="PgTable";static Symbol=Object.assign({},Ur.Symbol,{InlineForeignKeys:Wm,EnableRLS:Yw});[Wm]=[];[Yw]=!1;[Ur.Symbol.ExtraConfigBuilder]=void 0}function uF(t,e,r,n,i=t){const l=new Xw(t,n,i),c=typeof e=="function"?e(cF()):e,d=Object.fromEntries(Object.entries(c).map(([p,y])=>{const v=y;v.setName(p);const S=v.build(l);return l[Wm].push(...v.buildForeignKeys(S,l)),[p,S]})),h=Object.fromEntries(Object.entries(c).map(([p,y])=>{const v=y;v.setName(p);const S=v.buildExtraConfigColumn(l);return[p,S]})),m=Object.assign(l,d);return m[Ur.Symbol.Columns]=d,m[Ur.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[Xw.Symbol.EnableRLS]=!0,m)})}const E_=(t,e,r)=>uF(t,e,r,void 0);var ot;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const l={};for(const c of i)l[c]=c;return l},t.getValidEnumValues=i=>{const l=t.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),c={};for(const d of l)c[d]=i[d];return t.objectValues(c)},t.objectValues=i=>t.objectKeys(i).map(function(l){return i[l]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const l=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&l.push(c);return l},t.find=(i,l)=>{for(const c of i)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,l=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(i,l)=>typeof l=="bigint"?l.toString():l})(ot||(ot={}));var Km;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Km||(Km={}));const Ne=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ts=t=>{switch(typeof t){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(t)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(t)?Ne.array:t===null?Ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ne.promise:typeof Map<"u"&&t instanceof Map?Ne.map:typeof Set<"u"&&t instanceof Set?Ne.set:typeof Date<"u"&&t instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},ae=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),dF=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Wr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},i=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(c))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return i(this),n}static assert(e){if(!(e instanceof Wr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const l=i.path[0];r[l]=r[l]||[],r[l].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Wr.create=t=>new Wr(t);const Fo=(t,e)=>{let r;switch(t.code){case ae.invalid_type:t.received===Ne.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ot.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:r=`Unrecognized key(s) in object: ${ot.joinValues(t.keys,", ")}`;break;case ae.invalid_union:r="Invalid input";break;case ae.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ot.joinValues(t.options)}`;break;case ae.invalid_enum_value:r=`Invalid enum value. Expected ${ot.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:r="Invalid function arguments";break;case ae.invalid_return_type:r="Invalid function return type";break;case ae.invalid_date:r="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ot.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ae.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ae.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ae.custom:r="Invalid input";break;case ae.invalid_intersection_types:r="Intersection results could not be merged";break;case ae.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:r="Number must be finite";break;default:r=e.defaultError,ot.assertNever(t)}return{message:r}};let T_=Fo;function fF(t){T_=t}function zu(){return T_}const qu=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,l=[...r,...i.path||[]],c={...i,path:l};if(i.message!==void 0)return{...i,path:l,message:i.message};let d="";const h=n.filter(m=>!!m).slice().reverse();for(const m of h)d=m(c,{data:e,defaultError:d}).message;return{...i,path:l,message:d}},hF=[];function ve(t,e){const r=zu(),n=qu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Fo?void 0:Fo].filter(i=>!!i)});t.common.issues.push(n)}class xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return ze;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const l=await i.key,c=await i.value;n.push({key:l,value:c})}return xr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:l,value:c}=i;if(l.status==="aborted"||c.status==="aborted")return ze;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const ze=Object.freeze({status:"aborted"}),jo=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),Hm=t=>t.status==="aborted",Gm=t=>t.status==="dirty",ki=t=>t.status==="valid",dl=t=>typeof Promise<"u"&&t instanceof Promise;var Oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Oe||(Oe={}));class $n{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const e0=(t,e)=>{if(ki(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Wr(t.common.issues);return this._error=r,this._error}}};function Je(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,d)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??r??d.defaultError}},description:i}}class et{get description(){return this._def.description}_getType(e){return ts(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xr,ctx:{common:e.parent.common,data:e.data,parsedType:ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(dl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)},i=this._parseSync({data:e,path:n.path,parent:n});return e0(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return ki(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>ki(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)},i=this._parse({data:e,path:n.path,parent:n}),l=await(dl(i)?i:Promise.resolve(i));return e0(n,l)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,l)=>{const c=e(i),d=()=>l.addIssue({code:ae.custom,...n(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new kn({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Fn.create(this,this._def)}nullable(){return qs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _n.create(this)}promise(){return Uo.create(this,this._def)}or(e){return pl.create([this,e],this._def)}and(e){return gl.create(this,e,this._def)}transform(e){return new kn({...Je(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new wl({...Je(this._def),innerType:this,defaultValue:r,typeName:We.ZodDefault})}brand(){return new xg({typeName:We.ZodBranded,type:this,...Je(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new jl({...Je(this._def),innerType:this,catchValue:r,typeName:We.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Dl.create(this,e)}readonly(){return Sl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mF=/^c[^\s-]{8,}$/i,pF=/^[0-9a-z]+$/,gF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xF=/^[a-z0-9_-]{21}$/i,vF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qh;const SF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,P_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TF=new RegExp(`^${P_}$`);function A_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function PF(t){return new RegExp(`^${A_(t)}$`)}function R_(t){let e=`${P_}T${A_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function AF(t,e){return!!((e==="v4"||!e)&&SF.test(t)||(e==="v6"||!e)&&_F.test(t))}function RF(t,e){if(!vF.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function OF(t,e){return!!((e==="v4"||!e)&&NF.test(t)||(e==="v6"||!e)&&kF.test(t))}class Sn extends et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const l=this._getOrReturnCtx(e);return ve(l,{code:ae.invalid_type,expected:Ne.string,received:l.parsedType}),ze}const n=new xr;let i;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(i=this._getOrReturnCtx(e,i),c?ve(i,{code:ae.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&ve(i,{code:ae.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")wF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"email",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")qh||(qh=new RegExp(jF,"u")),qh.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"emoji",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")yF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"uuid",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")xF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"nanoid",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")mF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"cuid",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")pF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"cuid2",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")gF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"ulid",code:ae.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ve(i,{validation:"url",code:ae.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"regex",code:ae.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?R_(l).test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?TF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?PF(l).test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?bF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"duration",code:ae.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?AF(e.data,l.version)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"ip",code:ae.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?RF(e.data,l.alg)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"jwt",code:ae.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?OF(e.data,l.version)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"cidr",code:ae.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?CF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"base64",code:ae.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?EF.test(e.data)||(i=this._getOrReturnCtx(e,i),ve(i,{validation:"base64url",code:ae.invalid_string,message:l.message}),n.dirty()):ot.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ae.invalid_string,...Oe.errToObj(n)})}_addCheck(e){return new Sn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Oe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Oe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Oe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Oe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Oe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Oe.errToObj(r)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Sn.create=t=>new Sn({checks:[],typeName:We.ZodString,coerce:t?.coerce??!1,...Je(t)});function IF(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,l=Number.parseInt(t.toFixed(i).replace(".","")),c=Number.parseInt(e.toFixed(i).replace(".",""));return l%c/10**i}class $s extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const l=this._getOrReturnCtx(e);return ve(l,{code:ae.invalid_type,expected:Ne.number,received:l.parsedType}),ze}let n;const i=new xr;for(const l of this._def.checks)l.kind==="int"?ot.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.invalid_type,expected:"integer",received:"float",message:l.message}),i.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="multipleOf"?IF(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.not_finite,message:l.message}),i.dirty()):ot.assertNever(l);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Oe.toString(r))}setLimit(e,r,n,i){return new $s({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Oe.toString(i)}]})}_addCheck(e){return new $s({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ot.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}$s.create=t=>new $s({checks:[],typeName:We.ZodNumber,coerce:t?.coerce||!1,...Je(t)});class Bs extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ne.bigint)return this._getInvalidInput(e);let n;const i=new xr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ae.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):ot.assertNever(l);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ve(r,{code:ae.invalid_type,expected:Ne.bigint,received:r.parsedType}),ze}gte(e,r){return this.setLimit("min",e,!0,Oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Oe.toString(r))}setLimit(e,r,n,i){return new Bs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Oe.toString(i)}]})}_addCheck(e){return new Bs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Bs.create=t=>new Bs({checks:[],typeName:We.ZodBigInt,coerce:t?.coerce??!1,...Je(t)});class fl extends et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const n=this._getOrReturnCtx(e);return ve(n,{code:ae.invalid_type,expected:Ne.boolean,received:n.parsedType}),ze}return Nr(e.data)}}fl.create=t=>new fl({typeName:We.ZodBoolean,coerce:t?.coerce||!1,...Je(t)});class Ci extends et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const l=this._getOrReturnCtx(e);return ve(l,{code:ae.invalid_type,expected:Ne.date,received:l.parsedType}),ze}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return ve(l,{code:ae.invalid_date}),ze}const n=new xr;let i;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(i=this._getOrReturnCtx(e,i),ve(i,{code:ae.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):ot.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ci({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ci.create=t=>new Ci({checks:[],coerce:t?.coerce||!1,typeName:We.ZodDate,...Je(t)});class Wu extends et{_parse(e){if(this._getType(e)!==Ne.symbol){const n=this._getOrReturnCtx(e);return ve(n,{code:ae.invalid_type,expected:Ne.symbol,received:n.parsedType}),ze}return Nr(e.data)}}Wu.create=t=>new Wu({typeName:We.ZodSymbol,...Je(t)});class hl extends et{_parse(e){if(this._getType(e)!==Ne.undefined){const n=this._getOrReturnCtx(e);return ve(n,{code:ae.invalid_type,expected:Ne.undefined,received:n.parsedType}),ze}return Nr(e.data)}}hl.create=t=>new hl({typeName:We.ZodUndefined,...Je(t)});class ml extends et{_parse(e){if(this._getType(e)!==Ne.null){const n=this._getOrReturnCtx(e);return ve(n,{code:ae.invalid_type,expected:Ne.null,received:n.parsedType}),ze}return Nr(e.data)}}ml.create=t=>new ml({typeName:We.ZodNull,...Je(t)});class Vo extends et{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}Vo.create=t=>new Vo({typeName:We.ZodAny,...Je(t)});class Ni extends et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}Ni.create=t=>new Ni({typeName:We.ZodUnknown,...Je(t)});class os extends et{_parse(e){const r=this._getOrReturnCtx(e);return ve(r,{code:ae.invalid_type,expected:Ne.never,received:r.parsedType}),ze}}os.create=t=>new os({typeName:We.ZodNever,...Je(t)});class Ku extends et{_parse(e){if(this._getType(e)!==Ne.undefined){const n=this._getOrReturnCtx(e);return ve(n,{code:ae.invalid_type,expected:Ne.void,received:n.parsedType}),ze}return Nr(e.data)}}Ku.create=t=>new Ku({typeName:We.ZodVoid,...Je(t)});class _n extends et{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ne.array)return ve(r,{code:ae.invalid_type,expected:Ne.array,received:r.parsedType}),ze;if(i.exactLength!==null){const c=r.data.length>i.exactLength.value,d=r.data.length<i.exactLength.value;(c||d)&&(ve(r,{code:c?ae.too_big:ae.too_small,minimum:d?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ve(r,{code:ae.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ve(r,{code:ae.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>i.type._parseAsync(new $n(r,c,r.path,d)))).then(c=>xr.mergeArray(n,c));const l=[...r.data].map((c,d)=>i.type._parseSync(new $n(r,c,r.path,d)));return xr.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new _n({...this._def,minLength:{value:e,message:Oe.toString(r)}})}max(e,r){return new _n({...this._def,maxLength:{value:e,message:Oe.toString(r)}})}length(e,r){return new _n({...this._def,exactLength:{value:e,message:Oe.toString(r)}})}nonempty(e){return this.min(1,e)}}_n.create=(t,e)=>new _n({type:t,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...Je(e)});function go(t){if(t instanceof At){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Fn.create(go(n))}return new At({...t._def,shape:()=>e})}else return t instanceof _n?new _n({...t._def,type:go(t.element)}):t instanceof Fn?Fn.create(go(t.unwrap())):t instanceof qs?qs.create(go(t.unwrap())):t instanceof Bn?Bn.create(t.items.map(e=>go(e))):t}class At extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ot.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ne.object){const m=this._getOrReturnCtx(e);return ve(m,{code:ae.invalid_type,expected:Ne.object,received:m.parsedType}),ze}const{status:n,ctx:i}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof os&&this._def.unknownKeys==="strip"))for(const m in i.data)c.includes(m)||d.push(m);const h=[];for(const m of c){const p=l[m],y=i.data[m];h.push({key:{status:"valid",value:m},value:p._parse(new $n(i,y,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof os){const m=this._def.unknownKeys;if(m==="passthrough")for(const p of d)h.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(m==="strict")d.length>0&&(ve(i,{code:ae.unrecognized_keys,keys:d}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const p of d){const y=i.data[p];h.push({key:{status:"valid",value:p},value:m._parse(new $n(i,y,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const p of h){const y=await p.key,v=await p.value;m.push({key:y,value:v,alwaysSet:p.alwaysSet})}return m}).then(m=>xr.mergeObjectSync(n,m)):xr.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new At({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Oe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(e){return new At({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new At({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:We.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new At({...this._def,catchall:e})}pick(e){const r={};for(const n of ot.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new At({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ot.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new At({...this._def,shape:()=>r})}deepPartial(){return go(this)}partial(e){const r={};for(const n of ot.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new At({...this._def,shape:()=>r})}required(e){const r={};for(const n of ot.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Fn;)l=l._def.innerType;r[n]=l}return new At({...this._def,shape:()=>r})}keyof(){return O_(ot.objectKeys(this.shape))}}At.create=(t,e)=>new At({shape:()=>t,unknownKeys:"strip",catchall:os.create(),typeName:We.ZodObject,...Je(e)});At.strictCreate=(t,e)=>new At({shape:()=>t,unknownKeys:"strict",catchall:os.create(),typeName:We.ZodObject,...Je(e)});At.lazycreate=(t,e)=>new At({shape:t,unknownKeys:"strip",catchall:os.create(),typeName:We.ZodObject,...Je(e)});class pl extends et{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new Wr(d.ctx.common.issues));return ve(r,{code:ae.invalid_union,unionErrors:c}),ze}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(i);{let l;const c=[];for(const h of n){const m={...r,common:{...r.common,issues:[]},parent:null},p=h._parseSync({data:r.data,path:r.path,parent:m});if(p.status==="valid")return p;p.status==="dirty"&&!l&&(l={result:p,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new Wr(h));return ve(r,{code:ae.invalid_union,unionErrors:d}),ze}}get options(){return this._def.options}}pl.create=(t,e)=>new pl({options:t,typeName:We.ZodUnion,...Je(e)});const Xn=t=>t instanceof xl?Xn(t.schema):t instanceof kn?Xn(t.innerType()):t instanceof vl?[t.value]:t instanceof zs?t.options:t instanceof bl?ot.objectValues(t.enum):t instanceof wl?Xn(t._def.innerType):t instanceof hl?[void 0]:t instanceof ml?[null]:t instanceof Fn?[void 0,...Xn(t.unwrap())]:t instanceof qs?[null,...Xn(t.unwrap())]:t instanceof xg||t instanceof Sl?Xn(t.unwrap()):t instanceof jl?Xn(t._def.innerType):[];class md extends et{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.object)return ve(r,{code:ae.invalid_type,expected:Ne.object,received:r.parsedType}),ze;const n=this.discriminator,i=r.data[n],l=this.optionsMap.get(i);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(ve(r,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const l of r){const c=Xn(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(i.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);i.set(d,l)}}return new md({typeName:We.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Je(n)})}}function Qm(t,e){const r=ts(t),n=ts(e);if(t===e)return{valid:!0,data:t};if(r===Ne.object&&n===Ne.object){const i=ot.objectKeys(e),l=ot.objectKeys(t).filter(d=>i.indexOf(d)!==-1),c={...t,...e};for(const d of l){const h=Qm(t[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(r===Ne.array&&n===Ne.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],h=Qm(c,d);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return r===Ne.date&&n===Ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gl extends et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(l,c)=>{if(Hm(l)||Hm(c))return ze;const d=Qm(l.value,c.value);return d.valid?((Gm(l)||Gm(c))&&r.dirty(),{status:r.value,value:d.data}):(ve(n,{code:ae.invalid_intersection_types}),ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>i(l,c)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gl.create=(t,e,r)=>new gl({left:t,right:e,typeName:We.ZodIntersection,...Je(r)});class Bn extends et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.array)return ve(n,{code:ae.invalid_type,expected:Ne.array,received:n.parsedType}),ze;if(n.data.length<this._def.items.length)return ve(n,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&n.data.length>this._def.items.length&&(ve(n,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new $n(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>xr.mergeArray(r,c)):xr.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Bn({...this._def,rest:e})}}Bn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bn({items:t,typeName:We.ZodTuple,rest:null,...Je(e)})};class yl extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.object)return ve(n,{code:ae.invalid_type,expected:Ne.object,received:n.parsedType}),ze;const i=[],l=this._def.keyType,c=this._def.valueType;for(const d in n.data)i.push({key:l._parse(new $n(n,d,n.path,d)),value:c._parse(new $n(n,n.data[d],n.path,d)),alwaysSet:d in n.data});return n.common.async?xr.mergeObjectAsync(r,i):xr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof et?new yl({keyType:e,valueType:r,typeName:We.ZodRecord,...Je(n)}):new yl({keyType:Sn.create(),valueType:e,typeName:We.ZodRecord,...Je(r)})}}class Hu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.map)return ve(n,{code:ae.invalid_type,expected:Ne.map,received:n.parsedType}),ze;const i=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([d,h],m)=>({key:i._parse(new $n(n,d,n.path,[m,"key"])),value:l._parse(new $n(n,h,n.path,[m,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,p=await h.value;if(m.status==="aborted"||p.status==="aborted")return ze;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of c){const m=h.key,p=h.value;if(m.status==="aborted"||p.status==="aborted")return ze;(m.status==="dirty"||p.status==="dirty")&&r.dirty(),d.set(m.value,p.value)}return{status:r.value,value:d}}}}Hu.create=(t,e,r)=>new Hu({valueType:e,keyType:t,typeName:We.ZodMap,...Je(r)});class Ei extends et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.set)return ve(n,{code:ae.invalid_type,expected:Ne.set,received:n.parsedType}),ze;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ve(n,{code:ae.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ve(n,{code:ae.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const l=this._def.valueType;function c(h){const m=new Set;for(const p of h){if(p.status==="aborted")return ze;p.status==="dirty"&&r.dirty(),m.add(p.value)}return{status:r.value,value:m}}const d=[...n.data.values()].map((h,m)=>l._parse(new $n(n,h,n.path,m)));return n.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,r){return new Ei({...this._def,minSize:{value:e,message:Oe.toString(r)}})}max(e,r){return new Ei({...this._def,maxSize:{value:e,message:Oe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ei.create=(t,e)=>new Ei({valueType:t,minSize:null,maxSize:null,typeName:We.ZodSet,...Je(e)});class Eo extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.function)return ve(r,{code:ae.invalid_type,expected:Ne.function,received:r.parsedType}),ze;function n(d,h){return qu({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zu(),Fo].filter(m=>!!m),issueData:{code:ae.invalid_arguments,argumentsError:h}})}function i(d,h){return qu({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zu(),Fo].filter(m=>!!m),issueData:{code:ae.invalid_return_type,returnTypeError:h}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Uo){const d=this;return Nr(async function(...h){const m=new Wr([]),p=await d._def.args.parseAsync(h,l).catch(S=>{throw m.addIssue(n(h,S)),m}),y=await Reflect.apply(c,this,p);return await d._def.returns._def.type.parseAsync(y,l).catch(S=>{throw m.addIssue(i(y,S)),m})})}else{const d=this;return Nr(function(...h){const m=d._def.args.safeParse(h,l);if(!m.success)throw new Wr([n(h,m.error)]);const p=Reflect.apply(c,this,m.data),y=d._def.returns.safeParse(p,l);if(!y.success)throw new Wr([i(p,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Eo({...this._def,args:Bn.create(e).rest(Ni.create())})}returns(e){return new Eo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Eo({args:e||Bn.create([]).rest(Ni.create()),returns:r||Ni.create(),typeName:We.ZodFunction,...Je(n)})}}class xl extends et{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xl.create=(t,e)=>new xl({getter:t,typeName:We.ZodLazy,...Je(e)});class vl extends et{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ve(r,{received:r.data,code:ae.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}vl.create=(t,e)=>new vl({value:t,typeName:We.ZodLiteral,...Je(e)});function O_(t,e){return new zs({values:t,typeName:We.ZodEnum,...Je(e)})}class zs extends et{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ve(r,{expected:ot.joinValues(n),received:r.parsedType,code:ae.invalid_type}),ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ve(r,{received:r.data,code:ae.invalid_enum_value,options:n}),ze}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return zs.create(e,{...this._def,...r})}exclude(e,r=this._def){return zs.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}zs.create=O_;class bl extends et{_parse(e){const r=ot.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const i=ot.objectValues(r);return ve(n,{expected:ot.joinValues(i),received:n.parsedType,code:ae.invalid_type}),ze}if(this._cache||(this._cache=new Set(ot.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ot.objectValues(r);return ve(n,{received:n.data,code:ae.invalid_enum_value,options:i}),ze}return Nr(e.data)}get enum(){return this._def.values}}bl.create=(t,e)=>new bl({values:t,typeName:We.ZodNativeEnum,...Je(e)});class Uo extends et{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.promise&&r.common.async===!1)return ve(r,{code:ae.invalid_type,expected:Ne.promise,received:r.parsedType}),ze;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return Nr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Uo.create=(t,e)=>new Uo({type:t,typeName:We.ZodPromise,...Je(e)});class kn extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,l={addIssue:c=>{ve(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),i.type==="preprocess"){const c=i.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return ze;const h=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return h.status==="aborted"?ze:h.status==="dirty"||r.value==="dirty"?jo(h.value):h});{if(r.value==="aborted")return ze;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?ze:d.status==="dirty"||r.value==="dirty"?jo(d.value):d}}if(i.type==="refinement"){const c=d=>{const h=i.refinement(d,l);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?ze:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?ze:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(i.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ki(c))return ze;const d=i.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>ki(c)?Promise.resolve(i.transform(c.value,l)).then(d=>({status:r.value,value:d})):ze);ot.assertNever(i)}}kn.create=(t,e,r)=>new kn({schema:t,typeName:We.ZodEffects,effect:e,...Je(r)});kn.createWithPreprocess=(t,e,r)=>new kn({schema:e,effect:{type:"preprocess",transform:t},typeName:We.ZodEffects,...Je(r)});class Fn extends et{_parse(e){return this._getType(e)===Ne.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fn.create=(t,e)=>new Fn({innerType:t,typeName:We.ZodOptional,...Je(e)});class qs extends et{_parse(e){return this._getType(e)===Ne.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(t,e)=>new qs({innerType:t,typeName:We.ZodNullable,...Je(e)});class wl extends et{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wl.create=(t,e)=>new wl({innerType:t,typeName:We.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class jl extends et{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dl(i)?i.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Wr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}jl.create=(t,e)=>new jl({innerType:t,typeName:We.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class Gu extends et{_parse(e){if(this._getType(e)!==Ne.nan){const n=this._getOrReturnCtx(e);return ve(n,{code:ae.invalid_type,expected:Ne.nan,received:n.parsedType}),ze}return{status:"valid",value:e.data}}}Gu.create=t=>new Gu({typeName:We.ZodNaN,...Je(t)});const LF=Symbol("zod_brand");class xg extends et{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Dl extends et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ze:l.status==="dirty"?(r.dirty(),jo(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ze:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Dl({in:e,out:r,typeName:We.ZodPipeline})}}class Sl extends et{_parse(e){const r=this._def.innerType._parse(e),n=i=>(ki(i)&&(i.value=Object.freeze(i.value)),i);return dl(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Sl.create=(t,e)=>new Sl({innerType:t,typeName:We.ZodReadonly,...Je(e)});function t0(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function vg(t,e={},r){return t?Vo.create().superRefine((n,i)=>{const l=t(n);if(l instanceof Promise)return l.then(c=>{if(!c){const d=t0(e,n),h=d.fatal??r??!0;i.addIssue({code:"custom",...d,fatal:h})}});if(!l){const c=t0(e,n),d=c.fatal??r??!0;i.addIssue({code:"custom",...c,fatal:d})}}):Vo.create()}const DF={object:At.lazycreate};var We;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(We||(We={}));const MF=(t,e={message:`Input not instance of ${t.name}`})=>vg(r=>r instanceof t,e),bt=Sn.create,Ml=$s.create,FF=Gu.create,VF=Bs.create,ji=fl.create,UF=Ci.create,$F=Wu.create,BF=hl.create,I_=ml.create,Qu=Vo.create,zF=Ni.create,qF=os.create,WF=Ku.create,Ln=_n.create,pd=At.create,KF=At.strictCreate,bg=pl.create,HF=md.create,GF=gl.create,QF=Bn.create,L_=yl.create,ZF=Hu.create,JF=Ei.create,YF=Eo.create,XF=xl.create,eV=vl.create,Zm=zs.create,tV=bl.create,rV=Uo.create,r0=kn.create,nV=Fn.create,sV=qs.create,iV=kn.createWithPreprocess,oV=Dl.create,aV=()=>bt().optional(),lV=()=>Ml().optional(),cV=()=>ji().optional(),uV={string:(t=>Sn.create({...t,coerce:!0})),number:(t=>$s.create({...t,coerce:!0})),boolean:(t=>fl.create({...t,coerce:!0})),bigint:(t=>Bs.create({...t,coerce:!0})),date:(t=>Ci.create({...t,coerce:!0}))},dV=ze,fV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:LF,DIRTY:jo,EMPTY_PATH:hF,INVALID:ze,NEVER:dV,OK:Nr,ParseStatus:xr,Schema:et,ZodAny:Vo,ZodArray:_n,ZodBigInt:Bs,ZodBoolean:fl,ZodBranded:xg,ZodCatch:jl,ZodDate:Ci,ZodDefault:wl,ZodDiscriminatedUnion:md,ZodEffects:kn,ZodEnum:zs,ZodError:Wr,get ZodFirstPartyTypeKind(){return We},ZodFunction:Eo,ZodIntersection:gl,ZodIssueCode:ae,ZodLazy:xl,ZodLiteral:vl,ZodMap:Hu,ZodNaN:Gu,ZodNativeEnum:bl,ZodNever:os,ZodNull:ml,ZodNullable:qs,ZodNumber:$s,ZodObject:At,ZodOptional:Fn,ZodParsedType:Ne,ZodPipeline:Dl,ZodPromise:Uo,ZodReadonly:Sl,ZodRecord:yl,ZodSchema:et,ZodSet:Ei,ZodString:Sn,ZodSymbol:Wu,ZodTransformer:kn,ZodTuple:Bn,ZodType:et,ZodUndefined:hl,ZodUnion:pl,ZodUnknown:Ni,ZodVoid:Ku,addIssueToContext:ve,any:Qu,array:Ln,bigint:VF,boolean:ji,coerce:uV,custom:vg,date:UF,datetimeRegex:R_,defaultErrorMap:Fo,discriminatedUnion:HF,effect:r0,enum:Zm,function:YF,getErrorMap:zu,getParsedType:ts,instanceof:MF,intersection:GF,isAborted:Hm,isAsync:dl,isDirty:Gm,isValid:ki,late:DF,lazy:XF,literal:eV,makeIssue:qu,map:ZF,nan:FF,nativeEnum:tV,never:qF,null:I_,nullable:sV,number:Ml,object:pd,get objectUtil(){return Km},oboolean:cV,onumber:lV,optional:nV,ostring:aV,pipeline:oV,preprocess:iV,promise:rV,quotelessJson:dF,record:L_,set:JF,setErrorMap:fF,strictObject:KF,string:bt,symbol:$F,transformer:r0,tuple:QF,undefined:BF,union:bg,unknown:zF,get util(){return ot},void:WF},Symbol.toStringTag,{value:"Module"})),Tt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function $t(t,e){return e.includes(t.columnType)}function hV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const mV=bg([bt(),Ml(),ji(),I_()]),pV=bg([mV,L_(Qu()),Ln(Qu())]),gV=vg(t=>t instanceof Buffer);function D_(t,e){const r=e?.zodInstance??fV,n=e?.coerce??{};let i;return hV(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||($t(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):$t(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):$t(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):$t(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):$t(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):$t(t,["PgArray"])?(i=r.array(D_(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=yV(t,r,n):t.dataType==="bigint"?i=xV(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=vV(t,r,n):t.dataType==="json"?i=pV:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=gV)),i||(i=r.any()),i}function yV(t,e,r){let n=t.getSQLType().includes("unsigned"),i,l,c=!1;$t(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:Tt.INT8_MIN,l=n?Tt.INT8_UNSIGNED_MAX:Tt.INT8_MAX,c=!0):$t(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:Tt.INT16_MIN,l=n?Tt.INT16_UNSIGNED_MAX:Tt.INT16_MAX,c=!0):$t(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:Tt.INT24_MIN,l=n?Tt.INT24_UNSIGNED_MAX:Tt.INT24_MAX,c=$t(t,["MySqlMediumInt","SingleStoreMediumInt"])):$t(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:Tt.INT32_MIN,l=n?Tt.INT32_UNSIGNED_MAX:Tt.INT32_MAX,c=!0):$t(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:Tt.INT48_MIN,l=n?Tt.INT48_UNSIGNED_MAX:Tt.INT48_MAX):$t(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||$t(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,c=!0):$t(t,["MySqlYear","SingleStoreYear"])?(i=1901,l=2155,c=!0):(i=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(i).max(l),c?d.int():d}function xV(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:Tt.INT64_MIN,l=n?Tt.INT64_UNSIGNED_MAX:Tt.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(i).max(l)}function vV(t,e,r){if($t(t,["PgUUID"]))return e.string().uuid();let n,i,l=!1;$t(t,["PgVarchar","SQLiteText"])?n=t.length:$t(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??Tt.INT16_UNSIGNED_MAX:$t(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=Tt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=Tt.INT24_UNSIGNED_MAX:t.textType==="text"?n=Tt.INT16_UNSIGNED_MAX:n=Tt.INT8_UNSIGNED_MAX),$t(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,l=!0),$t(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let c=r===!0||r?.string?e.coerce.string():e.string();return c=i?c.regex(i):c,n&&l?c.length(n):n?c.max(n):c}function M_(t){return w_(t)?a3(t):l3(t)}function F_(t,e,r,n){const i={};for(const[l,c]of Object.entries(t)){if(!or(c,cl)&&!or(c,Dt)&&!or(c,Dt.Aliased)&&typeof c=="object"){const y=w_(c)||o3(c)?M_(c):c;i[l]=F_(y,e[l]??{},r,n);continue}const d=e[l];if(d!==void 0&&typeof d!="function"){i[l]=d;continue}const h=or(c,cl)?c:void 0,m=h?D_(h,n):Qu(),p=typeof d=="function"?d(m):m;r.never(h)||(i[l]=p,h&&(r.nullable(h)&&(i[l]=i[l].nullable()),r.optional(h)&&(i[l]=i[l].optional())))}return pd(i)}const bV={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},V_=(t,e)=>{const r=M_(t);return F_(r,{},bV)},wV=E_("waitlist",{id:yg("id").primaryKey(),name:ul("name",{length:100}).notNull(),email:ul("email",{length:255}).notNull().unique()}),jV=E_("contact",{id:yg("id").primaryKey(),name:ul("name",{length:100}).notNull(),email:ul("email",{length:255}).notNull(),message:C_("message").notNull()}),SV=V_(wV).pick({name:!0,email:!0}),NV=V_(jV).pick({name:!0,email:!0,message:!0});var _V="Label",U_=b.forwardRef((t,e)=>o.jsx(_t.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));U_.displayName=_V;var $_=U_;const kV=hp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B_=b.forwardRef(({className:t,...e},r)=>o.jsx($_,{ref:r,className:dt(kV(),t),...e}));B_.displayName=$_.displayName;const z_=_4,q_=b.createContext({}),Ja=({...t})=>o.jsx(q_.Provider,{value:{name:t.name},children:o.jsx(T4,{...t})}),gd=()=>{const t=b.useContext(q_),e=b.useContext(W_),{getFieldState:r,formState:n}=fd(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:l}=e;return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}},W_=b.createContext({}),To=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return o.jsx(W_.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:dt("space-y-2",t),...e})})});To.displayName="FormItem";const CV=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=gd();return o.jsx(B_,{ref:r,className:dt(n&&"text-destructive",t),htmlFor:i,...e})});CV.displayName="FormLabel";const Po=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:l}=gd();return o.jsx(B0,{ref:e,id:n,"aria-describedby":r?`${i} ${l}`:`${i}`,"aria-invalid":!!r,...t})});Po.displayName="FormControl";const EV=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=gd();return o.jsx("p",{ref:r,id:n,className:dt("text-sm text-muted-foreground",t),...e})});EV.displayName="FormDescription";const Ao=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:l}=gd(),c=i?String(i?.message):e;return c?o.jsx("p",{ref:n,id:l,className:dt("text-sm font-medium text-destructive",t),...r,children:c}):null});Ao.displayName="FormMessage";const Nl=b.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Nl.displayName="Input";function yd({embedded:t=!1}){const{toast:e}=ip(),[r,n]=b.useState(!1),i=m_({resolver:g_(SV),defaultValues:{name:"",email:""}}),l=U0({mutationFn:async h=>{try{console.log("Submitting:",h);const m=await fetch("/.netlify/functions/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,name:h.name})});if(!m.ok)throw new Error("Failed to add to waitlist");return await m.json()}catch(m){throw console.error("Error:",m),m}},onSuccess:()=>{n(!0),e({title:"Success!",description:"You've been added to the waitlist."})},onError:()=>{e({variant:"destructive",title:"Error",description:"Something went wrong. Please try again."})}}),c=h=>{l.mutate(h)},d=o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join the Waitlist"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Be the first to know when GLASS-Connect ships new features for listing, verification, and collaboration routing."}),r?o.jsxs("div",{className:"text-center p-6 bg-primary/10 rounded-lg",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank you for joining!"}),o.jsx("p",{className:"text-muted-foreground",children:"We'll keep you updated on our progress."})]}):o.jsx(z_,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-4",children:[o.jsx(Ja,{control:i.control,name:"name",render:({field:h})=>o.jsxs(To,{children:[o.jsx(Po,{children:o.jsx(Nl,{placeholder:"Your name",...h})}),o.jsx(Ao,{})]})}),o.jsx(Ja,{control:i.control,name:"email",render:({field:h})=>o.jsxs(To,{children:[o.jsx(Po,{children:o.jsx(Nl,{type:"email",placeholder:"Your email",...h})}),o.jsx(Ao,{})]})}),o.jsx(_o,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?"Joining...":"Join Now"})]})})]});return t?o.jsx("div",{className:"w-full",children:o.jsx(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full",children:d})}):o.jsx("section",{id:"waitlist-section",className:"py-20 bg-background",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-lg mx-auto text-center",children:d})})})}const K_=b.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));K_.displayName="Textarea";function TV(){const{toast:t}=ip(),e=m_({resolver:g_(NV),defaultValues:{name:"",email:"",message:""}}),r=U0({mutationFn:async i=>(await fetch("/.netlify/functions/sendContact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json(),onSuccess:()=>{e.reset(),t({title:"Message sent!",description:"We'll get back to you as soon as possible."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to send message. Please try again."})}}),n=i=>{r.mutate(i)};return o.jsx("section",{className:"py-20 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[o.jsxs(Ge.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Have questions about GLASS-Connect? We're here to help labs list, verify, and handle inbound requests."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(pp,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"contact@glass-funding.com"})]})," "]})]}),o.jsx(Ge.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:o.jsx(z_,{...e,children:o.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[o.jsx(Ja,{control:e.control,name:"name",render:({field:i})=>o.jsxs(To,{children:[o.jsx(Po,{children:o.jsx(Nl,{placeholder:"Your name",...i})}),o.jsx(Ao,{})]})}),o.jsx(Ja,{control:e.control,name:"email",render:({field:i})=>o.jsxs(To,{children:[o.jsx(Po,{children:o.jsx(Nl,{type:"email",placeholder:"Your email",...i})}),o.jsx(Ao,{})]})}),o.jsx(Ja,{control:e.control,name:"message",render:({field:i})=>o.jsxs(To,{children:[o.jsx(Po,{children:o.jsx(K_,{placeholder:"Your message",className:"min-h-[120px]",...i})}),o.jsx(Ao,{})]})}),o.jsx(_o,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Sending...":"Send Message"})]})})})]})})})}const Wh=[{src:"/logos/logo-unistra.png",alt:"Unistra",href:"https://www.unistra.fr",className:"scale-125"},{src:"/logos/logo-EMStrasbourg.png",alt:"EM Strasbourg",href:"https://www.em-strasbourg.com/fr",className:"scale-[1.7]"},{src:"/logos/GrandEst.png",alt:"Grand Est",href:"https://www.grandest.fr/en/",className:"scale-[1.9]"},{src:"/logos/logo-etena.png",alt:"Ppite Etna",href:"https://etena.unistra.fr/",className:"scale-[1.2]"},{src:"/logos/logo-LaRucheAProjets.png",alt:"La Ruche a projets",href:"https://www.em-strasbourg.com/fr/etudiant/vie-etudiante-et-services/centre-entrepreneurial-la-ruche/incubateur-la-ruche-a-projets",className:"scale-[1.2]"}];function H_(){const t=b.useRef(null),e=b.useMemo(()=>[...Wh,...Wh,...Wh],[]);b.useEffect(()=>{const n=t.current;if(!n)return;const i=()=>{const c=n.scrollWidth/3;c>0&&(n.scrollLeft=c)},l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft<=0?n.scrollLeft+=c:n.scrollLeft>=c*2&&(n.scrollLeft-=c))};return i(),n.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",i),()=>{n.removeEventListener("scroll",l),window.removeEventListener("resize",i)}},[]),b.useEffect(()=>{const n=t.current;if(!n)return;let i;const l=()=>{const c=n.scrollWidth/3;c!==0&&(n.scrollLeft+=.4,n.scrollLeft>=c*2&&(n.scrollLeft-=c),i=window.requestAnimationFrame(l))};return i=window.requestAnimationFrame(l),()=>{window.cancelAnimationFrame(i)}},[]);const r=n=>{const i=t.current;if(!i)return;const l=i.scrollWidth/3;if(l===0)return;const c=i.clientWidth*.8;let d=n==="left"?i.scrollLeft-c:i.scrollLeft+c;n==="left"&&d<=0?d+=l:n==="right"&&d>=l*2&&(d-=l),i.scrollTo({left:d,behavior:"smooth"})};return o.jsx("section",{id:"partners",className:"py-20 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Partners"})}),o.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>r("left"),className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners left",children:o.jsx(dP,{className:"h-5 w-5"})}),o.jsx("button",{type:"button",onClick:()=>r("right"),className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-10 h-12 w-12 items-center justify-center rounded-full bg-background/80 border border-border text-muted-foreground hover:bg-background transition shadow-sm","aria-label":"Scroll partners right",children:o.jsx(fP,{className:"h-5 w-5"})}),o.jsx("div",{ref:t,className:"overflow-x-auto scroll-smooth no-scrollbar",children:o.jsx("div",{className:"flex gap-6 md:gap-8 min-w-max pb-2",children:e.map((n,i)=>o.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"relative block w-[160px] md:w-[180px] shrink-0",children:o.jsx(Ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:i*.04},children:o.jsx("div",{className:"bg-white border border-border rounded-xl px-6 py-5 h-28 flex items-center justify-center shadow-sm hover:shadow-md transition",children:o.jsx("img",{src:n.src,alt:n.alt,className:`max-h-12 object-contain opacity-80 hover:opacity-100 transition duration-300 ${n.className}`})})})},`${n.alt}-${i}`))})})]})]})})}function PV({title:t="Latest news",description:e,limit:r=20,className:n=""}){const[i,l]=b.useState([]),[c,d]=b.useState(!0),[h,m]=b.useState(null);return b.useEffect(()=>{let p=!0;async function y(){d(!0),m(null);try{const v=await fetch(`/api/news/public?limit=${r}`),S=v.headers.get("content-type")||"";if(!v.ok||!S.includes("application/json"))throw await v.text(),new Error("Unable to load news");const _=await v.json();p&&l(Array.isArray(_?.news)?_.news:[])}catch(v){p&&m(v?.message||"Unable to load news")}finally{p&&d(!1)}}return y(),()=>{p=!1}},[r]),o.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${n}`,children:[o.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?o.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),c&&o.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),h&&o.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:h}),!c&&!h&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"flex gap-4 min-w-full",children:[i.length===0&&o.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No news yet. Check back soon."}),i.map(p=>{const y=p.labs?.name||`Lab ${p.lab_id}`,v=p.created_at?new Date(p.created_at).toLocaleDateString():"";return o.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[o.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:o.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:p.category||"update"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.title}),o.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:p.summary})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"truncate",children:y}),o.jsx("span",{className:"text-[11px]",children:v})]}),o.jsx("div",{className:"flex items-center gap-2",children:p.images?.slice(0,2).map(S=>o.jsx("img",{src:S.url,alt:S.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},S.url))})]},p.id)})]})})]})}function AV({title:t="Featured labs",description:e,className:r=""}){const[n,i]=b.useState([]),[l,c]=b.useState(!0),[d,h]=b.useState(null);b.useEffect(()=>{let p=!0;async function y(){c(!0),h(null);try{const v=await fetch("/api/labs"),S=v.headers.get("content-type")||"";if(!v.ok||!S.includes("application/json"))throw await v.text(),new Error("Unable to load labs");const _=await v.json();p&&i(Array.isArray(_)?_:[])}catch(v){p&&h(v?.message||"Unable to load labs")}finally{p&&c(!1)}}return y(),()=>{p=!1}},[]);const m=b.useMemo(()=>n.filter(p=>{const y=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base";return(y==="premier"||y==="custom")&&p.isVisible!==!1}),[n]);return o.jsxs("section",{className:`rounded-3xl border border-border bg-card/80 p-6 shadow-sm ${r}`,children:[o.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Featured"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),e?o.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]})}),l&&o.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading featured labs"}),d&&o.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:d}),!l&&!d&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"flex gap-4 min-w-full",children:[m.length===0&&o.jsx("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 text-sm text-muted-foreground",children:"No featured labs yet. Check back soon."}),m.map(p=>{const y=(p.subscriptionTier??p.subscription_tier??"base")?.toLowerCase?.()||"base",v=p.logoUrl||p.photos?.[0]?.url;return o.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-[11px] font-medium text-primary capitalize",children:y}),o.jsxs("span",{className:"text-[11px] text-muted-foreground flex items-center gap-1",children:[o.jsx(gp,{className:"h-3 w-3"}),"Featured"]})]}),v&&o.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60 bg-muted/20",children:o.jsx("img",{src:v,alt:p.name,className:"h-32 w-full object-cover",loading:"lazy"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:p.name}),o.jsxs("p",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Fs,{className:"h-3 w-3"}),p.location]}),o.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted-foreground",children:[o.jsx(Nn,{className:"h-3 w-3 text-emerald-600"}),"Premier tier placement"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:"Premium listing with GLASS support and top placement."}),o.jsx(pe,{href:`/labs/${p.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},p.id)})]})})]})}function RV(){return o.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[o.jsx(y4,{}),o.jsx(AV,{title:"Featured labs",description:"Premier partners highlighted this week"}),o.jsx(j4,{}),o.jsx(PV,{title:"Lab news",description:"Latest updates across all labs",limit:30}),o.jsx(yd,{}),o.jsx(TV,{}),o.jsx(H_,{})]})}var OV=ep[" useId ".trim().toString()]||(()=>{}),IV=0;function Ya(t){const[e,r]=b.useState(OV());return Un(()=>{r(n=>n??String(IV++))},[t]),e?`radix-${e}`:""}var Kh="focusScope.autoFocusOnMount",Hh="focusScope.autoFocusOnUnmount",n0={bubbles:!1,cancelable:!0},LV="FocusScope",G_=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,h]=b.useState(null),m=Vn(i),p=Vn(l),y=b.useRef(null),v=Kr(e,j=>h(j)),S=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let j=function(E){if(S.paused||!d)return;const A=E.target;d.contains(A)?y.current=A:Ls(y.current,{select:!0})},w=function(E){if(S.paused||!d)return;const A=E.relatedTarget;A!==null&&(d.contains(A)||Ls(y.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const L of E)L.removedNodes.length>0&&Ls(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",w);const k=new MutationObserver(C);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",w),k.disconnect()}}},[n,d,S.paused]),b.useEffect(()=>{if(d){i0.add(S);const j=document.activeElement;if(!d.contains(j)){const C=new CustomEvent(Kh,n0);d.addEventListener(Kh,m),d.dispatchEvent(C),C.defaultPrevented||(DV($V(Q_(d)),{select:!0}),document.activeElement===j&&Ls(d))}return()=>{d.removeEventListener(Kh,m),setTimeout(()=>{const C=new CustomEvent(Hh,n0);d.addEventListener(Hh,p),d.dispatchEvent(C),C.defaultPrevented||Ls(j??document.body,{select:!0}),d.removeEventListener(Hh,p),i0.remove(S)},0)}}},[d,m,p,S]);const _=b.useCallback(j=>{if(!r&&!n||S.paused)return;const w=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(w&&C){const k=j.currentTarget,[E,A]=MV(k);E&&A?!j.shiftKey&&C===A?(j.preventDefault(),r&&Ls(E,{select:!0})):j.shiftKey&&C===E&&(j.preventDefault(),r&&Ls(A,{select:!0})):C===k&&j.preventDefault()}},[r,n,S.paused]);return o.jsx(_t.div,{tabIndex:-1,...c,ref:v,onKeyDown:_})});G_.displayName=LV;function DV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ls(n,{select:e}),document.activeElement!==r)return}function MV(t){const e=Q_(t),r=s0(e,t),n=s0(e.reverse(),t);return[r,n]}function Q_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function s0(t,e){for(const r of t)if(!FV(r,{upTo:e}))return r}function FV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VV(t){return t instanceof HTMLInputElement&&"select"in t}function Ls(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&VV(t)&&e&&t.select()}}var i0=UV();function UV(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=o0(t,e),t.unshift(e)},remove(e){t=o0(t,e),t[0]?.resume()}}}function o0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function $V(t){return t.filter(e=>e.tagName!=="A")}var Gh=0;function BV(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??a0()),document.body.insertAdjacentElement("beforeend",t[1]??a0()),Gh++,()=>{Gh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gh--}},[])}function a0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bu="right-scroll-bar-position",wu="width-before-scroll-bar",zV="with-scroll-bars-hidden",qV="--removed-body-scroll-bar-size";function Qh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function WV(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var KV=typeof window<"u"?b.useLayoutEffect:b.useEffect,l0=new WeakMap;function HV(t,e){var r=WV(null,function(n){return t.forEach(function(i){return Qh(i,n)})});return KV(function(){var n=l0.get(r);if(n){var i=new Set(n),l=new Set(t),c=r.current;i.forEach(function(d){l.has(d)||Qh(d,null)}),l.forEach(function(d){i.has(d)||Qh(d,c)})}l0.set(r,t)},[t]),r}function GV(t){return t}function QV(t,e){e===void 0&&(e=GV);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var h=function(){var p=c;c=[],p.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),r}}}};return i}function ZV(t){t===void 0&&(t={});var e=QV(null);return e.options=sn({async:!0,ssr:!1},t),e}var Z_=function(t){var e=t.sideCar,r=Ks(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,sn({},r))};Z_.isSideCarExport=!0;function JV(t,e){return t.useMedium(e),Z_}var J_=ZV(),Zh=function(){},xd=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:Zh,onWheelCapture:Zh,onTouchMoveCapture:Zh}),i=n[0],l=n[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,p=t.enabled,y=t.shards,v=t.sideCar,S=t.noRelative,_=t.noIsolation,j=t.inert,w=t.allowPinchZoom,C=t.as,k=C===void 0?"div":C,E=t.gapMode,A=Ks(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,F=HV([r,e]),G=sn(sn({},A),i);return b.createElement(b.Fragment,null,p&&b.createElement(L,{sideCar:J_,removeScrollBar:m,shards:y,noRelative:S,noIsolation:_,inert:j,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:E}),c?b.cloneElement(b.Children.only(d),sn(sn({},G),{ref:F})):b.createElement(k,sn({},G,{className:h,ref:F}),d))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:wu,zeroRight:bu};var YV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=YV();return e&&t.setAttribute("nonce",e),t}function eU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rU=function(){var t=0,e=null;return{add:function(r){t==0&&(e=XV())&&(eU(e,r),tU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nU=function(){var t=rU();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Y_=function(){var t=nU(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},sU={left:0,top:0,right:0,gap:0},Jh=function(t){return parseInt(t||"",10)||0},iU=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Jh(r),Jh(n),Jh(i)]},oU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sU;var e=iU(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},aU=Y_(),Ro="data-scroll-locked",lU=function(t,e,r,n){var i=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(zV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Ro,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(wu,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ro,`] {
    `).concat(qV,": ").concat(d,`px;
  }
`)},c0=function(){var t=parseInt(document.body.getAttribute(Ro)||"0",10);return isFinite(t)?t:0},cU=function(){b.useEffect(function(){return document.body.setAttribute(Ro,(c0()+1).toString()),function(){var t=c0()-1;t<=0?document.body.removeAttribute(Ro):document.body.setAttribute(Ro,t.toString())}},[])},uU=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;cU();var l=b.useMemo(function(){return oU(i)},[i]);return b.createElement(aU,{styles:lU(l,!e,i,r?"":"!important")})},Jm=!1;if(typeof window<"u")try{var lu=Object.defineProperty({},"passive",{get:function(){return Jm=!0,!0}});window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{Jm=!1}var ao=Jm?{passive:!1}:!1,dU=function(t){return t.tagName==="TEXTAREA"},X_=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!dU(t)&&r[e]==="visible")},fU=function(t){return X_(t,"overflowY")},hU=function(t){return X_(t,"overflowX")},u0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=e1(t,n);if(i){var l=t1(t,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},mU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},pU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},e1=function(t,e){return t==="v"?fU(e):hU(e)},t1=function(t,e){return t==="v"?mU(e):pU(e)},gU=function(t,e){return t==="h"&&e==="rtl"?-1:1},yU=function(t,e,r,n,i){var l=gU(t,window.getComputedStyle(e).direction),c=l*n,d=r.target,h=e.contains(d),m=!1,p=c>0,y=0,v=0;do{if(!d)break;var S=t1(t,d),_=S[0],j=S[1],w=S[2],C=j-w-l*_;(_||C)&&e1(t,d)&&(y+=C,v+=_);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(p&&Math.abs(y)<1||!p&&Math.abs(v)<1)&&(m=!0),m},cu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},d0=function(t){return[t.deltaX,t.deltaY]},f0=function(t){return t&&"current"in t?t.current:t},xU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},bU=0,lo=[];function wU(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(bU++)[0],l=b.useState(Y_)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=eg([t.lockRef.current],(t.shards||[]).map(f0),!0).filter(Boolean);return j.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=b.useCallback(function(j,w){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var C=cu(j),k=r.current,E="deltaX"in j?j.deltaX:k[0]-C[0],A="deltaY"in j?j.deltaY:k[1]-C[1],L,F=j.target,G=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in j&&G==="h"&&F.type==="range")return!1;var J=u0(G,F);if(!J)return!0;if(J?L=G:(L=G==="v"?"h":"v",J=u0(G,F)),!J)return!1;if(!n.current&&"changedTouches"in j&&(E||A)&&(n.current=L),!L)return!0;var O=n.current||L;return yU(O,w,j,O==="h"?E:A)},[]),h=b.useCallback(function(j){var w=j;if(!(!lo.length||lo[lo.length-1]!==l)){var C="deltaY"in w?d0(w):cu(w),k=e.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&xU(L.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var E=(c.current.shards||[]).map(f0).filter(Boolean).filter(function(L){return L.contains(w.target)}),A=E.length>0?d(w,E[0]):!c.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),m=b.useCallback(function(j,w,C,k){var E={name:j,delta:w,target:C,should:k,shadowParent:jU(C)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),p=b.useCallback(function(j){r.current=cu(j),n.current=void 0},[]),y=b.useCallback(function(j){m(j.type,d0(j),j.target,d(j,t.lockRef.current))},[]),v=b.useCallback(function(j){m(j.type,cu(j),j.target,d(j,t.lockRef.current))},[]);b.useEffect(function(){return lo.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",h,ao),document.addEventListener("touchmove",h,ao),document.addEventListener("touchstart",p,ao),function(){lo=lo.filter(function(j){return j!==l}),document.removeEventListener("wheel",h,ao),document.removeEventListener("touchmove",h,ao),document.removeEventListener("touchstart",p,ao)}},[]);var S=t.removeScrollBar,_=t.inert;return b.createElement(b.Fragment,null,_?b.createElement(l,{styles:vU(i)}):null,S?b.createElement(uU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SU=JV(J_,wU);var r1=b.forwardRef(function(t,e){return b.createElement(xd,sn({},t,{ref:e,sideCar:SU}))});r1.classNames=xd.classNames;var NU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},co=new WeakMap,uu=new WeakMap,du={},Yh=0,n1=function(t){return t&&(t.host||n1(t.parentNode))},_U=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=n1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},kU=function(t,e,r,n){var i=_U(e,Array.isArray(t)?t:[t]);du[r]||(du[r]=new WeakMap);var l=du[r],c=[],d=new Set,h=new Set(i),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};i.forEach(m);var p=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(v){if(d.has(v))p(v);else try{var S=v.getAttribute(n),_=S!==null&&S!=="false",j=(co.get(v)||0)+1,w=(l.get(v)||0)+1;co.set(v,j),l.set(v,w),c.push(v),j===1&&_&&uu.set(v,!0),w===1&&v.setAttribute(r,"true"),_||v.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return p(e),d.clear(),Yh++,function(){c.forEach(function(y){var v=co.get(y)-1,S=l.get(y)-1;co.set(y,v),l.set(y,S),v||(uu.has(y)||y.removeAttribute(n),uu.delete(y)),S||y.removeAttribute(r)}),Yh--,Yh||(co=new WeakMap,co=new WeakMap,uu=new WeakMap,du={})}},CU=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=NU(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),kU(n,i,r,"aria-hidden")):function(){return null}},vd="Dialog",[s1]=$o(vd),[EU,Cn]=s1(vd),i1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=b.useRef(null),h=b.useRef(null),[m,p]=Cl({prop:n,defaultProp:i??!1,onChange:l,caller:vd});return o.jsx(EU,{scope:e,triggerRef:d,contentRef:h,contentId:Ya(),titleId:Ya(),descriptionId:Ya(),open:m,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(y=>!y),[p]),modal:c,children:r})};i1.displayName=vd;var o1="DialogTrigger",TU=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cn(o1,r),l=Kr(e,i.triggerRef);return o.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Sg(i.open),...n,ref:l,onClick:Kt(t.onClick,i.onOpenToggle)})});TU.displayName=o1;var wg="DialogPortal",[PU,a1]=s1(wg,{forceMount:void 0}),l1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,l=Cn(wg,e);return o.jsx(PU,{scope:e,forceMount:r,children:b.Children.map(n,c=>o.jsx(Bo,{present:r||l.open,children:o.jsx(lp,{asChild:!0,container:i,children:c})}))})};l1.displayName=wg;var Zu="DialogOverlay",c1=b.forwardRef((t,e)=>{const r=a1(Zu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=Cn(Zu,t.__scopeDialog);return l.modal?o.jsx(Bo,{present:n||l.open,children:o.jsx(RU,{...i,ref:e})}):null});c1.displayName=Zu;var AU=el("DialogOverlay.RemoveScroll"),RU=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cn(Zu,r);return o.jsx(r1,{as:AU,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(_t.div,{"data-state":Sg(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ti="DialogContent",u1=b.forwardRef((t,e)=>{const r=a1(Ti,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=Cn(Ti,t.__scopeDialog);return o.jsx(Bo,{present:n||l.open,children:l.modal?o.jsx(OU,{...i,ref:e}):o.jsx(IU,{...i,ref:e})})});u1.displayName=Ti;var OU=b.forwardRef((t,e)=>{const r=Cn(Ti,t.__scopeDialog),n=b.useRef(null),i=Kr(e,r.contentRef,n);return b.useEffect(()=>{const l=n.current;if(l)return CU(l)},[]),o.jsx(d1,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kt(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Kt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Kt(t.onFocusOutside,l=>l.preventDefault())})}),IU=b.forwardRef((t,e)=>{const r=Cn(Ti,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return o.jsx(d1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),d1=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,d=Cn(Ti,r),h=b.useRef(null),m=Kr(e,h);return BV(),o.jsxs(o.Fragment,{children:[o.jsx(G_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(ap,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Sg(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(LU,{titleId:d.titleId}),o.jsx(MU,{contentRef:h,descriptionId:d.descriptionId})]})]})}),jg="DialogTitle",f1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cn(jg,r);return o.jsx(_t.h2,{id:i.titleId,...n,ref:e})});f1.displayName=jg;var h1="DialogDescription",m1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cn(h1,r);return o.jsx(_t.p,{id:i.descriptionId,...n,ref:e})});m1.displayName=h1;var p1="DialogClose",g1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Cn(p1,r);return o.jsx(_t.button,{type:"button",...n,ref:e,onClick:Kt(t.onClick,()=>i.onOpenChange(!1))})});g1.displayName=p1;function Sg(t){return t?"open":"closed"}var y1="DialogTitleWarning",[CB,x1]=dT(y1,{contentName:Ti,titleName:jg,docsSlug:"dialog"}),LU=({titleId:t})=>{const e=x1(y1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},DU="DialogDescriptionWarning",MU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x1(DU).contentName}}.`;return b.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},FU=i1,VU=l1,v1=c1,b1=u1,w1=f1,j1=m1,UU=g1;const $U=FU,BU=VU,S1=b.forwardRef(({className:t,...e},r)=>o.jsx(v1,{ref:r,className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));S1.displayName=v1.displayName;const N1=b.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(BU,{children:[o.jsx(S1,{}),o.jsxs(b1,{ref:n,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(UU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ms,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));N1.displayName=b1.displayName;const _1=b.forwardRef(({className:t,...e},r)=>o.jsx(w1,{ref:r,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));_1.displayName=w1.displayName;const zU=b.forwardRef(({className:t,...e},r)=>o.jsx(j1,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));zU.displayName=j1.displayName;function qU({open:t,onOpenChange:e}){const[r,n]=b.useState(0);return o.jsx($U,{open:t,onOpenChange:i=>{e(i),i||n(l=>l+1)},children:o.jsxs(N1,{className:"max-w-3xl p-0 overflow-hidden",children:[o.jsx(_1,{className:"sr-only",children:"Join the waitlist"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1.05fr_1.15fr]",children:[o.jsx("div",{className:"p-8",children:o.jsx(yd,{embedded:!0})},r),o.jsxs("div",{className:"hidden md:flex flex-col justify-center gap-4 border-l border-border bg-card/60 px-10 py-12",children:[o.jsx("p",{className:"text-base font-medium text-foreground uppercase tracking-[0.25em]",children:"Why it matters"}),o.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"Every name on the waitlist is proof that science can belong to everyone. Well only reach out when theres meaningful progressno spam, just breakthroughs the community helps bring to life."})]})]})]})})}const WU=[{title:"1. Publish your lab",description:"Share your capabilities, equipment, and collaboration preferences in a structured profile built for scientists."},{title:"2. Verify once",description:"We run a light remote/on-site verification so partners know the details are accurate and trusted."},{title:"3. Connect quickly",description:"Inbound requests are routed straight to your team. Share availability, manage intros, and stay visible to the network."}],KU=[{title:"Labs & Core Facilities",description:"List your capabilities, surface underused equipment, and make it easy for peers and partners to collaborate."},{title:"Network Operators",description:"Manage multiple labs with consistent profiles, verification, and routing that respects each sites preferences."},{title:"Industry & Partners",description:"Find trusted collaborators faster, with clear capabilities, contact paths, and lightweight governance."}],HU=[{title:"Standardised discovery",description:"Profiles use the same structure across labs, so partners can compare expertise, equipment, and availability quickly."},{title:"Trusted details",description:"Verification checks make it clear whats real, whats available, and who to reach without endless back-and-forth."},{title:"Less time chasing",description:"GLASS-Connect routes qualified requests to the right people, helping teams spend more time collaborating."}];function GU(){const[t,e]=b.useState(!1);return o.jsxs("div",{className:"bg-background text-foreground",children:[o.jsx("section",{className:"border-b border-border bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:o.jsxs("div",{className:"max-w-3xl",children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Why we started GLASS-Connect"}),o.jsx("h1",{className:"mt-4 text-4xl font-semibold leading-tight md:text-5xl",children:"Science deserves collaboration thats fast, clear, and trusted."}),o.jsx("p",{className:"mt-6 text-lg text-muted-foreground leading-relaxed",children:"Labs have incredible capabilities, but no simple way to share them or filter serious collaboration requests from noise. GLASS-Connect is a directory and routing layer for labs: structured profiles, light verification, and direct introductions so teams can work together fasterwithout adding bureaucracy."}),o.jsxs("div",{className:"mt-8 flex flex-col gap-3 sm:flex-row sm:items-center",children:[o.jsx(pe,{href:"/roadmap",children:o.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["Explore the roadmap",o.jsx($v,{className:"h-4 w-4"})]})}),o.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-6 py-3 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})})}),o.jsx("section",{className:"border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Why a lab network matters"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We built GLASS-Connect to make it effortless for partners to find, trust, and contact the right labwithout long chains of introductions or hidden spreadsheets."}),o.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:HU.map(r=>o.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),o.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),o.jsx("section",{className:"border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:o.jsxs("div",{className:"grid gap-10 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)] lg:items-start",children:[o.jsxs("article",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"What is GLASS-Connect?"}),o.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"GLASS-Connect is a directory and routing layer for research labs. We standardise how labs present their capabilities, verify key details, and connect inbound collaborations without burying teams in admin."})]}),o.jsxs("article",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Why GLASS-Connect matters"}),o.jsx("p",{className:"mt-4 text-muted-foreground leading-relaxed",children:"Today, capabilities are scattered across PDFs, cold emails, and outdated directories. GLASS-Connect gives every lab a clear presence and makes it simple for serious partners to reach the right people without chasing inboxes."})]})]})})}),o.jsx("section",{className:"border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"How Glass works"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"We combine structured profiles with light verification and direct routing so collaborators can move from first contact to scoped work quickly."}),o.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:WU.map(r=>o.jsxs("div",{className:"h-full rounded-3xl border border-border bg-card p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),o.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),o.jsx("section",{className:"border-b border-border bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Who we build for"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"GLASS-Connect gives labs and partners a shared surface to collaboratewithout forcing them into new workflows."}),o.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:KU.map(r=>o.jsxs("div",{className:"h-full rounded-3xl border border-border bg-background p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:r.title}),o.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})}),o.jsx(H_,{}),o.jsx("section",{className:"border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20",children:[o.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Lets connect labs faster"}),o.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-center text-muted-foreground leading-relaxed",children:"Whether you manage a single lab or a network of facilities, GLASS-Connect gives you a clear, trusted place to showcase your work and meet collaborators."}),o.jsxs("div",{className:"mt-8 flex flex-col justify-center gap-3 sm:flex-row",children:[o.jsx(pe,{href:"/roadmap",children:o.jsxs("a",{className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:["See whats next",o.jsx($v,{className:"h-4 w-4"})]})}),o.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 rounded-full border border-border px-5 py-2.5 text-sm font-medium text-muted-foreground transition hover:text-foreground",children:"Join the waitlist"})]})]})}),o.jsx(qU,{open:t,onOpenChange:e})]})}var bd="Collapsible",[QU,k1]=$o(bd),[ZU,Ng]=QU(bd),C1=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:l,onOpenChange:c,...d}=t,[h,m]=Cl({prop:n,defaultProp:i??!1,onChange:c,caller:bd});return o.jsx(ZU,{scope:r,disabled:l,contentId:Ya(),open:h,onOpenToggle:b.useCallback(()=>m(p=>!p),[m]),children:o.jsx(_t.div,{"data-state":kg(h),"data-disabled":l?"":void 0,...d,ref:e})})});C1.displayName=bd;var E1="CollapsibleTrigger",T1=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=Ng(E1,r);return o.jsx(_t.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":kg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Kt(t.onClick,i.onOpenToggle)})});T1.displayName=E1;var _g="CollapsibleContent",P1=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ng(_g,t.__scopeCollapsible);return o.jsx(Bo,{present:r||i.open,children:({present:l})=>o.jsx(JU,{...n,ref:e,present:l})})});P1.displayName=_g;var JU=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...l}=t,c=Ng(_g,r),[d,h]=b.useState(n),m=b.useRef(null),p=Kr(e,m),y=b.useRef(0),v=y.current,S=b.useRef(0),_=S.current,j=c.open||d,w=b.useRef(j),C=b.useRef(void 0);return b.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),Un(()=>{const k=m.current;if(k){C.current=C.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const E=k.getBoundingClientRect();y.current=E.height,S.current=E.width,w.current||(k.style.transitionDuration=C.current.transitionDuration,k.style.animationName=C.current.animationName),h(n)}},[c.open,n]),o.jsx(_t.div,{"data-state":kg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...l,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:j&&i})});function kg(t){return t?"open":"closed"}var YU=C1,XU=T1,e$=P1,t$=b.createContext(void 0);function r$(t){const e=b.useContext(t$);return t||e||"ltr"}var En="Accordion",n$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Cg,s$,i$]=z0(En),[wd]=$o(En,[i$,k1]),Eg=k1(),A1=De.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,l=n;return o.jsx(Cg.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?o.jsx(c$,{...l,ref:e}):o.jsx(l$,{...i,ref:e})})});A1.displayName=En;var[R1,o$]=wd(En),[O1,a$]=wd(En,{collapsible:!1}),l$=De.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:l=!1,...c}=t,[d,h]=Cl({prop:r,defaultProp:n??"",onChange:i,caller:En});return o.jsx(R1,{scope:t.__scopeAccordion,value:De.useMemo(()=>d?[d]:[],[d]),onItemOpen:h,onItemClose:De.useCallback(()=>l&&h(""),[l,h]),children:o.jsx(O1,{scope:t.__scopeAccordion,collapsible:l,children:o.jsx(I1,{...c,ref:e})})})}),c$=De.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...l}=t,[c,d]=Cl({prop:r,defaultProp:n??[],onChange:i,caller:En}),h=De.useCallback(p=>d((y=[])=>[...y,p]),[d]),m=De.useCallback(p=>d((y=[])=>y.filter(v=>v!==p)),[d]);return o.jsx(R1,{scope:t.__scopeAccordion,value:c,onItemOpen:h,onItemClose:m,children:o.jsx(O1,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(I1,{...l,ref:e})})})}),[u$,jd]=wd(En),I1=De.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:l="vertical",...c}=t,d=De.useRef(null),h=Kr(d,e),m=s$(r),y=r$(i)==="ltr",v=Kt(t.onKeyDown,S=>{if(!n$.includes(S.key))return;const _=S.target,j=m().filter(J=>!J.ref.current?.disabled),w=j.findIndex(J=>J.ref.current===_),C=j.length;if(w===-1)return;S.preventDefault();let k=w;const E=0,A=C-1,L=()=>{k=w+1,k>A&&(k=E)},F=()=>{k=w-1,k<E&&(k=A)};switch(S.key){case"Home":k=E;break;case"End":k=A;break;case"ArrowRight":l==="horizontal"&&(y?L():F());break;case"ArrowDown":l==="vertical"&&L();break;case"ArrowLeft":l==="horizontal"&&(y?F():L());break;case"ArrowUp":l==="vertical"&&F();break}const G=k%C;j[G].ref.current?.focus()});return o.jsx(u$,{scope:r,disabled:n,direction:i,orientation:l,children:o.jsx(Cg.Slot,{scope:r,children:o.jsx(_t.div,{...c,"data-orientation":l,ref:h,onKeyDown:n?void 0:v})})})}),Ju="AccordionItem",[d$,Tg]=wd(Ju),L1=De.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,l=jd(Ju,r),c=o$(Ju,r),d=Eg(r),h=Ya(),m=n&&c.value.includes(n)||!1,p=l.disabled||t.disabled;return o.jsx(d$,{scope:r,open:m,disabled:p,triggerId:h,children:o.jsx(YU,{"data-orientation":l.orientation,"data-state":$1(m),...d,...i,ref:e,disabled:p,open:m,onOpenChange:y=>{y?c.onItemOpen(n):c.onItemClose(n)}})})});L1.displayName=Ju;var D1="AccordionHeader",M1=De.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=jd(En,r),l=Tg(D1,r);return o.jsx(_t.h3,{"data-orientation":i.orientation,"data-state":$1(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:e})});M1.displayName=D1;var Ym="AccordionTrigger",F1=De.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=jd(En,r),l=Tg(Ym,r),c=a$(Ym,r),d=Eg(r);return o.jsx(Cg.ItemSlot,{scope:r,children:o.jsx(XU,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId,...d,...n,ref:e})})});F1.displayName=Ym;var V1="AccordionContent",U1=De.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=jd(En,r),l=Tg(V1,r),c=Eg(r);return o.jsx(e$,{role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation,...c,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});U1.displayName=V1;function $1(t){return t?"open":"closed"}var f$=A1,h$=L1,m$=M1,B1=F1,z1=U1;const p$=f$,ju=b.forwardRef(({className:t,...e},r)=>o.jsx(h$,{ref:r,className:dt("border-b",t),...e}));ju.displayName="AccordionItem";const Su=b.forwardRef(({className:t,children:e,...r},n)=>o.jsx(m$,{className:"flex",children:o.jsxs(B1,{ref:n,className:dt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,o.jsx(uP,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Su.displayName=B1.displayName;const Nu=b.forwardRef(({className:t,children:e,...r},n)=>o.jsx(z1,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:dt("pb-4 pt-0",t),children:e})}));Nu.displayName=z1.displayName;function g$(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"container mx-auto px-4 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-14",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Contact Glass"}),o.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["Every question, partnership idea, or introduction helps labs collaborate faster. Whether you are a researcher, operator, journalist, or partneryou can reach the GLASS-Connect team at"," ",o.jsx("a",{href:"mailto:support@glass.demo",className:"font-medium text-primary hover:underline",children:"contact@glass-funding.com"}),"."]})]}),o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid gap-10 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)] items-start",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 shadow-sm p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:o.jsx(pp,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground",children:"Write to us"}),o.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-lg font-medium text-foreground hover:text-primary",children:"contact@glass-funding.com"})]})]}),o.jsxs("div",{className:"grid gap-4 text-sm text-muted-foreground leading-relaxed",children:[o.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Researchers & Labs"}),o.jsx("p",{className:"mt-2",children:"Share your lab profile, ask about verification, or get help with listing updates and inbound requests."})]}),o.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Network Operators"}),o.jsx("p",{className:"mt-2",children:"Manage multiple labs, set routing rules, and keep data fresh across your networkwe can help."})]}),o.jsxs("div",{className:"rounded-2xl bg-background border border-border/80 p-4",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Media & Partners"}),o.jsx("p",{className:"mt-2",children:"Request interviews, press kits, or collaboration details. Were happy to share what GLASS-Connect is building."})]})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/60 shadow-sm p-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground text-left",children:"FAQs"}),o.jsxs(p$,{type:"single",collapsible:!0,className:"mt-4 space-y-1",children:[o.jsxs(ju,{value:"faq-1",children:[o.jsx(Su,{className:"text-left text-sm",children:"How soon will someone reply?"}),o.jsx(Nu,{children:o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We aim to respond within 2 business days. Research submissions may take a little longer while we loop in advisors for review."})})]}),o.jsxs(ju,{value:"faq-2",children:[o.jsx(Su,{className:"text-left text-sm",children:"Do I need verification to list a lab?"}),o.jsx(Nu,{children:o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"We recommend verification to improve trust and placement. You can publish a profile without it and schedule verification when you are ready."})})]}),o.jsxs(ju,{value:"faq-3",children:[o.jsx(Su,{className:"text-left text-sm",children:"Can I demo the platform before launch?"}),o.jsx(Nu,{children:o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Yesdrop us a note at contact@glass-funding.com and well share the latest demo environment and roadmap update."})})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-muted-foreground text-left",children:"Social"}),o.jsxs("div",{className:"mt-4 flex gap-3 text-muted-foreground",children:[o.jsx("a",{href:"https://x.com/GlassFunding",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on X",children:o.jsx(Ms,{className:"h-4 w-4"})}),o.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on LinkedIn",children:o.jsx(mp,{className:"h-4 w-4"})}),o.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border hover:text-primary transition","aria-label":"Glass on Instagram",children:o.jsx(xj,{className:"h-4 w-4"})})]})]})]})]})]})}),o.jsx(yd,{})]})}function y$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"404 error"}),o.jsx("h1",{className:"mt-6 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Looks like this page drifted off the map."}),o.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"The link you followed might be broken or the content may have been moved. Try returning to the homepage or browse our available lab partners."}),o.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[o.jsx(pe,{href:"/",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Back to homepage"})}),o.jsx(pe,{href:"/labs",children:o.jsxs("a",{className:"inline-flex items-center justify-center gap-2 rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:[o.jsx(_P,{className:"h-4 w-4"}),"Browse labs"]})})]}),o.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Believe this is a mistake?"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"Let us know"}),"."]})]})})}function x$(){const{user:t,loading:e}=cr(),[r,n]=b.useState(""),[i,l]=b.useState(""),[c,d]=b.useState(null),[,h]=as(),[m,p]=b.useState(!1),y=b.useMemo(()=>{try{return new URLSearchParams(window.location.search).get("next")||"/account"}catch{return"/account"}},[]);b.useEffect(()=>{!e&&t&&h(y,{replace:!0})},[e,t,h,y]);const v=async S=>{if(S.preventDefault(),!r||!i){d("Enter your email and password to continue.");return}d(null),p(!0);try{const{data:_,error:j}=await Be.auth.signInWithPassword({email:r,password:i});j?d(j.message):_.session&&h(y,{replace:!0})}catch(_){console.error(_),d("Unexpected error occurred. Please try again.")}finally{p(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Welcome back"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Sign in to keep backing the science that matters to you."}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Access your portfolio, track donations, and stay close to the research teams you support."}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("p",{className:"font-medium text-foreground",children:"New to Glass?"}),o.jsx("p",{className:"mt-1",children:"Create an account in minutes and start directing capital to world-class labs."}),o.jsx(pe,{href:"/signup",children:o.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Create your profile"})})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[o.jsxs("form",{className:"space-y-5",onSubmit:v,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:S=>n(S.target.value),placeholder:"you@example.org",required:!0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),o.jsx(pe,{href:"/forgot-password",children:o.jsx("a",{className:"text-xs font-medium text-muted-foreground hover:text-foreground transition",children:"Forgot?"})})]}),o.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:i,onChange:S=>l(S.target.value),placeholder:"Enter your password",required:!0})]}),c&&o.jsx("p",{className:"text-sm text-destructive",children:c}),o.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:m,children:m?"Signing in...":"Log in"})]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Need to get set up?"," ",o.jsx(pe,{href:"/signup",children:o.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Create an account"})})]})]})]})})})}function v$(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[i,l]=b.useState(""),[c,d]=b.useState(null),[h,m]=b.useState(!1),[,p]=as(),y=async v=>{if(v.preventDefault(),!r.includes("@")||i.length<6){d("Use a valid email address and a password with at least 6 characters.");return}d(null),m(!0);try{const{data:S,error:_}=await Be.auth.signUp({email:r,password:i});if(_){d(_.message),m(!1);return}p("/login")}catch(S){console.error(S),d("Unexpected error occurred. Please try again.")}finally{m(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Join the community"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Build your Glass profile and direct capital where breakthroughs happen."}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Tell us a little about you and well surface handpicked projects, personalized reports, and donation workflows."}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Already supporting teams?"}),o.jsx("p",{className:"mt-1",children:"Sign in to continue tracking milestones and managing your follow-ups."}),o.jsx(pe,{href:"/login",children:o.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Log in instead"})})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[o.jsxs("form",{className:"space-y-5",onSubmit:y,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Name"}),o.jsx("input",{type:"text",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:t,onChange:v=>e(v.target.value),placeholder:"Your full name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:r,onChange:v=>n(v.target.value),placeholder:"you@example.org",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Password"}),o.jsx("input",{type:"password",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:i,onChange:v=>l(v.target.value),placeholder:"Minimum 6 characters",required:!0,minLength:6})]}),c&&o.jsx("p",{className:"text-sm text-destructive",children:c}),o.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",disabled:h,children:h?"Creating account...":"Create account"})]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",o.jsx(pe,{href:"/login",children:o.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Log in"})})]})]})]})})})}function b$(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function w$(){const[t,e]=b.useState(""),[r,n]=b.useState(null),[,i]=as(),l=c=>{if(c.preventDefault(),!b$(t)){n("Enter the email address linked to your account.");return}n(null),i("/forgot-password/confirmation")};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-4xl grid gap-12 items-center lg:grid-cols-[1.05fr_0.95fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Reset access"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-semibold leading-tight text-foreground",children:"Forgotten your password? Let's get you back to your projects."}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"Enter the email you use for Glass and we'll send a reset link. You'll see confirmation details on the next screen."}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Remembered it?"}),o.jsx("p",{className:"mt-1",children:"Jump back to sign in and continue exploring the portfolio."}),o.jsx(pe,{href:"/login",children:o.jsx("a",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-xs font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/90 p-8 shadow-lg",children:[o.jsxs("form",{className:"space-y-5",onSubmit:l,noValidate:!0,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:`mt-2 w-full rounded-full border bg-background px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary ${r?"border-destructive":"border-border"}`,value:t,onChange:c=>e(c.target.value),placeholder:"you@example.org","aria-invalid":!!r,"aria-describedby":r?"reset-email-error":void 0}),r?o.jsx("p",{id:"reset-email-error",className:"mt-2 text-sm text-destructive",children:r}):null]}),o.jsx("button",{type:"submit",className:"w-full rounded-full bg-primary px-5 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Send reset link"})]}),o.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Prefer to try again later?"," ",o.jsx(pe,{href:"/login",children:o.jsx("a",{className:"font-medium text-primary hover:text-primary/80 transition",children:"Back to login"})})]})]})]})})})}function j$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 pt-28 pb-20",children:o.jsxs("div",{className:"mx-auto max-w-3xl rounded-3xl border border-border bg-card/90 p-10 text-center shadow-lg",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Check your inbox"}),o.jsx("h1",{className:"mt-6 text-3xl md:text-4xl font-semibold text-foreground",children:"Reset instructions are on their way."}),o.jsx("p",{className:"mt-4 text-sm md:text-base text-muted-foreground leading-relaxed",children:"If an account exists for the email you provided, you'll receive a message in the next few minutes. Follow the secure link to choose a new password and jump back into your Glass workspace."}),o.jsx("div",{className:"mt-8 grid gap-4",children:o.jsxs("div",{className:"rounded-2xl border border-border bg-muted/20 px-6 py-4 text-sm text-muted-foreground text-left",children:[o.jsx("p",{className:"font-medium text-foreground",children:"Didn't see the email?"}),o.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[o.jsx("li",{children:"Check your spam or promotions folder."}),o.jsx("li",{children:"Make sure you entered the correct address."}),o.jsx("li",{children:"Still stuck? Request another link or reach out to our team."})]})]})}),o.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[o.jsx(pe,{href:"/login",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Return to login"})}),o.jsx(pe,{href:"/forgot-password",children:o.jsx("a",{className:"text-sm font-medium text-muted-foreground hover:text-foreground transition",children:"Send another reset link"})})]})]})})})}const q1=b.createContext(void 0);async function fu(t,e){const{headers:r,...n}=e??{},i=await fetch(t,{...n,headers:{"Content-Type":"application/json",...r??{}}});if(!i.ok){let l="Request failed";try{const c=await i.json();c?.message&&(l=c.message)}catch{}throw new Error(l)}if(i.status!==204)return await i.json()}function S$({children:t}){const[e,r]=b.useState([]),[n,i]=b.useState(!0),[l,c]=b.useState(null),[d,h]=b.useState(!1),m=b.useCallback(async(j=!1)=>{i(!0);try{h(j);const w=await fu(j?"/api/labs?includeHidden=true":"/api/labs"),C=j?w:w.filter(k=>k.isVisible!==!1);r(C),c(null)}catch(w){const C=w instanceof Error?w.message:"Unable to load labs";c(C)}finally{i(!1)}},[]);b.useEffect(()=>{m(d)},[m,d]);const p=b.useCallback(async j=>{const w=await fu("/api/labs",{method:"POST",body:JSON.stringify(j)});return r(C=>{const k=[...C,w];return d?k:k.filter(E=>E.isVisible!==!1)}),w},[d]),y=b.useCallback(async(j,w)=>{const C=await fu(`/api/labs/${j}`,{method:"PUT",body:JSON.stringify(w)});return r(k=>{const E=k.map(A=>A.id===j?C:A);return d?E:E.filter(A=>A.isVisible!==!1)}),C},[d]),v=b.useCallback(async j=>{await fu(`/api/labs/${j}`,{method:"DELETE"}),r(w=>w.filter(C=>C.id!==j))},[]),S=b.useCallback(async(j=d)=>{await m(j)},[m,d]),_=b.useMemo(()=>({labs:e,isLoading:n,error:l,refresh:S,addLab:p,updateLab:y,removeLab:v}),[e,n,l,S,p,y,v]);return o.jsx(q1.Provider,{value:_,children:t})}function Gs(){const t=b.useContext(q1);if(!t)throw new Error("useLabs must be used within a LabsProvider");return t}function N$(){const{labs:t,isLoading:e,error:r,refresh:n}=Gs(),{user:i}=cr(),[l,c]=b.useState(""),[d,h]=b.useState(new Set),[m,p]=b.useState(!1),[y,v]=b.useState(!0),[S,_]=b.useState(null),[j,w]=b.useState(!1),C=b.useMemo(()=>t.filter(O=>O.isVisible!==!1),[t]),k=C.length,E=C.filter(O=>O.isVerified).length,A=b.useMemo(()=>{const O=new Set;return C.forEach(Q=>{Q.equipment.forEach(q=>O.add(q.toLowerCase()))}),O.size},[C]),L=(O,Q=1200)=>O.startsWith("data:")?O:`${O}${O.includes("?")?"&":"?"}auto=format&fit=crop&w=${Q}&q=${Q>=1600?80:75}`;b.useEffect(()=>{let O=!0;async function Q(){if(!i){h(new Set);return}try{w(!0);const{data:q}=await Be.auth.getSession(),K=q.session?.access_token;if(!K){h(new Set);return}const Y=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${K}`}});if(!Y.ok)throw new Error("Unable to load favorites");const Z=await Y.json();O&&h(new Set(Z.labIds??[]))}catch(q){O&&_(q.message||"Unable to load favorites")}finally{O&&w(!1)}}return Q(),()=>{O=!1}},[i?.id]);const F=async O=>{if(!i){_("Sign in to favorite labs.");return}_(null);try{const{data:Q}=await Be.auth.getSession(),q=Q.session?.access_token;if(!q)throw new Error("Please sign in again.");const K=d.has(O),Y=K?"DELETE":"POST",Z=await fetch(`/api/labs/${O}/favorite`,{method:Y,headers:{Authorization:`Bearer ${q}`}});if(!Z.ok){const me=await Z.json().catch(()=>({}));throw new Error(me?.message||"Unable to update favorite")}h(me=>{const ye=new Set(me);return K?ye.delete(O):ye.add(O),ye})}catch(Q){_(Q.message||"Unable to update favorite")}},G=O=>(O?.subscriptionTier??O?.subscription_tier??"base").toLowerCase(),J=b.useMemo(()=>{const O=l.trim().toLowerCase();let Q=O?C.filter(q=>[q.name,q.location,q.equipment.join(" "),q.focusAreas.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(O)):C;return y&&(Q=Q.filter(q=>q.isVerified===!0||q.isVerified==="true"||q.isVerified===1)),m&&(Q=Q.filter(q=>d.has(q.id))),[...Q].sort((q,K)=>{const Y=["premier","custom"].includes(G(q)),Z=["premier","custom"].includes(G(K));return Y===Z?0:Y?-1:1})},[C,l,m,d,y]);return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Partner Labs"}),o.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold leading-tight",children:"Rent bench space inside vetted labs aligned with Glass."}),o.jsx("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:"Each partner lab lists core equipment, focus areas, and compliance posture so your team can spin up work quickly with the right infrastructure in place."})]}),o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-10 flex flex-wrap items-start gap-4 md:gap-6",children:[o.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:o.jsx("div",{className:"flex items-center gap-3 justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Network size"}),o.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[k," labs"]}),o.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Vetted partners with GLASS-Connect alignment."})]})})}),o.jsx("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm flex-1 min-w-[240px] max-w-sm",children:o.jsx("div",{className:"flex items-center gap-3 justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.3em] text-muted-foreground",children:"Verified labs"}),o.jsxs("p",{className:"mt-2 text-3xl font-semibold text-foreground",children:[E," verified"]}),o.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Completed verification to boost trust and routing."})]})})})]}),o.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["Across the network you'll find ",A,"+ distinct pieces of specialized equipment, supporting a broad range of wet lab, fabrication, and analytics workflows."]}),o.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",J.length," of ",k," labs"]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("input",{type:"search",value:l,onChange:O=>c(O.target.value),placeholder:"Search labs by name or location",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx(Fs,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),i&&o.jsx("button",{type:"button",onClick:()=>p(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${m?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,disabled:j,children:m?"Showing favorites":"Show favorites"}),o.jsxs("button",{type:"button",onClick:()=>v(O=>!O),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition ${y?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,children:[o.jsx(Nn,{className:"h-4 w-4"}),y?"GLASS verified only":"Include unverified"]})]})]}),S&&o.jsx("p",{className:"mt-2 text-xs text-destructive",children:S}),r&&o.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[o.jsx("span",{children:r}),o.jsx("button",{type:"button",onClick:n,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.3em]",children:"Retry"})]}),o.jsx("div",{className:"mt-12",children:e&&t.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"Loading labs"}):t.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:r?"We couldn't load the lab directory. Please retry.":"No partner labs are available yet. Check back soon."}):J.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/70 p-10 text-center text-muted-foreground",children:"No labs match that search. Try a different name, city, or equipment keyword."}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:J.map((O,Q)=>{const K=(O.subscriptionTier??O.subscription_tier??"base").toLowerCase(),Y=["premier","custom"].includes(K),Z=O.isVerified?"verified":K==="base"?"unverified":"pending",me=["true","1",!0,1].includes(O.offersLabSpace),ye=Z==="verified"?"bg-emerald-50 text-emerald-700":Z==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",re=Z==="verified"?"Verified":Z==="pending"?"Verification pending":"Unverified";return o.jsxs(Ge.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*(Q%3)},className:`flex h-full flex-col rounded-3xl border ${Y?"border-2 border-primary/80 shadow-lg":"border-border"} bg-card/80 p-8`,children:[O.photos.length>0&&o.jsx("div",{className:"mb-6 overflow-hidden rounded-2xl border border-border/60 bg-background/40",children:o.jsx("img",{src:L(O.photos[0].url),alt:`${O.name} preview - ${O.photos[0].name}`,className:"h-48 w-full object-cover",loading:"lazy"})}),o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[(O.logoUrl||["premier","custom"].includes(K))&&o.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:O.logoUrl?o.jsx("img",{src:O.logoUrl,alt:`${O.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground",children:O.name}),o.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Fs,{className:"h-4 w-4 text-primary"}),o.jsx("span",{children:O.location})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${ye}`,children:Z==="verified"?o.jsxs(o.Fragment,{children:[o.jsx(rd,{className:"h-3.5 w-3.5"}),re]}):Z==="pending"?o.jsxs(o.Fragment,{children:[o.jsx(ku,{className:"h-3.5 w-3.5"}),re]}):o.jsxs(o.Fragment,{children:[o.jsx(ku,{className:"h-3.5 w-3.5"}),re]})}),o.jsx("button",{type:"button",onClick:()=>F(O.id),className:`inline-flex h-8 w-8 items-center justify-center rounded-full border transition ${d.has(O.id)?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":d.has(O.id)?"Unfavorite lab":"Favorite lab",disabled:j,children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:d.has(O.id)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),me&&o.jsx("span",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-[11px] font-medium bg-primary/10 text-primary",children:"Offers lab space"})]})]}),o.jsxs("div",{className:"mt-5 grid gap-4",children:[O.focusAreas.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Focus"}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:O.focusAreas.slice(0,3).map(X=>o.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:X},X))})]}),O.equipment.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Equipment"}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-muted-foreground",children:O.equipment.slice(0,3).map(X=>o.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1",children:X},X))})]}),O.photos.length>1&&o.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",children:[o.jsx(yj,{className:"h-3.5 w-3.5 text-primary"}),O.photos.length," photos provided"]})})]}),o.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[o.jsx(pe,{href:`/labs/${O.id}`,children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"View details"})}),o.jsx("a",{href:`mailto:${O.contactEmail}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact lab"})]})]},O.id)})})})]})})}function _$(){return o.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms of Use"}),o.jsx("p",{children:"Welcome to GLASS-Connect. By accessing or using our website, you agree to the following terms and conditions. Please read them carefully."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),o.jsx("p",{children:"By using Glass, you agree to comply with and be legally bound by these Terms of Use."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of the Platform"}),o.jsx("p",{children:"Our platform is currently a read-only landing site without payment processing or user accounts. You may browse the site and access publicly available information."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Intellectual Property"}),o.jsx("p",{children:"All content, logos, and trademarks on this site are the property of Glass unless otherwise stated."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),o.jsxs("p",{children:["If you have any questions, contact us at ",o.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),o.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function k$(){return o.jsxs("main",{className:"container mx-auto px-4 py-10 pt-24",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),o.jsx("p",{children:"This Privacy Policy describes how GLASS-Connect collects and uses information through our website."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Data We Collect"}),o.jsx("p",{children:"We collect information you submit through our contact form (name, email, and message). We do not use cookies or tracking technologies."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Use of Information"}),o.jsx("p",{children:"Your information is used only to respond to inquiries. We do not share it with third parties unless legally required."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Your Rights"}),o.jsx("p",{children:"In accordance with the GDPR, you have the right to access, correct, or delete your personal data by contacting us."}),o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Contact"}),o.jsxs("p",{children:["For privacy concerns, contact ",o.jsx("a",{href:"mailto:contact@glass-funding.com",className:"text-blue-600 underline",children:"contact@glass-funding.com"}),"."]}),o.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"Last updated: July 2025"})]})}function C$(){return o.jsxs("div",{className:"pt-32 px-4",children:[o.jsx("p",{className:"text-center text-lg mb-6",children:"Join our waitlist today and be among the first to access Glass. By signing up, youll receive early updates and exclusive platform news."}),o.jsx(yd,{})]})}const E$=[{title:"GLASS-Connect Overview",description:"A concise overview of GLASS-Connect, our mission, and how the platform helps labs share capabilities and connect with collaborators.",file:"/OnePageIntroduction.pdf"}];function T$(){return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-16",children:[o.jsx(Ge.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-bold text-center mb-10",children:"Glass One-Pagers"}),o.jsx(Ge.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"max-w-3xl mx-auto text-center text-muted-foreground mb-16",children:"Explore shareable one-pagers that highlight GLASS-Connect and our approach to connecting labs with collaborators."}),o.jsx("div",{className:"space-y-12",children:E$.map((t,e)=>o.jsxs(Ge.article,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:e*.1},className:"bg-card border rounded-2xl shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-8 space-y-4",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-semibold",children:t.title}),o.jsx("p",{className:"text-muted-foreground text-lg",children:t.description}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-full bg-primary px-6 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90",children:"View PDF"}),o.jsx("a",{href:t.file,download:!0,className:"inline-flex items-center justify-center rounded-full border border-input px-6 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",children:"Download"})]})]}),o.jsx("div",{className:"border-t border-border bg-muted/40",children:o.jsx("object",{data:t.file,type:"application/pdf",className:"hidden w-full md:block lg:h-[720px] md:h-[640px]",children:o.jsxs("p",{className:"p-6 text-muted-foreground",children:["Your browser is unable to display the PDF. You can still"," ",o.jsx("a",{href:t.file,target:"_blank",rel:"noopener noreferrer",className:"underline",children:"open the document in a new tab"})," ","or download it for offline viewing."]})})})]},t.title))})]})})}const P$=[{title:"Phase 0  Foundation",copy:"Build the core GLASS-Connect directory with structured lab profiles, capability tags, and ownership so every listing stays accurate."},{title:"Phase 1  Verified Profiles",copy:"Launch remote/on-site verification, richer filtering (methods, equipment, availability), and clearer contact preferences for each lab."},{title:"Phase 2  Requests & Routing",copy:"Add scoped request forms, calendar-aware introductions, and response SLAs so collaborators hear back quickly from the right contact."},{title:"Phase 3  Integrations & API",copy:"Ship export/API access for operators, light CRM hooks, and data freshness signals so networks can keep many labs current with less effort."}],A$=[{title:"Network search",copy:"Tagging, filtering, and sorting improvements for labs across institutions and partners."},{title:"Profile polish",copy:"Cleaner capability blocks, equipment highlights, and collaboration preferences visible at a glance."},{title:"Verified badge",copy:"Remote verification pilot to improve trust and reduce back-and-forth for partners."}];function R$(){return o.jsx("div",{className:"min-h-screen bg-background pt-32 pb-32",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"max-w-3xl",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Product Roadmap"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Were building GLASS-Connect to make lab discovery and collaboration straightforward. Below is the current plan and whats already shipped to turn GLASS-Connect into the trusted hub for listing, verifying, and connecting labs."})]}),o.jsxs("div",{className:"mt-16 grid grid-cols-1 gap-12 lg:grid-cols-[minmax(0,_1.1fr)_minmax(0,_0.9fr)] lg:items-start",children:[o.jsxs("div",{className:"bg-card border border-border rounded-3xl shadow-sm p-8 lg:p-10 h-full",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Roadmap Overview"}),o.jsx("div",{className:"space-y-10 text-muted-foreground leading-relaxed",children:P$.map(t=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t.title}),o.jsx("p",{children:t.copy})]},t.title))}),o.jsxs("div",{className:"mt-10 border-t border-border pt-8",children:[o.jsx("h3",{className:"text-2xl font-semibold mb-4 text-foreground",children:"Our Long-Term Vision"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"GLASS-Connect aims to become the trusted bridge between labs and collaboratorsone place to find verified capabilities, contact real humans, and keep network data current without heavy tooling."})]})]}),o.jsxs("div",{className:"bg-card/80 border border-border rounded-3xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Recent progress"}),o.jsx("div",{className:"space-y-4 text-muted-foreground",children:A$.map(t=>o.jsxs("div",{className:"rounded-2xl border border-border/70 bg-background p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.title}),o.jsx("p",{className:"mt-2 text-sm leading-relaxed",children:t.copy})]},t.title))})]})]}),o.jsx("div",{className:"h-24"})]})})}const h0=[{id:"glass-web",name:"GLASS-Connect Directory",status:"Operational",uptime:"99.98%",lastIncident:"45 days ago",description:"Main lab-listing and discovery experience for labs and partners."},{id:"profiles",name:"Profile Edits",status:"Operational",uptime:"100%",lastIncident:"92 days ago",description:"Saving and publishing lab profile updates across the network."},{id:"routing",name:"Request Routing",status:"Degraded Performance",uptime:"99.2%",lastIncident:"Today",description:"Email and in-app handoffs for inbound collaboration requests.",note:"Delays of up to 2 hours while we upgrade the messaging queue."},{id:"workspace",name:"Operator Workspace",status:"Operational",uptime:"99.9%",lastIncident:"18 days ago",description:"Multi-lab management dashboards for network operators and admins."}],O$=[{date:"Today",severity:"minor",title:"Request routing queue delays",description:"Messages are sending successfully but slower than usual while we deploy enhanced analytics. We expect normal operation by 18:00 UTC."},{date:"May 5",severity:"maintenance",title:"Planned maintenance: Workspace exports",description:"Completed scheduled maintenance from 01:0003:00 UTC. Data exports were unavailable during this window."},{date:"Apr 17",severity:"resolved",title:"Resolved: Profile webhook retries",description:"Some partners experienced delayed webhook confirmations. The backlog was cleared within 30 minutes and no updates were lost."}];function m0(t){return t.toLowerCase().includes("degraded")?"text-amber-500":t.toLowerCase().includes("maintenance")?"text-blue-500":t.toLowerCase().includes("operational")?"text-emerald-500":"text-muted-foreground"}function I$(t){return t==="minor"?o.jsx(yp,{className:"h-4 w-4 text-amber-500"}):t==="maintenance"?o.jsx(pP,{className:"h-4 w-4 text-blue-500"}):o.jsx(gj,{className:"h-4 w-4 text-emerald-500"})}function L$(){const t=h0.every(e=>!e.status.toLowerCase().includes("degraded"));return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-24 pb-20",children:[o.jsxs("div",{className:"max-w-4xl",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"System status"}),o.jsx("h1",{className:"mt-5 text-4xl font-semibold text-foreground",children:t?"All systems are operational.":"Some services are experiencing delays."}),o.jsxs("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed",children:["This page reports live availability across GLASS-Connect infrastructure. We refresh these metrics every 60 seconds. For urgent issues, reach the team at"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.demo",children:"support@glass.demo"}),"."]})]}),o.jsx("div",{className:"mt-10 grid gap-6",children:h0.map(e=>o.jsx("div",{className:"rounded-3xl border border-border bg-card/90 p-6 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(sP,{className:`h-4 w-4 ${m0(e.status)}`}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name})]}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:e.description}),e.note?o.jsx("p",{className:"mt-2 rounded-2xl border border-amber-300/50 bg-amber-100/20 px-3 py-2 text-xs text-amber-700",children:e.note}):null]}),o.jsxs("div",{className:"grid gap-1 text-right text-sm text-muted-foreground",children:[o.jsx("span",{className:`font-semibold ${m0(e.status)}`,children:e.status}),o.jsxs("span",{children:["30-day uptime: ",e.uptime]}),o.jsxs("span",{children:["Last incident: ",e.lastIncident]})]})]})},e.id))}),o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Recent updates"}),o.jsx("div",{className:"mt-4 space-y-4",children:O$.map(e=>o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-5 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.25em] text-muted-foreground",children:[I$(e.severity),o.jsx("span",{children:e.date})]}),o.jsx("p",{className:"text-sm font-medium text-muted-foreground md:text-right",children:e.severity==="maintenance"?"Scheduled maintenance":e.severity==="minor"?"Minor":"Resolved"})]}),o.jsx("h3",{className:"mt-3 text-lg font-semibold text-foreground",children:e.title}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed",children:e.description})]},e.date+e.title))})]}),o.jsxs("div",{className:"mt-12 rounded-3xl border border-border bg-card/80 p-6 text-sm text-muted-foreground shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Need more detail?"}),o.jsxs("p",{className:"mt-2",children:["Follow"," ",o.jsx(pe,{href:"/roadmap",children:o.jsx("a",{className:"text-primary hover:text-primary/80 transition",children:"our public roadmap"})})," ","for transparency on upcoming releases, or reach out to"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:ops@glass.demo",children:"ops@glass.demo"})," ","for enterprise status reports."]})]})]})})}function D$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"500 error"}),o.jsx(yp,{className:"mt-6 h-12 w-12 text-amber-500"}),o.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"Something went wrong on our side."}),o.jsx("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:"We're already looking into it. Refresh the page to try again, or head back to a safe spot while we resolve the issue."}),o.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[o.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Retry"}),o.jsx(pe,{href:"/status",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"View system status"})})]}),o.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["If the problem continues, email"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"mailto:support@glass.org",children:"support@glass.org"})," ","with a screenshot and we'll help out."]})]})})}function M$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 flex flex-col items-center text-center",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-muted/40 px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Scheduled maintenance"}),o.jsx(TP,{className:"mt-6 h-12 w-12 text-primary"}),o.jsx("h1",{className:"mt-4 text-4xl md:text-5xl font-semibold text-foreground max-w-3xl",children:"We're upgrading our systems to serve you better."}),o.jsxs("p",{className:"mt-4 max-w-2xl text-lg text-muted-foreground leading-relaxed",children:["The Glass platform is temporarily unavailable while we roll out new improvements. We expect to be back online by"," ",o.jsx("span",{className:"font-semibold text-foreground",children:"18:00 UTC"}),". Your data and ongoing donations are safe."]}),o.jsxs("div",{className:"mt-10 flex flex-col gap-3 sm:flex-row",children:[o.jsx(pe,{href:"/status",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",children:"Track system status"})}),o.jsx("a",{href:"mailto:support@glass.org",className:"inline-flex items-center justify-center rounded-full border border-border bg-background px-5 py-2 text-sm font-medium text-foreground hover:text-primary transition",children:"Contact support"})]}),o.jsxs("p",{className:"mt-8 text-sm text-muted-foreground",children:["Need an update for your team? We'll share real-time notices on"," ",o.jsx("a",{className:"text-primary hover:text-primary/80 transition",href:"https://status.glass.org",children:"status.glass.org"}),"."]})]})})}let F$=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function V$({params:t}){const{labs:e,isLoading:r}=Gs(),{user:n}=cr(),[i,l]=b.useState(!1);b.useEffect(()=>{let q=!0;async function K(){if(!n){l(!1);return}const{data:Y,error:Z}=await Be.from("profiles").select("role").eq("user_id",n.id).maybeSingle();if(q){if(Z){l(!1);return}l(Y?.role==="lab"||Y?.role==="admin")}}return K(),()=>{q=!1}},[n?.id]);const c=e.find(q=>q.id===Number(t.id)),d=(q,K=1600)=>q.startsWith("data:")?q:`${q}${q.includes("?")?"&":"?"}auto=format&fit=crop&w=${K}&q=80`,h=c?.subscriptionTier??c?.subscription_tier??"base",m=c.logoUrl||null,p=h.toLowerCase?.()??(typeof h=="string"?h.toLowerCase():"base"),y=c.isVerified?"verified":p==="base"?"unverified":"pending",v=c.offersLabSpace===!0||c.offersLabSpace==="true"||c.offersLabSpace===1||c.offersLabSpace==="1",S=y==="verified"?"bg-emerald-50 text-emerald-700":y==="pending"?"bg-amber-50 text-amber-700":"bg-slate-100 text-slate-700",_=y==="verified"?"Verified by Glass":y==="pending"?"Verification pending":"Unverified",j=c.partnerLogos??[],w=c.website||null,C=c.linkedin||null,[k,E]=b.useState(!1),[A,L]=b.useState(!1),[F,G]=b.useState(null),[J,O]=b.useState(!1),Q=async()=>{if(!n){G("Sign in to favorite labs.");return}L(!0),G(null);try{const{data:q}=await Be.auth.getSession(),K=q.session?.access_token;if(!K){G("Please sign in again.");return}const Y=k?"DELETE":"POST",Z=await fetch(`/api/labs/${c.id}/favorite`,{method:Y,headers:{Authorization:`Bearer ${K}`}});if(!Z.ok){const ye=await Z.json().catch(()=>({}));throw new Error(ye?.message||"Unable to update favorite")}const me=await Z.json();E(!!me?.favorited)}catch(q){G(q instanceof Error?q.message:"Unable to update favorite")}finally{L(!1)}};return b.useEffect(()=>{let q=!0;async function K(){if(!n){E(!1);return}try{const{data:Y}=await Be.auth.getSession(),Z=Y.session?.access_token;if(!Z)return;const me=await fetch(`/api/labs/${c.id}/favorite`,{headers:{Authorization:`Bearer ${Z}`}});if(!me.ok)return;const ye=await me.json();q&&E(!!ye?.favorited)}catch{}}return K(),()=>{q=!1}},[c.id,n?.id]),b.useEffect(()=>{if(J)return;const q="glass-view-session";let K=localStorage.getItem(q);K||(K=F$(),localStorage.setItem(q,K));const Y=`glass-view-${c.id}`,Z=localStorage.getItem(Y),me=Date.now();if(Z&&me-Number(Z)<3600*1e3){O(!0);return}(async()=>{try{const{data:ye}=await Be.auth.getSession(),re=ye.session?.access_token;await fetch(`/api/labs/${c.id}/view`,{method:"POST",headers:{"Content-Type":"application/json",...re?{Authorization:`Bearer ${re}`}:{}},body:JSON.stringify({labId:c.id,sessionId:K,referrer:document.referrer||null})}),localStorage.setItem(Y,String(me)),O(!0)}catch{}})()},[c.id,J]),r&&e.length===0?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Loading lab details"}),o.jsx("p",{className:"text-muted-foreground",children:"Pulling the latest information from the lab directory."})]})}):c?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsxs(pe,{href:"/labs",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[o.jsx(iP,{className:"h-4 w-4"}),"Back to labs"]}),o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"mt-8 rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-10",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[o.jsx(Fs,{className:"h-3.5 w-3.5"}),c.location]}),o.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${S}`,children:y==="verified"?o.jsxs(o.Fragment,{children:[o.jsx(rd,{className:"h-3.5 w-3.5"}),_]}):o.jsxs(o.Fragment,{children:[o.jsx(ku,{className:"h-3.5 w-3.5"}),_]})}),v&&o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground",children:[o.jsx(jP,{className:"h-3.5 w-3.5 text-primary"}),"Offers lab space"]}),o.jsx("button",{type:"button",onClick:Q,disabled:A,className:`ml-auto inline-flex h-8 w-8 items-center justify-center rounded-full border transition disabled:opacity-60 disabled:cursor-not-allowed ${k?"border-red-500 bg-red-50 text-red-500":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,"aria-label":k?"Unfavorite lab":"Favorite lab",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:k?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-6.5-4.35-9-8.5C1 7.5 3.5 4 7 4c1.9 0 3.2 1.2 4 2.4C11.8 5.2 13.1 4 15 4c3.5 0 6 3.5 4 8.5-2.5 4.15-9 8.5-9 8.5Z"})})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[(m||["premier","custom"].includes(p))&&o.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full border border-dashed border-border bg-muted/30 text-[11px] text-muted-foreground flex items-center justify-center flex-shrink-0",children:m?o.jsx("img",{src:m,alt:`${c.name} logo`,className:"h-full w-full object-cover"}):"Logo"}),o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:c.name})]}),c.description?o.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:c.description}):o.jsxs("p",{className:"text-muted-foreground text-base leading-relaxed",children:["Review compliance, offers, and baseline expectations before requesting space. Minimum commitment:",o.jsxs("span",{className:"font-medium text-foreground",children:[" ",c.minimumStay]}),"."]}),F&&o.jsx("span",{className:"text-xs text-destructive",children:F})]}),c.photos.length>0&&o.jsx("div",{className:"mt-2 overflow-x-auto pb-2",children:o.jsx("div",{className:"flex gap-4 min-w-full",children:c.photos.map((q,K)=>o.jsx("div",{className:"min-w-[320px] max-w-[420px] h-64 overflow-hidden rounded-3xl border border-border/80 bg-background/40 flex-shrink-0",children:o.jsx("img",{src:d(q.url,1200),alt:`${c.name} photo ${K+1} - ${q.name}`,className:"h-full w-full object-cover",loading:K===0?"eager":"lazy"})},q.url))})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Lab leadership"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(bj,{className:"h-4 w-4 text-primary"}),c.labManager]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(kP,{className:"h-4 w-4 text-primary"}),w||C?"Connect with the team":"Social links not provided yet"]}),(w||C)&&o.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&o.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(xP,{className:"h-3.5 w-3.5 text-primary"}),"Website"]}),C&&o.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(mp,{className:"h-3.5 w-3.5 text-primary"}),"LinkedIn"]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6 space-y-3 md:col-span-2",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Compliance posture"}),o.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:c.compliance.map(q=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1",children:[o.jsx(Nn,{className:"h-3.5 w-3.5 text-primary"}),q]},q))}),c.complianceDocs.length>0&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Supporting documents"}),o.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:c.complianceDocs.map(q=>o.jsx("li",{children:o.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 hover:border-primary hover:text-primary transition",children:[o.jsx(Nn,{className:"h-3.5 w-3.5 text-primary"}),q.name]})},q.url))})]})]})]}),v&&o.jsxs("section",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pricing & availability offers"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Labs may extend multiple engagement models; choose the approach that best matches your run plan."}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.offers.map(q=>o.jsx("span",{className:"rounded-full bg-muted/60 px-3 py-1 text-xs font-medium text-muted-foreground",children:q},q))}),o.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[o.jsx(cP,{className:"h-4 w-4 text-primary"}),"Minimum stay expectation: ",o.jsx("span",{className:"font-medium text-foreground",children:c.minimumStay})]}),o.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-muted-foreground",children:[o.jsx(yj,{className:"h-4 w-4 text-primary"}),c.photos.length," photo",c.photos.length===1?"":"s"," included"]})]}),o.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Focus areas"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Primary scientific domains supported by the lab team."}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:c.focusAreas.map(q=>o.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:q},q))})]}),o.jsxs("div",{className:"rounded-2xl border border-border/80 bg-background/50 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Equipment inventory"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Critical instrumentation and tooling available in this lab."}),o.jsx("div",{className:"mt-4 grid gap-2 text-sm text-muted-foreground",children:c.equipment.map(q=>o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(aP,{className:"h-4 w-4 text-primary"}),q]},q))})]})]}),["premier","custom"].includes(p)&&j.length>0&&o.jsxs("div",{className:"mt-8 rounded-2xl border border-primary/40 bg-primary/5 p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Featured partners"}),o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:j.map((q,K)=>o.jsx("div",{className:"h-16 w-24 overflow-hidden rounded-xl border border-primary/40 bg-background flex-shrink-0",title:q.name,children:o.jsx("img",{src:q.url,alt:q.name,className:"h-full w-full object-cover"})},`${q.url}-${K}`))})]}),o.jsxs("footer",{className:"flex flex-wrap gap-3 mt-6",children:[o.jsx(pe,{href:`/labs/${c.id}/request`,className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Request lab time"}),i&&o.jsx(pe,{href:`/labs/${c.id}/collaborate`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Collaborate"}),o.jsx(pe,{href:"/labs",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Explore other labs"})]})]})]})}):o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),o.jsx("p",{className:"text-muted-foreground",children:"We could not find the lab you were looking for. It may have been removed or you might have followed an outdated link."}),o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Browse labs"})})]})})}const p0={requesterName:"",requesterEmail:"",organization:"",roleTitle:"",projectSummary:"",workTimeline:"",weeklyHoursNeeded:"",teamSize:"",equipmentNeeds:"",complianceNotes:"",specialRequirements:"",referencesOrLinks:"",verification:"glass_verified",verificationProof:"",preferredContactMethod:"email",preferredDeliveryWindow:"weekly_digest",agreeToReview:!1};function U$({params:t}){const{labs:e,isLoading:r}=Gs(),n=Number(t.id),i=b.useMemo(()=>e.find(w=>w.id===n),[e,n]),l="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",[c,d]=b.useState(p0),[h,m]=b.useState(!1),[p,y]=b.useState(null),[v,S]=b.useState(null),_=(w,C)=>{d(k=>({...k,[w]:C}))},j=async w=>{if(w.preventDefault(),!!i){m(!0),y(null);try{const C=await fetch("/api/lab-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,labId:i.id,labName:i.name})});if(!C.ok){const E=await C.json().catch(()=>({message:"Unable to submit"}));throw new Error(E?.message??"Unable to submit request")}const k=await C.json();S(k.id),d(p0)}catch(C){y(C instanceof Error?C.message:"Unable to submit request")}finally{m(!1)}}};return r&&!i?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[o.jsx(um,{className:"mx-auto h-8 w-8 animate-spin text-muted-foreground"}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading lab details"})]})}):i?o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 lg:py-20 max-w-4xl",children:[o.jsx(pe,{href:`/labs/${i.id}`,children:o.jsxs("a",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition hover:text-primary",children:[" Back to ",i.name]})}),o.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-6 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Lab intake"}),o.jsxs("h1",{className:"mt-3 text-3xl font-semibold text-foreground",children:["Request time at ",i.name]}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Glass reviews every submission for spam or quality issues before sharing them with the lab. Approved requests are batched and delivered on the cadence you choose."})]}),o.jsxs("div",{className:"rounded-2xl border border-primary/30 bg-primary/5 px-4 py-3 text-sm text-foreground",children:[o.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-primary"})," Help labs trust the outreach"]}),o.jsx("p",{className:"mt-1 text-muted-foreground",children:"Share proof of prior collaboration or a partner reference so Glass can pre-screen requests before sending them."})]})]}),v?o.jsx("div",{className:"mt-8 rounded-2xl border border-emerald-200 bg-emerald-50/70 px-6 py-5 text-sm text-emerald-900",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(rd,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Request queued for review"}),o.jsxs("p",{className:"mt-1 text-emerald-900/80",children:["Your submission #",v," is pending internal moderation. We send approved requests to ",i.labManager,"on the delivery window you selected."]})]})]})}):null,p&&o.jsxs("div",{className:"mt-6 flex items-center gap-3 rounded-2xl border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[o.jsx(yp,{className:"h-4 w-4"}),o.jsx("span",{children:p})]}),o.jsxs("form",{className:"mt-10 space-y-6",onSubmit:j,children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ar,{label:"Your name",required:!0,children:o.jsx("input",{type:"text",value:c.requesterName,onChange:w=>_("requesterName",w.target.value),className:l,placeholder:"Jordan Reyes",required:!0})}),o.jsx(Ar,{label:"Work email",required:!0,children:o.jsx("input",{type:"email",value:c.requesterEmail,onChange:w=>_("requesterEmail",w.target.value),className:l,placeholder:"jordan@teamglass.bio",required:!0})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ar,{label:"Organization / team",required:!0,children:o.jsx("input",{type:"text",value:c.organization,onChange:w=>_("organization",w.target.value),className:l,placeholder:"Atlas Applied Biology",required:!0})}),o.jsx(Ar,{label:"Role / title",required:!0,children:o.jsx("input",{type:"text",value:c.roleTitle,onChange:w=>_("roleTitle",w.target.value),className:l,placeholder:"Program Lead",required:!0})})]}),o.jsx(Ar,{label:"Project summary",description:"Help the lab understand why you need space and what success looks like.",required:!0,children:o.jsx("textarea",{value:c.projectSummary,onChange:w=>_("projectSummary",w.target.value),className:`${l} min-h-[140px]`,placeholder:"Outline your experiment goals, team, and safety posture.",required:!0})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx(Ar,{label:"Desired start",required:!0,children:o.jsxs("select",{className:l,value:c.workTimeline,onChange:w=>_("workTimeline",w.target.value),required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Select timeline"}),o.jsx("option",{value:"next_2_weeks",children:"Within 2 weeks"}),o.jsx("option",{value:"next_month",children:"Within a month"}),o.jsx("option",{value:"next_quarter",children:"Next quarter"}),o.jsx("option",{value:"flexible",children:"Flexible / exploratory"})]})}),o.jsx(Ar,{label:"Weekly hours",required:!0,children:o.jsx("input",{type:"text",className:l,value:c.weeklyHoursNeeded,onChange:w=>_("weeklyHoursNeeded",w.target.value),placeholder:"20 bench hours",required:!0})}),o.jsx(Ar,{label:"Team size",required:!0,children:o.jsx("input",{type:"text",className:l,value:c.teamSize,onChange:w=>_("teamSize",w.target.value),placeholder:"3 researchers",required:!0})})]}),o.jsx(Ar,{label:"Equipment & process needs",description:"List any instruments, cleanroom access, or SOP support you expect.",children:o.jsx("textarea",{className:`${l} min-h-[100px]`,value:c.equipmentNeeds,onChange:w=>_("equipmentNeeds",w.target.value),placeholder:"BSL-2 hood, sequencing core time, GMP-aligned QA support..."})}),o.jsx(Ar,{label:"Compliance or special requirements",description:"Share certifications, biosafety requirements, or onboarding needs.",children:o.jsx("textarea",{className:l,value:c.complianceNotes,onChange:w=>_("complianceNotes",w.target.value),placeholder:"BSL-2+ handling, cleanroom training, DEA registration..."})}),o.jsx(Ar,{label:"Special requests",description:"Optional context for lab operations, security, or scheduling.",children:o.jsx("textarea",{className:l,value:c.specialRequirements,onChange:w=>_("specialRequirements",w.target.value),placeholder:"Preferred shift, shipping logistics, storage requirements..."})}),o.jsx(Ar,{label:"References, decks, or links",children:o.jsx("textarea",{className:l,value:c.referencesOrLinks,onChange:w=>_("referencesOrLinks",w.target.value),placeholder:"Paste Notion docs, pitch decks, public updates, etc."})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ar,{label:"Contact preferences",description:"We coordinate intros after your request is approved.",required:!0,children:[o.jsx("div",{className:"space-y-2 rounded-2xl border border-border p-3",children:[{value:"email",label:"Email digest"},{value:"video_call",label:"Schedule a call"},{value:"phone",label:"Phone call"}].map(w=>o.jsxs("label",{className:"flex items-center gap-2 text-sm text-foreground",children:[o.jsx("input",{type:"radio",name:"contact",value:w.value,checked:c.preferredContactMethod===w.value,onChange:()=>_("preferredContactMethod",w.value)}),w.label]},w.value))}),o.jsxs("select",{className:`${l} mt-3`,value:c.preferredDeliveryWindow,onChange:w=>_("preferredDeliveryWindow",w.target.value),children:[o.jsx("option",{value:"weekly_digest",children:"Send with the weekly digest"}),o.jsx("option",{value:"biweekly_digest",children:"Hold for bi-weekly summary"}),o.jsx("option",{value:"immediate",children:"Send immediately after review"})]})]}),o.jsx(Ar,{label:"References or proof of work",description:"Share anything that helps the lab trust your request (optional).",children:o.jsx("input",{type:"text",className:l,value:c.verificationProof,onChange:w=>_("verificationProof",w.target.value),placeholder:"Link to a deck, partner reference, or update thread"})})]}),o.jsxs("label",{className:"flex items-start gap-3 rounded-2xl border border-border p-4 text-sm text-muted-foreground",children:[o.jsx("input",{type:"checkbox",checked:c.agreeToReview,onChange:w=>_("agreeToReview",w.target.checked)}),o.jsxs("span",{children:["I agree that Glass can review this submission for spam and will only send it to ",i.name," once it passes moderation."]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:[h&&o.jsx(um,{className:"h-4 w-4 animate-spin"}),"Submit request"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"We queue requests once a week (or on demand if you selected immediate delivery)."})]})]})]})]})}):o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-3xl text-center space-y-6",children:[o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Lab not found"}),o.jsx("p",{className:"text-muted-foreground",children:"The lab you selected doesnt exist or has been removed. Head back to the directory to choose another partner."}),o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Browse labs"})})]})})}function Ar({label:t,description:e,required:r,children:n}){return o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:o.jsxs("span",{children:[t,r?" *":""]})}),e?o.jsx("p",{className:"text-xs text-muted-foreground",children:e}):null,n]})}function $$({params:t}){const e=Number(t.id),{labs:r}=Gs(),n=r.find(Q=>Q.id===e),{user:i}=cr(),[l,c]=b.useState(""),[d,h]=b.useState(""),[m,p]=b.useState(""),[y,v]=b.useState(""),[S,_]=b.useState(""),[j,w]=b.useState(""),[C,k]=b.useState(""),[E,A]=b.useState("email"),[L,F]=b.useState(null),[G,J]=b.useState(!1);b.useEffect(()=>{n&&!m&&p(n.name)},[n]),b.useEffect(()=>{i?.email&&!d&&h(i.email);const Q=i?.user_metadata?.display_name||i?.user_metadata?.full_name||i?.user_metadata?.name||"";Q&&!l&&c(Q)},[i?.email,i?.user_metadata,d,l]);const O=async Q=>{Q.preventDefault(),J(!0),F(null);try{const q={labId:e,contactName:l.trim(),contactEmail:d.trim(),targetLabs:m.trim(),collaborationFocus:y.trim(),resourcesOffered:S.trim(),desiredTimeline:j.trim(),additionalNotes:C.trim(),preferredContact:E},K=await fetch("/api/lab-collaborations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!K.ok){const Y=(await K.json().catch(()=>({})))?.message||"Submission failed";throw new Error(Y)}F("Submitted. We'll notify the lab team."),c(""),h(""),p(""),v(""),_(""),w(""),k(""),A("email")}catch(q){F(q instanceof Error?q.message:"Submission failed")}finally{J(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 pt-28 pb-20 max-w-2xl",children:[o.jsx(pe,{href:`/labs/${e}`,className:"text-sm text-muted-foreground hover:text-primary",children:"Back to lab"}),o.jsx("h1",{className:"mt-4 text-2xl font-semibold text-foreground",children:"Propose a collaboration"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:n?o.jsxs(o.Fragment,{children:["Youre collaborating with ",o.jsx("span",{className:"font-medium text-foreground",children:n.name}),"."]}):o.jsx(o.Fragment,{children:"Share a brief overview so the lab can assess fit quickly."})}),o.jsxs("form",{className:"mt-6 grid gap-4",onSubmit:O,children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Your name"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:l,onChange:Q=>c(Q.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),o.jsx("input",{type:"email",className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:d,onChange:Q=>h(Q.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Target labs (optional)"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:m,onChange:Q=>p(Q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Collaboration focus"}),o.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:y,onChange:Q=>v(Q.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Resources offered (optional)"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:S,onChange:Q=>_(Q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Desired timeline (optional)"}),o.jsx("input",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:j,onChange:Q=>w(Q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred contact method"}),o.jsxs("select",{className:"mt-2 w-full rounded-full border border-border bg-background px-4 py-2 text-sm",value:E,onChange:Q=>A(Q.target.value),children:[o.jsx("option",{value:"email",children:"Email"}),o.jsx("option",{value:"video_call",children:"Video call"}),o.jsx("option",{value:"in_person",children:"In person"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Additional notes (optional)"}),o.jsx("textarea",{className:"mt-2 w-full rounded-2xl border border-border bg-background px-4 py-2 text-sm",rows:4,value:C,onChange:Q=>k(Q.target.value)})]}),L&&o.jsx("p",{className:"text-sm text-muted-foreground",children:L}),o.jsx("button",{disabled:G,className:"inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground",children:G?"Submitting":"Submit proposal"})]})]})})}const Sd=["Monthly rent","Hourly rate","Equipment use rate","Day rate"],Xh=pd({name:bt().min(1,"Asset name is required"),url:bt().min(1,"Asset URL is required")}),W1=pd({name:bt().min(1,"Lab name is required"),location:bt().min(1,"Location is required"),labManager:bt().min(1,"Lab manager name is required"),contactEmail:bt().email("Valid contact email is required"),ownerUserId:bt().uuid().optional().nullable(),description:bt().max(5e3).optional().nullable(),offersLabSpace:ji().default(!1),addressLine1:bt().min(1).optional().nullable(),addressLine2:bt().min(1).optional().nullable(),city:bt().min(1).optional().nullable(),state:bt().min(1).optional().nullable(),postalCode:bt().min(1).optional().nullable(),country:bt().min(1).optional().nullable(),siretNumber:bt().min(4).optional().nullable(),logoUrl:bt().url("Logo must be a valid URL").optional().nullable(),website:bt().url("Website must be a valid URL").optional().nullable(),linkedin:bt().url("LinkedIn must be a valid URL").optional().nullable(),partnerLogos:Ln(Xh).default([]),compliance:Ln(bt().min(1)).default([]),complianceDocs:Ln(Xh).default([]),isVerified:ji().default(!1),isVisible:ji().default(!0),equipment:Ln(bt().min(1)).default([]),focusAreas:Ln(bt().min(1)).default([]),offers:Ln(Zm(Sd)).default([]),pricePrivacy:ji().default(!1),minimumStay:bt().optional().default(""),rating:Ml().min(0).max(5).default(0),subscriptionTier:Zm(["base","verified","premier","custom"]).default("base"),photos:Ln(Xh).min(0),field:bt().min(1).optional().nullable()}),B$=W1.extend({id:Ml().int().positive()});W1.partial().refine(t=>Object.keys(t).length>0,{message:"At least one field must be provided for an update"});Ln(B$);const em={name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",description:"",offersLabSpace:"no",siretNumber:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],compliance:"",verification:"no",pricePrivacy:"no",equipment:"",focusAreas:"",offers:[],minimumStay:"",rating:"",photoUrlInput:"",complianceDocUrlInput:"",isVisible:"yes"};function z$(t){return{name:t.name,location:t.location,labManager:t.labManager,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",description:t.description||"",offersLabSpace:t.offersLabSpace?"yes":"no",siretNumber:t.siretNumber||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",country:t.country||"",website:t.website||"",linkedin:t.linkedin||"",partnerLogos:t.partnerLogos||[],compliance:t.compliance.join(", "),verification:t.isVerified?"yes":"no",pricePrivacy:t.pricePrivacy?"yes":"no",equipment:t.equipment.join(", "),focusAreas:t.focusAreas.join(", "),offers:[...t.offers],minimumStay:t.minimumStay,rating:t.rating.toString(),photoUrlInput:"",complianceDocUrlInput:"",isVisible:t.isVisible===!1?"no":"yes"}}function tm(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}function q$(t){const e=Array.from(t);return Promise.all(e.map(r=>new Promise((n,i)=>{const l=new FileReader;l.onload=()=>{if(typeof l.result!="string"){i(new Error("Unsupported file format"));return}n({name:r.name,url:l.result})},l.onerror=()=>{i(l.error??new Error("Failed to read file"))},l.readAsDataURL(r)})))}function W$(t,e,r,n){const i=t.rating.trim()===""?0:Number(t.rating);if(t.rating.trim()!==""&&(Number.isNaN(i)||i<0||i>5))throw new Error("Rating must be a number between 0 and 5");return{name:t.name.trim(),location:t.location.trim(),labManager:t.labManager.trim(),contactEmail:t.contactEmail.trim(),logoUrl:t.logoUrl.trim()||null,description:t.description.trim()||null,offersLabSpace:t.offersLabSpace==="yes",siretNumber:t.siretNumber.trim()||null,addressLine1:t.addressLine1.trim()||null,addressLine2:t.addressLine2.trim()||null,city:t.city.trim()||null,state:t.state.trim()||null,postalCode:t.postalCode.trim()||null,country:t.country.trim()||null,website:t.website.trim()||null,linkedin:t.linkedin.trim()||null,partnerLogos:n,compliance:tm(t.compliance),isVerified:t.verification==="yes",equipment:tm(t.equipment),focusAreas:tm(t.focusAreas),offers:t.offers,pricePrivacy:t.pricePrivacy==="yes",minimumStay:t.minimumStay.trim(),rating:t.rating.trim()===""?0:i,photos:e,complianceDocs:r,isVisible:t.isVisible==="yes"}}function K$(){const{labs:t,addLab:e,updateLab:r,removeLab:n,isLoading:i,error:l,refresh:c}=Gs(),[d,h]=b.useState(null),[m,p]=b.useState(em),[y,v]=b.useState(null),[S,_]=b.useState([]),[j,w]=b.useState([]),[C,k]=b.useState([]),[E,A]=b.useState(!1),[L,F]=b.useState(null),[G,J]=b.useState(!1),[O,Q]=b.useState(null),[q,K]=b.useState("");b.useEffect(()=>{c(!0).catch(()=>{})},[c]);const Y=b.useMemo(()=>{const $=q.trim().toLowerCase();return $?t.filter(je=>[je.name,je.location,je.labManager,je.contactEmail].filter(Boolean).join(" ").toLowerCase().includes($)):t},[t,q]),Z=()=>{h("new"),p(em),v(null),_([]),w([]),k([]),Q(null)},me=$=>{h($.id),p(z$($)),v(null),_($.photos),w($.complianceDocs),k($.partnerLogos||[]),Q(null)},ye=()=>{h(null),p(em),_([]),w([]),k([])},re=($,je)=>{p(z=>({...z,[$]:je}))},X=async $=>{try{v(null),await r($.id,{isVisible:!($.isVisible??!0)}),await c(!0),v({type:"success",text:`Marked ${$.name} as ${$.isVisible===!1?"visible":"hidden"}`})}catch(je){v({type:"error",text:je instanceof Error?je.message:"Unable to update visibility"})}},he=$=>{p(je=>{const z=je.offers.includes($)?je.offers.filter(Se=>Se!==$):[...je.offers,$];return{...je,offers:z}})},ce=async $=>{const je=$.target.files?.[0];if(je){Q(null),J(!0);try{const z=je.name.split(".").pop()||"png",Pe=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${z}`}`,{error:_e}=await Be.storage.from("lab-logos").upload(Pe,je,{upsert:!0,contentType:je.type});if(_e)throw _e;const{data:pt}=Be.storage.from("lab-logos").getPublicUrl(Pe),st=pt.publicUrl;p(P=>({...P,logoUrl:st})),v({type:"success",text:"Logo uploaded"})}catch(z){Q(z?.message||"Unable to upload logo")}finally{J(!1)}}},R=async $=>{const je=$.target.files?.[0];if(je){v(null);try{const z=je.name.split(".").pop()||"png",Se=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${z}`,_e=`${typeof d=="number"?`labs/${d}/partners`:"partners"}/${Se}`,{error:pt}=await Be.storage.from("lab-logos").upload(_e,je,{upsert:!0,contentType:je.type});if(pt)throw pt;const{data:st}=Be.storage.from("lab-logos").getPublicUrl(_e),P=st.publicUrl;k(M=>[...M,{name:je.name,url:P}]),v({type:"success",text:"Partner logo uploaded"})}catch(z){v({type:"error",text:z?.message||"Unable to upload partner logo"})}}},te=()=>{const $=m.photoUrlInput.trim();$&&(_(je=>[...je,{name:$.split("/").pop()??`Photo ${je.length+1}`,url:$}]),p(je=>({...je,photoUrlInput:""})))},Le=()=>{const $=m.complianceDocUrlInput.trim();$&&(w(je=>[...je,{name:$.split("/").pop()??`Document ${je.length+1}`,url:$}]),p(je=>({...je,complianceDocUrlInput:""})))},Fe=async $=>{const je=$.target.files;if(!(!je||je.length===0))try{const z=await q$(je);_(Se=>[...Se,...z]),v(null)}catch(z){v({type:"error",text:z instanceof Error?z.message:"Unable to process photo uploads"})}finally{$.target.value=""}},Qe=async $=>{const je=$.target.files;if(!je||je.length===0)return;const z=typeof d=="number"?`labs/${d}/docs`:"docs",Se=[];try{for(const Pe of Array.from(je)){const _e=Pe.name.split(".").pop()||"pdf",pt=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${_e}`,st=`${z}/${pt}`,{error:P}=await Be.storage.from("lab-pdfs").upload(st,Pe,{upsert:!0,contentType:Pe.type});if(P)throw P;const{data:M}=Be.storage.from("lab-pdfs").getPublicUrl(st);Se.push({name:Pe.name,url:M.publicUrl})}Se.length&&(w(Pe=>[...Pe,...Se]),v({type:"success",text:"Documents uploaded"}))}catch(Pe){v({type:"error",text:Pe instanceof Error?Pe.message:"Unable to upload documents"})}finally{$.target.value=""}},U=$=>{_(je=>je.filter(z=>z.url!==$.url))},be=$=>{w(je=>je.filter(z=>z.url!==$.url))},xe=$=>{k(je=>je.filter(z=>z.url!==$.url))},qe=()=>{if(!m.name.trim())throw new Error("Lab name is required");if(!m.location.trim())throw new Error("Location is required");if(!m.contactEmail.trim())throw new Error("Contact email is required");if(S.length===0)throw new Error("Please upload or link at least one lab photo.")},tt=async $=>{$.preventDefault();try{A(!0),qe();const je=W$(m,S,j,C);if(d==="new"){const z=await e(je);v({type:"success",text:`Created ${z.name}`})}else typeof d=="number"&&(await r(d,je),v({type:"success",text:"Lab details updated"}));ye(),await c(!0)}catch(je){v({type:"error",text:je instanceof Error?je.message:"Unable to save lab details"})}finally{A(!1)}},vr=async $=>{try{F($),await n($),d===$&&ye(),v({type:"success",text:"Lab removed from the directory"})}catch(je){v({type:"error",text:je instanceof Error?je.message:"Unable to remove lab"})}finally{F(null)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab directory"}),o.jsx("h1",{className:"mt-3 text-4xl font-semibold text-foreground",children:"Admin: manage partner labs"}),o.jsx("p",{className:"mt-2 max-w-2xl text-muted-foreground",children:"Keep the lab rental directory current by updating contacts, compliance, and equipment details. Edits go live instantly for the lab browsing experience."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx("input",{type:"search",value:q,onChange:$=>K($.target.value),placeholder:"Search labs",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx(Fs,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),o.jsx(pe,{href:"/lab-profile",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Lab profile guide"})}),o.jsxs("button",{type:"button",onClick:Z,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(vj,{className:"h-4 w-4"}),"Add lab"]})]})]}),y&&o.jsx(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:`mt-6 rounded-2xl border p-4 text-sm ${y.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":"border-red-300 bg-red-50 text-red-900"}`,children:y.text}),l&&o.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[o.jsx("span",{children:l}),o.jsx("button",{type:"button",onClick:c,className:"rounded-full border border-destructive/40 px-3 py-1 text-xs font-medium uppercase tracking-[0.2em]",children:"Retry"})]}),o.jsxs("div",{className:"mt-10 grid gap-8 lg:grid-cols-[1.05fr_1fr]",children:[o.jsx(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-4",children:t.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:i?"Loading lab directory":l?"Unable to load the lab directory right now.":"No labs in the directory yet. Use Add lab to create your first listing."}):Y.length===0?o.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/50 p-10 text-center text-muted-foreground",children:"No labs match that search."}):Y.map($=>o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:$.name}),o.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Fs,{className:"h-4 w-4 text-primary"}),$.location]})]}),o.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[o.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium ${$.isVerified?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:$.isVerified?o.jsxs(o.Fragment,{children:[o.jsx(rd,{className:"h-3.5 w-3.5"}),"Verified"]}):o.jsxs(o.Fragment,{children:[o.jsx(ku,{className:"h-3.5 w-3.5"}),"Pending"]})}),o.jsx("button",{type:"button",onClick:()=>X($),className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition ${$.isVisible===!1?"bg-slate-200 text-slate-800 hover:bg-slate-300":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,title:$.isVisible===!1?"Currently hidden. Click to show.":"Currently visible. Click to hide.",children:$.isVisible===!1?"Hidden  click to show":"Visible  click to hide"})]})]}),o.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(bj,{className:"h-4 w-4 text-primary"}),o.jsx("span",{children:$.labManager})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(pp,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"break-all",children:$.contactEmail})]})]}),o.jsxs("dl",{className:"mt-4 grid gap-3 text-xs text-muted-foreground md:grid-cols-2",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Compliance"}),o.jsx("span",{children:$.compliance.join(", ")||""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Focus areas"}),o.jsx("span",{children:$.focusAreas.join(", ")||""})]}),o.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Equipment"}),o.jsx("span",{children:$.equipment.join(", ")||""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Minimum stay"}),o.jsx("span",{children:$.minimumStay||""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Pricing"}),o.jsx("span",{children:$.pricePrivacy?"Quotes required":"Rates published"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Photos"}),o.jsx("span",{children:$.photos.length?`${$.photos.length} supplied`:""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Compliance docs"}),o.jsx("span",{children:$.complianceDocs.length?`${$.complianceDocs.length} uploaded`:""})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>me($),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground transition hover:border-primary hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(SP,{className:"h-3.5 w-3.5"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>vr($.id),disabled:L===$.id,className:"inline-flex items-center gap-2 rounded-full border border-destructive/40 px-3 py-1.5 text-xs font-medium text-destructive transition hover:bg-destructive/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-destructive disabled:cursor-not-allowed disabled:opacity-60",children:[o.jsx(CP,{className:"h-3.5 w-3.5"}),L===$.id?"Removing":"Remove"]})]})]},$.id))}),o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:d==="new"?"Add a lab partner":d?"Edit lab details":"Select a lab"}),d&&o.jsxs("button",{type:"button",onClick:()=>{ye(),v(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:text-primary hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(Ms,{className:"h-3.5 w-3.5"}),"Cancel"]})]}),d?o.jsxs("form",{className:"mt-6 space-y-5",onSubmit:tt,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-name",children:"Lab name"}),o.jsx("input",{id:"lab-name",type:"text",value:m.name,onChange:$=>re("name",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Atlas Applied Biology",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-location",children:"Location"}),o.jsx("input",{id:"lab-location",type:"text",value:m.location,onChange:$=>re("location",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston, MA",required:!0})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-manager",children:"Lab manager"}),o.jsx("input",{id:"lab-manager",type:"text",value:m.labManager,onChange:$=>re("labManager",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Naomi Chen"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-email",children:"Contact email"}),o.jsx("input",{id:"lab-email",type:"email",value:m.contactEmail,onChange:$=>re("contactEmail",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"labs+atlas@glass.demo",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-logo",children:"Logo (stored in Supabase)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{id:"lab-logo",type:"file",accept:"image/*",onChange:ce,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),m.logoUrl&&o.jsxs("button",{type:"button",onClick:()=>p($=>({...$,logoUrl:""})),className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground transition hover:border-destructive hover:text-destructive",children:[o.jsx(Ms,{className:"h-3 w-3"}),"Remove"]})]}),G&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),O&&o.jsx("p",{className:"text-xs text-destructive",children:O}),m.logoUrl&&o.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("img",{src:m.logoUrl,alt:`${m.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),o.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:m.logoUrl})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload saves to the `lab-logos` bucket. Keep files small (e.g., 300x300)."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom feature)"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders."}),C.length>0&&o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:C.map($=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[o.jsx("img",{src:$.url,alt:$.name,className:"h-10 w-10 rounded object-cover"}),o.jsx("button",{type:"button",onClick:()=>xe($),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},$.url))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-description",children:"Lab description"}),o.jsx("textarea",{id:"lab-description",value:m.description,onChange:$=>re("description",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Short intro to the lab (shown on Lab Details)",rows:4}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional intro that appears on the lab detail page."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-offers-space",children:"Offers lab space?"}),o.jsxs("select",{id:"lab-offers-space",value:m.offersLabSpace,onChange:$=>re("offersLabSpace",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"yes",children:"Yes, accepting bench/space requests"}),o.jsx("option",{value:"no",children:"No, visibility only"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls whether pricing/offers show on the lab page."})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address1",children:"Address line 1 (internal)"}),o.jsx("input",{id:"lab-address1",type:"text",value:m.addressLine1,onChange:$=>re("addressLine1",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"123 Bio Ave"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-address2",children:"Address line 2 (internal)"}),o.jsx("input",{id:"lab-address2",type:"text",value:m.addressLine2,onChange:$=>re("addressLine2",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Suite, floor, etc."})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-city",children:"City (internal)"}),o.jsx("input",{id:"lab-city",type:"text",value:m.city,onChange:$=>re("city",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Boston"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-state",children:"State/Region (internal)"}),o.jsx("input",{id:"lab-state",type:"text",value:m.state,onChange:$=>re("state",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"MA"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-postal",children:"Postal code (internal)"}),o.jsx("input",{id:"lab-postal",type:"text",value:m.postalCode,onChange:$=>re("postalCode",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"02118"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-country",children:"Country (internal)"}),o.jsx("input",{id:"lab-country",type:"text",value:m.country,onChange:$=>re("country",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"United States"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-website",children:"Website (optional)"}),o.jsx("input",{id:"lab-website",type:"url",value:m.website,onChange:$=>re("website",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://labs.example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-linkedin",children:"LinkedIn (optional)"}),o.jsx("input",{id:"lab-linkedin",type:"url",value:m.linkedin,onChange:$=>re("linkedin",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://www.linkedin.com/company/example"})]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-siret",children:"SIRET (internal)"}),o.jsx("input",{id:"lab-siret",type:"text",value:m.siretNumber,onChange:$=>re("siretNumber",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"14-digit SIRET"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal use only; not shown publicly."})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-verification",children:"Verification status"}),o.jsxs("select",{id:"lab-verification",value:m.verification,onChange:$=>re("verification",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"yes",children:"Verified"}),o.jsx("option",{value:"no",children:"Pending verification"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-visibility",children:"Visibility"}),o.jsxs("select",{id:"lab-visibility",value:m.isVisible,onChange:$=>re("isVisible",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"yes",children:"Visible in directory"}),o.jsx("option",{value:"no",children:"Hidden (admin only)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-pricePrivacy",children:"Price privacy"}),o.jsxs("select",{id:"lab-pricePrivacy",value:m.pricePrivacy,onChange:$=>re("pricePrivacy",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[o.jsx("option",{value:"no",children:"Rates published"}),o.jsx("option",{value:"yes",children:"Quotes required"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-compliance",children:"Compliance (comma separated)"}),o.jsx("input",{id:"lab-compliance",type:"text",value:m.compliance,onChange:$=>re("compliance",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"BSL-2, ISO 7 Cleanroom"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: BSL-2, ISO 7 Cleanroom, GMP-aligned SOPs."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-complianceDocs",children:"Compliance certificates (PDF)"}),o.jsx("input",{id:"lab-complianceDocs",type:"file",accept:"application/pdf",multiple:!0,onChange:Qe,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploads are stored in the Supabase bucket `lab-pdfs`."}),o.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:j.map($=>o.jsxs("button",{type:"button",onClick:()=>be($),className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 transition hover:border-destructive hover:text-destructive",children:[o.jsx(bP,{className:"h-3 w-3 text-primary"}),$.name,o.jsx(Ms,{className:"h-3 w-3"})]},$.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:m.complianceDocUrlInput,onChange:$=>re("complianceDocUrlInput",$.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/certificate.pdf"}),o.jsxs("button",{type:"button",onClick:Le,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(EP,{className:"h-4 w-4"}),"Add URL"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload or link to safety certifications. These appear alongside compliance notes for researchers."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-focusAreas",children:"Focus areas (comma separated)"}),o.jsx("input",{id:"lab-focusAreas",type:"text",value:m.focusAreas,onChange:$=>re("focusAreas",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Cell therapy, Process development"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"Offers"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Sd.map($=>o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("input",{type:"checkbox",checked:m.offers.includes($),onChange:()=>he($),className:"h-4 w-4 rounded border-border text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary"}),$]},$))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-equipment",children:"Equipment (comma separated)"}),o.jsx("textarea",{id:"lab-equipment",value:m.equipment,onChange:$=>re("equipment",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Single-use bioreactors, Cryostorage, Sequencing core",rows:3}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"List flagship instrumentation available to teams."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-minimumStay",children:"Minimum stay / commitment"}),o.jsx("input",{id:"lab-minimumStay",type:"text",value:m.minimumStay,onChange:$=>re("minimumStay",$.target.value),className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"20 lab hours per month"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"lab-photos",children:"Lab photos"}),o.jsx("input",{id:"lab-photos",type:"file",accept:"image/*",multiple:!0,onChange:Fe,className:"w-full rounded-xl border border-dashed border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:S.map($=>o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-border",children:[o.jsx("img",{src:$.url,alt:$.name,className:"h-24 w-full object-cover"}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-muted-foreground bg-background/80",children:[o.jsx("span",{className:"truncate",children:$.name}),o.jsx("button",{type:"button",onClick:()=>U($),className:"rounded-full border border-border px-2 py-0.5 text-[10px] uppercase tracking-[0.2em] transition hover:border-destructive hover:text-destructive",children:"Remove"})]})]},$.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:m.photoUrlInput,onChange:$=>re("photoUrlInput",$.target.value),className:"flex-1 rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"https://example.com/photo.jpg"}),o.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:[o.jsx(wP,{className:"h-4 w-4"}),"Add URL"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload photos directly or link to hosted images. The first photo is used for the public thumbnail."})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[o.jsxs("button",{type:"submit",disabled:E,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary disabled:opacity-60 disabled:cursor-not-allowed",children:[o.jsx(NP,{className:"h-4 w-4"}),E?"Saving":"Save changes"]}),o.jsxs("button",{type:"button",onClick:()=>{ye(),v(null)},className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:[o.jsx(Ms,{className:"h-4 w-4"}),"Cancel"]})]})]}):o.jsx("div",{className:"mt-16 text-center text-sm text-muted-foreground",children:"Select a lab from the list or choose Add lab to create a new listing."})]})]})]})})}const H$=[{name:"Base",monthly_price:0,description:"Launch on GLASS-Connect with the essentials.",highlights:["Profile page","Equipment showcase","Inbound contact form"],featured:!1},{name:"Verified",monthly_price:99,description:"Add the badge researchers trust.",highlights:["Remote/on-site verification","Badge on listing","Priority placement"],featured:!1},{name:"Premier",monthly_price:199,description:"Flagship placement plus media support.",highlights:["Free verification","Direct collaboration management","Seminar access"],featured:!0},{name:"Custom",monthly_price:null,description:"For networks or operators managing multiple labs.",highlights:["Central billing","Dedicated partner manager","API & tooling access"],featured:!1}];function K1(){const[t,e]=b.useState(H$),[r,n]=b.useState(!1);return b.useEffect(()=>{let i=!0;async function l(){n(!0);try{const c=await fetch("/api/pricing"),d=c.headers.get("content-type")||"";if(!c.ok||!d.includes("application/json")){await c.text();return}const h=await c.json();i&&Array.isArray(h?.tiers)&&h.tiers.length&&e(h.tiers.map(m=>({name:m.name,monthly_price:m.monthly_price===void 0?null:m.monthly_price,description:m.description,highlights:Array.isArray(m.highlights)?m.highlights:[],featured:!!m.featured})))}catch{}finally{i&&n(!1)}}return l(),()=>{i=!1}},[]),{tiers:t,loading:r}}function G$(){const{tiers:t}=K1();return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl space-y-6",children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.3em] text-muted-foreground",children:"GLASS-Connect pricing"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground leading-tight",children:"Simple plans to showcase your lab. No hidden fees."}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose how visible you want to be on GLASS-Connect. Switch tiers anytime; your listing stays live."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(pe,{href:"/admin/labs",children:o.jsx("a",{className:"inline-flex items-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"List your lab"})}),o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs on GLASS-Connect"})})]})]}),o.jsx(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-14 grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.name.toLowerCase(),n=e.name==="Custom"?`/payments?plan=${r}#custom`:`/payments?plan=${r}`,i=e.monthly_price??e.monthlyPrice,l=i===0||i==="0",c=i!=null&&!l,d=l?"Free":c?`${i}`:"Custom";return o.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${e.featured?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),o.jsxs("p",{className:"mt-3 text-4xl font-semibold text-foreground",children:[d,c&&o.jsx("span",{className:"text-base text-muted-foreground",children:" / month"})]})]}),e.featured&&o.jsx(gp,{className:"h-6 w-6 text-primary"})]}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:e.description}),o.jsx("ul",{className:"mt-6 space-y-3 text-sm text-muted-foreground",children:e.highlights.map(h=>o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(hP,{className:"h-4 w-4 text-primary"}),h]},h))}),e.name==="Custom"?o.jsx(pe,{href:n,children:o.jsxs("a",{className:"mt-6 inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Talk to partnerships",o.jsx(gh,{className:"ml-2 h-4 w-4"})]})}):o.jsx(pe,{href:n,children:o.jsx("a",{className:"mt-6 inline-flex items-center rounded-full bg-foreground px-4 py-2 text-sm font-medium text-background transition hover:bg-foreground/90",children:"Get started"})})]},e.name)})}),o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-12 grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Add-ons"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification visits: 250500 depending on geography. Remote verifications are available if you already have documented SOPs."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need ACH, wire, or invoices? Use the Custom intake on the plan details page and well send tailored options."})]}),o.jsxs("div",{className:"rounded-[32px] border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"After you subscribe"}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[o.jsx("li",{children:"Stripe emails a receipt instantly and your listing stays live as you edit."}),o.jsx("li",{children:"GLASS-Connect activates your listing within one business day and schedules verification if needed."}),o.jsx("li",{children:"Weekly Fridays: we highlight new labs and route qualified requests right to your inbox."})]}),o.jsx(pe,{href:"/payments?plan=base",children:o.jsxs("a",{className:"inline-flex items-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["View plan details",o.jsx(gh,{className:"ml-2 h-4 w-4"})]})})]})]}),o.jsxs("div",{className:"mt-12 flex flex-wrap gap-3",children:[o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Browse labs"})}),o.jsx(pe,{href:"/admin/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage my lab profile"})}),o.jsxs("a",{href:"mailto:contact@glass-funding.com",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:["Contact support",o.jsx(gh,{className:"ml-2 h-4 w-4"})]})]})]})})}function Q$(){return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-24 lg:py-28 max-w-4xl",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[o.jsx("span",{className:"text-sm uppercase tracking-[0.35em] text-muted-foreground",children:"Lab profile setup"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-semibold leading-tight text-foreground",children:"Share the essentials about your lab before it appears in listings."}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Lab managers can use this guide to collect everything needed for the public listing and verification badge. Once you have the details and documents ready, jump into the editor to publish or update your profile."})]}),o.jsxs(Ge.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-12 grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mP,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"What to prepare"})]}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[o.jsx("li",{children:"Core lab details: location, lab manager, contact email, and equipment list."}),o.jsx("li",{children:"Focus areas and booking offers (monthly, hourly, day rates, or equipment-only access)."}),o.jsx("li",{children:"Minimum stay expectations and any special onboarding notes for new teams."})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gP,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Upload requirements"})]}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground leading-relaxed",children:[o.jsx("li",{children:"High-quality photos of the facility and key equipment (at least one required)."}),o.jsx("li",{children:"Optional hosted photo URLs if your lab already has imagery online."}),o.jsx("li",{children:"Safety/compliance certificates (PDF) to display alongside credential summaries."})]})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-6 shadow-sm space-y-4 md:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Nn,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Verification badge checklist"})]}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"After you submit your profile, Glass coordinates a location-based site visit. A representative will confirm the equipment, access controls, and safety documentation on file. Keep digital copies handy for the visit and make sure the listed contact can host the walkthrough."}),o.jsx("div",{className:"mt-4 rounded-2xl border border-border bg-background/60 p-5 text-sm text-muted-foreground",children:o.jsx("p",{children:"Remember: rental agreements, insurance coverage, and day-to-day operations stay between your team and the researchers. Glass provides the marketplace and verification layer, but does not intermediate leases or liability."})})]})]}),o.jsxs(Ge.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-12 flex flex-wrap gap-3",children:[o.jsx(pe,{href:"/lab/manage",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Open lab editor"})}),o.jsx(pe,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Review listing pricing"})}),o.jsx("a",{href:"mailto:support@glass.demo",className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:bg-muted/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary",children:"Contact the Glass team"})]})]})})}function Z$(){return j0.useSyncExternalStore(J$,()=>!0,()=>!1)}function J$(){return()=>{}}var Pg="Avatar",[Y$]=$o(Pg),[X$,H1]=Y$(Pg),G1=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,l]=b.useState("idle");return o.jsx(X$,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:o.jsx(_t.span,{...n,ref:e})})});G1.displayName=Pg;var Q1="AvatarImage",Z1=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...l}=t,c=H1(Q1,r),d=eB(n,l),h=Vn(m=>{i(m),c.onImageLoadingStatusChange(m)});return Un(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?o.jsx(_t.img,{...l,ref:e,src:n}):null});Z1.displayName=Q1;var J1="AvatarFallback",Y1=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,l=H1(J1,r),[c,d]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?o.jsx(_t.span,{...i,ref:e}):null});Y1.displayName=J1;function g0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eB(t,{referrerPolicy:e,crossOrigin:r}){const n=Z$(),i=b.useRef(null),l=n?(i.current||(i.current=new window.Image),i.current):null,[c,d]=b.useState(()=>g0(l,t));return Un(()=>{d(g0(l,t))},[l,t]),Un(()=>{const h=y=>()=>{d(y)};if(!l)return;const m=h("loaded"),p=h("error");return l.addEventListener("load",m),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",p)}},[l,r,e]),c}var X1=G1,ek=Z1,tk=Y1;const Ag=b.forwardRef(({className:t,...e},r)=>o.jsx(X1,{ref:r,className:dt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ag.displayName=X1.displayName;const Rg=b.forwardRef(({className:t,...e},r)=>o.jsx(ek,{ref:r,className:dt("aspect-square h-full w-full",t),...e}));Rg.displayName=ek.displayName;const Og=b.forwardRef(({className:t,...e},r)=>o.jsx(tk,{ref:r,className:dt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Og.displayName=tk.displayName;function tB(){const t="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",{user:e,loading:r,signOut:n}=cr(),[i,l]=b.useState(null),[c,d]=b.useState(!0),[h,m]=b.useState(!1),[p,y]=b.useState(null),[v,S]=b.useState(""),[_,j]=b.useState(""),[w,C]=b.useState(""),[k,E]=b.useState(""),[A,L]=b.useState(null),[F,G]=b.useState(!1);b.useEffect(()=>{async function q(){if(!e){l(null),d(!1);return}const{data:Y,error:Z}=await Be.from("profiles").select("user_id,email,display_name,role,subscription_status,name,avatar_url,created_at,updated_at").eq("user_id",e.id).maybeSingle();Z?(console.error("Error fetching profile:",Z.message),l(null)):(l(Y||null),Y?(S(Y.name??""),j(Y.display_name??""),C(Y.role??""),E(Y.subscription_status??""),L(Y.avatar_url??null)):(C("user"),E("none"))),d(!1)}r||q();const{data:K}=Be.auth.onAuthStateChange((Y,Z)=>{Z?.user?q():l(null)});return()=>{try{K?.subscription?.unsubscribe?.(),K?.unsubscribe?.()}catch{}}},[r,e?.id]);const J=async()=>{await n()},O=async()=>{if(y(null),m(!0),!e){y("You must be logged in to save your profile."),m(!1);return}try{const q={user_id:e.id,email:e.email,name:v||null,display_name:_||null,avatar_url:A||null},{error:K}=await Be.from("profiles").upsert(q,{onConflict:"user_id"});if(K)throw K;l(Y=>({...Y??{},...q}))}catch(q){console.error(q),y(q.message||"Failed to save profile.")}finally{m(!1)}};async function Q(q){const K=q.target.files?.[0];if(!(!K||!e)){G(!0),y(null);try{const Y=K.name.split(".").pop()?.toLowerCase()||"png",Z=`${e.id}/avatar.${Y}`,{error:me}=await Be.storage.from("avatars").upload(Z,K,{cacheControl:"3600",upsert:!0,contentType:K.type});if(me)throw me;const{data:ye}=Be.storage.from("avatars").getPublicUrl(Z),re=ye.publicUrl;L(re);const{error:X}=await Be.from("profiles").upsert({user_id:e.id,email:e.email,avatar_url:re},{onConflict:"user_id"});if(X)throw X}catch(Y){console.error(Y),y(Y.message||"Failed to upload avatar.")}finally{G(!1)}}}return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"max-w-2xl space-y-4",children:[o.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Account preview"}),o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:"Your Glass profile"}),o.jsx("p",{className:"text-muted-foreground",children:"This page will eventually show your verified status, saved labs, requests, and billing."})]}),o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Browse labs"})})]}),o.jsxs("div",{className:"mt-12 grid gap-8 lg:grid-cols-2",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Profile Info"}),c||r?o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading profile..."}):i?o.jsxs("div",{className:"mt-4 space-y-2 text-sm text-foreground",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",i.name||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Display name:"})," ",i.display_name||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",e?.email||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Role:"})," ",i.role||w||""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subscription:"})," ",i.subscription_status||k||""]}),o.jsx("button",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",onClick:J,children:"Sign out"})]}):o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"You are not signed in or profile not created yet."})]}),o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:i?"Edit your profile":"Create your profile"}),p&&o.jsx("p",{className:"text-sm text-destructive mt-2",children:p}),o.jsxs("form",{className:"mt-6 space-y-4",onSubmit:q=>q.preventDefault(),children:[o.jsx(uo,{label:"Avatar",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Ag,{className:"h-14 w-14",children:[o.jsx(Rg,{src:A??void 0,alt:_||v||"Avatar"}),o.jsx(Og,{className:"text-base font-semibold bg-muted",children:(_||v||e?.email||"?").slice(0,2).toUpperCase()})]}),o.jsxs("label",{className:"inline-flex items-center rounded-full border px-3 py-2 text-xs font-medium cursor-pointer hover:border-primary hover:text-primary",children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Q}),F?"Uploading":"Upload photo"]})]})}),o.jsx(uo,{label:"Full name",children:o.jsx("input",{className:t,value:v,onChange:q=>S(q.target.value)})}),o.jsx(uo,{label:"Display name",children:o.jsx("input",{className:t,value:_,onChange:q=>j(q.target.value)})}),o.jsx(uo,{label:"Email",children:o.jsx("input",{className:t,value:e?.email??"",disabled:!0})}),o.jsx(uo,{label:"Role",children:o.jsx("input",{className:t,value:w,disabled:!0})}),o.jsx(uo,{label:"Subscription status",children:o.jsx("input",{className:t,value:k,disabled:!0})}),o.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition",onClick:O,disabled:h,children:h?"Saving...":"Save profile"})]})]})]})]})})}function uo({label:t,children:e}){return o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:t}),e]})}function rB(){const{user:t,loading:e}=cr(),{labs:r}=Gs(),[n,i]=b.useState(null),[l,c]=b.useState(!0),[d,h]=b.useState(null),[m,p]=b.useState(!1),[y,v]=b.useState([]),[S,_]=b.useState(null),[j,w]=b.useState(0),[C,k]=b.useState(0),[E,A]=b.useState([]),[L,F]=b.useState(!1),[G,J]=b.useState(!1),[O,Q]=b.useState(null),[q,K]=b.useState(null),[Y,Z]=b.useState(""),[me,ye]=b.useState(""),[re,X]=b.useState("update"),[he,ce]=b.useState(null),[R,te]=b.useState([]),[Le,Fe]=b.useState(!1),[Qe,U]=b.useState(!0),[be,xe]=b.useState([]),[qe,tt]=b.useState(!1),[vr,$]=b.useState(null),[je,z]=b.useState(!1),[Se,Pe]=b.useState(null),[_e,pt]=b.useState(!1),[st,P]=b.useState(null),[M,H]=b.useState(null),[fe,ue]=b.useState({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""}),le=b.useMemo(()=>n?.display_name||n?.name||t?.email||"Your Account",[n?.display_name,n?.name,t?.email]),Ie=b.useMemo(()=>{const ke=(n?.display_name||n?.name||t?.email||"?").replace(/@.*/,"").trim().split(/\s+/);return(ke.length>=2?ke[0][0]+ke[1][0]:ke[0][0]).toUpperCase()},[n?.display_name,n?.name,t?.email]);b.useEffect(()=>{async function ee(){if(!t){i(null),c(!1);return}const{data:ke,error:mt}=await Be.from("profiles").select("user_id,email,display_name,name,role,subscription_status,subscription_tier,avatar_url,created_at,updated_at").eq("user_id",t.id).maybeSingle();mt?(h(mt.message),i(null)):i(ke??null),c(!1)}e||ee()},[e,t?.id]),b.useEffect(()=>{async function ee(){if(!t){v([]);return}p(!0);try{const{data:ke}=await Be.auth.getSession(),mt=ke.session?.access_token,ut=mt?{Authorization:`Bearer ${mt}`}:{},yt=await fetch("/api/my-labs/analytics",{headers:ut});if(yt.ok){const Gt=await yt.json();v(Gt?.labs??[]),_(null)}else{const Gt=await yt.text();_(Gt||"Unable to load analytics")}try{const Gt=await fetch("/api/my-labs/requests",{headers:ut}),Or=Gt.headers.get("content-type")||"";if(Gt.ok&&Or.includes("application/json")){const Ir=await Gt.json();w(Array.isArray(Ir?.collaborations)?Ir.collaborations.length:0),k(Array.isArray(Ir?.contacts)?Ir.contacts.length:0)}}catch{}try{const Gt=await fetch("/api/favorites",{headers:ut}),Or=Gt.headers.get("content-type")||"";if(Gt.ok&&Or.includes("application/json")){const Ir=await Gt.json(),Qs=Array.isArray(Ir?.labIds)?Ir.labIds:[];A(Qs.map(Zs=>Number(Zs)).filter(Zs=>!Number.isNaN(Zs)))}}catch{}}catch(ke){_(ke.message||"Unable to load dashboard data")}finally{p(!1)}}e||ee()},[e,t?.id]);const nt=(()=>{const ee=n?.subscription_tier?.toLowerCase?.()??"base";return ee==="premier"?"Premier":ee==="verified"?"Verified":ee==="custom"?"Custom":"Base"})();y.filter(ee=>ee.isVisible!==!1).length;const it=y.filter(ee=>ee.isVisible===!1).length;y.filter(ee=>["premier","custom"].includes((ee.subscriptionTier||"").toLowerCase()));const nr=y.reduce((ee,ke)=>ee+(ke.views7d||0),0),Gr=y.reduce((ee,ke)=>ee+(ke.views30d||0),0),ur=y.reduce((ee,ke)=>ee+(ke.favorites||0),0),ls=y.reduce((ee,ke)=>ke.views30d>(ee?.views30d??-1)?ke:ee,y.length?y[0]:null),on=y.reduce((ee,ke)=>ke.favorites>(ee?.favorites??-1)?ke:ee,y.length?y[0]:null),cs=E.length?r.filter(ee=>E.includes(ee.id)):[],Ri=ee=>{const ke=y.find(yt=>yt.id===ee);if(ke&&ke.isVerified!==void 0){const yt=ke.isVerified;return yt===!0||yt==="true"||yt===1||yt==="1"}const mt=r.find(yt=>yt.id===ee),ut=mt?.isVerified??mt?.is_verified;return ut===!0||ut==="true"||ut===1||ut==="1"},an=b.useMemo(()=>y.filter(ee=>["premier","custom"].includes((ee.subscriptionTier||"").toLowerCase())),[y]),us=b.useMemo(()=>r.filter(ee=>ee.ownerUserId===t?.id||ee.owner_user_id===t?.id||y.some(ke=>ke.id===ee.id)),[r,y,t?.id]),Tn=b.useMemo(()=>us.filter(ee=>!Ri(ee.id)),[us]);b.useEffect(()=>{an.length&&!he&&ce(an[0].id)},[an,he]);async function Go(ee){if(!(!ee||!ee.length)){Q(null),Fe(!0);try{const ke=Array.from(ee).slice(0,4-R.length),mt=[];for(const ut of ke){const yt=ut.name.replace(/\s+/g,"-").toLowerCase(),Gt=`news/${t?.id??"anon"}/${Date.now()}-${yt}`,{error:Or}=await Be.storage.from("lab-news").upload(Gt,ut,{upsert:!0,contentType:ut.type});if(Or)throw Or;const{data:Ir}=Be.storage.from("lab-news").getPublicUrl(Gt);Ir?.publicUrl&&mt.push({url:Ir.publicUrl,name:ut.name})}te(ut=>[...ut,...mt].slice(0,4))}catch(ke){Q(ke?.message||"Unable to upload photos")}finally{Fe(!1)}}}async function Qo(){if(!he){Q("Select a lab to post this update.");return}if(!Y.trim()||!me.trim()){Q("Title and summary are required.");return}J(!0),Q(null),K(null);try{const{data:ee}=await Be.auth.getSession(),ke=ee.session?.access_token,mt={"Content-Type":"application/json",...ke?{Authorization:`Bearer ${ke}`}:{}},ut=await fetch("/api/news",{method:"POST",headers:mt,body:JSON.stringify({labId:he,title:Y.trim(),summary:me.trim(),category:re,images:R,authorId:t?.id??null})});if(!ut.ok){const yt=await ut.text();throw new Error(yt||"Unable to post news")}K("Sent! We'll review and publish it soon."),Z(""),ye(""),te([]),F(!1)}catch(ee){Q(ee?.message||"Unable to post news")}finally{J(!1)}}async function ds(){if(!Se){P("Select a lab to verify.");return}if(Ri(Se)){pt(!1),P("This lab is already verified by GLASS."),typeof window<"u"&&alert("This lab is already verified by GLASS.");return}pt(!0),P(null),H(null);try{const{data:ee}=await Be.auth.getSession(),ke=ee.session?.access_token,mt={"Content-Type":"application/json",...ke?{Authorization:`Bearer ${ke}`}:{}},ut=await fetch("/api/verification-requests",{method:"POST",headers:mt,body:JSON.stringify({labId:Se,...fe})});if(!ut.ok){const yt=await ut.text();throw new Error(yt||"Unable to submit verification request")}H("Request received! We will reach out to schedule verification (additional cost applies)."),z(!1),ue({addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""})}catch(ee){P(ee?.message||"Unable to submit verification request")}finally{pt(!1)}}return b.useEffect(()=>{async function ee(){if(t){tt(!0),$(null);try{const{data:ke}=await Be.auth.getSession(),mt=ke.session?.access_token,ut=mt?{Authorization:`Bearer ${mt}`}:{},yt=await fetch("/api/news/mine",{headers:ut}),Gt=yt.headers.get("content-type")||"";if(!yt.ok||!Gt.includes("application/json"))throw await yt.text(),new Error("Unable to load news");const Or=await yt.json();xe(Array.isArray(Or?.news)?Or.news:[])}catch(ke){$(ke?.message||"Unable to load news"),xe([])}finally{tt(!1)}}}e||ee()},[e,t?.id]),o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Ag,{className:"h-14 w-14",children:[o.jsx(Rg,{src:n?.avatar_url??void 0,alt:le}),o.jsx(Og,{className:"text-base font-semibold bg-gradient-to-br from-indigo-500/20 to-pink-500/20 text-foreground",children:Ie})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:le}),o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:nt})]}),o.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Your Glass profile overview."})]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx(pe,{href:"/account/edit",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Edit account"}),o.jsx(pe,{href:"/requests",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:text-primary hover:border-primary",children:"Requests"}),n&&(n.role==="lab"||n.role==="admin")&&o.jsx(pe,{href:"/lab/manage",className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage lab"}),n&&n.role==="admin"&&o.jsx(pe,{href:"/admin/labs",className:"inline-flex items-center justify-center rounded-full border border-primary px-4 py-2 text-sm font-medium text-primary transition hover:bg-primary/10",children:"Admin labs"}),Tn.length>0&&o.jsx("button",{type:"button",onClick:()=>{Pe(Tn[0]?.id??null),z(!0),P(null)},className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Get Verified by GLASS"}),o.jsxs(pe,{href:"/favorites",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:[o.jsx("span",{className:"mr-2 flex h-7 w-7 items-center justify-center rounded-full border border-border text-muted-foreground",children:""}),"Favorites (",cs.length,")"]}),o.jsx(pe,{href:"/subscriptions",className:"inline-flex items-center justify-center rounded-full border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",children:"Change plan"})]})]}),L&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>F(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Post a lab update"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"For premier/custom labs. Well review and feature these on the main page."}),o.jsxs("div",{className:"mt-4 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),o.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:he??"",onChange:ee=>ce(Number(ee.target.value)),children:an.map(ee=>o.jsx("option",{value:ee.id,children:ee.name},ee.id))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Title"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"New equipment, collaboration call, milestone",value:Y,onChange:ee=>Z(ee.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Summary"}),o.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Quick blurb for the homepage ticker.",value:me,onChange:ee=>ye(ee.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Category"}),o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:re,onChange:ee=>X(ee.target.value),children:[o.jsx("option",{value:"update",children:"Update"}),o.jsx("option",{value:"equipment",children:"New equipment"}),o.jsx("option",{value:"project",children:"New project"}),o.jsx("option",{value:"collaboration",children:"Collaboration request"}),o.jsx("option",{value:"announcement",children:"Announcement"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Photos (up to 4)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(ee=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[160px] truncate",children:ee.name}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>te(ke=>ke.filter(mt=>mt.url!==ee.url)),children:"Remove"})]},ee.url))}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3",children:[o.jsx("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Upload photos"}),o.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:async ee=>{await Go(ee.target.files),ee.target&&(ee.target.value="")},disabled:R.length>=4||Le})]}),Le&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"Uploading"})]})]}),O&&o.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:O}),q&&o.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:q}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>F(!1),disabled:G,children:"Cancel"}),o.jsx("button",{type:"button",onClick:Qo,disabled:G,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:G?"Sending":"Send update"})]})]})]})}),je&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-10",children:o.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-border bg-card p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",onClick:()=>z(!1),children:""}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Get verified by GLASS"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification includes an on-site visit and carries an additional cost. Choose a lab and provide an address if missing."}),o.jsxs("div",{className:"mt-4 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Lab"}),o.jsx("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:Se??"",onChange:ee=>Pe(Number(ee.target.value)),children:Tn.map(ee=>o.jsx("option",{value:ee.id,children:ee.name},ee.id))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 1"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Street address",value:fe.addressLine1,onChange:ee=>ue(ke=>({...ke,addressLine1:ee.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Address line 2"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",placeholder:"Suite / Unit (optional)",value:fe.addressLine2,onChange:ee=>ue(ke=>({...ke,addressLine2:ee.target.value}))})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:fe.city,onChange:ee=>ue(ke=>({...ke,city:ee.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"State/Region"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:fe.state,onChange:ee=>ue(ke=>({...ke,state:ee.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Postal code"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:fe.postalCode,onChange:ee=>ue(ke=>({...ke,postalCode:ee.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Country"}),o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm focus:border-primary focus:outline-none",value:fe.country,onChange:ee=>ue(ke=>({...ke,country:ee.target.value}))})]})]}),st&&o.jsx("div",{className:"rounded-xl border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:st}),M&&o.jsx("div",{className:"rounded-xl border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:M}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",className:"rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary",onClick:()=>z(!1),disabled:_e,children:"Cancel"}),o.jsx("button",{type:"button",onClick:ds,disabled:_e,className:"rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-70",children:_e?"Sending":"Submit request"})]})]})]})}),o.jsxs("div",{className:"mt-10 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:[o.jsx("div",{className:"mb-4 flex items-center justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"News"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent updates from your labs"})]})}),qe&&o.jsx("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3 text-sm text-muted-foreground",children:"Loading news"}),vr&&o.jsxs("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:[vr,". You can still post a new update below."]}),!qe&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"flex gap-4 min-w-full",children:[o.jsxs("div",{className:"min-w-[260px] rounded-2xl border border-dashed border-border bg-background/60 px-4 py-4 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground mb-1",children:"Share an update"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Post equipment arrivals, collaborations, or milestones."})]}),o.jsx("button",{type:"button",onClick:()=>{F(!0),Q(null)},className:"mt-3 inline-flex items-center justify-center rounded-full bg-primary px-3 py-2 text-xs font-medium text-primary-foreground transition hover:bg-primary/90",children:"Create post"})]}),be.length>0&&be.map(ee=>{const ke=ee.labs?.name||`Lab ${ee.lab_id}`,mt=ee.created_at?new Date(ee.created_at).toLocaleDateString():"";return o.jsxs("div",{className:"min-w-[260px] max-w-[280px] rounded-2xl border border-border bg-background/70 p-4 flex flex-col gap-3",children:[o.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:o.jsx("span",{className:"rounded-full bg-muted/60 px-2 py-1 text-[11px] capitalize",children:ee.category||"update"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground line-clamp-2",children:ee.title}),o.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-3",children:ee.summary})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"truncate",children:ke}),o.jsx("span",{className:"text-[11px]",children:mt})]}),o.jsx("div",{className:"flex items-center gap-2",children:ee.images?.slice(0,2).map(ut=>o.jsx("img",{src:ut.url,alt:ut.name||"news",className:"h-14 w-14 rounded-lg object-cover border border-border"},ut.url))})]},ee.id)})]})})]}),o.jsx("div",{className:"mt-8 flex flex-col gap-6 lg:flex-row",children:o.jsxs(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3 cursor-pointer select-none",onClick:()=>U(ee=>!ee),children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Dashboard"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Your activity at a glance"})]}),o.jsx("span",{className:"rounded-full border border-border px-3 py-1 text-xs font-medium text-muted-foreground",children:Qe?"Collapse":"Expand"})]}),Qe&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[o.jsx(hi,{label:"Tier",value:nt,hint:n?.subscription_status||""}),o.jsx(hi,{label:"Labs linked",value:y.length.toString(),hint:it?`${it} hidden`:""}),o.jsx(hi,{label:"Views (7d total)",value:nr.toString()}),o.jsx(hi,{label:"Views (30d total)",value:Gr.toString()}),o.jsx(hi,{label:"Favorites total",value:ur.toString()}),o.jsx(hi,{label:"Collab requests",value:j.toString()}),o.jsx(hi,{label:"Rent/contact requests",value:C.toString()}),S&&o.jsx("div",{className:"col-span-full rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:S})]}),y.length>0&&o.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[ls&&o.jsx(y0,{title:"Best performing",subtitle:"Most views (30d)",primary:`${ls.views30d} views`,secondary:ls.name,badge:["premier","custom"].includes((ls.subscriptionTier||"").toLowerCase())?"Premium":void 0}),on&&o.jsx(y0,{title:"Most favorited",subtitle:"Total favorites",primary:`${on.favorites} favorites`,secondary:on.name,badge:["premier","custom"].includes((on.subscriptionTier||"").toLowerCase())?"Premium":void 0})]}),y.length>0&&o.jsxs("div",{className:"mt-8",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Linked labs"}),o.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:y.map(ee=>{const ke=(ee.subscriptionTier||"").toLowerCase(),mt=ke==="premier"||ke==="custom";return o.jsxs("div",{className:"rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:ee.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[mt?"Premier/Custom":ke||"Base","  ",ee.isVisible===!1?"Hidden":"Visible"]})]}),o.jsx(pe,{href:`/lab/manage/${ee.id}`,className:"text-xs font-medium text-primary hover:underline",children:"Manage"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["7d views: ",ee.views7d]}),o.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["30d views: ",ee.views30d]}),o.jsxs("span",{className:"rounded-full border border-border px-2 py-1",children:["Favorites: ",ee.favorites]})]})]},ee.id)})})]})]})]})})]})})}function hi({label:t,value:e,hint:r}){return o.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),o.jsx("p",{className:"mt-1 text-2xl font-semibold text-foreground",children:e}),r?o.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:r}):null]})}function y0({title:t,subtitle:e,primary:r,secondary:n,badge:i}){return o.jsxs("div",{className:"rounded-2xl border border-border bg-background/70 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),i?o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:i}):null]}),o.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:r}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n})]})}function nB(){const{user:t}=cr(),[e,r]=b.useState({labs:[],collaborations:[],contacts:[]}),[n,i]=b.useState(!0),[l,c]=b.useState(null),[d,h]=b.useState("collaboration"),[m,p]=b.useState(new Set),[y,v]=b.useState(new Set);b.useEffect(()=>{(async()=>{c(null),i(!0);try{const{data:w}=await Be.auth.getSession(),C=w.session?.access_token,k=await fetch("/api/my-labs/requests",{headers:C?{Authorization:`Bearer ${C}`}:{}}),E=k.headers.get("content-type")||"";if(!k.ok||!E.includes("application/json")){const L=await k.text();throw new Error(L||"Unable to load requests")}const A=await k.json();r(A)}catch(w){c(w.message||"Unable to load requests")}finally{i(!1)}})()},[t?.id]);const S=async(w,C)=>{let k=!0;if(p(E=>{const A=new Set(E);return A.has(w)?(A.delete(w),k=!1):(A.add(w),k=!0),A}),k&&C.contact_email&&!y.has(w))try{const{data:E}=await Be.auth.getSession(),A=E.session?.access_token;await fetch("/api/my-labs/requests/viewed",{method:"POST",headers:{"Content-Type":"application/json",...A?{Authorization:`Bearer ${A}`}:{}},body:JSON.stringify({contactEmail:C.contact_email,labName:C.lab_name,type:d==="collaboration"?"collaboration":"rental"})}),v(L=>{const F=new Set(L);return F.add(w),F})}catch{}},_=w=>{const C=w.id??`${w.lab_id??""}-${w.lab_name??""}-${w.contact_email??""}-${w.created_at??""}`,k=w.created_at?new Date(w.created_at).toLocaleString():null,E=m.has(C);return o.jsxs("div",{className:"rounded-2xl border border-border bg-card/70",children:[o.jsxs("button",{type:"button",onClick:()=>S(C,w),className:"flex w-full items-center justify-between gap-4 px-4 py-3 text-left hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-4",children:[o.jsx("p",{className:"text-sm font-semibold text-foreground",children:w.lab_name||"Unknown lab"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_name||"Unknown contact"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k&&o.jsx("p",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:k}),o.jsx("span",{className:"text-xs text-primary",children:E?"Hide":"View"})]})]}),E&&o.jsxs("div",{className:"border-t border-border px-4 py-4 space-y-4 text-sm text-foreground",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Contact"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:w.contact_email||"No email provided"}),w.preferred_contact&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Preferred: ",w.preferred_contact==="video_call"?"Video call":w.preferred_contact==="in_person"?"In person":"Email"]})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Request"}),w.collaboration_focus&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Focus:"})," ",w.collaboration_focus]}),w.desired_timeline&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Timeline:"})," ",w.desired_timeline]}),w.target_labs&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Target labs:"})," ",w.target_labs]}),w.resources_offered&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Resources offered:"})," ",w.resources_offered]})]}),w.additional_notes&&o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Notes"}),o.jsx("p",{children:w.additional_notes})]}),w.message&&!w.collaboration_focus&&o.jsxs("div",{className:"grid gap-1",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Message"}),o.jsx("p",{children:w.message})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[w.contact_email&&o.jsx("a",{href:`mailto:${encodeURIComponent(w.contact_email)}?subject=Re:%20${encodeURIComponent(w.lab_name||"your request")}`,className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-primary hover:border-primary",children:"Reply via email"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const A=`Video call with ${w.contact_name??"contact"} (${w.contact_email})`;navigator.clipboard?.writeText(A)}},children:"Schedule call"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1.5 text-xs font-medium text-muted-foreground hover:border-primary",onClick:()=>{if(w.contact_email){const A=`${w.contact_name??"Contact"} <${w.contact_email}>`;navigator.clipboard?.writeText(A)}},children:"Copy contact"})]})]})]},C)},j=d==="collaboration"?e.collaborations:e.contacts;return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-5xl",children:[o.jsx(pe,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Requests"}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Inbox"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Collaboration or rental requests linked to your labs."})]}),o.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[o.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="collaboration"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("collaboration"),children:["Collaboration (",e.collaborations.length,")"]}),o.jsxs("button",{type:"button",className:`rounded-full border px-4 py-2 text-sm font-medium transition ${d==="contact"?"border-primary bg-primary/10 text-primary":"border-border text-foreground hover:border-primary/60"}`,onClick:()=>h("contact"),children:["Renting / contact (",e.contacts.length,")"]})]}),o.jsx(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-6 rounded-3xl border border-border bg-card/80 p-6 shadow-sm",children:n?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading requests"}):l?o.jsx("p",{className:"text-sm text-destructive",children:l}):e.labs.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No labs linked to your account yet."}):j.length===0?o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",d," requests yet."]}):o.jsx("div",{className:"grid gap-3",children:j.map(_)})})]})})}function sB({params:t}){const e=Number(t?.id),{user:r}=cr(),[n,i]=b.useState(!0),[l,c]=b.useState(!1),[d,h]=b.useState(null),[m,p]=b.useState(null),[y,v]=b.useState("base"),[S,_]=b.useState(null),[j,w]=b.useState(null),[C,k]=b.useState(Number.isNaN(e)?null:e),[E,A]=b.useState(!0),[L,F]=b.useState([]),[G,J]=b.useState(""),[O,Q]=b.useState({name:"",location:"",labManager:"",contactEmail:"",logoUrl:"",siretNumber:"",offersLabSpace:!1,description:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",partnerLogos:[],complianceTags:[],equipmentTags:[],focusTags:[],offers:[],minimumStay:"",pricePrivacy:!1}),[q,K]=b.useState(!1),[Y,Z]=b.useState(null),[me,ye]=b.useState([]),[re,X]=b.useState({field:"complianceTags",value:""}),[he,ce]=b.useState(!1),[R,te]=b.useState(null);b.useEffect(()=>{(async()=>{h(null),p(null);try{if(!C)throw new Error("No lab selected. Go back and choose a lab.");const{data:z}=await Be.auth.getSession(),Se=z.session?.access_token;await $(C,Se)}catch(z){h(z.message||"Unable to load your lab")}finally{i(!1)}})()},[r?.id,C]);async function Le(z){const Se=z.target.files?.[0];if(Se){Z(null),K(!0);try{const Pe=Se.name.split(".").pop()||"png",pt=`logos/${(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${Pe}`}`,{error:st}=await Be.storage.from("lab-logos").upload(pt,Se,{upsert:!0,contentType:Se.type});if(st)throw st;const{data:P}=Be.storage.from("lab-logos").getPublicUrl(pt),M=P.publicUrl;Q(H=>({...H,logoUrl:M})),p("Logo uploaded")}catch(Pe){Z(Pe?.message||"Unable to upload logo")}finally{K(!1)}}}async function Fe(z){const Se=z.target.files?.[0];if(Se){p(null);try{const Pe=Se.name.split(".").pop()||"png",_e=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${Pe}`,st=`${C?`labs/${C}/partners`:"partners"}/${_e}`,{error:P}=await Be.storage.from("lab-logos").upload(st,Se,{upsert:!0,contentType:Se.type});if(P)throw P;const{data:M}=Be.storage.from("lab-logos").getPublicUrl(st),H=M.publicUrl;ye(fe=>[...fe,{name:Se.name,url:H}]),Q(fe=>({...fe,partnerLogos:[...fe.partnerLogos,{name:Se.name,url:H}]})),p("Partner logo uploaded")}catch(Pe){p(Pe?.message||"Unable to upload partner logo")}}}const Qe=z=>{ye(Se=>Se.filter(Pe=>Pe.url!==z)),Q(Se=>({...Se,partnerLogos:Se.partnerLogos.filter(Pe=>Pe.url!==z)}))},U=()=>{const z=G.trim();z&&(F(Se=>[...Se,{name:z.split("/").pop()??`Photo ${Se.length+1}`,url:z}]),J(""))},be=z=>{F(Se=>Se.filter(Pe=>Pe.url!==z.url))};async function xe(z){const Se=z.target.files?.[0];if(!(!Se||!C)){te(null),ce(!0);try{const Pe=Se.name.split(".").pop()||"jpg",_e=(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`)+`.${Pe}`,pt=`labs/${C}/photos/${_e}`,{error:st}=await Be.storage.from("lab-photos").upload(pt,Se,{upsert:!0,contentType:Se.type});if(st)throw st;const{data:P}=Be.storage.from("lab-photos").getPublicUrl(pt),M=P.publicUrl,H={name:Se.name,url:M};F(fe=>[...fe,H]),p("Photo uploaded")}catch(Pe){te(Pe?.message||"Unable to upload photo")}finally{ce(!1),z.target&&(z.target.value="")}}}const qe=(z,Se)=>{const Pe=Se.trim();Pe&&Q(_e=>_e[z].includes(Pe)?_e:{..._e,[z]:[..._e[z],Pe]})},tt=(z,Se)=>{Q(Pe=>({...Pe,[z]:Pe[z].filter(_e=>_e!==Se)}))},vr=z=>Se=>{Se.key==="Enter"&&(Se.preventDefault(),qe(z,re.value||Se.target.value),X({field:z,value:""}))};async function $(z,Se){try{i(!0),h(null);const Pe=await fetch(`/api/my-lab/${z}`,{headers:Se?{Authorization:`Bearer ${Se}`}:{}});if(!Pe.ok){const st=await Pe.text();throw new Error(st||"Unable to load lab")}const _e=await Pe.json();k(_e.id),v((_e.subscriptionTier||"base").toLowerCase()),A(_e.isVisible!==!1),Q({name:_e.name||"",location:_e.location||"",labManager:_e.labManager||"",contactEmail:_e.contactEmail||r?.email||"",logoUrl:_e.logoUrl||"",siretNumber:_e.siretNumber||"",offersLabSpace:_e.offersLabSpace??!0,description:_e.description||"",addressLine1:_e.addressLine1||"",addressLine2:_e.addressLine2||"",city:_e.city||"",state:_e.state||"",postalCode:_e.postalCode||"",country:_e.country||"",website:_e.website||"",linkedin:_e.linkedin||"",partnerLogos:_e.partnerLogos||[],complianceTags:_e.compliance||[],equipmentTags:_e.equipment||[],focusTags:_e.focusAreas||[],offers:_e.offers||[],minimumStay:_e.minimumStay||"",pricePrivacy:!!_e.pricePrivacy}),ye(_e.partnerLogos||[]),F(_e.photos||[]),_(null),w(null);const pt=(_e.subscriptionTier||"").toLowerCase?.()??"base";if(pt==="premier"||pt==="custom")try{const st=await fetch("/api/my-lab/analytics",{headers:Se?{Authorization:`Bearer ${Se}`}:{}});if(st.ok){const P=await st.json();_({views7d:P.views7d??0,views30d:P.views30d??0,favorites:P.favorites??0,recentFavorites:(P.recentFavorites??[]).map(M=>({userId:M.userId,createdAt:M.createdAt}))})}else if(st.status!==403){const P=await st.text();w(P||"Unable to load analytics")}}catch(st){w(st.message||"Unable to load analytics")}}catch(Pe){h(Pe.message||"Unable to load your lab")}finally{i(!1)}}async function je(){c(!0),h(null),p(null);try{const{data:z}=await Be.auth.getSession(),Se=z.session?.access_token;if(!C)throw new Error("Select a lab first");const Pe=await fetch(`/api/my-lab/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",...Se?{Authorization:`Bearer ${Se}`}:{}},body:JSON.stringify({name:O.name,location:O.location,labManager:O.labManager,contactEmail:O.contactEmail,logoUrl:O.logoUrl||null,siretNumber:O.siretNumber||null,offersLabSpace:O.offersLabSpace,description:O.description||null,ownerUserId:r?.id||null,addressLine1:O.addressLine1||null,addressLine2:O.addressLine2||null,city:O.city||null,state:O.state||null,postalCode:O.postalCode||null,country:O.country||null,website:O.website||null,linkedin:O.linkedin||null,photos:L,partnerLogos:O.partnerLogos,compliance:O.complianceTags,equipment:O.equipmentTags,focusAreas:O.focusTags,offers:O.offers,minimumStay:O.minimumStay,pricePrivacy:O.pricePrivacy})});if(!Pe.ok){let _e="Failed to save";if((Pe.headers.get("content-type")||"").includes("application/json"))try{_e=(await Pe.json()).message||_e}catch{}else try{_e=await Pe.text()}catch{}throw new Error(_e)}p("Saved")}catch(z){h(z.message||"Failed to save")}finally{c(!1)}}return o.jsxs("section",{className:"bg-background min-h-screen",children:[o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[o.jsx(pe,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage my lab"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Update basic details for your lab."}),C&&E===!1&&o.jsx("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-medium text-amber-800",children:"This lab is hidden from the public directory"}),!C&&o.jsxs("p",{className:"mt-4 text-sm text-destructive",children:["No lab selected. Go back and choose a lab to manage.",o.jsx(pe,{href:"/lab/manage",children:o.jsx("a",{className:"ml-2 underline text-primary",children:"Back to lab selection"})})]}),S&&o.jsxs("div",{className:"mt-4 rounded-2xl border border-border bg-card/70 p-4 text-sm",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Premier / Custom analytics"}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (7d)"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:S.views7d})]}),o.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (30d)"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:S.views30d})]}),o.jsxs("div",{className:"rounded-xl border border-border bg-background/60 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:S.favorites})]})]}),S.recentFavorites.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Recent favorites"}),o.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:S.recentFavorites.map(z=>o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1",title:new Date(z.createdAt).toLocaleString(),children:["User ",z.userId.slice(0,6)," favorited"]},`${z.userId}-${z.createdAt}`))})]}),j&&o.jsx("p",{className:"mt-2 text-xs text-destructive",children:j})]}),n?o.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading"}):d?o.jsx("p",{className:"mt-6 text-sm text-destructive",children:d}):o.jsxs(Ge.form,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mt-8 space-y-8",onSubmit:z=>{z.preventDefault(),je()},children:[o.jsxs(fo,{title:"Basics",children:[o.jsx(It,{label:"Lab name",children:o.jsx("input",{className:"input",value:O.name,onChange:z=>Q({...O,name:z.target.value})})}),o.jsx(It,{label:"Location",children:o.jsx("input",{className:"input",value:O.location,onChange:z=>Q({...O,location:z.target.value})})}),o.jsx(It,{label:"Lab manager",children:o.jsx("input",{className:"input",value:O.labManager,onChange:z=>Q({...O,labManager:z.target.value})})}),o.jsx(It,{label:"Contact email",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{className:"input",value:O.contactEmail,disabled:!0}),o.jsx("span",{className:"text-muted-foreground","aria-hidden":"true",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[o.jsx("rect",{x:"5",y:"11",width:"14",height:"9",rx:"2"}),o.jsx("path",{d:"M8 11v-2a4 4 0 0 1 8 0v2"})]})})]})}),o.jsx(It,{label:"Lab description",children:o.jsx("textarea",{className:"input",rows:4,value:O.description,onChange:z=>Q({...O,description:z.target.value}),placeholder:"Short intro to your lab (shown on Lab Details)"})}),o.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",checked:O.offersLabSpace,onChange:z=>Q({...O,offersLabSpace:z.target.checked})}),"Offers lab space (enables pricing/offers on your page)"]})]}),o.jsxs(fo,{title:"Branding & Links",children:[(y==="premier"||y==="custom")&&o.jsx(It,{label:"Logo",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("label",{className:"inline-flex items-center gap-3",children:[o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",onChange:Le,className:"hidden"})]}),O.logoUrl&&o.jsx("button",{type:"button",onClick:()=>Q({...O,logoUrl:""}),className:"rounded-full border border-border px-3 py-1 text-xs text-muted-foreground hover:border-destructive hover:text-destructive",children:"Remove"})]}),q&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading logo"}),Y&&o.jsx("p",{className:"text-xs text-destructive",children:Y}),O.logoUrl&&o.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("img",{src:O.logoUrl,alt:`${O.name||"Lab"} logo`,className:"h-10 w-10 rounded-full object-cover"}),o.jsx("span",{className:"text-xs text-muted-foreground break-all max-w-[200px] truncate",children:O.logoUrl})]})]})}),y==="premier"||y==="custom"?o.jsx(It,{label:"Partner logos (premier/custom feature)",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",onChange:Fe,className:"hidden"})]})}),me.length>0&&o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:me.map(z=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2 flex-shrink-0",children:[o.jsx("img",{src:z.url,alt:z.name,className:"h-10 w-10 rounded object-cover"}),o.jsx("button",{type:"button",onClick:()=>Qe(z.url),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},z.url))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Stored in `lab-logos` under partners/ folders. Shown for premier/custom labs."})]})}):o.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are available on the premier or custom plan."}),o.jsx(It,{label:"Website (optional)",children:o.jsx("input",{className:"input",value:O.website,onChange:z=>Q({...O,website:z.target.value}),placeholder:"https://labs.example.com"})}),o.jsx(It,{label:"LinkedIn (optional)",children:o.jsx("input",{className:"input",value:O.linkedin,onChange:z=>Q({...O,linkedin:z.target.value}),placeholder:"https://www.linkedin.com/company/example"})})]}),o.jsxs(fo,{title:"Company details",children:[o.jsx(It,{label:"Address line 1",children:o.jsx("input",{className:"input",value:O.addressLine1,onChange:z=>Q({...O,addressLine1:z.target.value})})}),o.jsx(It,{label:"Address line 2",children:o.jsx("input",{className:"input",value:O.addressLine2,onChange:z=>Q({...O,addressLine2:z.target.value})})}),o.jsx(It,{label:"SIRET",children:o.jsx("input",{className:"input",value:O.siretNumber,onChange:z=>Q({...O,siretNumber:z.target.value})})}),o.jsx(It,{label:"City",children:o.jsx("input",{className:"input",value:O.city,onChange:z=>Q({...O,city:z.target.value})})}),o.jsx(It,{label:"State/Region",children:o.jsx("input",{className:"input",value:O.state,onChange:z=>Q({...O,state:z.target.value})})}),o.jsx(It,{label:"Postal code",children:o.jsx("input",{className:"input",value:O.postalCode,onChange:z=>Q({...O,postalCode:z.target.value})})}),o.jsx(It,{label:"Country",children:o.jsx("input",{className:"input",value:O.country,onChange:z=>Q({...O,country:z.target.value})})})]}),o.jsxs(fo,{title:"Compliance & capabilities",children:[o.jsx(It,{label:"Compliance",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"input",placeholder:"Add compliance and press Enter",value:re.field==="complianceTags"?re.value:"",onChange:z=>X({field:"complianceTags",value:z.target.value}),onKeyDown:vr("complianceTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.complianceTags.map(z=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,o.jsx("button",{type:"button",onClick:()=>tt("complianceTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})}),o.jsx(It,{label:"Equipment",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"input",placeholder:"Add equipment and press Enter",value:re.field==="equipmentTags"?re.value:"",onChange:z=>X({field:"equipmentTags",value:z.target.value}),onKeyDown:vr("equipmentTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.equipmentTags.map(z=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,o.jsx("button",{type:"button",onClick:()=>tt("equipmentTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})}),o.jsx(It,{label:"Focus areas",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"input",placeholder:"Add focus area and press Enter",value:re.field==="focusTags"?re.value:"",onChange:z=>X({field:"focusTags",value:z.target.value}),onKeyDown:vr("focusTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.focusTags.map(z=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[z,o.jsx("button",{type:"button",onClick:()=>tt("focusTags",z),className:"text-muted-foreground hover:text-destructive",children:""})]},z))})]})})]}),o.jsxs(fo,{title:"Photos",children:[o.jsx(It,{label:"Add photo",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Upload file",o.jsx("input",{type:"file",accept:"image/*",onChange:xe,className:"hidden"})]})}),o.jsxs("div",{className:"flex flex-1 gap-2",children:[o.jsx("input",{className:"input flex-1",value:G,onChange:z=>J(z.target.value),placeholder:"https://images.example.com/photo.jpg"}),o.jsx("button",{type:"button",onClick:U,className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add"})]})]}),he&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading photo"}),R&&o.jsx("p",{className:"text-xs text-destructive",children:R})]})}),L.length>0&&o.jsx("div",{className:"flex flex-wrap gap-3",children:L.map(z=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("img",{src:z.url,alt:z.name,className:"h-14 w-20 rounded object-cover"}),o.jsx("button",{type:"button",onClick:()=>be(z),className:"text-xs text-muted-foreground hover:text-destructive",children:"Remove"})]},z.url))})]}),o.jsxs(fo,{title:"Offers & pricing",children:[o.jsx(It,{label:"Offers",children:o.jsx("div",{className:"flex flex-wrap gap-3",children:Sd.map(z=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:O.offers.includes(z),onChange:Se=>{Q(Pe=>{const _e=Se.target.checked?[...Pe.offers,z]:Pe.offers.filter(pt=>pt!==z);return{...Pe,offers:_e}})}}),z]},z))})}),o.jsx(It,{label:"Minimum stay",children:o.jsx("input",{className:"input",value:O.minimumStay,onChange:z=>Q({...O,minimumStay:z.target.value})})}),o.jsxs("label",{className:"flex items-center gap-3 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",checked:O.pricePrivacy,onChange:z=>Q({...O,pricePrivacy:z.target.checked})}),"Pricing shared privately"]})]}),m&&o.jsx("p",{className:"text-sm text-emerald-600",children:m}),o.jsx("div",{className:"flex gap-3",children:l?o.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",disabled:!0,children:"Saving"}):o.jsx("button",{className:"rounded-full bg-primary px-4 py-2 text-primary-foreground",type:"submit",children:"Save"})})]})]}),o.jsx("style",{children:".input{width:100%;border:1px solid var(--border);background:var(--background);padding:.5rem .75rem;border-radius:12px;}"})]})}function fo({title:t,children:e}){return o.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-5 space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:t}),o.jsx("div",{className:"grid gap-4",children:e})]})}function It({label:t,children:e}){return o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:t}),e]})}function iB(){return b.useEffect(()=>{(async()=>{try{await Be.auth.signOut()}finally{window.location.replace("/")}})()},[]),null}const x0={ownerName:"",organization:"",labsManaged:"",email:"",phone:"",message:""};function oB(){const{user:t,loading:e}=cr(),[r,n]=as(),[i,l]=b.useState(x0),[c,d]=b.useState("idle"),[h,m]=b.useState(null),[p,y]=b.useState("idle"),[v,S]=b.useState(null),[_,j]=b.useState(null),w=typeof window<"u"?window.location.search:"",C=b.useMemo(()=>{try{return new URLSearchParams(w).get("plan")}catch{return null}},[w]),k=(C??"").toLowerCase(),E=k==="base"||k==="free",A=k==="verified"||k==="premier"||k==="custom",L=k==="custom"||k==="enterprise",F=t?.user_metadata?.full_name||t?.user_metadata?.name||t?.user_metadata?.fullName||t?.user_metadata?.display_name||t?.user_metadata?.displayName||"",G=`/api/stripe/checkout?plan=${k||"base"}`;b.useEffect(()=>{if(e)return;if(!C||!["base","free","verified","premier","custom","enterprise"].includes(k)){n("/pricing");return}if(!t){const Y=encodeURIComponent(`/payments?plan=${k}`);n(`/login?next=${Y}`);return}},[t,C,k,e,n]),b.useEffect(()=>{if(!t)return;async function K(){const{data:Y,error:Z}=await Be.from("profiles").select("name").eq("user_id",t.id).maybeSingle();!Z&&Y?.name?(j(Y.name),l(me=>({...me,ownerName:me.ownerName||Y.name}))):j(null)}K(),l(Y=>({...Y,ownerName:Y.ownerName||F||t?.email?.split("@")[0]||"",email:Y.email||t.email||"",phone:Y.phone||t.user_metadata?.phone||t.phone||""}))},[t,F]);const J=K=>Y=>{l(Z=>({...Z,[K]:Y.target.value}))},O=async K=>{K.preventDefault(),d("loading"),m(null);try{const Y=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.ownerName||i.organization,email:i.email,message:[`Organization: ${i.organization}`,`Labs managed: ${i.labsManaged}`,"",i.message||"No additional context provided."].join(`
`)})});if(!Y.ok){const Z=await Y.json().catch(()=>({message:"Unable to send request"}));throw new Error(Z?.message??"Unable to send request")}d("success"),l(x0)}catch(Y){d("error"),m(Y instanceof Error?Y.message:"Unable to send request")}},Q=async()=>{y("loading"),S(null);try{if(!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.ownerName||F||t?.email||"GLASS-Connect user",email:t?.email,message:`Confirming free plan signup for ${t?.email||"unknown"} on GLASS-Connect.`})})).ok)throw new Error("Unable to send confirmation");y("success")}catch(K){y("error"),S(K instanceof Error?K.message:"Unable to send confirmation")}},q="w-full rounded-2xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary";return e||!t||!C?null:o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl space-y-12",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Payment flow"}),o.jsx("h1",{className:"text-4xl font-semibold text-foreground",children:E?"Your GLASS-Connect free listing":"Stripe-first billing built for labs"}),o.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:E?"Confirm your free plan so your listing stays live while you edit. You can upgrade anytime.":"We keep billing transparent: standard plans go through Stripe Checkout (with optional SEPA transfer), and multi-lab operators can request a custom agreement."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(pe,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Review plans"})}),o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Explore live listings"})})]})]}),E&&o.jsxs(Ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Free plan confirmation"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirm your free GLASS-Connect listing. Well email a confirmation and keep your profile live while you edit."}),o.jsx("button",{onClick:Q,disabled:p==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:p==="loading"?"Sending confirmation":"Confirm free plan"}),p==="success"&&o.jsxs("p",{className:"text-sm text-emerald-600",children:["Confirmation sent to ",t?.email??"your email on file",". If you dont see it, check spam or contact support."]}),p==="error"&&o.jsx("p",{className:"text-sm text-destructive",children:v??"We couldnt send the confirmation. Please try again or contact support."})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"What you get"}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-primary mt-0.5"}),"Standardised lab profile with capabilities, equipment, and contact prefs."]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-primary mt-0.5"}),"Inbound requests routed to your team while you edit and refine details."]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-primary mt-0.5"}),"Upgrade anytime to add verification, placement, and media support."]})]})]})]}),A&&o.jsxs(Ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Stripe Checkout"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Youll be redirected to a Stripe-hosted checkout page for the ",k," plan. Glass never touches raw card numbers."]}),o.jsx("button",{onClick:()=>{window.location.href=G},className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Proceed to Stripe Checkout"}),o.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-sm text-muted-foreground",children:"After payment, well activate your listing within one business day and schedule verification if needed."})]}),o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Prefer bank transfer (SEPA)?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank transfer option coming soon. We'll share SEPA details once the Glass account is live."})]})]}),L&&o.jsxs(Ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Enterprise intake"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tell us about your network and billing needs. Well follow up with the right agreement, procurement details, and onboarding."}),o.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[o.jsx("li",{children:"Dedicated partner manager and verification scheduling across sites."}),o.jsx("li",{children:"Custom invoicing (ACH/SEPA/wire), procurement docs, and data exports."}),o.jsx("li",{children:"API access and multi-lab routing preferences."})]})]}),o.jsxs("div",{id:"custom",className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(lP,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Enterprise form"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Well get back to you within one business day."})]})]}),c==="success"&&o.jsx("div",{className:"rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:"Thanks! Weve logged your details and will respond within one business day."}),c==="error"&&o.jsx("div",{className:"rounded-2xl border border-destructive/50 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:h??"We couldnt send your message. Please try again."}),o.jsxs("form",{className:"space-y-4",onSubmit:O,children:[o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Your name"}),o.jsx("input",{className:q,value:i.ownerName,onChange:J("ownerName"),placeholder:"Jordan Reyes",required:!0})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Contact email"}),o.jsx("input",{type:"email",className:q,value:i.email,onChange:J("email"),placeholder:"you@labs.com",required:!0})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Phone number"}),o.jsx("input",{className:q,value:i.phone,onChange:J("phone"),placeholder:"+49 171 2345678",required:!0})]})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Organization"}),o.jsx("input",{className:q,value:i.organization,onChange:J("organization"),placeholder:"Atlas Applied Biology",required:!0})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Labs managed (optional)"}),o.jsx("input",{className:q,value:i.labsManaged,onChange:J("labsManaged"),placeholder:"e.g. 4 locations"})]}),o.jsxs("label",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium text-foreground",children:"What do you need?"}),o.jsx("textarea",{className:`${q} min-h-[120px]`,value:i.message,onChange:J("message"),placeholder:"Tell us about your footprint, routing preferences, billing needs, or integrations."})]}),o.jsx("button",{type:"submit",disabled:c==="loading",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:c==="loading"?"Sending":"Send to Glass partnerships"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"We route this form to our Brevo/email inbox so a real person can follow up with invoices, contracts, or procurement info."})]})]})]}),o.jsxs(Ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Need a direct line?"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email ",o.jsx("a",{className:"text-primary underline",href:"mailto:contact@glass-funding.com",children:"contact@glass-funding.com"})," or drop a note in the custom form. We can accommodate purchase orders, wire transfers, and co-branded partnership agreements."]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(pe,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),o.jsx(pe,{href:"/labs",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"See partner labs"})})]})]})]})})}function aB(){const{user:t}=cr(),[e,r]=b.useState([]),[n,i]=b.useState(!0),[l,c]=b.useState(null),[d,h]=b.useState(""),[m,p]=b.useState("base");b.useEffect(()=>{(async()=>{c(null);try{const{data:j}=await Be.auth.getSession(),w=j.session?.access_token,C=await fetch("/api/my-labs",{headers:w?{Authorization:`Bearer ${w}`}:{}});if(!C.ok){const L=await C.text();throw new Error(L||"Unable to load labs")}const k=await C.json();r(k??[]);const{data:E}=await Be.from("profiles").select("subscription_tier").eq("user_id",t?.id).maybeSingle(),A=(E?.subscription_tier||"base").toLowerCase();p(A)}catch(j){c(j.message||"Unable to load labs")}finally{i(!1)}})()},[t?.id]);const y=b.useMemo(()=>{const j=d.trim().toLowerCase();return j?e.filter(w=>{const C=(w.lab_equipment??[]).map(E=>E.item).join(" ");return[w.name,w.location,C].filter(Boolean).join(" ").toLowerCase().includes(j)}):e},[e,d]),v=m==="custom"||e.length===0,S=j=>{const w=(j.subscription_tier||"").toLowerCase(),C=w==="premier"||w==="custom",k=j.is_visible===!1;return o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[C?o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:w==="custom"?"Custom":"Premier"}):null,k?o.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 text-[11px] font-medium text-amber-800",children:"Not visible"}):null]})},_=j=>j.logo_url?j.logo_url:j.lab_photos?.[0]?.url||null;return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-6xl",children:[o.jsx(pe,{href:"/account",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to profile"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Manage your labs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pick a lab to edit. Premier labs keep their analytics and partner features."})]}),o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("input",{type:"search",value:d,onChange:j=>h(j.target.value),placeholder:"Search labs by name or city",className:"w-full rounded-full border border-border bg-card/80 px-4 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary"}),o.jsx(Fs,{className:"pointer-events-none absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]})]}),n?o.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Loading labs"}):l?o.jsx("p",{className:"mt-6 text-sm text-destructive",children:l}):y.length===0?o.jsxs("p",{className:"mt-6 text-sm text-muted-foreground",children:["No labs match that search. ",e.length===0?"No lab is linked to your account yet.":""]}):o.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-dashed border-border bg-card/60 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 p-6 text-center",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:o.jsx(vj,{className:"h-6 w-6"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add a new lab"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Create another lab profile and manage its details.":"Multi-lab management is available on Custom tier."})]}),o.jsx("div",{className:"p-4",children:v?o.jsx(pe,{href:"/lab/manage/new",className:"inline-flex w-full items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Add lab"}):o.jsx(pe,{href:"/payments?plan=custom#custom",className:"inline-flex w-full items-center justify-center rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"Upgrade to Custom"})})]},"add-lab"),y.map(j=>o.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex h-full flex-col rounded-3xl border border-border bg-card/80 shadow-sm overflow-hidden",children:[_(j)&&o.jsx("div",{className:"h-36 w-full overflow-hidden border-b border-border/60 bg-background/40",children:o.jsx("img",{src:_(j),alt:j.name,className:"h-full w-full object-cover"})}),o.jsxs("div",{className:"p-4 space-y-2 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:j.name}),o.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(Fs,{className:"h-3.5 w-3.5 text-primary"}),o.jsx("span",{children:j.location?.trim()||"Location not set"})]})]}),S(j)]}),j.lab_equipment&&j.lab_equipment.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-muted-foreground",children:j.lab_equipment.slice(0,3).map(w=>o.jsx("span",{className:"rounded-full border border-border px-2 py-1",children:w.item},w.item))}),o.jsx("div",{className:"pt-2",children:o.jsx(pe,{href:`/lab/manage/${j.id}`,children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Manage"})})})]})]},j.id))]})]})})}function lB(){const{addLab:t}=Gs(),{user:e}=cr(),[,r]=as(),[n,i]=b.useState({name:"",location:"",labManager:"",contactEmail:e?.email??"",description:"",field:"",offersLabSpace:!0,addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",website:"",linkedin:"",siretNumber:"",minimumStay:"",pricePrivacy:!1,equipmentTags:[],focusTags:[],complianceTags:[],offers:[],logoUrl:""}),[l,c]=b.useState([]),[d,h]=b.useState([]),[m,p]=b.useState(""),[y,v]=b.useState(""),[S,_]=b.useState(!1),[j,w]=b.useState(!1),[C,k]=b.useState(!1),[E,A]=b.useState(null),[L,F]=b.useState(null),[G,J]=b.useState(null),[O,Q]=b.useState([]),[q,K]=b.useState(!1),[Y,Z]=b.useState(null),[me,ye]=b.useState({field:"equipmentTags",value:""}),[re,X]=b.useState(!1),[he,ce]=b.useState(null),R=(U,be)=>{i(xe=>({...xe,[U]:be}))},te=(U,be)=>{const xe=be.trim();xe&&(i(qe=>{const tt=new Set(qe[U]);return tt.add(xe),{...qe,[U]:Array.from(tt)}}),ye({field:U,value:""}))},Le=(U,be)=>{i(xe=>({...xe,[U]:xe[U].filter(qe=>qe!==be)}))},Fe=U=>be=>{be.key==="Enter"&&(be.preventDefault(),te(U,me.value))},Qe=async U=>{U.preventDefault(),X(!0),ce(null);try{const be=await t({name:n.name.trim(),location:n.location.trim(),labManager:n.labManager.trim(),contactEmail:n.contactEmail.trim(),ownerUserId:e?.id??null,description:n.description.trim()||null,offersLabSpace:n.offersLabSpace,addressLine1:n.addressLine1.trim()||null,addressLine2:n.addressLine2.trim()||null,city:n.city.trim()||null,state:n.state.trim()||null,postalCode:n.postalCode.trim()||null,country:n.country.trim()||null,website:n.website.trim()||null,linkedin:n.linkedin.trim()||null,compliance:n.complianceTags,complianceDocs:O,isVerified:!1,isVisible:!0,equipment:n.equipmentTags,focusAreas:n.focusTags,offers:n.offers,pricePrivacy:n.pricePrivacy,minimumStay:n.minimumStay.trim(),rating:0,photos:l,logoUrl:n.logoUrl.trim()||null,siretNumber:n.siretNumber.trim()||null,partnerLogos:d,field:n.field.trim()||null});r(`/lab/manage/${be.id}`)}catch(be){ce(be?.message||"Unable to create lab")}finally{X(!1)}};return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-20 lg:py-24 max-w-3xl",children:[o.jsx(pe,{href:"/lab/manage",className:"text-sm text-muted-foreground hover:text-primary inline-flex items-center gap-1 mb-4",children:" Back to manage labs"}),o.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Create"}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mt-1",children:"Add a new lab"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start with the basics. You can add photos, equipment, and pricing later."}),o.jsxs("form",{className:"mt-8 space-y-8",onSubmit:Qe,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Vt,{label:"Lab name",required:!0,children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.name,onChange:U=>R("name",U.target.value),required:!0})}),o.jsx(Vt,{label:"SIRET (optional)",children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:U=>R("siretNumber",U.target.value)})}),o.jsx(Vt,{label:"Location",required:!0,children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.location,onChange:U=>R("location",U.target.value),required:!0})}),o.jsx(Vt,{label:"Lab manager",required:!0,children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.labManager,onChange:U=>R("labManager",U.target.value),required:!0})}),o.jsx(Vt,{label:"Contact email",required:!0,children:o.jsx("input",{type:"email",className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.contactEmail,onChange:U=>R("contactEmail",U.target.value),required:!0})}),o.jsx(Vt,{label:"Description",children:o.jsx("textarea",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary min-h-[96px]",value:n.description,onChange:U=>R("description",U.target.value),placeholder:"Brief overview of your lab"})}),o.jsx(Vt,{label:"Science field (optional)",children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.field,onChange:U=>R("field",U.target.value),placeholder:"e.g., immunology, materials science, bioengineering"})}),o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offersLabSpace,onChange:U=>R("offersLabSpace",U.target.checked)}),"Offers lab space"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Vt,{label:"Logo (premier/custom only)",children:o.jsx("input",{className:"input",value:n.logoUrl,onChange:U=>R("logoUrl",U.target.value),placeholder:"Available for premier/custom tiers"})}),o.jsxs("label",{className:"inline-flex items-center gap-3",children:[o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async U=>{const be=U.target.files?.[0];be&&(A(null),_(!0),await hu("lab-logos",be,"new/logos",(xe,qe)=>i(tt=>({...tt,logoUrl:xe||tt.logoUrl||""})),xe=>A(xe)),_(!1),U.target&&(U.target.value=""))}})]}),S&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),E&&o.jsx("p",{className:"text-xs text-destructive",children:E})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Logo avatars display for premier/custom labs."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Photos (base: up to 2)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(U=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:U.name||U.url}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>c(be=>be.filter(xe=>xe.url!==U.url)),children:"Remove"})]},U.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{className:"input flex-1",value:m,onChange:U=>p(U.target.value),placeholder:"https://example.com/photo.jpg"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const U=m.trim();if(!U||l.length>=2)return;const be=U.split("/").pop()||`Photo ${l.length+1}`;c(xe=>[...xe,{name:be,url:U}]),p("")},disabled:l.length>=2,children:"Add photo"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",disabled:l.length>=2,onChange:async U=>{const be=U.target.files?.[0];!be||l.length>=2||(F(null),w(!0),await hu("lab-photos",be,"new/photos",(xe,qe)=>c(tt=>[...tt,{name:qe,url:xe}]),xe=>F(xe)),w(!1),U.target&&(U.target.value=""))}})]})}),j&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),L&&o.jsx("p",{className:"text-xs text-destructive",children:L})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Base labs can add 2 photos here; you can add more later in manage."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Partner logos (premier/custom)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(U=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:U.name||U.url}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>h(be=>be.filter(xe=>xe.url!==U.url)),children:"Remove"})]},U.url))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{className:"input flex-1",value:y,onChange:U=>v(U.target.value),placeholder:"https://example.com/logo.png"}),o.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-2 text-sm font-medium text-foreground transition hover:border-primary",onClick:()=>{const U=y.trim();if(!U)return;const be=U.split("/").pop()||`Logo ${d.length+1}`;h(xe=>[...xe,{name:be,url:U}]),v("")},children:"Add logo"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async U=>{const be=U.target.files?.[0];be&&(J(null),k(!0),await hu("lab-logos",be,"new/partners",(xe,qe)=>h(tt=>[...tt,{name:qe,url:xe}]),xe=>J(xe)),k(!1),U.target&&(U.target.value=""))}})]})}),C&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),G&&o.jsx("p",{className:"text-xs text-destructive",children:G})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Partner logos are shown for premier/custom labs."})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Vt,{label:"Address line 1",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine1,onChange:U=>R("addressLine1",U.target.value)})}),o.jsx(Vt,{label:"Address line 2",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.addressLine2,onChange:U=>R("addressLine2",U.target.value)})}),o.jsx(Vt,{label:"City",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.city,onChange:U=>R("city",U.target.value)})}),o.jsx(Vt,{label:"State/Region",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.state,onChange:U=>R("state",U.target.value)})}),o.jsx(Vt,{label:"Postal code",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.postalCode,onChange:U=>R("postalCode",U.target.value)})}),o.jsx(Vt,{label:"Country",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.country,onChange:U=>R("country",U.target.value)})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Vt,{label:"Website",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.website,onChange:U=>R("website",U.target.value)})}),o.jsx(Vt,{label:"LinkedIn",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.linkedin,onChange:U=>R("linkedin",U.target.value)})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Vt,{label:"Minimum stay",children:o.jsx("input",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.minimumStay,onChange:U=>R("minimumStay",U.target.value)})}),o.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:["Price privacy",o.jsxs("select",{className:"w-full rounded-xl border border-border bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.pricePrivacy?"yes":"no",onChange:U=>R("pricePrivacy",U.target.value==="yes"),children:[o.jsx("option",{value:"no",children:"Rates published"}),o.jsx("option",{value:"yes",children:"Quotes required"})]})]})]}),o.jsx(Vt,{label:"Equipment",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add equipment and press Enter",value:me.field==="equipmentTags"?me.value:"",onChange:U=>ye({field:"equipmentTags",value:U.target.value}),onKeyDown:Fe("equipmentTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.equipmentTags.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[U,o.jsx("button",{type:"button",onClick:()=>Le("equipmentTags",U),className:"text-muted-foreground hover:text-destructive",children:""})]},U))})]})}),o.jsx(Vt,{label:"Focus areas",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add focus area and press Enter",value:me.field==="focusTags"?me.value:"",onChange:U=>ye({field:"focusTags",value:U.target.value}),onKeyDown:Fe("focusTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.focusTags.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[U,o.jsx("button",{type:"button",onClick:()=>Le("focusTags",U),className:"text-muted-foreground hover:text-destructive",children:""})]},U))})]})}),o.jsx(Vt,{label:"Compliance",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",placeholder:"Add compliance and press Enter",value:me.field==="complianceTags"?me.value:"",onChange:U=>ye({field:"complianceTags",value:U.target.value}),onKeyDown:Fe("complianceTags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.complianceTags.map(U=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-xs text-muted-foreground",children:[U,o.jsx("button",{type:"button",onClick:()=>Le("complianceTags",U),className:"text-muted-foreground hover:text-destructive",children:""})]},U))})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Compliance documents (PDF)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(U=>o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-border bg-muted/40 px-3 py-2",children:[o.jsx("span",{className:"text-xs text-foreground break-all max-w-[200px] truncate",children:U.name||U.url}),o.jsx("button",{type:"button",className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>Q(be=>be.filter(xe=>xe.url!==U.url)),children:"Remove"})]},U.url))}),o.jsx("label",{className:"inline-flex items-center gap-3",children:o.jsxs("span",{className:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground cursor-pointer transition hover:bg-primary/90",children:["Choose file",o.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:async U=>{const be=U.target.files?.[0];be&&(Z(null),K(!0),await hu("lab-pdfs",be,"new/compliance",(xe,qe)=>Q(tt=>[...tt,{name:qe,url:xe}]),xe=>Z(xe)),K(!1),U.target&&(U.target.value=""))}})]})}),q&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"}),Y&&o.jsx("p",{className:"text-xs text-destructive",children:Y}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload PDF compliance certificates; you can add more later."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Offers"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Sd.map(U=>o.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-border px-3 py-1 text-sm text-foreground",children:[o.jsx("input",{type:"checkbox",className:"rounded border-border text-primary",checked:n.offers.includes(U),onChange:be=>{const xe=be.target.checked?[...n.offers,U]:n.offers.filter(qe=>qe!==U);R("offers",xe)}}),U]},U))})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsx(Vt,{label:"SIRET (optional)",children:o.jsx("input",{className:"w-full rounded-xl border-2 border-primary/30 bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",value:n.siretNumber,onChange:U=>R("siretNumber",U.target.value)})})}),he&&o.jsx("p",{className:"text-sm text-destructive",children:he}),o.jsx("button",{type:"submit",disabled:re,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90 disabled:opacity-60",children:re?"Creating":"Create lab"})]})]})]})})}function Vt({label:t,children:e,required:r}){return o.jsxs("label",{className:"grid gap-1 text-sm font-medium text-foreground",children:[t," ",r?o.jsx("span",{className:"text-destructive",children:"*"}):null,o.jsx("div",{className:"text-foreground font-normal",children:e})]})}const cB=t=>{const e=t.split(".").pop()||"jpg";return typeof crypto<"u"&&crypto.randomUUID?`${crypto.randomUUID()}.${e}`:`${Date.now()}.${e}`},hu=async(t,e,r,n,i)=>{try{const l=`${r}/${cB(e.name)}`,{error:c}=await Be.storage.from(t).upload(l,e,{upsert:!0,contentType:e.type});if(c)throw c;const{data:d}=Be.storage.from(t).getPublicUrl(l);n(d.publicUrl,e.name)}catch(l){i(l?.message||"Upload failed")}};function uB(){const{user:t}=cr(),{labs:e}=Gs(),[r,n]=b.useState([]),[i,l]=b.useState(!0),[c,d]=b.useState(null);b.useEffect(()=>{let m=!0;async function p(){l(!0),d(null);try{const{data:y}=await Be.auth.getSession(),v=y.session?.access_token,S=v?{Authorization:`Bearer ${v}`}:{},_=await fetch("/api/favorites",{headers:S}),j=_.headers.get("content-type")||"";if(!_.ok||!j.includes("application/json"))throw new Error("Unable to load favorites");const w=await _.json(),C=Array.isArray(w?.labIds)?w.labIds:[];m&&n(C.map(k=>Number(k)).filter(k=>!Number.isNaN(k)))}catch(y){m&&d(y.message||"Unable to load favorites")}finally{m&&l(!1)}}return t?p():l(!1),()=>{m=!1}},[t]);const h=b.useMemo(()=>r.length?e.filter(m=>r.includes(m.id)):[],[r,e]);return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-16 lg:py-20",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Favorites"}),o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Saved labs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Labs you have favorited for quick access."})]}),o.jsx(pe,{href:"/account",className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:" Back to account"})]}),o.jsxs("div",{className:"mt-8",children:[i&&o.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"Loading favorites"}),c&&o.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:c}),!i&&!c&&h.length===0&&o.jsx("div",{className:"rounded-2xl border border-border bg-card/70 px-4 py-6 text-sm text-muted-foreground",children:"You have no favorites yet. Browse labs and tap the heart to save them."}),h.length>0&&o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(m=>{const p=(m.subscriptionTier||m.subscription_tier||"").toLowerCase(),y=p==="premier"||p==="custom";return o.jsxs("div",{className:"rounded-2xl border border-border bg-card/80 p-4 shadow-sm flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:m.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.location})]}),y&&o.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-medium text-primary",children:"Premium"})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:m.isVisible===!1?"Hidden":"Visible"}),o.jsx("span",{className:"font-medium text-primary",children:p||"base"})]}),o.jsx(pe,{href:`/labs/${m.id}`,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"View lab"})]},m.id)})})]})]})})}function dB(){const{tiers:t}=K1();return o.jsx("section",{className:"bg-background min-h-screen",children:o.jsxs("div",{className:"container mx-auto max-w-5xl px-4 py-20 lg:py-24 space-y-10",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Subscriptions"}),o.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-foreground",children:"Choose your GLASS plan"}),o.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"New accounts start on Base. Upgrade anytime; after payment well switch your subscription tier automatically."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(pe,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-5 py-2 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary",children:"View pricing page"})}),o.jsx(pe,{href:"/account",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",children:"Back to profile"})})]})]}),o.jsx(Ge.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid gap-6 lg:grid-cols-2",children:t.map(e=>{const r=e.featured,n=e.name.toLowerCase(),i=n==="custom"?"/payments?plan=custom#custom":`/payments?plan=${n}`,l=e.monthly_price??e.monthlyPrice,c=l===0||l==="0",d=l!=null&&!c,h=c?"Free":d?`${l}/mo`:"Talk to us";return o.jsxs("article",{className:`rounded-[32px] border border-border bg-card/90 p-8 shadow-sm ${r?"lg:col-span-2 bg-gradient-to-br from-card to-primary/5":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:e.name}),o.jsx("p",{className:"mt-3 text-3xl font-semibold text-foreground",children:h}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description??"Choose your plan and switch anytime."})]}),e.name==="Base"&&o.jsx(Nn,{className:"h-6 w-6 text-muted-foreground"}),r&&o.jsx(gp,{className:"h-6 w-6 text-primary"})]}),o.jsx("ul",{className:"mt-5 space-y-3 text-sm text-muted-foreground",children:e.highlights?.map(m=>o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(gj,{className:"h-4 w-4 text-primary"}),m]},m))}),o.jsx(pe,{href:i,children:o.jsx("a",{className:`mt-6 inline-flex items-center rounded-full px-4 py-2 text-sm font-medium transition ${n==="custom"?"border border-border text-muted-foreground hover:border-primary hover:text-primary":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:n==="custom"?"Talk to us":"Subscribe"})})]},n)})})]})})}function Da({path:t,component:e}){const{user:r,loading:n}=cr(),[,i]=as(),[l,c]=b.useState(!0),[d,h]=b.useState(null);return b.useEffect(()=>{let m=!0;async function p(){c(!0);try{const{data:y}=await Be.auth.getSession();if(!m)return;h(!!y.session?.user)}finally{m&&c(!1)}}return r?(h(!0),c(!1)):p(),()=>{m=!1}},[r]),o.jsx(gt,{path:t,component:m=>{if(n||l||d===null)return null;if(r||d)return o.jsx(e,{...m});const p=encodeURIComponent(window.location.pathname+window.location.search);return i(`/login?next=${p}`,{replace:!0}),null}})}function mu({path:t,component:e}){const{user:r,loading:n}=cr(),[i,l]=b.useState(null);return b.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await Be.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=h?.role||"user";l(p==="lab"||p==="admin")}return n||d(),()=>{c=!1}},[n,r?.id]),o.jsx(gt,{path:t,component:c=>{if(n||i===null)return null;if(!r){const d=encodeURIComponent(window.location.pathname);return window.location.replace(`/login?next=${d}`),null}if(!i){const d=c?.params?.id;return window.location.replace(d?`/labs/${d}`:"/"),null}return o.jsx(e,{...c})}})}function fB({path:t,component:e}){const{user:r,loading:n}=cr(),[i,l]=b.useState(null);return b.useEffect(()=>{let c=!0;async function d(){if(!r){l(!1);return}const{data:h,error:m}=await Be.from("profiles").select("role").eq("user_id",r.id).maybeSingle();if(!c)return;if(m){l(!1);return}const p=typeof h?.role=="string"?h.role.toLowerCase().trim():"";l(p==="admin")}return n||d(),()=>{c=!1}},[n,r?.id]),o.jsx(gt,{path:t,component:c=>n||i===null?null:r?i?o.jsx(e,{...c}):(window.location.replace("/"),null):(window.location.replace(`/login?next=${encodeURIComponent(t)}`),null)})}function hB(){const{user:t,loading:e}=cr(),[r,n]=as(),[i,l]=b.useState(!1),c=typeof window<"u"?window.location.search:"",d=b.useMemo(()=>{try{return new URLSearchParams(c).get("plan")?.toLowerCase()??null}catch{return null}},[c]),m=d&&["verified","premier","custom"].includes(d);return b.useEffect(()=>{if(!e){if(!m){n("/pricing");return}if(!t){const p=encodeURIComponent(`/stripe?plan=${d}`);n(`/login?next=${p}`);return}l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`}},[t,e,m,d,n]),e||!m?null:o.jsx("section",{className:"bg-background min-h-screen",children:o.jsx("div",{className:"container mx-auto px-4 py-20 max-w-3xl",children:o.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-8 shadow-sm space-y-6 text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-border px-4 py-1.5 text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Stripe checkout"})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Redirecting to Stripe"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:["Were opening Stripe for the ",d," plan. If nothing happens, use the button below."]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Ge.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.4,ease:"linear"},children:o.jsx(um,{className:"h-10 w-10 text-primary"})})}),o.jsxs("button",{onClick:()=>{l(!0),window.location.href=`/api/stripe/checkout?plan=${d}`},className:"inline-flex items-center justify-center rounded-full bg-primary px-5 py-2 text-sm font-medium text-primary-foreground transition hover:bg-primary/90",disabled:i,children:[o.jsx(yP,{className:"mr-2 h-4 w-4"}),i?"Opening Stripe...":"Open Stripe Checkout"]}),o.jsxs("div",{className:"rounded-2xl border border-dashed border-border bg-background/60 p-4 text-xs text-muted-foreground text-left space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-foreground font-semibold text-sm",children:[o.jsx(Nn,{className:"h-4 w-4 text-primary"}),"What to expect"]}),o.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"We never see or store card numbersStripe handles everything."}),o.jsx("li",{children:"Youll receive a receipt immediately after payment."}),o.jsx("li",{children:"Your listing is activated within one business day."})]})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[o.jsx(pe,{href:"/pricing",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-muted-foreground transition hover:border-primary hover:text-primary",children:"Back to pricing"})}),o.jsx(pe,{href:"/payments",children:o.jsx("a",{className:"inline-flex items-center justify-center rounded-full bg-foreground px-4 py-2 text-background transition hover:bg-foreground/90",children:"View payment options"})})]})]})})})}function mB(){return o.jsx("footer",{className:"bg-muted py-12",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(Ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid md:grid-cols-4 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-4",children:"Glass"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Connecting labs with collaborators through trusted, verified profiles."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(pe,{href:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),o.jsx("li",{children:o.jsx(pe,{href:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About Us"})}),o.jsx("li",{children:o.jsx(pe,{href:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(pe,{href:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(pe,{href:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4",children:"Follow Us"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"https://x.com/GlassFunding",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(Ms,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://www.linkedin.com/company/glass-funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(mp,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://www.instagram.com/glass_funding/",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(xj,{className:"h-5 w-5"})})]})]})]}),o.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm text-muted-foreground",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Glass. All rights reserved."]})})]})})}function pB(){const[t]=as();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function gB({children:t}){const[e]=as(),[r,n]=b.useState(!1);return b.useEffect(()=>{n(!1);const i=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(i)},[e]),b.useEffect(()=>{const i=window.requestAnimationFrame(()=>n(!0));return()=>window.cancelAnimationFrame(i)},[]),o.jsx("div",{className:`page-transition ${r?"page-transition--active":""}`,children:t})}function yB(){return o.jsxs(_E,{children:[o.jsx(gt,{path:"/labs",component:N$}),o.jsx(gt,{path:"/labs/:id",component:V$}),o.jsx(gt,{path:"/labs/:id/request",component:U$}),o.jsx(mu,{path:"/labs/:id/collaborate",component:$$}),o.jsx(fB,{path:"/admin/labs",component:K$}),o.jsx(gt,{path:"/lab-profile",component:Q$}),o.jsx(Da,{path:"/account",component:rB}),o.jsx(Da,{path:"/account/edit",component:tB}),o.jsx(Da,{path:"/requests",component:nB}),o.jsx(Da,{path:"/subscriptions",component:dB}),o.jsx(Da,{path:"/favorites",component:uB}),o.jsx(mu,{path:"/lab/manage",component:aB}),o.jsx(mu,{path:"/lab/manage/new",component:lB}),o.jsx(mu,{path:"/lab/manage/:id",component:sB}),o.jsx(gt,{path:"/payments",component:oB}),o.jsx(gt,{path:"/stripe",component:hB}),o.jsx(gt,{path:"/logout",component:iB}),o.jsx(gt,{path:"/login",component:x$}),o.jsx(gt,{path:"/signup",component:v$}),o.jsx(gt,{path:"/forgot-password",component:w$}),o.jsx(gt,{path:"/forgot-password/confirmation",component:j$}),o.jsx(gt,{path:"/",component:RV}),o.jsx(gt,{path:"/about",component:GU}),o.jsx(gt,{path:"/pricing",component:G$}),o.jsx(gt,{path:"/contact",component:g$}),o.jsx(gt,{path:"/one-pagers",component:T$}),o.jsx(gt,{path:"/roadmap",component:R$}),o.jsx(gt,{path:"/status",component:L$}),o.jsx(gt,{path:"/500",component:D$}),o.jsx(gt,{path:"/maintenance",component:M$}),o.jsx(gt,{path:"/terms",component:_$}),o.jsx(gt,{path:"/privacy",component:k$}),o.jsx(gt,{path:"/Waitlist",component:C$}),o.jsx(gt,{component:y$})]})}function xB(){return o.jsx(tT,{client:sT,children:o.jsx(m4,{children:o.jsxs(S$,{children:[o.jsx(p4,{}),o.jsx(pB,{}),o.jsx(gB,{children:o.jsx(yB,{})}),o.jsx(mB,{}),o.jsx(f2,{})]})})})}const vB=document.getElementById("root");nE.createRoot(vB).render(o.jsx(xB,{}));window.requestAnimationFrame(()=>{document.body.classList.add("is-page-loaded")});
